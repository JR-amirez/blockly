function OK(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();var nr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Vk={exports:{}},vg={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j1=Symbol.for("react.transitional.element"),K1=Symbol.for("react.fragment");function zk(t,o,n){var s=null;if(n!==void 0&&(s=""+n),o.key!==void 0&&(s=""+o.key),"key"in o){n={};for(var l in o)l!=="key"&&(n[l]=o[l])}else n=o;return o=n.ref,{$$typeof:j1,type:t,key:s,ref:o!==void 0?o:null,props:n}}vg.Fragment=K1;vg.jsx=zk;vg.jsxs=zk;Vk.exports=vg;var A=Vk.exports,Wk={exports:{}},Ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cv=Symbol.for("react.transitional.element"),q1=Symbol.for("react.portal"),J1=Symbol.for("react.fragment"),Z1=Symbol.for("react.strict_mode"),Q1=Symbol.for("react.profiler"),eP=Symbol.for("react.consumer"),tP=Symbol.for("react.context"),oP=Symbol.for("react.forward_ref"),iP=Symbol.for("react.suspense"),nP=Symbol.for("react.memo"),Xk=Symbol.for("react.lazy"),Ww=Symbol.iterator;function sP(t){return t===null||typeof t!="object"?null:(t=Ww&&t[Ww]||t["@@iterator"],typeof t=="function"?t:null)}var Yk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jk=Object.assign,Kk={};function hc(t,o,n){this.props=t,this.context=o,this.refs=Kk,this.updater=n||Yk}hc.prototype.isReactComponent={};hc.prototype.setState=function(t,o){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,o,"setState")};hc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function qk(){}qk.prototype=hc.prototype;function wv(t,o,n){this.props=t,this.context=o,this.refs=Kk,this.updater=n||Yk}var Av=wv.prototype=new qk;Av.constructor=wv;jk(Av,hc.prototype);Av.isPureReactComponent=!0;var Xw=Array.isArray,Dt={H:null,A:null,T:null,S:null},Jk=Object.prototype.hasOwnProperty;function Lv(t,o,n,s,l,c){return n=c.ref,{$$typeof:Cv,type:t,key:o,ref:n!==void 0?n:null,props:c}}function rP(t,o){return Lv(t.type,o,void 0,void 0,void 0,t.props)}function kv(t){return typeof t=="object"&&t!==null&&t.$$typeof===Cv}function lP(t){var o={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return o[n]})}var Yw=/\/+/g;function tT(t,o){return typeof t=="object"&&t!==null&&t.key!=null?lP(""+t.key):o.toString(36)}function jw(){}function aP(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(jw,jw):(t.status="pending",t.then(function(o){t.status==="pending"&&(t.status="fulfilled",t.value=o)},function(o){t.status==="pending"&&(t.status="rejected",t.reason=o)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Ta(t,o,n,s,l){var c=typeof t;(c==="undefined"||c==="boolean")&&(t=null);var d=!1;if(t===null)d=!0;else switch(c){case"bigint":case"string":case"number":d=!0;break;case"object":switch(t.$$typeof){case Cv:case q1:d=!0;break;case Xk:return d=t._init,Ta(d(t._payload),o,n,s,l)}}if(d)return l=l(t),d=s===""?"."+tT(t,0):s,Xw(l)?(n="",d!=null&&(n=d.replace(Yw,"$&/")+"/"),Ta(l,o,n,"",function(g){return g})):l!=null&&(kv(l)&&(l=rP(l,n+(l.key==null||t&&t.key===l.key?"":(""+l.key).replace(Yw,"$&/")+"/")+d)),o.push(l)),1;d=0;var h=s===""?".":s+":";if(Xw(t))for(var p=0;p<t.length;p++)s=t[p],c=h+tT(s,p),d+=Ta(s,o,n,c,l);else if(p=sP(t),typeof p=="function")for(t=p.call(t),p=0;!(s=t.next()).done;)s=s.value,c=h+tT(s,p++),d+=Ta(s,o,n,c,l);else if(c==="object"){if(typeof t.then=="function")return Ta(aP(t),o,n,s,l);throw o=String(t),Error("Objects are not valid as a React child (found: "+(o==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":o)+"). If you meant to render a collection of children, use an array instead.")}return d}function Pp(t,o,n){if(t==null)return t;var s=[],l=0;return Ta(t,s,"","",function(c){return o.call(n,c,l++)}),s}function cP(t){if(t._status===-1){var o=t._result;o=o(),o.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=o)}if(t._status===1)return t._result.default;throw t._result}var Kw=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function uP(){}Ve.Children={map:Pp,forEach:function(t,o,n){Pp(t,function(){o.apply(this,arguments)},n)},count:function(t){var o=0;return Pp(t,function(){o++}),o},toArray:function(t){return Pp(t,function(o){return o})||[]},only:function(t){if(!kv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ve.Component=hc;Ve.Fragment=J1;Ve.Profiler=Q1;Ve.PureComponent=wv;Ve.StrictMode=Z1;Ve.Suspense=iP;Ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Dt;Ve.act=function(){throw Error("act(...) is not supported in production builds of React.")};Ve.cache=function(t){return function(){return t.apply(null,arguments)}};Ve.cloneElement=function(t,o,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var s=jk({},t.props),l=t.key,c=void 0;if(o!=null)for(d in o.ref!==void 0&&(c=void 0),o.key!==void 0&&(l=""+o.key),o)!Jk.call(o,d)||d==="key"||d==="__self"||d==="__source"||d==="ref"&&o.ref===void 0||(s[d]=o[d]);var d=arguments.length-2;if(d===1)s.children=n;else if(1<d){for(var h=Array(d),p=0;p<d;p++)h[p]=arguments[p+2];s.children=h}return Lv(t.type,l,void 0,void 0,c,s)};Ve.createContext=function(t){return t={$$typeof:tP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:eP,_context:t},t};Ve.createElement=function(t,o,n){var s,l={},c=null;if(o!=null)for(s in o.key!==void 0&&(c=""+o.key),o)Jk.call(o,s)&&s!=="key"&&s!=="__self"&&s!=="__source"&&(l[s]=o[s]);var d=arguments.length-2;if(d===1)l.children=n;else if(1<d){for(var h=Array(d),p=0;p<d;p++)h[p]=arguments[p+2];l.children=h}if(t&&t.defaultProps)for(s in d=t.defaultProps,d)l[s]===void 0&&(l[s]=d[s]);return Lv(t,c,void 0,void 0,null,l)};Ve.createRef=function(){return{current:null}};Ve.forwardRef=function(t){return{$$typeof:oP,render:t}};Ve.isValidElement=kv;Ve.lazy=function(t){return{$$typeof:Xk,_payload:{_status:-1,_result:t},_init:cP}};Ve.memo=function(t,o){return{$$typeof:nP,type:t,compare:o===void 0?null:o}};Ve.startTransition=function(t){var o=Dt.T,n={};Dt.T=n;try{var s=t(),l=Dt.S;l!==null&&l(n,s),typeof s=="object"&&s!==null&&typeof s.then=="function"&&s.then(uP,Kw)}catch(c){Kw(c)}finally{Dt.T=o}};Ve.unstable_useCacheRefresh=function(){return Dt.H.useCacheRefresh()};Ve.use=function(t){return Dt.H.use(t)};Ve.useActionState=function(t,o,n){return Dt.H.useActionState(t,o,n)};Ve.useCallback=function(t,o){return Dt.H.useCallback(t,o)};Ve.useContext=function(t){return Dt.H.useContext(t)};Ve.useDebugValue=function(){};Ve.useDeferredValue=function(t,o){return Dt.H.useDeferredValue(t,o)};Ve.useEffect=function(t,o){return Dt.H.useEffect(t,o)};Ve.useId=function(){return Dt.H.useId()};Ve.useImperativeHandle=function(t,o,n){return Dt.H.useImperativeHandle(t,o,n)};Ve.useInsertionEffect=function(t,o){return Dt.H.useInsertionEffect(t,o)};Ve.useLayoutEffect=function(t,o){return Dt.H.useLayoutEffect(t,o)};Ve.useMemo=function(t,o){return Dt.H.useMemo(t,o)};Ve.useOptimistic=function(t,o){return Dt.H.useOptimistic(t,o)};Ve.useReducer=function(t,o,n){return Dt.H.useReducer(t,o,n)};Ve.useRef=function(t){return Dt.H.useRef(t)};Ve.useState=function(t){return Dt.H.useState(t)};Ve.useSyncExternalStore=function(t,o,n){return Dt.H.useSyncExternalStore(t,o,n)};Ve.useTransition=function(){return Dt.H.useTransition()};Ve.version="19.0.0";Wk.exports=Ve;var re=Wk.exports;const ue=Rs(re);var Zk={exports:{}},yg={},Qk={exports:{}},e0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function o(ee,he){var pe=ee.length;ee.push(he);e:for(;0<pe;){var ae=pe-1>>>1,V=ee[ae];if(0<l(V,he))ee[ae]=he,ee[pe]=V,pe=ae;else break e}}function n(ee){return ee.length===0?null:ee[0]}function s(ee){if(ee.length===0)return null;var he=ee[0],pe=ee.pop();if(pe!==he){ee[0]=pe;e:for(var ae=0,V=ee.length,Se=V>>>1;ae<Se;){var le=2*(ae+1)-1,Ee=ee[le],$e=le+1,Re=ee[$e];if(0>l(Ee,pe))$e<V&&0>l(Re,Ee)?(ee[ae]=Re,ee[$e]=pe,ae=$e):(ee[ae]=Ee,ee[le]=pe,ae=le);else if($e<V&&0>l(Re,pe))ee[ae]=Re,ee[$e]=pe,ae=$e;else break e}}return he}function l(ee,he){var pe=ee.sortIndex-he.sortIndex;return pe!==0?pe:ee.id-he.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var d=Date,h=d.now();t.unstable_now=function(){return d.now()-h}}var p=[],g=[],$=1,b=null,T=3,v=!1,I=!1,k=!1,G=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function w(ee){for(var he=n(g);he!==null;){if(he.callback===null)s(g);else if(he.startTime<=ee)s(g),he.sortIndex=he.expirationTime,o(p,he);else break;he=n(g)}}function L(ee){if(k=!1,w(ee),!I)if(n(p)!==null)I=!0,ve();else{var he=n(g);he!==null&&Te(L,he.startTime-ee)}}var H=!1,Y=-1,K=5,j=-1;function P(){return!(t.unstable_now()-j<K)}function J(){if(H){var ee=t.unstable_now();j=ee;var he=!0;try{e:{I=!1,k&&(k=!1,R(Y),Y=-1),v=!0;var pe=T;try{t:{for(w(ee),b=n(p);b!==null&&!(b.expirationTime>ee&&P());){var ae=b.callback;if(typeof ae=="function"){b.callback=null,T=b.priorityLevel;var V=ae(b.expirationTime<=ee);if(ee=t.unstable_now(),typeof V=="function"){b.callback=V,w(ee),he=!0;break t}b===n(p)&&s(p),w(ee)}else s(p);b=n(p)}if(b!==null)he=!0;else{var Se=n(g);Se!==null&&Te(L,Se.startTime-ee),he=!1}}break e}finally{b=null,T=pe,v=!1}he=void 0}}finally{he?ie():H=!1}}}var ie;if(typeof S=="function")ie=function(){S(J)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,me=ce.port2;ce.port1.onmessage=J,ie=function(){me.postMessage(null)}}else ie=function(){G(J,0)};function ve(){H||(H=!0,ie())}function Te(ee,he){Y=G(function(){ee(t.unstable_now())},he)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ee){ee.callback=null},t.unstable_continueExecution=function(){I||v||(I=!0,ve())},t.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<ee?Math.floor(1e3/ee):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_getFirstCallbackNode=function(){return n(p)},t.unstable_next=function(ee){switch(T){case 1:case 2:case 3:var he=3;break;default:he=T}var pe=T;T=he;try{return ee()}finally{T=pe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ee,he){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var pe=T;T=ee;try{return he()}finally{T=pe}},t.unstable_scheduleCallback=function(ee,he,pe){var ae=t.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?ae+pe:ae):pe=ae,ee){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=pe+V,ee={id:$++,callback:he,priorityLevel:ee,startTime:pe,expirationTime:V,sortIndex:-1},pe>ae?(ee.sortIndex=pe,o(g,ee),n(p)===null&&ee===n(g)&&(k?(R(Y),Y=-1):k=!0,Te(L,pe-ae))):(ee.sortIndex=V,o(p,ee),I||v||(I=!0,ve())),ee},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(ee){var he=T;return function(){var pe=T;T=he;try{return ee.apply(this,arguments)}finally{T=pe}}}})(e0);Qk.exports=e0;var dP=Qk.exports,t0={exports:{}},oi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hP=re;function o0(t){var o="https://react.dev/errors/"+t;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)o+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Xs(){}var ei={d:{f:Xs,r:function(){throw Error(o0(522))},D:Xs,C:Xs,L:Xs,m:Xs,X:Xs,S:Xs,M:Xs},p:0,findDOMNode:null},pP=Symbol.for("react.portal");function fP(t,o,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pP,key:s==null?null:""+s,children:t,containerInfo:o,implementation:n}}var Bu=hP.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Sg(t,o){if(t==="font")return"";if(typeof o=="string")return o==="use-credentials"?o:""}oi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ei;oi.createPortal=function(t,o){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)throw Error(o0(299));return fP(t,o,null,n)};oi.flushSync=function(t){var o=Bu.T,n=ei.p;try{if(Bu.T=null,ei.p=2,t)return t()}finally{Bu.T=o,ei.p=n,ei.d.f()}};oi.preconnect=function(t,o){typeof t=="string"&&(o?(o=o.crossOrigin,o=typeof o=="string"?o==="use-credentials"?o:"":void 0):o=null,ei.d.C(t,o))};oi.prefetchDNS=function(t){typeof t=="string"&&ei.d.D(t)};oi.preinit=function(t,o){if(typeof t=="string"&&o&&typeof o.as=="string"){var n=o.as,s=Sg(n,o.crossOrigin),l=typeof o.integrity=="string"?o.integrity:void 0,c=typeof o.fetchPriority=="string"?o.fetchPriority:void 0;n==="style"?ei.d.S(t,typeof o.precedence=="string"?o.precedence:void 0,{crossOrigin:s,integrity:l,fetchPriority:c}):n==="script"&&ei.d.X(t,{crossOrigin:s,integrity:l,fetchPriority:c,nonce:typeof o.nonce=="string"?o.nonce:void 0})}};oi.preinitModule=function(t,o){if(typeof t=="string")if(typeof o=="object"&&o!==null){if(o.as==null||o.as==="script"){var n=Sg(o.as,o.crossOrigin);ei.d.M(t,{crossOrigin:n,integrity:typeof o.integrity=="string"?o.integrity:void 0,nonce:typeof o.nonce=="string"?o.nonce:void 0})}}else o==null&&ei.d.M(t)};oi.preload=function(t,o){if(typeof t=="string"&&typeof o=="object"&&o!==null&&typeof o.as=="string"){var n=o.as,s=Sg(n,o.crossOrigin);ei.d.L(t,n,{crossOrigin:s,integrity:typeof o.integrity=="string"?o.integrity:void 0,nonce:typeof o.nonce=="string"?o.nonce:void 0,type:typeof o.type=="string"?o.type:void 0,fetchPriority:typeof o.fetchPriority=="string"?o.fetchPriority:void 0,referrerPolicy:typeof o.referrerPolicy=="string"?o.referrerPolicy:void 0,imageSrcSet:typeof o.imageSrcSet=="string"?o.imageSrcSet:void 0,imageSizes:typeof o.imageSizes=="string"?o.imageSizes:void 0,media:typeof o.media=="string"?o.media:void 0})}};oi.preloadModule=function(t,o){if(typeof t=="string")if(o){var n=Sg(o.as,o.crossOrigin);ei.d.m(t,{as:typeof o.as=="string"&&o.as!=="script"?o.as:void 0,crossOrigin:n,integrity:typeof o.integrity=="string"?o.integrity:void 0})}else ei.d.m(t)};oi.requestFormReset=function(t){ei.d.r(t)};oi.unstable_batchedUpdates=function(t,o){return t(o)};oi.useFormState=function(t,o,n){return Bu.H.useFormState(t,o,n)};oi.useFormStatus=function(){return Bu.H.useHostTransitionStatus()};oi.version="19.0.0";function i0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i0)}catch(t){console.error(t)}}i0(),t0.exports=oi;var Nv=t0.exports;const gP=Rs(Nv);/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var po=dP,n0=re,mP=Nv;function se(t){var o="https://react.dev/errors/"+t;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)o+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var $P=Symbol.for("react.element"),Bp=Symbol.for("react.transitional.element"),ku=Symbol.for("react.portal"),Ra=Symbol.for("react.fragment"),r0=Symbol.for("react.strict_mode"),rE=Symbol.for("react.profiler"),_P=Symbol.for("react.provider"),l0=Symbol.for("react.consumer"),ps=Symbol.for("react.context"),Mv=Symbol.for("react.forward_ref"),lE=Symbol.for("react.suspense"),aE=Symbol.for("react.suspense_list"),xv=Symbol.for("react.memo"),qs=Symbol.for("react.lazy"),a0=Symbol.for("react.offscreen"),bP=Symbol.for("react.memo_cache_sentinel"),qw=Symbol.iterator;function Eu(t){return t===null||typeof t!="object"?null:(t=qw&&t[qw]||t["@@iterator"],typeof t=="function"?t:null)}var TP=Symbol.for("react.client.reference");function cE(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===TP?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ra:return"Fragment";case ku:return"Portal";case rE:return"Profiler";case r0:return"StrictMode";case lE:return"Suspense";case aE:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ps:return(t.displayName||"Context")+".Provider";case l0:return(t._context.displayName||"Context")+".Consumer";case Mv:var o=t.render;return t=t.displayName,t||(t=o.displayName||o.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case xv:return o=t.displayName||null,o!==null?o:cE(t.type)||"Memo";case qs:o=t._payload,t=t._init;try{return cE(t(o))}catch(n){}}return null}var Fe=n0.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Rt=Object.assign,oT,Jw;function Nu(t){if(oT===void 0)try{throw Error()}catch(n){var o=n.stack.trim().match(/\n( *(at )?)/);oT=o&&o[1]||"",Jw=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+oT+t+Jw}var iT=!1;function nT(t,o){if(!t||iT)return"";iT=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(o){var b=function(){throw Error()};if(Object.defineProperty(b.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(b,[])}catch(v){var T=v}Reflect.construct(t,[],b)}else{try{b.call()}catch(v){T=v}t.call(b.prototype)}}else{try{throw Error()}catch(v){T=v}(b=t())&&typeof b.catch=="function"&&b.catch(function(){})}}catch(v){if(v&&T&&typeof v.stack=="string")return[v.stack,T.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=s.DetermineComponentFrameRoot(),d=c[0],h=c[1];if(d&&h){var p=d.split("\n"),g=h.split("\n");for(l=s=0;s<p.length&&!p[s].includes("DetermineComponentFrameRoot");)s++;for(;l<g.length&&!g[l].includes("DetermineComponentFrameRoot");)l++;if(s===p.length||l===g.length)for(s=p.length-1,l=g.length-1;1<=s&&0<=l&&p[s]!==g[l];)l--;for(;1<=s&&0<=l;s--,l--)if(p[s]!==g[l]){if(s!==1||l!==1)do if(s--,l--,0>l||p[s]!==g[l]){var $="\n"+p[s].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=s&&0<=l);break}}}finally{iT=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Nu(n):""}function EP(t){switch(t.tag){case 26:case 27:case 5:return Nu(t.type);case 16:return Nu("Lazy");case 13:return Nu("Suspense");case 19:return Nu("SuspenseList");case 0:case 15:return t=nT(t.type,!1),t;case 11:return t=nT(t.type.render,!1),t;case 1:return t=nT(t.type,!0),t;default:return""}}function Zw(t){try{var o="";do o+=EP(t),t=t.return;while(t);return o}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function pc(t){var o=t,n=t;if(t.alternate)for(;o.return;)o=o.return;else{t=o;do o=t,o.flags&4098&&(n=o.return),t=o.return;while(t)}return o.tag===3?n:null}function c0(t){if(t.tag===13){var o=t.memoizedState;if(o===null&&(t=t.alternate,t!==null&&(o=t.memoizedState)),o!==null)return o.dehydrated}return null}function Qw(t){if(pc(t)!==t)throw Error(se(188))}function vP(t){var o=t.alternate;if(!o){if(o=pc(t),o===null)throw Error(se(188));return o!==t?null:t}for(var n=t,s=o;;){var l=n.return;if(l===null)break;var c=l.alternate;if(c===null){if(s=l.return,s!==null){n=s;continue}break}if(l.child===c.child){for(c=l.child;c;){if(c===n)return Qw(l),t;if(c===s)return Qw(l),o;c=c.sibling}throw Error(se(188))}if(n.return!==s.return)n=l,s=c;else{for(var d=!1,h=l.child;h;){if(h===n){d=!0,n=l,s=c;break}if(h===s){d=!0,s=l,n=c;break}h=h.sibling}if(!d){for(h=c.child;h;){if(h===n){d=!0,n=c,s=l;break}if(h===s){d=!0,s=c,n=l;break}h=h.sibling}if(!d)throw Error(se(189))}}if(n.alternate!==s)throw Error(se(190))}if(n.tag!==3)throw Error(se(188));return n.stateNode.current===n?t:o}function u0(t){var o=t.tag;if(o===5||o===26||o===27||o===6)return t;for(t=t.child;t!==null;){if(o=u0(t),o!==null)return o;t=t.sibling}return null}var Mu=Array.isArray,Ot=mP.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,sl={pending:!1,data:null,method:null,action:null},uE=[],Ca=-1;function Vn(t){return{current:t}}function Io(t){0>Ca||(t.current=uE[Ca],uE[Ca]=null,Ca--)}function At(t,o){Ca++,uE[Ca]=t.current,t.current=o}var Bn=Vn(null),nd=Vn(null),sr=Vn(null),Af=Vn(null);function Lf(t,o){switch(At(sr,o),At(nd,t),At(Bn,null),t=o.nodeType,t){case 9:case 11:o=(o=o.documentElement)&&(o=o.namespaceURI)?eL(o):0;break;default:if(t=t===8?o.parentNode:o,o=t.tagName,t=t.namespaceURI)t=eL(t),o=vM(t,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}Io(Bn),At(Bn,o)}function Za(){Io(Bn),Io(nd),Io(sr)}function dE(t){t.memoizedState!==null&&At(Af,t);var o=Bn.current,n=vM(o,t.type);o!==n&&(At(nd,t),At(Bn,n))}function kf(t){nd.current===t&&(Io(Bn),Io(nd)),Af.current===t&&(Io(Af),gd._currentValue=sl)}var hE=Object.prototype.hasOwnProperty,Dv=po.unstable_scheduleCallback,sT=po.unstable_cancelCallback,yP=po.unstable_shouldYield,SP=po.unstable_requestPaint,Un=po.unstable_now,IP=po.unstable_getCurrentPriorityLevel,d0=po.unstable_ImmediatePriority,h0=po.unstable_UserBlockingPriority,Nf=po.unstable_NormalPriority,OP=po.unstable_LowPriority,p0=po.unstable_IdlePriority,RP=po.log,CP=po.unstable_setDisableYieldValue,Ad=null,Ri=null;function wP(t){if(Ri&&typeof Ri.onCommitFiberRoot=="function")try{Ri.onCommitFiberRoot(Ad,t,void 0,(t.current.flags&128)===128)}catch(o){}}function or(t){if(typeof RP=="function"&&CP(t),Ri&&typeof Ri.setStrictMode=="function")try{Ri.setStrictMode(Ad,t)}catch(o){}}var Ci=Math.clz32?Math.clz32:kP,AP=Math.log,LP=Math.LN2;function kP(t){return t>>>=0,t===0?32:31-(AP(t)/LP|0)|0}var Up=128,Hp=4194304;function Qr(t){var o=t&42;if(o!==0)return o;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ig(t,o){var n=t.pendingLanes;if(n===0)return 0;var s=0,l=t.suspendedLanes,c=t.pingedLanes,d=t.warmLanes;t=t.finishedLanes!==0;var h=n&134217727;return h!==0?(n=h&~l,n!==0?s=Qr(n):(c&=h,c!==0?s=Qr(c):t||(d=h&~d,d!==0&&(s=Qr(d))))):(h=n&~l,h!==0?s=Qr(h):c!==0?s=Qr(c):t||(d=n&~d,d!==0&&(s=Qr(d)))),s===0?0:o!==0&&o!==s&&!(o&l)&&(l=s&-s,d=o&-o,l>=d||l===32&&(d&4194176)!==0)?o:s}function Ld(t,o){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&o)===0}function NP(t,o){switch(t){case 1:case 2:case 4:case 8:return o+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function f0(){var t=Up;return Up<<=1,!(Up&4194176)&&(Up=128),t}function g0(){var t=Hp;return Hp<<=1,!(Hp&62914560)&&(Hp=4194304),t}function rT(t){for(var o=[],n=0;31>n;n++)o.push(t);return o}function kd(t,o){t.pendingLanes|=o,o!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function MP(t,o,n,s,l,c){var d=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var h=t.entanglements,p=t.expirationTimes,g=t.hiddenUpdates;for(n=d&~n;0<n;){var $=31-Ci(n),b=1<<$;h[$]=0,p[$]=-1;var T=g[$];if(T!==null)for(g[$]=null,$=0;$<T.length;$++){var v=T[$];v!==null&&(v.lane&=-536870913)}n&=~b}s!==0&&m0(t,s,0),c!==0&&l===0&&t.tag!==0&&(t.suspendedLanes|=c&~(d&~o))}function m0(t,o,n){t.pendingLanes|=o,t.suspendedLanes&=~o;var s=31-Ci(o);t.entangledLanes|=o,t.entanglements[s]=t.entanglements[s]|1073741824|n&4194218}function $0(t,o){var n=t.entangledLanes|=o;for(t=t.entanglements;n;){var s=31-Ci(n),l=1<<s;l&o|t[s]&o&&(t[s]|=o),n&=~l}}function _0(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function b0(){var t=Ot.p;return t!==0?t:(t=window.event,t===void 0?32:kM(t.type))}function xP(t,o){var n=Ot.p;try{return Ot.p=t,o()}finally{Ot.p=n}}var Tr=Math.random().toString(36).slice(2),zo="__reactFiber$"+Tr,di="__reactProps$"+Tr,fc="__reactContainer$"+Tr,pE="__reactEvents$"+Tr,DP="__reactListeners$"+Tr,PP="__reactHandles$"+Tr,eA="__reactResources$"+Tr,sd="__reactMarker$"+Tr;function Pv(t){delete t[zo],delete t[di],delete t[pE],delete t[DP],delete t[PP]}function ol(t){var o=t[zo];if(o)return o;for(var n=t.parentNode;n;){if(o=n[fc]||n[zo]){if(n=o.alternate,o.child!==null||n!==null&&n.child!==null)for(t=oL(t);t!==null;){if(n=t[zo])return n;t=oL(t)}return o}t=n,n=t.parentNode}return null}function gc(t){if(t=t[zo]||t[fc]){var o=t.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return t}return null}function xu(t){var o=t.tag;if(o===5||o===26||o===27||o===6)return t.stateNode;throw Error(se(33))}function Ha(t){var o=t[eA];return o||(o=t[eA]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function yo(t){t[sd]=!0}var T0=new Set,E0={};function vl(t,o){Qa(t,o),Qa(t+"Capture",o)}function Qa(t,o){for(E0[t]=o,t=0;t<o.length;t++)T0.add(o[t])}var Es=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),BP=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tA={},oA={};function UP(t){return hE.call(oA,t)?!0:hE.call(tA,t)?!1:BP.test(t)?oA[t]=!0:(tA[t]=!0,!1)}function pf(t,o,n){if(UP(o))if(n===null)t.removeAttribute(o);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(o);return;case"boolean":var s=o.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){t.removeAttribute(o);return}}t.setAttribute(o,""+n)}}function Fp(t,o,n){if(n===null)t.removeAttribute(o);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(o);return}t.setAttribute(o,""+n)}}function ns(t,o,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(o,n,""+s)}}function zi(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function v0(t){var o=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function HP(t){var o=v0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,o),s=""+t[o];if(!t.hasOwnProperty(o)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,c=n.set;return Object.defineProperty(t,o,{configurable:!0,get:function(){return l.call(this)},set:function(d){s=""+d,c.call(this,d)}}),Object.defineProperty(t,o,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(d){s=""+d},stopTracking:function(){t._valueTracker=null,delete t[o]}}}}function Mf(t){t._valueTracker||(t._valueTracker=HP(t))}function y0(t){if(!t)return!1;var o=t._valueTracker;if(!o)return!0;var n=o.getValue(),s="";return t&&(s=v0(t)?t.checked?"true":"false":t.value),t=s,t!==n?(o.setValue(t),!0):!1}function xf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch(o){return t.body}}var FP=/[\n"\\]/g;function Yi(t){return t.replace(FP,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function fE(t,o,n,s,l,c,d,h){t.name="",d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?t.type=d:t.removeAttribute("type"),o!=null?d==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+zi(o)):t.value!==""+zi(o)&&(t.value=""+zi(o)):d!=="submit"&&d!=="reset"||t.removeAttribute("value"),o!=null?gE(t,d,zi(o)):n!=null?gE(t,d,zi(n)):s!=null&&t.removeAttribute("value"),l==null&&c!=null&&(t.defaultChecked=!!c),l!=null&&(t.checked=l&&typeof l!="function"&&typeof l!="symbol"),h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"?t.name=""+zi(h):t.removeAttribute("name")}function S0(t,o,n,s,l,c,d,h){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(t.type=c),o!=null||n!=null){if(!(c!=="submit"&&c!=="reset"||o!=null))return;n=n!=null?""+zi(n):"",o=o!=null?""+zi(o):n,h||o===t.value||(t.value=o),t.defaultValue=o}s=s!=null?s:l,s=typeof s!="function"&&typeof s!="symbol"&&!!s,t.checked=h?t.checked:!!s,t.defaultChecked=!!s,d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.name=d)}function gE(t,o,n){o==="number"&&xf(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Fa(t,o,n,s){if(t=t.options,o){o={};for(var l=0;l<n.length;l++)o["$"+n[l]]=!0;for(n=0;n<t.length;n++)l=o.hasOwnProperty("$"+t[n].value),t[n].selected!==l&&(t[n].selected=l),l&&s&&(t[n].defaultSelected=!0)}else{for(n=""+zi(n),o=null,l=0;l<t.length;l++){if(t[l].value===n){t[l].selected=!0,s&&(t[l].defaultSelected=!0);return}o!==null||t[l].disabled||(o=t[l])}o!==null&&(o.selected=!0)}}function I0(t,o,n){if(o!=null&&(o=""+zi(o),o!==t.value&&(t.value=o),n==null)){t.defaultValue!==o&&(t.defaultValue=o);return}t.defaultValue=n!=null?""+zi(n):""}function O0(t,o,n,s){if(o==null){if(s!=null){if(n!=null)throw Error(se(92));if(Mu(s)){if(1<s.length)throw Error(se(93));s=s[0]}n=s}n==null&&(n=""),o=n}n=zi(o),t.defaultValue=n,s=t.textContent,s===n&&s!==""&&s!==null&&(t.value=s)}function ec(t,o){if(o){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=o;return}}t.textContent=o}var GP=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function iA(t,o,n){var s=o.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?s?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="":s?t.setProperty(o,n):typeof n!="number"||n===0||GP.has(o)?o==="float"?t.cssFloat=n:t[o]=(""+n).trim():t[o]=n+"px"}function R0(t,o,n){if(o!=null&&typeof o!="object")throw Error(se(62));if(t=t.style,n!=null){for(var s in n)!n.hasOwnProperty(s)||o!=null&&o.hasOwnProperty(s)||(s.indexOf("--")===0?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="");for(var l in o)s=o[l],o.hasOwnProperty(l)&&n[l]!==s&&iA(t,l,s)}else for(var c in o)o.hasOwnProperty(c)&&iA(t,c,o[c])}function Bv(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var VP=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zP=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ff(t){return zP.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var mE=null;function Uv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var wa=null,Ga=null;function nA(t){var o=gc(t);if(o&&(t=o.stateNode)){var n=t[di]||null;e:switch(t=o.stateNode,o.type){case"input":if(fE(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),o=n.name,n.type==="radio"&&o!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Yi(""+o)+'"][type="radio"]'),o=0;o<n.length;o++){var s=n[o];if(s!==t&&s.form===t.form){var l=s[di]||null;if(!l)throw Error(se(90));fE(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(o=0;o<n.length;o++)s=n[o],s.form===t.form&&y0(s)}break e;case"textarea":I0(t,n.value,n.defaultValue);break e;case"select":o=n.value,o!=null&&Fa(t,!!n.multiple,o,!1)}}}var lT=!1;function C0(t,o,n){if(lT)return t(o,n);lT=!0;try{var s=t(o);return s}finally{if(lT=!1,(wa!==null||Ga!==null)&&(xg(),wa&&(o=wa,t=Ga,Ga=wa=null,nA(o),t)))for(o=0;o<t.length;o++)nA(t[o])}}function rd(t,o){var n=t.stateNode;if(n===null)return null;var s=n[di]||null;if(s===null)return null;n=s[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(se(231,o,typeof n));return n}var $E=!1;if(Es)try{var vu={};Object.defineProperty(vu,"passive",{get:function(){$E=!0}}),window.addEventListener("test",vu,vu),window.removeEventListener("test",vu,vu)}catch(t){$E=!1}var ir=null,Hv=null,gf=null;function w0(){if(gf)return gf;var t,o=Hv,n=o.length,s,l="value"in ir?ir.value:ir.textContent,c=l.length;for(t=0;t<n&&o[t]===l[t];t++);var d=n-t;for(s=1;s<=d&&o[n-s]===l[c-s];s++);return gf=l.slice(t,1<s?1-s:void 0)}function mf(t){var o=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&o===13&&(t=13)):t=o,t===10&&(t=13),32<=t||t===13?t:0}function Gp(){return!0}function sA(){return!1}function pi(t){function o(n,s,l,c,d){this._reactName=n,this._targetInst=l,this.type=s,this.nativeEvent=c,this.target=d,this.currentTarget=null;for(var h in t)t.hasOwnProperty(h)&&(n=t[h],this[h]=n?n(c):c[h]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Gp:sA,this.isPropagationStopped=sA,this}return Rt(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Gp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Gp)},persist:function(){},isPersistent:Gp}),o}var yl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Og=pi(yl),Nd=Rt({},yl,{view:0,detail:0}),WP=pi(Nd),aT,cT,yu,Rg=Rt({},Nd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==yu&&(yu&&t.type==="mousemove"?(aT=t.screenX-yu.screenX,cT=t.screenY-yu.screenY):cT=aT=0,yu=t),aT)},movementY:function(t){return"movementY"in t?t.movementY:cT}}),rA=pi(Rg),XP=Rt({},Rg,{dataTransfer:0}),YP=pi(XP),jP=Rt({},Nd,{relatedTarget:0}),uT=pi(jP),KP=Rt({},yl,{animationName:0,elapsedTime:0,pseudoElement:0}),qP=pi(KP),JP=Rt({},yl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ZP=pi(JP),QP=Rt({},yl,{data:0}),lA=pi(QP),eB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iB(t){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(t):(t=oB[t])?!!o[t]:!1}function Fv(){return iB}var nB=Rt({},Nd,{key:function(t){if(t.key){var o=eB[t.key]||t.key;if(o!=="Unidentified")return o}return t.type==="keypress"?(t=mf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?tB[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fv,charCode:function(t){return t.type==="keypress"?mf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?mf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),sB=pi(nB),rB=Rt({},Rg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),aA=pi(rB),lB=Rt({},Nd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fv}),aB=pi(lB),cB=Rt({},yl,{propertyName:0,elapsedTime:0,pseudoElement:0}),uB=pi(cB),dB=Rt({},Rg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),hB=pi(dB),pB=Rt({},yl,{newState:0,oldState:0}),fB=pi(pB),gB=[9,13,27,32],Gv=Es&&"CompositionEvent"in window,Uu=null;Es&&"documentMode"in document&&(Uu=document.documentMode);var mB=Es&&"TextEvent"in window&&!Uu,A0=Es&&(!Gv||Uu&&8<Uu&&11>=Uu),cA=" ",uA=!1;function L0(t,o){switch(t){case"keyup":return gB.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function k0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Aa=!1;function $B(t,o){switch(t){case"compositionend":return k0(o);case"keypress":return o.which!==32?null:(uA=!0,cA);case"textInput":return t=o.data,t===cA&&uA?null:t;default:return null}}function _B(t,o){if(Aa)return t==="compositionend"||!Gv&&L0(t,o)?(t=w0(),gf=Hv=ir=null,Aa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return A0&&o.locale!=="ko"?null:o.data;default:return null}}var bB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dA(t){var o=t&&t.nodeName&&t.nodeName.toLowerCase();return o==="input"?!!bB[t.type]:o==="textarea"}function N0(t,o,n,s){wa?Ga?Ga.push(s):Ga=[s]:wa=s,o=Jf(o,"onChange"),0<o.length&&(n=new Og("onChange","change",null,n,s),t.push({event:n,listeners:o}))}var Hu=null,ld=null;function TB(t){bM(t,0)}function Cg(t){var o=xu(t);if(y0(o))return t}function hA(t,o){if(t==="change")return o}var M0=!1;if(Es){var dT;if(Es){var hT="oninput"in document;if(!hT){var pA=document.createElement("div");pA.setAttribute("oninput","return;"),hT=typeof pA.oninput=="function"}dT=hT}else dT=!1;M0=dT&&(!document.documentMode||9<document.documentMode)}function fA(){Hu&&(Hu.detachEvent("onpropertychange",x0),ld=Hu=null)}function x0(t){if(t.propertyName==="value"&&Cg(ld)){var o=[];N0(o,ld,t,Uv(t)),C0(TB,o)}}function EB(t,o,n){t==="focusin"?(fA(),Hu=o,ld=n,Hu.attachEvent("onpropertychange",x0)):t==="focusout"&&fA()}function vB(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Cg(ld)}function yB(t,o){if(t==="click")return Cg(o)}function SB(t,o){if(t==="input"||t==="change")return Cg(o)}function IB(t,o){return t===o&&(t!==0||1/t===1/o)||t!==t&&o!==o}var Ai=typeof Object.is=="function"?Object.is:IB;function ad(t,o){if(Ai(t,o))return!0;if(typeof t!="object"||t===null||typeof o!="object"||o===null)return!1;var n=Object.keys(t),s=Object.keys(o);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var l=n[s];if(!hE.call(o,l)||!Ai(t[l],o[l]))return!1}return!0}function gA(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function mA(t,o){var n=gA(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=o&&s>=o)return{node:n,offset:o-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=gA(n)}}function D0(t,o){return t&&o?t===o?!0:t&&t.nodeType===3?!1:o&&o.nodeType===3?D0(t,o.parentNode):"contains"in t?t.contains(o):t.compareDocumentPosition?!!(t.compareDocumentPosition(o)&16):!1:!1}function P0(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var o=xf(t.document);o instanceof t.HTMLIFrameElement;){try{var n=typeof o.contentWindow.location.href=="string"}catch(s){n=!1}if(n)t=o.contentWindow;else break;o=xf(t.document)}return o}function Vv(t){var o=t&&t.nodeName&&t.nodeName.toLowerCase();return o&&(o==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||o==="textarea"||t.contentEditable==="true")}function OB(t,o){var n=P0(o);o=t.focusedElem;var s=t.selectionRange;if(n!==o&&o&&o.ownerDocument&&D0(o.ownerDocument.documentElement,o)){if(s!==null&&Vv(o)){if(t=s.start,n=s.end,n===void 0&&(n=t),"selectionStart"in o)o.selectionStart=t,o.selectionEnd=Math.min(n,o.value.length);else if(n=(t=o.ownerDocument||document)&&t.defaultView||window,n.getSelection){n=n.getSelection();var l=o.textContent.length,c=Math.min(s.start,l);s=s.end===void 0?c:Math.min(s.end,l),!n.extend&&c>s&&(l=s,s=c,c=l),l=mA(o,c);var d=mA(o,s);l&&d&&(n.rangeCount!==1||n.anchorNode!==l.node||n.anchorOffset!==l.offset||n.focusNode!==d.node||n.focusOffset!==d.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),n.removeAllRanges(),c>s?(n.addRange(t),n.extend(d.node,d.offset)):(t.setEnd(d.node,d.offset),n.addRange(t)))}}for(t=[],n=o;n=n.parentNode;)n.nodeType===1&&t.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<t.length;o++)n=t[o],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var RB=Es&&"documentMode"in document&&11>=document.documentMode,La=null,_E=null,Fu=null,bE=!1;function $A(t,o,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;bE||La==null||La!==xf(s)||(s=La,"selectionStart"in s&&Vv(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Fu&&ad(Fu,s)||(Fu=s,s=Jf(_E,"onSelect"),0<s.length&&(o=new Og("onSelect","select",null,o,n),t.push({event:o,listeners:s}),o.target=La)))}function Jr(t,o){var n={};return n[t.toLowerCase()]=o.toLowerCase(),n["Webkit"+t]="webkit"+o,n["Moz"+t]="moz"+o,n}var ka={animationend:Jr("Animation","AnimationEnd"),animationiteration:Jr("Animation","AnimationIteration"),animationstart:Jr("Animation","AnimationStart"),transitionrun:Jr("Transition","TransitionRun"),transitionstart:Jr("Transition","TransitionStart"),transitioncancel:Jr("Transition","TransitionCancel"),transitionend:Jr("Transition","TransitionEnd")},pT={},B0={};Es&&(B0=document.createElement("div").style,"AnimationEvent"in window||(delete ka.animationend.animation,delete ka.animationiteration.animation,delete ka.animationstart.animation),"TransitionEvent"in window||delete ka.transitionend.transition);function Sl(t){if(pT[t])return pT[t];if(!ka[t])return t;var o=ka[t],n;for(n in o)if(o.hasOwnProperty(n)&&n in B0)return pT[t]=o[n];return t}var U0=Sl("animationend"),H0=Sl("animationiteration"),F0=Sl("animationstart"),CB=Sl("transitionrun"),wB=Sl("transitionstart"),AB=Sl("transitioncancel"),G0=Sl("transitionend"),V0=new Map,_A="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function gn(t,o){V0.set(t,o),vl(o,[t])}var Vi=[],Na=0,zv=0;function wg(){for(var t=Na,o=zv=Na=0;o<t;){var n=Vi[o];Vi[o++]=null;var s=Vi[o];Vi[o++]=null;var l=Vi[o];Vi[o++]=null;var c=Vi[o];if(Vi[o++]=null,s!==null&&l!==null){var d=s.pending;d===null?l.next=l:(l.next=d.next,d.next=l),s.pending=l}c!==0&&z0(n,l,c)}}function Ag(t,o,n,s){Vi[Na++]=t,Vi[Na++]=o,Vi[Na++]=n,Vi[Na++]=s,zv|=s,t.lanes|=s,t=t.alternate,t!==null&&(t.lanes|=s)}function Wv(t,o,n,s){return Ag(t,o,n,s),Df(t)}function fr(t,o){return Ag(t,null,null,o),Df(t)}function z0(t,o,n){t.lanes|=n;var s=t.alternate;s!==null&&(s.lanes|=n);for(var l=!1,c=t.return;c!==null;)c.childLanes|=n,s=c.alternate,s!==null&&(s.childLanes|=n),c.tag===22&&(t=c.stateNode,t===null||t._visibility&1||(l=!0)),t=c,c=c.return;l&&o!==null&&t.tag===3&&(c=t.stateNode,l=31-Ci(n),c=c.hiddenUpdates,t=c[l],t===null?c[l]=[o]:t.push(o),o.lane=n|536870912)}function Df(t){if(50<Qu)throw Qu=0,FE=null,Error(se(185));for(var o=t.return;o!==null;)t=o,o=t.return;return t.tag===3?t.stateNode:null}var Ma={},bA=new WeakMap;function ji(t,o){if(typeof t=="object"&&t!==null){var n=bA.get(t);return n!==void 0?n:(o={value:t,source:o,stack:Zw(o)},bA.set(t,o),o)}return{value:t,source:o,stack:Zw(o)}}var xa=[],Da=0,Pf=null,Bf=0,Wi=[],Xi=0,rl=null,fs=1,gs="";function el(t,o){xa[Da++]=Bf,xa[Da++]=Pf,Pf=t,Bf=o}function W0(t,o,n){Wi[Xi++]=fs,Wi[Xi++]=gs,Wi[Xi++]=rl,rl=t;var s=fs;t=gs;var l=32-Ci(s)-1;s&=~(1<<l),n+=1;var c=32-Ci(o)+l;if(30<c){var d=l-l%5;c=(s&(1<<d)-1).toString(32),s>>=d,l-=d,fs=1<<32-Ci(o)+l|n<<l|s,gs=c+t}else fs=1<<c|n<<l|s,gs=t}function Xv(t){t.return!==null&&(el(t,1),W0(t,1,0))}function Yv(t){for(;t===Pf;)Pf=xa[--Da],xa[Da]=null,Bf=xa[--Da],xa[Da]=null;for(;t===rl;)rl=Wi[--Xi],Wi[Xi]=null,gs=Wi[--Xi],Wi[Xi]=null,fs=Wi[--Xi],Wi[Xi]=null}var Qo=null,Mo=null,tt=!1,dn=null,Dn=!1,TE=Error(se(519));function pl(t){var o=Error(se(418,""));throw cd(ji(o,t)),TE}function TA(t){var o=t.stateNode,n=t.type,s=t.memoizedProps;switch(o[zo]=t,o[di]=s,n){case"dialog":Je("cancel",o),Je("close",o);break;case"iframe":case"object":case"embed":Je("load",o);break;case"video":case"audio":for(n=0;n<hd.length;n++)Je(hd[n],o);break;case"source":Je("error",o);break;case"img":case"image":case"link":Je("error",o),Je("load",o);break;case"details":Je("toggle",o);break;case"input":Je("invalid",o),S0(o,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0),Mf(o);break;case"select":Je("invalid",o);break;case"textarea":Je("invalid",o),O0(o,s.value,s.defaultValue,s.children),Mf(o)}n=s.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||o.textContent===""+n||s.suppressHydrationWarning===!0||EM(o.textContent,n)?(s.popover!=null&&(Je("beforetoggle",o),Je("toggle",o)),s.onScroll!=null&&Je("scroll",o),s.onScrollEnd!=null&&Je("scrollend",o),s.onClick!=null&&(o.onclick=Pg),o=!0):o=!1,o||pl(t)}function EA(t){for(Qo=t.return;Qo;)switch(Qo.tag){case 3:case 27:Dn=!0;return;case 5:case 13:Dn=!1;return;default:Qo=Qo.return}}function Su(t){if(t!==Qo)return!1;if(!tt)return EA(t),tt=!0,!1;var o=!1,n;if((n=t.tag!==3&&t.tag!==27)&&((n=t.tag===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||jE(t.type,t.memoizedProps)),n=!n),n&&(o=!0),o&&Mo&&pl(t),EA(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(se(317));e:{for(t=t.nextSibling,o=0;t;){if(t.nodeType===8)if(n=t.data,n==="/$"){if(o===0){Mo=fn(t.nextSibling);break e}o--}else n!=="$"&&n!=="$!"&&n!=="$?"||o++;t=t.nextSibling}Mo=null}}else Mo=Qo?fn(t.stateNode.nextSibling):null;return!0}function Md(){Mo=Qo=null,tt=!1}function cd(t){dn===null?dn=[t]:dn.push(t)}var Gu=Error(se(460)),X0=Error(se(474)),EE={then:function(){}};function vA(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Vp(){}function Y0(t,o,n){switch(n=t[n],n===void 0?t.push(o):n!==o&&(o.then(Vp,Vp),o=n),o.status){case"fulfilled":return o.value;case"rejected":throw t=o.reason,t===Gu?Error(se(483)):t;default:if(typeof o.status=="string")o.then(Vp,Vp);else{if(t=yt,t!==null&&100<t.shellSuspendCounter)throw Error(se(482));t=o,t.status="pending",t.then(function(s){if(o.status==="pending"){var l=o;l.status="fulfilled",l.value=s}},function(s){if(o.status==="pending"){var l=o;l.status="rejected",l.reason=s}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw t=o.reason,t===Gu?Error(se(483)):t}throw Vu=o,Gu}}var Vu=null;function yA(){if(Vu===null)throw Error(se(459));var t=Vu;return Vu=null,t}var Va=null,ud=0;function zp(t){var o=ud;return ud+=1,Va===null&&(Va=[]),Y0(Va,t,o)}function Iu(t,o){o=o.props.ref,t.ref=o!==void 0?o:null}function Wp(t,o){throw o.$$typeof===$P?Error(se(525)):(t=Object.prototype.toString.call(o),Error(se(31,t==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":t)))}function SA(t){var o=t._init;return o(t._payload)}function j0(t){function o(R,S){if(t){var w=R.deletions;w===null?(R.deletions=[S],R.flags|=16):w.push(S)}}function n(R,S){if(!t)return null;for(;S!==null;)o(R,S),S=S.sibling;return null}function s(R){for(var S=new Map;R!==null;)R.key!==null?S.set(R.key,R):S.set(R.index,R),R=R.sibling;return S}function l(R,S){return R=ar(R,S),R.index=0,R.sibling=null,R}function c(R,S,w){return R.index=w,t?(w=R.alternate,w!==null?(w=w.index,w<S?(R.flags|=33554434,S):w):(R.flags|=33554434,S)):(R.flags|=1048576,S)}function d(R){return t&&R.alternate===null&&(R.flags|=33554434),R}function h(R,S,w,L){return S===null||S.tag!==6?(S=IT(w,R.mode,L),S.return=R,S):(S=l(S,w),S.return=R,S)}function p(R,S,w,L){var H=w.type;return H===Ra?$(R,S,w.props.children,L,w.key):S!==null&&(S.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===qs&&SA(H)===S.type)?(S=l(S,w.props),Iu(S,w),S.return=R,S):(S=Ef(w.type,w.key,w.props,null,R.mode,L),Iu(S,w),S.return=R,S)}function g(R,S,w,L){return S===null||S.tag!==4||S.stateNode.containerInfo!==w.containerInfo||S.stateNode.implementation!==w.implementation?(S=OT(w,R.mode,L),S.return=R,S):(S=l(S,w.children||[]),S.return=R,S)}function $(R,S,w,L,H){return S===null||S.tag!==7?(S=al(w,R.mode,L,H),S.return=R,S):(S=l(S,w),S.return=R,S)}function b(R,S,w){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return S=IT(""+S,R.mode,w),S.return=R,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Bp:return w=Ef(S.type,S.key,S.props,null,R.mode,w),Iu(w,S),w.return=R,w;case ku:return S=OT(S,R.mode,w),S.return=R,S;case qs:var L=S._init;return S=L(S._payload),b(R,S,w)}if(Mu(S)||Eu(S))return S=al(S,R.mode,w,null),S.return=R,S;if(typeof S.then=="function")return b(R,zp(S),w);if(S.$$typeof===ps)return b(R,Xp(R,S),w);Wp(R,S)}return null}function T(R,S,w,L){var H=S!==null?S.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return H!==null?null:h(R,S,""+w,L);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Bp:return w.key===H?p(R,S,w,L):null;case ku:return w.key===H?g(R,S,w,L):null;case qs:return H=w._init,w=H(w._payload),T(R,S,w,L)}if(Mu(w)||Eu(w))return H!==null?null:$(R,S,w,L,null);if(typeof w.then=="function")return T(R,S,zp(w),L);if(w.$$typeof===ps)return T(R,S,Xp(R,w),L);Wp(R,w)}return null}function v(R,S,w,L,H){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return R=R.get(w)||null,h(S,R,""+L,H);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Bp:return R=R.get(L.key===null?w:L.key)||null,p(S,R,L,H);case ku:return R=R.get(L.key===null?w:L.key)||null,g(S,R,L,H);case qs:var Y=L._init;return L=Y(L._payload),v(R,S,w,L,H)}if(Mu(L)||Eu(L))return R=R.get(w)||null,$(S,R,L,H,null);if(typeof L.then=="function")return v(R,S,w,zp(L),H);if(L.$$typeof===ps)return v(R,S,w,Xp(S,L),H);Wp(S,L)}return null}function I(R,S,w,L){for(var H=null,Y=null,K=S,j=S=0,P=null;K!==null&&j<w.length;j++){K.index>j?(P=K,K=null):P=K.sibling;var J=T(R,K,w[j],L);if(J===null){K===null&&(K=P);break}t&&K&&J.alternate===null&&o(R,K),S=c(J,S,j),Y===null?H=J:Y.sibling=J,Y=J,K=P}if(j===w.length)return n(R,K),tt&&el(R,j),H;if(K===null){for(;j<w.length;j++)K=b(R,w[j],L),K!==null&&(S=c(K,S,j),Y===null?H=K:Y.sibling=K,Y=K);return tt&&el(R,j),H}for(K=s(K);j<w.length;j++)P=v(K,R,j,w[j],L),P!==null&&(t&&P.alternate!==null&&K.delete(P.key===null?j:P.key),S=c(P,S,j),Y===null?H=P:Y.sibling=P,Y=P);return t&&K.forEach(function(ie){return o(R,ie)}),tt&&el(R,j),H}function k(R,S,w,L){if(w==null)throw Error(se(151));for(var H=null,Y=null,K=S,j=S=0,P=null,J=w.next();K!==null&&!J.done;j++,J=w.next()){K.index>j?(P=K,K=null):P=K.sibling;var ie=T(R,K,J.value,L);if(ie===null){K===null&&(K=P);break}t&&K&&ie.alternate===null&&o(R,K),S=c(ie,S,j),Y===null?H=ie:Y.sibling=ie,Y=ie,K=P}if(J.done)return n(R,K),tt&&el(R,j),H;if(K===null){for(;!J.done;j++,J=w.next())J=b(R,J.value,L),J!==null&&(S=c(J,S,j),Y===null?H=J:Y.sibling=J,Y=J);return tt&&el(R,j),H}for(K=s(K);!J.done;j++,J=w.next())J=v(K,R,j,J.value,L),J!==null&&(t&&J.alternate!==null&&K.delete(J.key===null?j:J.key),S=c(J,S,j),Y===null?H=J:Y.sibling=J,Y=J);return t&&K.forEach(function(ce){return o(R,ce)}),tt&&el(R,j),H}function G(R,S,w,L){if(typeof w=="object"&&w!==null&&w.type===Ra&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Bp:e:{for(var H=w.key;S!==null;){if(S.key===H){if(H=w.type,H===Ra){if(S.tag===7){n(R,S.sibling),L=l(S,w.props.children),L.return=R,R=L;break e}}else if(S.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===qs&&SA(H)===S.type){n(R,S.sibling),L=l(S,w.props),Iu(L,w),L.return=R,R=L;break e}n(R,S);break}else o(R,S);S=S.sibling}w.type===Ra?(L=al(w.props.children,R.mode,L,w.key),L.return=R,R=L):(L=Ef(w.type,w.key,w.props,null,R.mode,L),Iu(L,w),L.return=R,R=L)}return d(R);case ku:e:{for(H=w.key;S!==null;){if(S.key===H)if(S.tag===4&&S.stateNode.containerInfo===w.containerInfo&&S.stateNode.implementation===w.implementation){n(R,S.sibling),L=l(S,w.children||[]),L.return=R,R=L;break e}else{n(R,S);break}else o(R,S);S=S.sibling}L=OT(w,R.mode,L),L.return=R,R=L}return d(R);case qs:return H=w._init,w=H(w._payload),G(R,S,w,L)}if(Mu(w))return I(R,S,w,L);if(Eu(w)){if(H=Eu(w),typeof H!="function")throw Error(se(150));return w=H.call(w),k(R,S,w,L)}if(typeof w.then=="function")return G(R,S,zp(w),L);if(w.$$typeof===ps)return G(R,S,Xp(R,w),L);Wp(R,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,S!==null&&S.tag===6?(n(R,S.sibling),L=l(S,w),L.return=R,R=L):(n(R,S),L=IT(w,R.mode,L),L.return=R,R=L),d(R)):n(R,S)}return function(R,S,w,L){try{ud=0;var H=G(R,S,w,L);return Va=null,H}catch(K){if(K===Gu)throw K;var Y=Ki(29,K,null,R.mode);return Y.lanes=L,Y.return=R,Y}finally{}}}var fl=j0(!0),K0=j0(!1),tc=Vn(null),Uf=Vn(0);function IA(t,o){t=Ss,At(Uf,t),At(tc,o),Ss=t|o.baseLanes}function vE(){At(Uf,Ss),At(tc,tc.current)}function jv(){Ss=Uf.current,Io(tc),Io(Uf)}var Qi=Vn(null),Hn=null;function Zs(t){var o=t.alternate;At(ho,ho.current&1),At(Qi,t),Hn===null&&(o===null||tc.current!==null||o.memoizedState!==null)&&(Hn=t)}function q0(t){if(t.tag===22){if(At(ho,ho.current),At(Qi,t),Hn===null){var o=t.alternate;o!==null&&o.memoizedState!==null&&(Hn=t)}}else Qs()}function Qs(){At(ho,ho.current),At(Qi,Qi.current)}function ms(t){Io(Qi),Hn===t&&(Hn=null),Io(ho)}var ho=Vn(0);function Hf(t){for(var o=t;o!==null;){if(o.tag===13){var n=o.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break;for(;o.sibling===null;){if(o.return===null||o.return===t)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var LB=typeof AbortController<"u"?AbortController:function(){var t=[],o=this.signal={aborted:!1,addEventListener:function(n,s){t.push(s)}};this.abort=function(){o.aborted=!0,t.forEach(function(n){return n()})}},kB=po.unstable_scheduleCallback,NB=po.unstable_NormalPriority,uo={$$typeof:ps,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kv(){return{controller:new LB,data:new Map,refCount:0}}function xd(t){t.refCount--,t.refCount===0&&kB(NB,function(){t.controller.abort()})}var zu=null,yE=0,oc=0,za=null;function MB(t,o){if(zu===null){var n=zu=[];yE=0,oc=_y(),za={status:"pending",value:void 0,then:function(s){n.push(s)}}}return yE++,o.then(OA,OA),o}function OA(){if(--yE===0&&zu!==null){za!==null&&(za.status="fulfilled");var t=zu;zu=null,oc=0,za=null;for(var o=0;o<t.length;o++)(0,t[o])()}}function xB(t,o){var n=[],s={status:"pending",value:null,reason:null,then:function(l){n.push(l)}};return t.then(function(){s.status="fulfilled",s.value=o;for(var l=0;l<n.length;l++)(0,n[l])(o)},function(l){for(s.status="rejected",s.reason=l,l=0;l<n.length;l++)(0,n[l])(void 0)}),s}var RA=Fe.S;Fe.S=function(t,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&MB(t,o),RA!==null&&RA(t,o)};var ll=Vn(null);function qv(){var t=ll.current;return t!==null?t:yt.pooledCache}function $f(t,o){o===null?At(ll,ll.current):At(ll,o.pool)}function J0(){var t=qv();return t===null?null:{parent:uo._currentValue,pool:t}}var gr=0,We=null,gt=null,io=null,Ff=!1,Wa=!1,gl=!1,Gf=0,dd=0,Xa=null,DB=0;function Jt(){throw Error(se(321))}function Jv(t,o){if(o===null)return!1;for(var n=0;n<o.length&&n<t.length;n++)if(!Ai(t[n],o[n]))return!1;return!0}function Zv(t,o,n,s,l,c){return gr=c,We=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Fe.H=t===null||t.memoizedState===null?Il:Er,gl=!1,c=n(s,l),gl=!1,Wa&&(c=Q0(o,n,s,l)),Z0(t),c}function Z0(t){Fe.H=Gn;var o=gt!==null&&gt.next!==null;if(gr=0,io=gt=We=null,Ff=!1,dd=0,Xa=null,o)throw Error(se(300));t===null||So||(t=t.dependencies,t!==null&&Wf(t)&&(So=!0))}function Q0(t,o,n,s){We=t;var l=0;do{if(Wa&&(Xa=null),dd=0,Wa=!1,25<=l)throw Error(se(301));if(l+=1,io=gt=null,t.updateQueue!=null){var c=t.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}Fe.H=Ol,c=o(n,s)}while(Wa);return c}function PB(){var t=Fe.H,o=t.useState()[0];return o=typeof o.then=="function"?Dd(o):o,t=t.useState()[0],(gt!==null?gt.memoizedState:null)!==t&&(We.flags|=1024),o}function Qv(){var t=Gf!==0;return Gf=0,t}function ey(t,o,n){o.updateQueue=t.updateQueue,o.flags&=-2053,t.lanes&=~n}function ty(t){if(Ff){for(t=t.memoizedState;t!==null;){var o=t.queue;o!==null&&(o.pending=null),t=t.next}Ff=!1}gr=0,io=gt=We=null,Wa=!1,dd=Gf=0,Xa=null}function ai(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return io===null?We.memoizedState=io=t:io=io.next=t,io}function no(){if(gt===null){var t=We.alternate;t=t!==null?t.memoizedState:null}else t=gt.next;var o=io===null?We.memoizedState:io.next;if(o!==null)io=o,gt=t;else{if(t===null)throw We.alternate===null?Error(se(467)):Error(se(310));gt=t,t={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},io===null?We.memoizedState=io=t:io=io.next=t}return io}var Lg;Lg=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Dd(t){var o=dd;return dd+=1,Xa===null&&(Xa=[]),t=Y0(Xa,t,o),o=We,(io===null?o.memoizedState:io.next)===null&&(o=o.alternate,Fe.H=o===null||o.memoizedState===null?Il:Er),t}function kg(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Dd(t);if(t.$$typeof===ps)return Wo(t)}throw Error(se(438,String(t)))}function oy(t){var o=null,n=We.updateQueue;if(n!==null&&(o=n.memoCache),o==null){var s=We.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(o={data:s.data.map(function(l){return l.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),n===null&&(n=Lg(),We.updateQueue=n),n.memoCache=o,n=o.data[o.index],n===void 0)for(n=o.data[o.index]=Array(t),s=0;s<t;s++)n[s]=bP;return o.index++,n}function vs(t,o){return typeof o=="function"?o(t):o}function _f(t){var o=no();return iy(o,gt,t)}function iy(t,o,n){var s=t.queue;if(s===null)throw Error(se(311));s.lastRenderedReducer=n;var l=t.baseQueue,c=s.pending;if(c!==null){if(l!==null){var d=l.next;l.next=c.next,c.next=d}o.baseQueue=l=c,s.pending=null}if(c=t.baseState,l===null)t.memoizedState=c;else{o=l.next;var h=d=null,p=null,g=o,$=!1;do{var b=g.lane&-536870913;if(b!==g.lane?(Qe&b)===b:(gr&b)===b){var T=g.revertLane;if(T===0)p!==null&&(p=p.next={lane:0,revertLane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),b===oc&&($=!0);else if((gr&T)===T){g=g.next,T===oc&&($=!0);continue}else b={lane:0,revertLane:g.revertLane,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null},p===null?(h=p=b,d=c):p=p.next=b,We.lanes|=T,$r|=T;b=g.action,gl&&n(c,b),c=g.hasEagerState?g.eagerState:n(c,b)}else T={lane:b,revertLane:g.revertLane,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null},p===null?(h=p=T,d=c):p=p.next=T,We.lanes|=b,$r|=b;g=g.next}while(g!==null&&g!==o);if(p===null?d=c:p.next=h,!Ai(c,t.memoizedState)&&(So=!0,$&&(n=za,n!==null)))throw n;t.memoizedState=c,t.baseState=d,t.baseQueue=p,s.lastRenderedState=c}return l===null&&(s.lanes=0),[t.memoizedState,s.dispatch]}function fT(t){var o=no(),n=o.queue;if(n===null)throw Error(se(311));n.lastRenderedReducer=t;var s=n.dispatch,l=n.pending,c=o.memoizedState;if(l!==null){n.pending=null;var d=l=l.next;do c=t(c,d.action),d=d.next;while(d!==l);Ai(c,o.memoizedState)||(So=!0),o.memoizedState=c,o.baseQueue===null&&(o.baseState=c),n.lastRenderedState=c}return[c,s]}function eN(t,o,n){var s=We,l=no(),c=tt;if(c){if(n===void 0)throw Error(se(407));n=n()}else n=o();var d=!Ai((gt||l).memoizedState,n);if(d&&(l.memoizedState=n,So=!0),l=l.queue,ny(iN.bind(null,s,l,t),[t]),l.getSnapshot!==o||d||io!==null&&io.memoizedState.tag&1){if(s.flags|=2048,ic(9,oN.bind(null,s,l,n,o),{destroy:void 0},null),yt===null)throw Error(se(349));c||gr&60||tN(s,o,n)}return n}function tN(t,o,n){t.flags|=16384,t={getSnapshot:o,value:n},o=We.updateQueue,o===null?(o=Lg(),We.updateQueue=o,o.stores=[t]):(n=o.stores,n===null?o.stores=[t]:n.push(t))}function oN(t,o,n,s){o.value=n,o.getSnapshot=s,nN(o)&&sN(t)}function iN(t,o,n){return n(function(){nN(o)&&sN(t)})}function nN(t){var o=t.getSnapshot;t=t.value;try{var n=o();return!Ai(t,n)}catch(s){return!0}}function sN(t){var o=fr(t,2);o!==null&&ti(o,t,2)}function SE(t){var o=ai();if(typeof t=="function"){var n=t;if(t=n(),gl){or(!0);try{n()}finally{or(!1)}}}return o.memoizedState=o.baseState=t,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:t},o}function rN(t,o,n,s){return t.baseState=n,iy(t,gt,typeof s=="function"?s:vs)}function BB(t,o,n,s,l){if(Mg(t))throw Error(se(485));if(t=o.action,t!==null){var c={payload:l,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(d){c.listeners.push(d)}};Fe.T!==null?n(!0):c.isTransition=!1,s(c),n=o.pending,n===null?(c.next=o.pending=c,lN(o,c)):(c.next=n.next,o.pending=n.next=c)}}function lN(t,o){var n=o.action,s=o.payload,l=t.state;if(o.isTransition){var c=Fe.T,d={};Fe.T=d;try{var h=n(l,s),p=Fe.S;p!==null&&p(d,h),CA(t,o,h)}catch(g){IE(t,o,g)}finally{Fe.T=c}}else try{c=n(l,s),CA(t,o,c)}catch(g){IE(t,o,g)}}function CA(t,o,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(s){wA(t,o,s)},function(s){return IE(t,o,s)}):wA(t,o,n)}function wA(t,o,n){o.status="fulfilled",o.value=n,aN(o),t.state=n,o=t.pending,o!==null&&(n=o.next,n===o?t.pending=null:(n=n.next,o.next=n,lN(t,n)))}function IE(t,o,n){var s=t.pending;if(t.pending=null,s!==null){s=s.next;do o.status="rejected",o.reason=n,aN(o),o=o.next;while(o!==s)}t.action=null}function aN(t){t=t.listeners;for(var o=0;o<t.length;o++)(0,t[o])()}function cN(t,o){return o}function uN(t,o){if(tt){var n=yt.formState;if(n!==null){e:{var s=We;if(tt){if(Mo){t:{for(var l=Mo,c=Dn;l.nodeType!==8;){if(!c){l=null;break t}if(l=fn(l.nextSibling),l===null){l=null;break t}}c=l.data,l=c==="F!"||c==="F"?l:null}if(l){Mo=fn(l.nextSibling),s=l.data==="F!";break e}}pl(s)}s=!1}s&&(o=n[0])}}return n=ai(),n.memoizedState=n.baseState=o,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cN,lastRenderedState:o},n.queue=s,n=RN.bind(null,We,s),s.dispatch=n,s=SE(!1),c=ay.bind(null,We,!1,s.queue),s=ai(),l={state:o,dispatch:null,action:t,pending:null},s.queue=l,n=BB.bind(null,We,l,c,n),l.dispatch=n,s.memoizedState=t,[o,n,!1]}function dN(t){var o=no();return hN(o,gt,t)}function hN(t,o,n){o=iy(t,o,cN)[0],t=_f(vs)[0],o=typeof o=="object"&&o!==null&&typeof o.then=="function"?Dd(o):o;var s=no(),l=s.queue,c=l.dispatch;return n!==s.memoizedState&&(We.flags|=2048,ic(9,UB.bind(null,l,n),{destroy:void 0},null)),[o,c,t]}function UB(t,o){t.action=o}function pN(t){var o=no(),n=gt;if(n!==null)return hN(o,n,t);no(),o=o.memoizedState,n=no();var s=n.queue.dispatch;return n.memoizedState=t,[o,s,!1]}function ic(t,o,n,s){return t={tag:t,create:o,inst:n,deps:s,next:null},o=We.updateQueue,o===null&&(o=Lg(),We.updateQueue=o),n=o.lastEffect,n===null?o.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,o.lastEffect=t),t}function fN(){return no().memoizedState}function bf(t,o,n,s){var l=ai();We.flags|=t,l.memoizedState=ic(1|o,n,{destroy:void 0},s===void 0?null:s)}function Ng(t,o,n,s){var l=no();s=s===void 0?null:s;var c=l.memoizedState.inst;gt!==null&&s!==null&&Jv(s,gt.memoizedState.deps)?l.memoizedState=ic(o,n,c,s):(We.flags|=t,l.memoizedState=ic(1|o,n,c,s))}function AA(t,o){bf(8390656,8,t,o)}function ny(t,o){Ng(2048,8,t,o)}function gN(t,o){return Ng(4,2,t,o)}function mN(t,o){return Ng(4,4,t,o)}function $N(t,o){if(typeof o=="function"){t=t();var n=o(t);return function(){typeof n=="function"?n():o(null)}}if(o!=null)return t=t(),o.current=t,function(){o.current=null}}function _N(t,o,n){n=n!=null?n.concat([t]):null,Ng(4,4,$N.bind(null,o,t),n)}function sy(){}function bN(t,o){var n=no();o=o===void 0?null:o;var s=n.memoizedState;return o!==null&&Jv(o,s[1])?s[0]:(n.memoizedState=[t,o],t)}function TN(t,o){var n=no();o=o===void 0?null:o;var s=n.memoizedState;if(o!==null&&Jv(o,s[1]))return s[0];if(s=t(),gl){or(!0);try{t()}finally{or(!1)}}return n.memoizedState=[s,o],s}function ry(t,o,n){return n===void 0||gr&1073741824?t.memoizedState=o:(t.memoizedState=n,t=aM(),We.lanes|=t,$r|=t,n)}function EN(t,o,n,s){return Ai(n,o)?n:tc.current!==null?(t=ry(t,n,s),Ai(t,o)||(So=!0),t):gr&42?(t=aM(),We.lanes|=t,$r|=t,o):(So=!0,t.memoizedState=n)}function vN(t,o,n,s,l){var c=Ot.p;Ot.p=c!==0&&8>c?c:8;var d=Fe.T,h={};Fe.T=h,ay(t,!1,o,n);try{var p=l(),g=Fe.S;if(g!==null&&g(h,p),p!==null&&typeof p=="object"&&typeof p.then=="function"){var $=xB(p,s);Wu(t,o,$,wi(t))}else Wu(t,o,s,wi(t))}catch(b){Wu(t,o,{then:function(){},status:"rejected",reason:b},wi())}finally{Ot.p=c,Fe.T=d}}function HB(){}function OE(t,o,n,s){if(t.tag!==5)throw Error(se(476));var l=yN(t).queue;vN(t,l,o,sl,n===null?HB:function(){return SN(t),n(s)})}function yN(t){var o=t.memoizedState;if(o!==null)return o;o={memoizedState:sl,baseState:sl,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:sl},next:null};var n={};return o.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:n},next:null},t.memoizedState=o,t=t.alternate,t!==null&&(t.memoizedState=o),o}function SN(t){var o=yN(t).next.queue;Wu(t,o,{},wi())}function ly(){return Wo(gd)}function IN(){return no().memoizedState}function ON(){return no().memoizedState}function FB(t){for(var o=t.return;o!==null;){switch(o.tag){case 24:case 3:var n=wi();t=rr(n);var s=lr(o,t,n);s!==null&&(ti(s,o,n),Yu(s,o,n)),o={cache:Kv()},t.payload=o;return}o=o.return}}function GB(t,o,n){var s=wi();n={lane:s,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Mg(t)?CN(o,n):(n=Wv(t,o,n,s),n!==null&&(ti(n,t,s),wN(n,o,s)))}function RN(t,o,n){var s=wi();Wu(t,o,n,s)}function Wu(t,o,n,s){var l={lane:s,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Mg(t))CN(o,l);else{var c=t.alternate;if(t.lanes===0&&(c===null||c.lanes===0)&&(c=o.lastRenderedReducer,c!==null))try{var d=o.lastRenderedState,h=c(d,n);if(l.hasEagerState=!0,l.eagerState=h,Ai(h,d))return Ag(t,o,l,0),yt===null&&wg(),!1}catch(p){}finally{}if(n=Wv(t,o,l,s),n!==null)return ti(n,t,s),wN(n,o,s),!0}return!1}function ay(t,o,n,s){if(s={lane:2,revertLane:_y(),action:s,hasEagerState:!1,eagerState:null,next:null},Mg(t)){if(o)throw Error(se(479))}else o=Wv(t,n,s,2),o!==null&&ti(o,t,2)}function Mg(t){var o=t.alternate;return t===We||o!==null&&o===We}function CN(t,o){Wa=Ff=!0;var n=t.pending;n===null?o.next=o:(o.next=n.next,n.next=o),t.pending=o}function wN(t,o,n){if(n&4194176){var s=o.lanes;s&=t.pendingLanes,n|=s,o.lanes=n,$0(t,n)}}var Gn={readContext:Wo,use:kg,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useLayoutEffect:Jt,useInsertionEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useSyncExternalStore:Jt,useId:Jt};Gn.useCacheRefresh=Jt;Gn.useMemoCache=Jt;Gn.useHostTransitionStatus=Jt;Gn.useFormState=Jt;Gn.useActionState=Jt;Gn.useOptimistic=Jt;var Il={readContext:Wo,use:kg,useCallback:function(t,o){return ai().memoizedState=[t,o===void 0?null:o],t},useContext:Wo,useEffect:AA,useImperativeHandle:function(t,o,n){n=n!=null?n.concat([t]):null,bf(4194308,4,$N.bind(null,o,t),n)},useLayoutEffect:function(t,o){return bf(4194308,4,t,o)},useInsertionEffect:function(t,o){bf(4,2,t,o)},useMemo:function(t,o){var n=ai();o=o===void 0?null:o;var s=t();if(gl){or(!0);try{t()}finally{or(!1)}}return n.memoizedState=[s,o],s},useReducer:function(t,o,n){var s=ai();if(n!==void 0){var l=n(o);if(gl){or(!0);try{n(o)}finally{or(!1)}}}else l=o;return s.memoizedState=s.baseState=l,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:l},s.queue=t,t=t.dispatch=GB.bind(null,We,t),[s.memoizedState,t]},useRef:function(t){var o=ai();return t={current:t},o.memoizedState=t},useState:function(t){t=SE(t);var o=t.queue,n=RN.bind(null,We,o);return o.dispatch=n,[t.memoizedState,n]},useDebugValue:sy,useDeferredValue:function(t,o){var n=ai();return ry(n,t,o)},useTransition:function(){var t=SE(!1);return t=vN.bind(null,We,t.queue,!0,!1),ai().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,o,n){var s=We,l=ai();if(tt){if(n===void 0)throw Error(se(407));n=n()}else{if(n=o(),yt===null)throw Error(se(349));Qe&60||tN(s,o,n)}l.memoizedState=n;var c={value:n,getSnapshot:o};return l.queue=c,AA(iN.bind(null,s,c,t),[t]),s.flags|=2048,ic(9,oN.bind(null,s,c,n,o),{destroy:void 0},null),n},useId:function(){var t=ai(),o=yt.identifierPrefix;if(tt){var n=gs,s=fs;n=(s&~(1<<32-Ci(s)-1)).toString(32)+n,o=":"+o+"R"+n,n=Gf++,0<n&&(o+="H"+n.toString(32)),o+=":"}else n=DB++,o=":"+o+"r"+n.toString(32)+":";return t.memoizedState=o},useCacheRefresh:function(){return ai().memoizedState=FB.bind(null,We)}};Il.useMemoCache=oy;Il.useHostTransitionStatus=ly;Il.useFormState=uN;Il.useActionState=uN;Il.useOptimistic=function(t){var o=ai();o.memoizedState=o.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=n,o=ay.bind(null,We,!0,n),n.dispatch=o,[t,o]};var Er={readContext:Wo,use:kg,useCallback:bN,useContext:Wo,useEffect:ny,useImperativeHandle:_N,useInsertionEffect:gN,useLayoutEffect:mN,useMemo:TN,useReducer:_f,useRef:fN,useState:function(){return _f(vs)},useDebugValue:sy,useDeferredValue:function(t,o){var n=no();return EN(n,gt.memoizedState,t,o)},useTransition:function(){var t=_f(vs)[0],o=no().memoizedState;return[typeof t=="boolean"?t:Dd(t),o]},useSyncExternalStore:eN,useId:IN};Er.useCacheRefresh=ON;Er.useMemoCache=oy;Er.useHostTransitionStatus=ly;Er.useFormState=dN;Er.useActionState=dN;Er.useOptimistic=function(t,o){var n=no();return rN(n,gt,t,o)};var Ol={readContext:Wo,use:kg,useCallback:bN,useContext:Wo,useEffect:ny,useImperativeHandle:_N,useInsertionEffect:gN,useLayoutEffect:mN,useMemo:TN,useReducer:fT,useRef:fN,useState:function(){return fT(vs)},useDebugValue:sy,useDeferredValue:function(t,o){var n=no();return gt===null?ry(n,t,o):EN(n,gt.memoizedState,t,o)},useTransition:function(){var t=fT(vs)[0],o=no().memoizedState;return[typeof t=="boolean"?t:Dd(t),o]},useSyncExternalStore:eN,useId:IN};Ol.useCacheRefresh=ON;Ol.useMemoCache=oy;Ol.useHostTransitionStatus=ly;Ol.useFormState=pN;Ol.useActionState=pN;Ol.useOptimistic=function(t,o){var n=no();return gt!==null?rN(n,gt,t,o):(n.baseState=t,[t,n.queue.dispatch])};function gT(t,o,n,s){o=t.memoizedState,n=n(s,o),n=n==null?o:Rt({},o,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var RE={isMounted:function(t){return(t=t._reactInternals)?pc(t)===t:!1},enqueueSetState:function(t,o,n){t=t._reactInternals;var s=wi(),l=rr(s);l.payload=o,n!=null&&(l.callback=n),o=lr(t,l,s),o!==null&&(ti(o,t,s),Yu(o,t,s))},enqueueReplaceState:function(t,o,n){t=t._reactInternals;var s=wi(),l=rr(s);l.tag=1,l.payload=o,n!=null&&(l.callback=n),o=lr(t,l,s),o!==null&&(ti(o,t,s),Yu(o,t,s))},enqueueForceUpdate:function(t,o){t=t._reactInternals;var n=wi(),s=rr(n);s.tag=2,o!=null&&(s.callback=o),o=lr(t,s,n),o!==null&&(ti(o,t,n),Yu(o,t,n))}};function LA(t,o,n,s,l,c,d){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,c,d):o.prototype&&o.prototype.isPureReactComponent?!ad(n,s)||!ad(l,c):!0}function kA(t,o,n,s){t=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(n,s),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(n,s),o.state!==t&&RE.enqueueReplaceState(o,o.state,null)}function ml(t,o){var n=o;if("ref"in o){n={};for(var s in o)s!=="ref"&&(n[s]=o[s])}if(t=t.defaultProps){n===o&&(n=Rt({},n));for(var l in t)n[l]===void 0&&(n[l]=t[l])}return n}var Vf=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function AN(t){Vf(t)}function LN(t){console.error(t)}function kN(t){Vf(t)}function zf(t,o){try{var n=t.onUncaughtError;n(o.value,{componentStack:o.stack})}catch(s){setTimeout(function(){throw s})}}function NA(t,o,n){try{var s=t.onCaughtError;s(n.value,{componentStack:n.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function CE(t,o,n){return n=rr(n),n.tag=3,n.payload={element:null},n.callback=function(){zf(t,o)},n}function NN(t){return t=rr(t),t.tag=3,t}function MN(t,o,n,s){var l=n.type.getDerivedStateFromError;if(typeof l=="function"){var c=s.value;t.payload=function(){return l(c)},t.callback=function(){NA(o,n,s)}}var d=n.stateNode;d!==null&&typeof d.componentDidCatch=="function"&&(t.callback=function(){NA(o,n,s),typeof l!="function"&&(cr===null?cr=new Set([this]):cr.add(this));var h=s.stack;this.componentDidCatch(s.value,{componentStack:h!==null?h:""})})}function VB(t,o,n,s,l){if(n.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(o=n.alternate,o!==null&&Pd(o,n,l,!0),n=Qi.current,n!==null){switch(n.tag){case 13:return Hn===null?VE():n.alternate===null&&Wt===0&&(Wt=3),n.flags&=-257,n.flags|=65536,n.lanes=l,s===EE?n.flags|=16384:(o=n.updateQueue,o===null?n.updateQueue=new Set([s]):o.add(s),CT(t,s,l)),!1;case 22:return n.flags|=65536,s===EE?n.flags|=16384:(o=n.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([s])},n.updateQueue=o):(n=o.retryQueue,n===null?o.retryQueue=new Set([s]):n.add(s)),CT(t,s,l)),!1}throw Error(se(435,n.tag))}return CT(t,s,l),VE(),!1}if(tt)return o=Qi.current,o!==null?(!(o.flags&65536)&&(o.flags|=256),o.flags|=65536,o.lanes=l,s!==TE&&(t=Error(se(422),{cause:s}),cd(ji(t,n)))):(s!==TE&&(o=Error(se(423),{cause:s}),cd(ji(o,n))),t=t.current.alternate,t.flags|=65536,l&=-l,t.lanes|=l,s=ji(s,n),l=CE(t.stateNode,s,l),ET(t,l),Wt!==4&&(Wt=2)),!1;var c=Error(se(520),{cause:s});if(c=ji(c,n),Ju===null?Ju=[c]:Ju.push(c),Wt!==4&&(Wt=2),o===null)return!0;s=ji(s,n),n=o;do{switch(n.tag){case 3:return n.flags|=65536,t=l&-l,n.lanes|=t,t=CE(n.stateNode,s,t),ET(n,t),!1;case 1:if(o=n.type,c=n.stateNode,(n.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(cr===null||!cr.has(c))))return n.flags|=65536,l&=-l,n.lanes|=l,l=NN(l),MN(l,t,n,s),ET(n,l),!1}n=n.return}while(n!==null);return!1}var xN=Error(se(461)),So=!1;function No(t,o,n,s){o.child=t===null?K0(o,null,n,s):fl(o,t.child,n,s)}function MA(t,o,n,s,l){n=n.render;var c=o.ref;if("ref"in s){var d={};for(var h in s)h!=="ref"&&(d[h]=s[h])}else d=s;return $l(o),s=Zv(t,o,n,d,c,l),h=Qv(),t!==null&&!So?(ey(t,o,l),ys(t,o,l)):(tt&&h&&Xv(o),o.flags|=1,No(t,o,s,l),o.child)}function xA(t,o,n,s,l){if(t===null){var c=n.type;return typeof c=="function"&&!py(c)&&c.defaultProps===void 0&&n.compare===null?(o.tag=15,o.type=c,DN(t,o,c,s,l)):(t=Ef(n.type,null,s,o,o.mode,l),t.ref=o.ref,t.return=o,o.child=t)}if(c=t.child,!cy(t,l)){var d=c.memoizedProps;if(n=n.compare,n=n!==null?n:ad,n(d,s)&&t.ref===o.ref)return ys(t,o,l)}return o.flags|=1,t=ar(c,s),t.ref=o.ref,t.return=o,o.child=t}function DN(t,o,n,s,l){if(t!==null){var c=t.memoizedProps;if(ad(c,s)&&t.ref===o.ref)if(So=!1,o.pendingProps=s=c,cy(t,l))t.flags&131072&&(So=!0);else return o.lanes=t.lanes,ys(t,o,l)}return wE(t,o,n,s,l)}function PN(t,o,n){var s=o.pendingProps,l=s.children,c=(o.stateNode._pendingVisibility&2)!==0,d=t!==null?t.memoizedState:null;if(Xu(t,o),s.mode==="hidden"||c){if(o.flags&128){if(s=d!==null?d.baseLanes|n:n,t!==null){for(l=o.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;o.childLanes=c&~s}else o.childLanes=0,o.child=null;return DA(t,o,s,n)}if(n&536870912)o.memoizedState={baseLanes:0,cachePool:null},t!==null&&$f(o,d!==null?d.cachePool:null),d!==null?IA(o,d):vE(),q0(o);else return o.lanes=o.childLanes=536870912,DA(t,o,d!==null?d.baseLanes|n:n,n)}else d!==null?($f(o,d.cachePool),IA(o,d),Qs(),o.memoizedState=null):(t!==null&&$f(o,null),vE(),Qs());return No(t,o,l,n),o.child}function DA(t,o,n,s){var l=qv();return l=l===null?null:{parent:uo._currentValue,pool:l},o.memoizedState={baseLanes:n,cachePool:l},t!==null&&$f(o,null),vE(),q0(o),t!==null&&Pd(t,o,s,!0),null}function Xu(t,o){var n=o.ref;if(n===null)t!==null&&t.ref!==null&&(o.flags|=2097664);else{if(typeof n!="function"&&typeof n!="object")throw Error(se(284));(t===null||t.ref!==n)&&(o.flags|=2097664)}}function wE(t,o,n,s,l){return $l(o),n=Zv(t,o,n,s,void 0,l),s=Qv(),t!==null&&!So?(ey(t,o,l),ys(t,o,l)):(tt&&s&&Xv(o),o.flags|=1,No(t,o,n,l),o.child)}function PA(t,o,n,s,l,c){return $l(o),o.updateQueue=null,n=Q0(o,s,n,l),Z0(t),s=Qv(),t!==null&&!So?(ey(t,o,c),ys(t,o,c)):(tt&&s&&Xv(o),o.flags|=1,No(t,o,n,c),o.child)}function BA(t,o,n,s,l){if($l(o),o.stateNode===null){var c=Ma,d=n.contextType;typeof d=="object"&&d!==null&&(c=Wo(d)),c=new n(s,c),o.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=RE,o.stateNode=c,c._reactInternals=o,c=o.stateNode,c.props=s,c.state=o.memoizedState,c.refs={},uy(o),d=n.contextType,c.context=typeof d=="object"&&d!==null?Wo(d):Ma,c.state=o.memoizedState,d=n.getDerivedStateFromProps,typeof d=="function"&&(gT(o,n,d,s),c.state=o.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(d=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),d!==c.state&&RE.enqueueReplaceState(c,c.state,null),Ku(o,s,c,l),ju(),c.state=o.memoizedState),typeof c.componentDidMount=="function"&&(o.flags|=4194308),s=!0}else if(t===null){c=o.stateNode;var h=o.memoizedProps,p=ml(n,h);c.props=p;var g=c.context,$=n.contextType;d=Ma,typeof $=="object"&&$!==null&&(d=Wo($));var b=n.getDerivedStateFromProps;$=typeof b=="function"||typeof c.getSnapshotBeforeUpdate=="function",h=o.pendingProps!==h,$||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(h||g!==d)&&kA(o,c,s,d),Js=!1;var T=o.memoizedState;c.state=T,Ku(o,s,c,l),ju(),g=o.memoizedState,h||T!==g||Js?(typeof b=="function"&&(gT(o,n,b,s),g=o.memoizedState),(p=Js||LA(o,n,p,s,T,g,d))?($||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(o.flags|=4194308)):(typeof c.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=s,o.memoizedState=g),c.props=s,c.state=g,c.context=d,s=p):(typeof c.componentDidMount=="function"&&(o.flags|=4194308),s=!1)}else{c=o.stateNode,xE(t,o),d=o.memoizedProps,$=ml(n,d),c.props=$,b=o.pendingProps,T=c.context,g=n.contextType,p=Ma,typeof g=="object"&&g!==null&&(p=Wo(g)),h=n.getDerivedStateFromProps,(g=typeof h=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(d!==b||T!==p)&&kA(o,c,s,p),Js=!1,T=o.memoizedState,c.state=T,Ku(o,s,c,l),ju();var v=o.memoizedState;d!==b||T!==v||Js||t!==null&&t.dependencies!==null&&Wf(t.dependencies)?(typeof h=="function"&&(gT(o,n,h,s),v=o.memoizedState),($=Js||LA(o,n,$,s,T,v,p)||t!==null&&t.dependencies!==null&&Wf(t.dependencies))?(g||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(s,v,p),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(s,v,p)),typeof c.componentDidUpdate=="function"&&(o.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof c.componentDidUpdate!="function"||d===t.memoizedProps&&T===t.memoizedState||(o.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||d===t.memoizedProps&&T===t.memoizedState||(o.flags|=1024),o.memoizedProps=s,o.memoizedState=v),c.props=s,c.state=v,c.context=p,s=$):(typeof c.componentDidUpdate!="function"||d===t.memoizedProps&&T===t.memoizedState||(o.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||d===t.memoizedProps&&T===t.memoizedState||(o.flags|=1024),s=!1)}return c=s,Xu(t,o),s=(o.flags&128)!==0,c||s?(c=o.stateNode,n=s&&typeof n.getDerivedStateFromError!="function"?null:c.render(),o.flags|=1,t!==null&&s?(o.child=fl(o,t.child,null,l),o.child=fl(o,null,n,l)):No(t,o,n,l),o.memoizedState=c.state,t=o.child):t=ys(t,o,l),t}function UA(t,o,n,s){return Md(),o.flags|=256,No(t,o,n,s),o.child}var mT={dehydrated:null,treeContext:null,retryLane:0};function $T(t){return{baseLanes:t,cachePool:J0()}}function _T(t,o,n){return t=t!==null?t.childLanes&~n:0,o&&(t|=qi),t}function BN(t,o,n){var s=o.pendingProps,l=!1,c=(o.flags&128)!==0,d;if((d=c)||(d=t!==null&&t.memoizedState===null?!1:(ho.current&2)!==0),d&&(l=!0,o.flags&=-129),d=(o.flags&32)!==0,o.flags&=-33,t===null){if(tt){if(l?Zs(o):Qs(),tt){var h=Mo,p;if(p=h){e:{for(p=h,h=Dn;p.nodeType!==8;){if(!h){h=null;break e}if(p=fn(p.nextSibling),p===null){h=null;break e}}h=p}h!==null?(o.memoizedState={dehydrated:h,treeContext:rl!==null?{id:fs,overflow:gs}:null,retryLane:536870912},p=Ki(18,null,null,0),p.stateNode=h,p.return=o,o.child=p,Qo=o,Mo=null,p=!0):p=!1}p||pl(o)}if(h=o.memoizedState,h!==null&&(h=h.dehydrated,h!==null))return h.data==="$!"?o.lanes=16:o.lanes=536870912,null;ms(o)}return h=s.children,s=s.fallback,l?(Qs(),l=o.mode,h=LE({mode:"hidden",children:h},l),s=al(s,l,n,null),h.return=o,s.return=o,h.sibling=s,o.child=h,l=o.child,l.memoizedState=$T(n),l.childLanes=_T(t,d,n),o.memoizedState=mT,s):(Zs(o),AE(o,h))}if(p=t.memoizedState,p!==null&&(h=p.dehydrated,h!==null)){if(c)o.flags&256?(Zs(o),o.flags&=-257,o=bT(t,o,n)):o.memoizedState!==null?(Qs(),o.child=t.child,o.flags|=128,o=null):(Qs(),l=s.fallback,h=o.mode,s=LE({mode:"visible",children:s.children},h),l=al(l,h,n,null),l.flags|=2,s.return=o,l.return=o,s.sibling=l,o.child=s,fl(o,t.child,null,n),s=o.child,s.memoizedState=$T(n),s.childLanes=_T(t,d,n),o.memoizedState=mT,o=l);else if(Zs(o),h.data==="$!"){if(d=h.nextSibling&&h.nextSibling.dataset,d)var g=d.dgst;d=g,s=Error(se(419)),s.stack="",s.digest=d,cd({value:s,source:null,stack:null}),o=bT(t,o,n)}else if(So||Pd(t,o,n,!1),d=(n&t.childLanes)!==0,So||d){if(d=yt,d!==null){if(s=n&-n,s&42)s=1;else switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=64;break;case 268435456:s=134217728;break;default:s=0}if(s=s&(d.suspendedLanes|n)?0:s,s!==0&&s!==p.retryLane)throw p.retryLane=s,fr(t,s),ti(d,t,s),xN}h.data==="$?"||VE(),o=bT(t,o,n)}else h.data==="$?"?(o.flags|=128,o.child=t.child,o=nU.bind(null,t),h._reactRetry=o,o=null):(t=p.treeContext,Mo=fn(h.nextSibling),Qo=o,tt=!0,dn=null,Dn=!1,t!==null&&(Wi[Xi++]=fs,Wi[Xi++]=gs,Wi[Xi++]=rl,fs=t.id,gs=t.overflow,rl=o),o=AE(o,s.children),o.flags|=4096);return o}return l?(Qs(),l=s.fallback,h=o.mode,p=t.child,g=p.sibling,s=ar(p,{mode:"hidden",children:s.children}),s.subtreeFlags=p.subtreeFlags&31457280,g!==null?l=ar(g,l):(l=al(l,h,n,null),l.flags|=2),l.return=o,s.return=o,s.sibling=l,o.child=s,s=l,l=o.child,h=t.child.memoizedState,h===null?h=$T(n):(p=h.cachePool,p!==null?(g=uo._currentValue,p=p.parent!==g?{parent:g,pool:g}:p):p=J0(),h={baseLanes:h.baseLanes|n,cachePool:p}),l.memoizedState=h,l.childLanes=_T(t,d,n),o.memoizedState=mT,s):(Zs(o),n=t.child,t=n.sibling,n=ar(n,{mode:"visible",children:s.children}),n.return=o,n.sibling=null,t!==null&&(d=o.deletions,d===null?(o.deletions=[t],o.flags|=16):d.push(t)),o.child=n,o.memoizedState=null,n)}function AE(t,o){return o=LE({mode:"visible",children:o},t.mode),o.return=t,t.child=o}function LE(t,o){return rM(t,o,0,null)}function bT(t,o,n){return fl(o,t.child,null,n),t=AE(o,o.pendingProps.children),t.flags|=2,o.memoizedState=null,t}function HA(t,o,n){t.lanes|=o;var s=t.alternate;s!==null&&(s.lanes|=o),NE(t.return,o,n)}function TT(t,o,n,s,l){var c=t.memoizedState;c===null?t.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:l}:(c.isBackwards=o,c.rendering=null,c.renderingStartTime=0,c.last=s,c.tail=n,c.tailMode=l)}function UN(t,o,n){var s=o.pendingProps,l=s.revealOrder,c=s.tail;if(No(t,o,s.children,n),s=ho.current,s&2)s=s&1|2,o.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=o.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&HA(t,n,o);else if(t.tag===19)HA(t,n,o);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===o)break e;for(;t.sibling===null;){if(t.return===null||t.return===o)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}switch(At(ho,s),l){case"forwards":for(n=o.child,l=null;n!==null;)t=n.alternate,t!==null&&Hf(t)===null&&(l=n),n=n.sibling;n=l,n===null?(l=o.child,o.child=null):(l=n.sibling,n.sibling=null),TT(o,!1,l,n,c);break;case"backwards":for(n=null,l=o.child,o.child=null;l!==null;){if(t=l.alternate,t!==null&&Hf(t)===null){o.child=l;break}t=l.sibling,l.sibling=n,n=l,l=t}TT(o,!0,n,null,c);break;case"together":TT(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function ys(t,o,n){if(t!==null&&(o.dependencies=t.dependencies),$r|=o.lanes,!(n&o.childLanes))if(t!==null){if(Pd(t,o,n,!1),(n&o.childLanes)===0)return null}else return null;if(t!==null&&o.child!==t.child)throw Error(se(153));if(o.child!==null){for(t=o.child,n=ar(t,t.pendingProps),o.child=n,n.return=o;t.sibling!==null;)t=t.sibling,n=n.sibling=ar(t,t.pendingProps),n.return=o;n.sibling=null}return o.child}function cy(t,o){return t.lanes&o?!0:(t=t.dependencies,!!(t!==null&&Wf(t)))}function zB(t,o,n){switch(o.tag){case 3:Lf(o,o.stateNode.containerInfo),er(o,uo,t.memoizedState.cache),Md();break;case 27:case 5:dE(o);break;case 4:Lf(o,o.stateNode.containerInfo);break;case 10:er(o,o.type,o.memoizedProps.value);break;case 13:var s=o.memoizedState;if(s!==null)return s.dehydrated!==null?(Zs(o),o.flags|=128,null):n&o.child.childLanes?BN(t,o,n):(Zs(o),t=ys(t,o,n),t!==null?t.sibling:null);Zs(o);break;case 19:var l=(t.flags&128)!==0;if(s=(n&o.childLanes)!==0,s||(Pd(t,o,n,!1),s=(n&o.childLanes)!==0),l){if(s)return UN(t,o,n);o.flags|=128}if(l=o.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),At(ho,ho.current),s)break;return null;case 22:case 23:return o.lanes=0,PN(t,o,n);case 24:er(o,uo,t.memoizedState.cache)}return ys(t,o,n)}function HN(t,o,n){if(t!==null)if(t.memoizedProps!==o.pendingProps)So=!0;else{if(!cy(t,n)&&!(o.flags&128))return So=!1,zB(t,o,n);So=!!(t.flags&131072)}else So=!1,tt&&o.flags&1048576&&W0(o,Bf,o.index);switch(o.lanes=0,o.tag){case 16:e:{t=o.pendingProps;var s=o.elementType,l=s._init;if(s=l(s._payload),o.type=s,typeof s=="function")py(s)?(t=ml(s,t),o.tag=1,o=BA(null,o,s,t,n)):(o.tag=0,o=wE(null,o,s,t,n));else{if(s!=null){if(l=s.$$typeof,l===Mv){o.tag=11,o=MA(null,o,s,t,n);break e}else if(l===xv){o.tag=14,o=xA(null,o,s,t,n);break e}}throw o=cE(s)||s,Error(se(306,o,""))}}return o;case 0:return wE(t,o,o.type,o.pendingProps,n);case 1:return s=o.type,l=ml(s,o.pendingProps),BA(t,o,s,l,n);case 3:e:{if(Lf(o,o.stateNode.containerInfo),t===null)throw Error(se(387));var c=o.pendingProps;l=o.memoizedState,s=l.element,xE(t,o),Ku(o,c,null,n);var d=o.memoizedState;if(c=d.cache,er(o,uo,c),c!==l.cache&&ME(o,[uo],n,!0),ju(),c=d.element,l.isDehydrated)if(l={element:c,isDehydrated:!1,cache:d.cache},o.updateQueue.baseState=l,o.memoizedState=l,o.flags&256){o=UA(t,o,c,n);break e}else if(c!==s){s=ji(Error(se(424)),o),cd(s),o=UA(t,o,c,n);break e}else for(Mo=fn(o.stateNode.containerInfo.firstChild),Qo=o,tt=!0,dn=null,Dn=!0,n=K0(o,null,c,n),o.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Md(),c===s){o=ys(t,o,n);break e}No(t,o,c,n)}o=o.child}return o;case 26:return Xu(t,o),t===null?(n=nL(o.type,null,o.pendingProps,null))?o.memoizedState=n:tt||(n=o.type,t=o.pendingProps,s=Zf(sr.current).createElement(n),s[zo]=o,s[di]=t,xo(s,n,t),yo(s),o.stateNode=s):o.memoizedState=nL(o.type,t.memoizedProps,o.pendingProps,t.memoizedState),null;case 27:return dE(o),t===null&&tt&&(s=o.stateNode=SM(o.type,o.pendingProps,sr.current),Qo=o,Dn=!0,Mo=fn(s.firstChild)),s=o.pendingProps.children,t!==null||tt?No(t,o,s,n):o.child=fl(o,null,s,n),Xu(t,o),o.child;case 5:return t===null&&tt&&((l=s=Mo)&&(s=TU(s,o.type,o.pendingProps,Dn),s!==null?(o.stateNode=s,Qo=o,Mo=fn(s.firstChild),Dn=!1,l=!0):l=!1),l||pl(o)),dE(o),l=o.type,c=o.pendingProps,d=t!==null?t.memoizedProps:null,s=c.children,jE(l,c)?s=null:d!==null&&jE(l,d)&&(o.flags|=32),o.memoizedState!==null&&(l=Zv(t,o,PB,null,null,n),gd._currentValue=l),Xu(t,o),No(t,o,s,n),o.child;case 6:return t===null&&tt&&((t=n=Mo)&&(n=EU(n,o.pendingProps,Dn),n!==null?(o.stateNode=n,Qo=o,Mo=null,t=!0):t=!1),t||pl(o)),null;case 13:return BN(t,o,n);case 4:return Lf(o,o.stateNode.containerInfo),s=o.pendingProps,t===null?o.child=fl(o,null,s,n):No(t,o,s,n),o.child;case 11:return MA(t,o,o.type,o.pendingProps,n);case 7:return No(t,o,o.pendingProps,n),o.child;case 8:return No(t,o,o.pendingProps.children,n),o.child;case 12:return No(t,o,o.pendingProps.children,n),o.child;case 10:return s=o.pendingProps,er(o,o.type,s.value),No(t,o,s.children,n),o.child;case 9:return l=o.type._context,s=o.pendingProps.children,$l(o),l=Wo(l),s=s(l),o.flags|=1,No(t,o,s,n),o.child;case 14:return xA(t,o,o.type,o.pendingProps,n);case 15:return DN(t,o,o.type,o.pendingProps,n);case 19:return UN(t,o,n);case 22:return PN(t,o,n);case 24:return $l(o),s=Wo(uo),t===null?(l=qv(),l===null&&(l=yt,c=Kv(),l.pooledCache=c,c.refCount++,c!==null&&(l.pooledCacheLanes|=n),l=c),o.memoizedState={parent:s,cache:l},uy(o),er(o,uo,l)):(t.lanes&n&&(xE(t,o),Ku(o,null,null,n),ju()),l=t.memoizedState,c=o.memoizedState,l.parent!==s?(l={parent:s,cache:s},o.memoizedState=l,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=l),er(o,uo,s)):(s=c.cache,er(o,uo,s),s!==l.cache&&ME(o,[uo],n,!0))),No(t,o,o.pendingProps.children,n),o.child;case 29:throw o.pendingProps}throw Error(se(156,o.tag))}var kE=Vn(null),Rl=null,$s=null;function er(t,o,n){At(kE,o._currentValue),o._currentValue=n}function bs(t){t._currentValue=kE.current,Io(kE)}function NE(t,o,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&o)!==o?(t.childLanes|=o,s!==null&&(s.childLanes|=o)):s!==null&&(s.childLanes&o)!==o&&(s.childLanes|=o),t===n)break;t=t.return}}function ME(t,o,n,s){var l=t.child;for(l!==null&&(l.return=t);l!==null;){var c=l.dependencies;if(c!==null){var d=l.child;c=c.firstContext;e:for(;c!==null;){var h=c;c=l;for(var p=0;p<o.length;p++)if(h.context===o[p]){c.lanes|=n,h=c.alternate,h!==null&&(h.lanes|=n),NE(c.return,n,t),s||(d=null);break e}c=h.next}}else if(l.tag===18){if(d=l.return,d===null)throw Error(se(341));d.lanes|=n,c=d.alternate,c!==null&&(c.lanes|=n),NE(d,n,t),d=null}else d=l.child;if(d!==null)d.return=l;else for(d=l;d!==null;){if(d===t){d=null;break}if(l=d.sibling,l!==null){l.return=d.return,d=l;break}d=d.return}l=d}}function Pd(t,o,n,s){t=null;for(var l=o,c=!1;l!==null;){if(!c){if(l.flags&524288)c=!0;else if(l.flags&262144)break}if(l.tag===10){var d=l.alternate;if(d===null)throw Error(se(387));if(d=d.memoizedProps,d!==null){var h=l.type;Ai(l.pendingProps.value,d.value)||(t!==null?t.push(h):t=[h])}}else if(l===Af.current){if(d=l.alternate,d===null)throw Error(se(387));d.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(t!==null?t.push(gd):t=[gd])}l=l.return}t!==null&&ME(o,t,n,s),o.flags|=262144}function Wf(t){for(t=t.firstContext;t!==null;){if(!Ai(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function $l(t){Rl=t,$s=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Wo(t){return FN(Rl,t)}function Xp(t,o){return Rl===null&&$l(t),FN(t,o)}function FN(t,o){var n=o._currentValue;if(o={context:o,memoizedValue:n,next:null},$s===null){if(t===null)throw Error(se(308));$s=o,t.dependencies={lanes:0,firstContext:o},t.flags|=524288}else $s=$s.next=o;return n}var Js=!1;function uy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xE(t,o){t=t.updateQueue,o.updateQueue===t&&(o.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function rr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function lr(t,o,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,Pt&2){var l=s.pending;return l===null?o.next=o:(o.next=l.next,l.next=o),s.pending=o,o=Df(t),z0(t,null,n),o}return Ag(t,s,o,n),Df(t)}function Yu(t,o,n){if(o=o.updateQueue,o!==null&&(o=o.shared,(n&4194176)!==0)){var s=o.lanes;s&=t.pendingLanes,n|=s,o.lanes=n,$0(t,n)}}function ET(t,o){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var l=null,c=null;if(n=n.firstBaseUpdate,n!==null){do{var d={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};c===null?l=c=d:c=c.next=d,n=n.next}while(n!==null);c===null?l=c=o:c=c.next=o}else l=c=o;n={baseState:s.baseState,firstBaseUpdate:l,lastBaseUpdate:c,shared:s.shared,callbacks:s.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=o:t.next=o,n.lastBaseUpdate=o}var DE=!1;function ju(){if(DE){var t=za;if(t!==null)throw t}}function Ku(t,o,n,s){DE=!1;var l=t.updateQueue;Js=!1;var c=l.firstBaseUpdate,d=l.lastBaseUpdate,h=l.shared.pending;if(h!==null){l.shared.pending=null;var p=h,g=p.next;p.next=null,d===null?c=g:d.next=g,d=p;var $=t.alternate;$!==null&&($=$.updateQueue,h=$.lastBaseUpdate,h!==d&&(h===null?$.firstBaseUpdate=g:h.next=g,$.lastBaseUpdate=p))}if(c!==null){var b=l.baseState;d=0,$=g=p=null,h=c;do{var T=h.lane&-536870913,v=T!==h.lane;if(v?(Qe&T)===T:(s&T)===T){T!==0&&T===oc&&(DE=!0),$!==null&&($=$.next={lane:0,tag:h.tag,payload:h.payload,callback:null,next:null});e:{var I=t,k=h;T=o;var G=n;switch(k.tag){case 1:if(I=k.payload,typeof I=="function"){b=I.call(G,b,T);break e}b=I;break e;case 3:I.flags=I.flags&-65537|128;case 0:if(I=k.payload,T=typeof I=="function"?I.call(G,b,T):I,T==null)break e;b=Rt({},b,T);break e;case 2:Js=!0}}T=h.callback,T!==null&&(t.flags|=64,v&&(t.flags|=8192),v=l.callbacks,v===null?l.callbacks=[T]:v.push(T))}else v={lane:T,tag:h.tag,payload:h.payload,callback:h.callback,next:null},$===null?(g=$=v,p=b):$=$.next=v,d|=T;if(h=h.next,h===null){if(h=l.shared.pending,h===null)break;v=h,h=v.next,v.next=null,l.lastBaseUpdate=v,l.shared.pending=null}}while(!0);$===null&&(p=b),l.baseState=p,l.firstBaseUpdate=g,l.lastBaseUpdate=$,c===null&&(l.shared.lanes=0),$r|=d,t.lanes=d,t.memoizedState=b}}function GN(t,o){if(typeof t!="function")throw Error(se(191,t));t.call(o)}function VN(t,o){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)GN(n[t],o)}function Bd(t,o){try{var n=o.updateQueue,s=n!==null?n.lastEffect:null;if(s!==null){var l=s.next;n=l;do{if((n.tag&t)===t){s=void 0;var c=n.create,d=n.inst;s=c(),d.destroy=s}n=n.next}while(n!==l)}}catch(h){_t(o,o.return,h)}}function mr(t,o,n){try{var s=o.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var c=l.next;s=c;do{if((s.tag&t)===t){var d=s.inst,h=d.destroy;if(h!==void 0){d.destroy=void 0,l=o;var p=n;try{h()}catch(g){_t(l,p,g)}}}s=s.next}while(s!==c)}}catch(g){_t(o,o.return,g)}}function zN(t){var o=t.updateQueue;if(o!==null){var n=t.stateNode;try{VN(o,n)}catch(s){_t(t,t.return,s)}}}function WN(t,o,n){n.props=ml(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(s){_t(t,o,s)}}function il(t,o){try{var n=t.ref;if(n!==null){var s=t.stateNode;switch(t.tag){case 26:case 27:case 5:var l=s;break;default:l=s}typeof n=="function"?t.refCleanup=n(l):n.current=l}}catch(c){_t(t,o,c)}}function Oi(t,o){var n=t.ref,s=t.refCleanup;if(n!==null)if(typeof s=="function")try{s()}catch(l){_t(t,o,l)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(l){_t(t,o,l)}else n.current=null}function XN(t){var o=t.type,n=t.memoizedProps,s=t.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":n.autoFocus&&s.focus();break e;case"img":n.src?s.src=n.src:n.srcSet&&(s.srcset=n.srcSet)}}catch(l){_t(t,t.return,l)}}function FA(t,o,n){try{var s=t.stateNode;gU(s,t.type,n,o),s[di]=o}catch(l){_t(t,t.return,l)}}function YN(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function vT(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||YN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function PE(t,o,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,o?n.nodeType===8?n.parentNode.insertBefore(t,o):n.insertBefore(t,o):(n.nodeType===8?(o=n.parentNode,o.insertBefore(t,n)):(o=n,o.appendChild(t)),n=n._reactRootContainer,n!=null||o.onclick!==null||(o.onclick=Pg));else if(s!==4&&s!==27&&(t=t.child,t!==null))for(PE(t,o,n),t=t.sibling;t!==null;)PE(t,o,n),t=t.sibling}function Xf(t,o,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,o?n.insertBefore(t,o):n.appendChild(t);else if(s!==4&&s!==27&&(t=t.child,t!==null))for(Xf(t,o,n),t=t.sibling;t!==null;)Xf(t,o,n),t=t.sibling}var cs=!1,zt=!1,yT=!1,GA=typeof WeakSet=="function"?WeakSet:Set,vo=null,VA=!1;function WB(t,o){if(t=t.containerInfo,XE=og,t=P0(t),Vv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var l=s.anchorOffset,c=s.focusNode;s=s.focusOffset;try{n.nodeType,c.nodeType}catch(k){n=null;break e}var d=0,h=-1,p=-1,g=0,$=0,b=t,T=null;t:for(;;){for(var v;b!==n||l!==0&&b.nodeType!==3||(h=d+l),b!==c||s!==0&&b.nodeType!==3||(p=d+s),b.nodeType===3&&(d+=b.nodeValue.length),(v=b.firstChild)!==null;)T=b,b=v;for(;;){if(b===t)break t;if(T===n&&++g===l&&(h=d),T===c&&++$===s&&(p=d),(v=b.nextSibling)!==null)break;b=T,T=b.parentNode}b=v}n=h===-1||p===-1?null:{start:h,end:p}}else n=null}n=n||{start:0,end:0}}else n=null;for(YE={focusedElem:t,selectionRange:n},og=!1,vo=o;vo!==null;)if(o=vo,t=o.child,(o.subtreeFlags&1028)!==0&&t!==null)t.return=o,vo=t;else for(;vo!==null;){switch(o=vo,c=o.alternate,t=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&c!==null){t=void 0,n=o,l=c.memoizedProps,c=c.memoizedState,s=n.stateNode;try{var I=ml(n.type,l,n.elementType===n.type);t=s.getSnapshotBeforeUpdate(I,c),s.__reactInternalSnapshotBeforeUpdate=t}catch(k){_t(n,n.return,k)}}break;case 3:if(t&1024){if(t=o.stateNode.containerInfo,n=t.nodeType,n===9)KE(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":KE(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(se(163))}if(t=o.sibling,t!==null){t.return=o.return,vo=t;break}vo=o.return}return I=VA,VA=!1,I}function jN(t,o,n){var s=n.flags;switch(n.tag){case 0:case 11:case 15:rs(t,n),s&4&&Bd(5,n);break;case 1:if(rs(t,n),s&4)if(t=n.stateNode,o===null)try{t.componentDidMount()}catch(h){_t(n,n.return,h)}else{var l=ml(n.type,o.memoizedProps);o=o.memoizedState;try{t.componentDidUpdate(l,o,t.__reactInternalSnapshotBeforeUpdate)}catch(h){_t(n,n.return,h)}}s&64&&zN(n),s&512&&il(n,n.return);break;case 3:if(rs(t,n),s&64&&(s=n.updateQueue,s!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{VN(s,t)}catch(h){_t(n,n.return,h)}}break;case 26:rs(t,n),s&512&&il(n,n.return);break;case 27:case 5:rs(t,n),o===null&&s&4&&XN(n),s&512&&il(n,n.return);break;case 12:rs(t,n);break;case 13:rs(t,n),s&4&&JN(t,n);break;case 22:if(l=n.memoizedState!==null||cs,!l){o=o!==null&&o.memoizedState!==null||zt;var c=cs,d=zt;cs=l,(zt=o)&&!d?Ks(t,n,(n.subtreeFlags&8772)!==0):rs(t,n),cs=c,zt=d}s&512&&(n.memoizedProps.mode==="manual"?il(n,n.return):Oi(n,n.return));break;default:rs(t,n)}}function KN(t){var o=t.alternate;o!==null&&(t.alternate=null,KN(o)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(o=t.stateNode,o!==null&&Pv(o)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var oo=null,Si=!1;function ss(t,o,n){for(n=n.child;n!==null;)qN(t,o,n),n=n.sibling}function qN(t,o,n){if(Ri&&typeof Ri.onCommitFiberUnmount=="function")try{Ri.onCommitFiberUnmount(Ad,n)}catch(d){}switch(n.tag){case 26:zt||Oi(n,o),ss(t,o,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:zt||Oi(n,o);var s=oo,l=Si;for(oo=n.stateNode,ss(t,o,n),n=n.stateNode,o=n.attributes;o.length;)n.removeAttributeNode(o[0]);Pv(n),oo=s,Si=l;break;case 5:zt||Oi(n,o);case 6:l=oo;var c=Si;if(oo=null,ss(t,o,n),oo=l,Si=c,oo!==null)if(Si)try{t=oo,s=n.stateNode,t.nodeType===8?t.parentNode.removeChild(s):t.removeChild(s)}catch(d){_t(n,o,d)}else try{oo.removeChild(n.stateNode)}catch(d){_t(n,o,d)}break;case 18:oo!==null&&(Si?(o=oo,n=n.stateNode,o.nodeType===8?xT(o.parentNode,n):o.nodeType===1&&xT(o,n),_d(o)):xT(oo,n.stateNode));break;case 4:s=oo,l=Si,oo=n.stateNode.containerInfo,Si=!0,ss(t,o,n),oo=s,Si=l;break;case 0:case 11:case 14:case 15:zt||mr(2,n,o),zt||mr(4,n,o),ss(t,o,n);break;case 1:zt||(Oi(n,o),s=n.stateNode,typeof s.componentWillUnmount=="function"&&WN(n,o,s)),ss(t,o,n);break;case 21:ss(t,o,n);break;case 22:zt||Oi(n,o),zt=(s=zt)||n.memoizedState!==null,ss(t,o,n),zt=s;break;default:ss(t,o,n)}}function JN(t,o){if(o.memoizedState===null&&(t=o.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{_d(t)}catch(n){_t(o,o.return,n)}}function XB(t){switch(t.tag){case 13:case 19:var o=t.stateNode;return o===null&&(o=t.stateNode=new GA),o;case 22:return t=t.stateNode,o=t._retryCache,o===null&&(o=t._retryCache=new GA),o;default:throw Error(se(435,t.tag))}}function ST(t,o){var n=XB(t);o.forEach(function(s){var l=sU.bind(null,t,s);n.has(s)||(n.add(s),s.then(l,l))})}function Ui(t,o){var n=o.deletions;if(n!==null)for(var s=0;s<n.length;s++){var l=n[s],c=t,d=o,h=d;e:for(;h!==null;){switch(h.tag){case 27:case 5:oo=h.stateNode,Si=!1;break e;case 3:oo=h.stateNode.containerInfo,Si=!0;break e;case 4:oo=h.stateNode.containerInfo,Si=!0;break e}h=h.return}if(oo===null)throw Error(se(160));qN(c,d,l),oo=null,Si=!1,c=l.alternate,c!==null&&(c.return=null),l.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)ZN(o,t),o=o.sibling}var un=null;function ZN(t,o){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Ui(o,t),Hi(t),s&4&&(mr(3,t,t.return),Bd(3,t),mr(5,t,t.return));break;case 1:Ui(o,t),Hi(t),s&512&&(zt||n===null||Oi(n,n.return)),s&64&&cs&&(t=t.updateQueue,t!==null&&(s=t.callbacks,s!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?s:n.concat(s))));break;case 26:var l=un;if(Ui(o,t),Hi(t),s&512&&(zt||n===null||Oi(n,n.return)),s&4){var c=n!==null?n.memoizedState:null;if(s=t.memoizedState,n===null)if(s===null)if(t.stateNode===null){e:{s=t.type,n=t.memoizedProps,l=l.ownerDocument||l;t:switch(s){case"title":c=l.getElementsByTagName("title")[0],(!c||c[sd]||c[zo]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=l.createElement(s),l.head.insertBefore(c,l.querySelector("head > title"))),xo(c,s,n),c[zo]=t,yo(c),s=c;break e;case"link":var d=rL("link","href",l).get(s+(n.href||""));if(d){for(var h=0;h<d.length;h++)if(c=d[h],c.getAttribute("href")===(n.href==null?null:n.href)&&c.getAttribute("rel")===(n.rel==null?null:n.rel)&&c.getAttribute("title")===(n.title==null?null:n.title)&&c.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){d.splice(h,1);break t}}c=l.createElement(s),xo(c,s,n),l.head.appendChild(c);break;case"meta":if(d=rL("meta","content",l).get(s+(n.content||""))){for(h=0;h<d.length;h++)if(c=d[h],c.getAttribute("content")===(n.content==null?null:""+n.content)&&c.getAttribute("name")===(n.name==null?null:n.name)&&c.getAttribute("property")===(n.property==null?null:n.property)&&c.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&c.getAttribute("charset")===(n.charSet==null?null:n.charSet)){d.splice(h,1);break t}}c=l.createElement(s),xo(c,s,n),l.head.appendChild(c);break;default:throw Error(se(468,s))}c[zo]=t,yo(c),s=c}t.stateNode=s}else lL(l,t.type,t.stateNode);else t.stateNode=sL(l,s,t.memoizedProps);else c!==s?(c===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):c.count--,s===null?lL(l,t.type,t.stateNode):sL(l,s,t.memoizedProps)):s===null&&t.stateNode!==null&&FA(t,t.memoizedProps,n.memoizedProps)}break;case 27:if(s&4&&t.alternate===null){l=t.stateNode,c=t.memoizedProps;try{for(var p=l.firstChild;p;){var g=p.nextSibling,$=p.nodeName;p[sd]||$==="HEAD"||$==="BODY"||$==="SCRIPT"||$==="STYLE"||$==="LINK"&&p.rel.toLowerCase()==="stylesheet"||l.removeChild(p),p=g}for(var b=t.type,T=l.attributes;T.length;)l.removeAttributeNode(T[0]);xo(l,b,c),l[zo]=t,l[di]=c}catch(I){_t(t,t.return,I)}}case 5:if(Ui(o,t),Hi(t),s&512&&(zt||n===null||Oi(n,n.return)),t.flags&32){l=t.stateNode;try{ec(l,"")}catch(I){_t(t,t.return,I)}}s&4&&t.stateNode!=null&&(l=t.memoizedProps,FA(t,l,n!==null?n.memoizedProps:l)),s&1024&&(yT=!0);break;case 6:if(Ui(o,t),Hi(t),s&4){if(t.stateNode===null)throw Error(se(162));s=t.memoizedProps,n=t.stateNode;try{n.nodeValue=s}catch(I){_t(t,t.return,I)}}break;case 3:if(yf=null,l=un,un=Qf(o.containerInfo),Ui(o,t),un=l,Hi(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{_d(o.containerInfo)}catch(I){_t(t,t.return,I)}yT&&(yT=!1,QN(t));break;case 4:s=un,un=Qf(t.stateNode.containerInfo),Ui(o,t),Hi(t),un=s;break;case 12:Ui(o,t),Hi(t);break;case 13:Ui(o,t),Hi(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(my=Un()),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,ST(t,s)));break;case 22:if(s&512&&(zt||n===null||Oi(n,n.return)),p=t.memoizedState!==null,g=n!==null&&n.memoizedState!==null,$=cs,b=zt,cs=$||p,zt=b||g,Ui(o,t),zt=b,cs=$,Hi(t),o=t.stateNode,o._current=t,o._visibility&=-3,o._visibility|=o._pendingVisibility&2,s&8192&&(o._visibility=p?o._visibility&-2:o._visibility|1,p&&(o=cs||zt,n===null||g||o||Ea(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(n=null,o=t;;){if(o.tag===5||o.tag===26||o.tag===27){if(n===null){g=n=o;try{if(l=g.stateNode,p)c=l.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none";else{d=g.stateNode,h=g.memoizedProps.style;var v=h!=null&&h.hasOwnProperty("display")?h.display:null;d.style.display=v==null||typeof v=="boolean"?"":(""+v).trim()}}catch(I){_t(g,g.return,I)}}}else if(o.tag===6){if(n===null){g=o;try{g.stateNode.nodeValue=p?"":g.memoizedProps}catch(I){_t(g,g.return,I)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===t)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;n===o&&(n=null),o=o.return}n===o&&(n=null),o.sibling.return=o.return,o=o.sibling}s&4&&(s=t.updateQueue,s!==null&&(n=s.retryQueue,n!==null&&(s.retryQueue=null,ST(t,n))));break;case 19:Ui(o,t),Hi(t),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,ST(t,s)));break;case 21:break;default:Ui(o,t),Hi(t)}}function Hi(t){var o=t.flags;if(o&2){try{if(t.tag!==27){e:{for(var n=t.return;n!==null;){if(YN(n)){var s=n;break e}n=n.return}throw Error(se(160))}switch(s.tag){case 27:var l=s.stateNode,c=vT(t);Xf(t,c,l);break;case 5:var d=s.stateNode;s.flags&32&&(ec(d,""),s.flags&=-33);var h=vT(t);Xf(t,h,d);break;case 3:case 4:var p=s.stateNode.containerInfo,g=vT(t);PE(t,g,p);break;default:throw Error(se(161))}}}catch($){_t(t,t.return,$)}t.flags&=-3}o&4096&&(t.flags&=-4097)}function QN(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var o=t;QN(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),t=t.sibling}}function rs(t,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)jN(t,o.alternate,o),o=o.sibling}function Ea(t){for(t=t.child;t!==null;){var o=t;switch(o.tag){case 0:case 11:case 14:case 15:mr(4,o,o.return),Ea(o);break;case 1:Oi(o,o.return);var n=o.stateNode;typeof n.componentWillUnmount=="function"&&WN(o,o.return,n),Ea(o);break;case 26:case 27:case 5:Oi(o,o.return),Ea(o);break;case 22:Oi(o,o.return),o.memoizedState===null&&Ea(o);break;default:Ea(o)}t=t.sibling}}function Ks(t,o,n){for(n=n&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var s=o.alternate,l=t,c=o,d=c.flags;switch(c.tag){case 0:case 11:case 15:Ks(l,c,n),Bd(4,c);break;case 1:if(Ks(l,c,n),s=c,l=s.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(g){_t(s,s.return,g)}if(s=c,l=s.updateQueue,l!==null){var h=s.stateNode;try{var p=l.shared.hiddenCallbacks;if(p!==null)for(l.shared.hiddenCallbacks=null,l=0;l<p.length;l++)GN(p[l],h)}catch(g){_t(s,s.return,g)}}n&&d&64&&zN(c),il(c,c.return);break;case 26:case 27:case 5:Ks(l,c,n),n&&s===null&&d&4&&XN(c),il(c,c.return);break;case 12:Ks(l,c,n);break;case 13:Ks(l,c,n),n&&d&4&&JN(l,c);break;case 22:c.memoizedState===null&&Ks(l,c,n),il(c,c.return);break;default:Ks(l,c,n)}o=o.sibling}}function dy(t,o){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(t=o.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&xd(n))}function hy(t,o){t=null,o.alternate!==null&&(t=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==t&&(o.refCount++,t!=null&&xd(t))}function Ys(t,o,n,s){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)eM(t,o,n,s),o=o.sibling}function eM(t,o,n,s){var l=o.flags;switch(o.tag){case 0:case 11:case 15:Ys(t,o,n,s),l&2048&&Bd(9,o);break;case 3:Ys(t,o,n,s),l&2048&&(t=null,o.alternate!==null&&(t=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==t&&(o.refCount++,t!=null&&xd(t)));break;case 12:if(l&2048){Ys(t,o,n,s),t=o.stateNode;try{var c=o.memoizedProps,d=c.id,h=c.onPostCommit;typeof h=="function"&&h(d,o.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(p){_t(o,o.return,p)}}else Ys(t,o,n,s);break;case 23:break;case 22:c=o.stateNode,o.memoizedState!==null?c._visibility&4?Ys(t,o,n,s):qu(t,o):c._visibility&4?Ys(t,o,n,s):(c._visibility|=4,va(t,o,n,s,(o.subtreeFlags&10256)!==0)),l&2048&&dy(o.alternate,o);break;case 24:Ys(t,o,n,s),l&2048&&hy(o.alternate,o);break;default:Ys(t,o,n,s)}}function va(t,o,n,s,l){for(l=l&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var c=t,d=o,h=n,p=s,g=d.flags;switch(d.tag){case 0:case 11:case 15:va(c,d,h,p,l),Bd(8,d);break;case 23:break;case 22:var $=d.stateNode;d.memoizedState!==null?$._visibility&4?va(c,d,h,p,l):qu(c,d):($._visibility|=4,va(c,d,h,p,l)),l&&g&2048&&dy(d.alternate,d);break;case 24:va(c,d,h,p,l),l&&g&2048&&hy(d.alternate,d);break;default:va(c,d,h,p,l)}o=o.sibling}}function qu(t,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var n=t,s=o,l=s.flags;switch(s.tag){case 22:qu(n,s),l&2048&&dy(s.alternate,s);break;case 24:qu(n,s),l&2048&&hy(s.alternate,s);break;default:qu(n,s)}o=o.sibling}}var Du=8192;function _a(t){if(t.subtreeFlags&Du)for(t=t.child;t!==null;)tM(t),t=t.sibling}function tM(t){switch(t.tag){case 26:_a(t),t.flags&Du&&t.memoizedState!==null&&MU(un,t.memoizedState,t.memoizedProps);break;case 5:_a(t);break;case 3:case 4:var o=un;un=Qf(t.stateNode.containerInfo),_a(t),un=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Du,Du=16777216,_a(t),Du=o):_a(t));break;default:_a(t)}}function oM(t){var o=t.alternate;if(o!==null&&(t=o.child,t!==null)){o.child=null;do o=t.sibling,t.sibling=null,t=o;while(t!==null)}}function Ou(t){var o=t.deletions;if(t.flags&16){if(o!==null)for(var n=0;n<o.length;n++){var s=o[n];vo=s,nM(s,t)}oM(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)iM(t),t=t.sibling}function iM(t){switch(t.tag){case 0:case 11:case 15:Ou(t),t.flags&2048&&mr(9,t,t.return);break;case 3:Ou(t);break;case 12:Ou(t);break;case 22:var o=t.stateNode;t.memoizedState!==null&&o._visibility&4&&(t.return===null||t.return.tag!==13)?(o._visibility&=-5,Tf(t)):Ou(t);break;default:Ou(t)}}function Tf(t){var o=t.deletions;if(t.flags&16){if(o!==null)for(var n=0;n<o.length;n++){var s=o[n];vo=s,nM(s,t)}oM(t)}for(t=t.child;t!==null;){switch(o=t,o.tag){case 0:case 11:case 15:mr(8,o,o.return),Tf(o);break;case 22:n=o.stateNode,n._visibility&4&&(n._visibility&=-5,Tf(o));break;default:Tf(o)}t=t.sibling}}function nM(t,o){for(;vo!==null;){var n=vo;switch(n.tag){case 0:case 11:case 15:mr(8,n,o);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var s=n.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:xd(n.memoizedState.cache)}if(s=n.child,s!==null)s.return=n,vo=s;else e:for(n=t;vo!==null;){s=vo;var l=s.sibling,c=s.return;if(KN(s),s===n){vo=null;break e}if(l!==null){l.return=c,vo=l;break e}vo=c}}}function YB(t,o,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ki(t,o,n,s){return new YB(t,o,n,s)}function py(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ar(t,o){var n=t.alternate;return n===null?(n=Ki(t.tag,o,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=o,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&31457280,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,o=t.dependencies,n.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function sM(t,o){t.flags&=31457282;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=o,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,o=n.dependencies,t.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),t}function Ef(t,o,n,s,l,c){var d=0;if(s=t,typeof t=="function")py(t)&&(d=1);else if(typeof t=="string")d=kU(t,n,Bn.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Ra:return al(n.children,l,c,o);case r0:d=8,l|=24;break;case rE:return t=Ki(12,n,o,l|2),t.elementType=rE,t.lanes=c,t;case lE:return t=Ki(13,n,o,l),t.elementType=lE,t.lanes=c,t;case aE:return t=Ki(19,n,o,l),t.elementType=aE,t.lanes=c,t;case a0:return rM(n,l,c,o);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _P:case ps:d=10;break e;case l0:d=9;break e;case Mv:d=11;break e;case xv:d=14;break e;case qs:d=16,s=null;break e}d=29,n=Error(se(130,t===null?"null":typeof t,"")),s=null}return o=Ki(d,n,o,l),o.elementType=t,o.type=s,o.lanes=c,o}function al(t,o,n,s){return t=Ki(7,t,s,o),t.lanes=n,t}function rM(t,o,n,s){t=Ki(22,t,s,o),t.elementType=a0,t.lanes=n;var l={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var c=l._current;if(c===null)throw Error(se(456));if(!(l._pendingVisibility&2)){var d=fr(c,2);d!==null&&(l._pendingVisibility|=2,ti(d,c,2))}},attach:function(){var c=l._current;if(c===null)throw Error(se(456));if(l._pendingVisibility&2){var d=fr(c,2);d!==null&&(l._pendingVisibility&=-3,ti(d,c,2))}}};return t.stateNode=l,t}function IT(t,o,n){return t=Ki(6,t,null,o),t.lanes=n,t}function OT(t,o,n){return o=Ki(4,t.children!==null?t.children:[],t.key,o),o.lanes=n,o.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},o}function ls(t){t.flags|=4}function zA(t,o){if(o.type!=="stylesheet"||o.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!RM(o)){if(o=Qi.current,o!==null&&((Qe&4194176)===Qe?Hn!==null:(Qe&62914560)!==Qe&&!(Qe&536870912)||o!==Hn))throw Vu=EE,X0;t.flags|=8192}}function Yp(t,o){o!==null&&(t.flags|=4),t.flags&16384&&(o=t.tag!==22?g0():536870912,t.lanes|=o,nc|=o)}function Ru(t,o){if(!tt)switch(t.tailMode){case"hidden":o=t.tail;for(var n=null;o!==null;)o.alternate!==null&&(n=o),o=o.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?o||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function Mt(t){var o=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(o)for(var l=t.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags&31457280,s|=l.flags&31457280,l.return=t,l=l.sibling;else for(l=t.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags,s|=l.flags,l.return=t,l=l.sibling;return t.subtreeFlags|=s,t.childLanes=n,o}function jB(t,o,n){var s=o.pendingProps;switch(Yv(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(o),null;case 1:return Mt(o),null;case 3:return n=o.stateNode,s=null,t!==null&&(s=t.memoizedState.cache),o.memoizedState.cache!==s&&(o.flags|=2048),bs(uo),Za(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Su(o)?ls(o):t===null||t.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,dn!==null&&(GE(dn),dn=null))),Mt(o),null;case 26:return n=o.memoizedState,t===null?(ls(o),n!==null?(Mt(o),zA(o,n)):(Mt(o),o.flags&=-16777217)):n?n!==t.memoizedState?(ls(o),Mt(o),zA(o,n)):(Mt(o),o.flags&=-16777217):(t.memoizedProps!==s&&ls(o),Mt(o),o.flags&=-16777217),null;case 27:kf(o),n=sr.current;var l=o.type;if(t!==null&&o.stateNode!=null)t.memoizedProps!==s&&ls(o);else{if(!s){if(o.stateNode===null)throw Error(se(166));return Mt(o),null}t=Bn.current,Su(o)?TA(o):(t=SM(l,s,n),o.stateNode=t,ls(o))}return Mt(o),null;case 5:if(kf(o),n=o.type,t!==null&&o.stateNode!=null)t.memoizedProps!==s&&ls(o);else{if(!s){if(o.stateNode===null)throw Error(se(166));return Mt(o),null}if(t=Bn.current,Su(o))TA(o);else{switch(l=Zf(sr.current),t){case 1:t=l.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=l.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=l.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=l.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof s.is=="string"?l.createElement("select",{is:s.is}):l.createElement("select"),s.multiple?t.multiple=!0:s.size&&(t.size=s.size);break;default:t=typeof s.is=="string"?l.createElement(n,{is:s.is}):l.createElement(n)}}t[zo]=o,t[di]=s;e:for(l=o.child;l!==null;){if(l.tag===5||l.tag===6)t.appendChild(l.stateNode);else if(l.tag!==4&&l.tag!==27&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break e;for(;l.sibling===null;){if(l.return===null||l.return===o)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}o.stateNode=t;e:switch(xo(t,n,s),n){case"button":case"input":case"select":case"textarea":t=!!s.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&ls(o)}}return Mt(o),o.flags&=-16777217,null;case 6:if(t&&o.stateNode!=null)t.memoizedProps!==s&&ls(o);else{if(typeof s!="string"&&o.stateNode===null)throw Error(se(166));if(t=sr.current,Su(o)){if(t=o.stateNode,n=o.memoizedProps,s=null,l=Qo,l!==null)switch(l.tag){case 27:case 5:s=l.memoizedProps}t[zo]=o,t=!!(t.nodeValue===n||s!==null&&s.suppressHydrationWarning===!0||EM(t.nodeValue,n)),t||pl(o)}else t=Zf(t).createTextNode(s),t[zo]=o,o.stateNode=t}return Mt(o),null;case 13:if(s=o.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(l=Su(o),s!==null&&s.dehydrated!==null){if(t===null){if(!l)throw Error(se(318));if(l=o.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(se(317));l[zo]=o}else Md(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;Mt(o),l=!1}else dn!==null&&(GE(dn),dn=null),l=!0;if(!l)return o.flags&256?(ms(o),o):(ms(o),null)}if(ms(o),o.flags&128)return o.lanes=n,o;if(n=s!==null,t=t!==null&&t.memoizedState!==null,n){s=o.child,l=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(l=s.alternate.memoizedState.cachePool.pool);var c=null;s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==l&&(s.flags|=2048)}return n!==t&&n&&(o.child.flags|=8192),Yp(o,o.updateQueue),Mt(o),null;case 4:return Za(),t===null&&by(o.stateNode.containerInfo),Mt(o),null;case 10:return bs(o.type),Mt(o),null;case 19:if(Io(ho),l=o.memoizedState,l===null)return Mt(o),null;if(s=(o.flags&128)!==0,c=l.rendering,c===null)if(s)Ru(l,!1);else{if(Wt!==0||t!==null&&t.flags&128)for(t=o.child;t!==null;){if(c=Hf(t),c!==null){for(o.flags|=128,Ru(l,!1),t=c.updateQueue,o.updateQueue=t,Yp(o,t),o.subtreeFlags=0,t=n,n=o.child;n!==null;)sM(n,t),n=n.sibling;return At(ho,ho.current&1|2),o.child}t=t.sibling}l.tail!==null&&Un()>Yf&&(o.flags|=128,s=!0,Ru(l,!1),o.lanes=4194304)}else{if(!s)if(t=Hf(c),t!==null){if(o.flags|=128,s=!0,t=t.updateQueue,o.updateQueue=t,Yp(o,t),Ru(l,!0),l.tail===null&&l.tailMode==="hidden"&&!c.alternate&&!tt)return Mt(o),null}else 2*Un()-l.renderingStartTime>Yf&&n!==536870912&&(o.flags|=128,s=!0,Ru(l,!1),o.lanes=4194304);l.isBackwards?(c.sibling=o.child,o.child=c):(t=l.last,t!==null?t.sibling=c:o.child=c,l.last=c)}return l.tail!==null?(o=l.tail,l.rendering=o,l.tail=o.sibling,l.renderingStartTime=Un(),o.sibling=null,t=ho.current,At(ho,s?t&1|2:t&1),o):(Mt(o),null);case 22:case 23:return ms(o),jv(),s=o.memoizedState!==null,t!==null?t.memoizedState!==null!==s&&(o.flags|=8192):s&&(o.flags|=8192),s?n&536870912&&!(o.flags&128)&&(Mt(o),o.subtreeFlags&6&&(o.flags|=8192)):Mt(o),n=o.updateQueue,n!==null&&Yp(o,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==n&&(o.flags|=2048),t!==null&&Io(ll),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),o.memoizedState.cache!==n&&(o.flags|=2048),bs(uo),Mt(o),null;case 25:return null}throw Error(se(156,o.tag))}function KB(t,o){switch(Yv(o),o.tag){case 1:return t=o.flags,t&65536?(o.flags=t&-65537|128,o):null;case 3:return bs(uo),Za(),t=o.flags,t&65536&&!(t&128)?(o.flags=t&-65537|128,o):null;case 26:case 27:case 5:return kf(o),null;case 13:if(ms(o),t=o.memoizedState,t!==null&&t.dehydrated!==null){if(o.alternate===null)throw Error(se(340));Md()}return t=o.flags,t&65536?(o.flags=t&-65537|128,o):null;case 19:return Io(ho),null;case 4:return Za(),null;case 10:return bs(o.type),null;case 22:case 23:return ms(o),jv(),t!==null&&Io(ll),t=o.flags,t&65536?(o.flags=t&-65537|128,o):null;case 24:return bs(uo),null;case 25:return null;default:return null}}function lM(t,o){switch(Yv(o),o.tag){case 3:bs(uo),Za();break;case 26:case 27:case 5:kf(o);break;case 4:Za();break;case 13:ms(o);break;case 19:Io(ho);break;case 10:bs(o.type);break;case 22:case 23:ms(o),jv(),t!==null&&Io(ll);break;case 24:bs(uo)}}var qB={getCacheForType:function(t){var o=Wo(uo),n=o.data.get(t);return n===void 0&&(n=t(),o.data.set(t,n)),n}},JB=typeof WeakMap=="function"?WeakMap:Map,Pt=0,yt=null,je=null,Qe=0,vt=0,Ii=null,us=!1,mc=!1,fy=!1,Ss=0,Wt=0,$r=0,cl=0,gy=0,qi=0,nc=0,Ju=null,Pn=null,BE=!1,my=0,Yf=1/0,jf=null,cr=null,jp=!1,tl=null,Zu=0,UE=0,HE=null,Qu=0,FE=null;function wi(){if(Pt&2&&Qe!==0)return Qe&-Qe;if(Fe.T!==null){var t=oc;return t!==0?t:_y()}return b0()}function aM(){qi===0&&(qi=!(Qe&536870912)||tt?f0():536870912);var t=Qi.current;return t!==null&&(t.flags|=32),qi}function ti(t,o,n){(t===yt&&vt===2||t.cancelPendingCommit!==null)&&(sc(t,0),ds(t,Qe,qi,!1)),kd(t,n),(!(Pt&2)||t!==yt)&&(t===yt&&(!(Pt&2)&&(cl|=n),Wt===4&&ds(t,Qe,qi,!1)),zn(t))}function cM(t,o,n){if(Pt&6)throw Error(se(327));var s=!n&&(o&60)===0&&(o&t.expiredLanes)===0||Ld(t,o),l=s?eU(t,o):RT(t,o,!0),c=s;do{if(l===0){mc&&!s&&ds(t,o,0,!1);break}else if(l===6)ds(t,o,0,!us);else{if(n=t.current.alternate,c&&!ZB(n)){l=RT(t,o,!1),c=!1;continue}if(l===2){if(c=o,t.errorRecoveryDisabledLanes&c)var d=0;else d=t.pendingLanes&-536870913,d=d!==0?d:d&536870912?536870912:0;if(d!==0){o=d;e:{var h=t;l=Ju;var p=h.current.memoizedState.isDehydrated;if(p&&(sc(h,d).flags|=256),d=RT(h,d,!1),d!==2){if(fy&&!p){h.errorRecoveryDisabledLanes|=c,cl|=c,l=4;break e}c=Pn,Pn=l,c!==null&&GE(c)}l=d}if(c=!1,l!==2)continue}}if(l===1){sc(t,0),ds(t,o,0,!0);break}e:{switch(s=t,l){case 0:case 1:throw Error(se(345));case 4:if((o&4194176)===o){ds(s,o,qi,!us);break e}break;case 2:Pn=null;break;case 3:case 5:break;default:throw Error(se(329))}if(s.finishedWork=n,s.finishedLanes=o,(o&62914560)===o&&(c=my+300-Un(),10<c)){if(ds(s,o,qi,!us),Ig(s,0)!==0)break e;s.timeoutHandle=yM(WA.bind(null,s,n,Pn,jf,BE,o,qi,cl,nc,us,2,-0,0),c);break e}WA(s,n,Pn,jf,BE,o,qi,cl,nc,us,0,-0,0)}}break}while(!0);zn(t)}function GE(t){Pn===null?Pn=t:Pn.push.apply(Pn,t)}function WA(t,o,n,s,l,c,d,h,p,g,$,b,T){var v=o.subtreeFlags;if((v&8192||(v&16785408)===16785408)&&(fd={stylesheets:null,count:0,unsuspend:NU},tM(o),o=xU(),o!==null)){t.cancelPendingCommit=o(YA.bind(null,t,n,s,l,d,h,p,1,b,T)),ds(t,c,d,!g);return}YA(t,n,s,l,d,h,p,$,b,T)}function ZB(t){for(var o=t;;){var n=o.tag;if((n===0||n===11||n===15)&&o.flags&16384&&(n=o.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var s=0;s<n.length;s++){var l=n[s],c=l.getSnapshot;l=l.value;try{if(!Ai(c(),l))return!1}catch(d){return!1}}if(n=o.child,o.subtreeFlags&16384&&n!==null)n.return=o,o=n;else{if(o===t)break;for(;o.sibling===null;){if(o.return===null||o.return===t)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ds(t,o,n,s){o&=~gy,o&=~cl,t.suspendedLanes|=o,t.pingedLanes&=~o,s&&(t.warmLanes|=o),s=t.expirationTimes;for(var l=o;0<l;){var c=31-Ci(l),d=1<<c;s[c]=-1,l&=~d}n!==0&&m0(t,n,o)}function xg(){return Pt&6?!0:(Ud(0),!1)}function $y(){if(je!==null){if(vt===0)var t=je.return;else t=je,$s=Rl=null,ty(t),Va=null,ud=0,t=je;for(;t!==null;)lM(t.alternate,t),t=t.return;je=null}}function sc(t,o){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,$U(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),$y(),yt=t,je=n=ar(t.current,null),Qe=o,vt=0,Ii=null,us=!1,mc=Ld(t,o),fy=!1,nc=qi=gy=cl=$r=Wt=0,Pn=Ju=null,BE=!1,o&8&&(o|=o&32);var s=t.entangledLanes;if(s!==0)for(t=t.entanglements,s&=o;0<s;){var l=31-Ci(s),c=1<<l;o|=t[l],s&=~c}return Ss=o,wg(),n}function uM(t,o){We=null,Fe.H=Gn,o===Gu?(o=yA(),vt=3):o===X0?(o=yA(),vt=4):vt=o===xN?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Ii=o,je===null&&(Wt=1,zf(t,ji(o,t.current)))}function dM(){var t=Fe.H;return Fe.H=Gn,t===null?Gn:t}function hM(){var t=Fe.A;return Fe.A=qB,t}function VE(){Wt=4,us||(Qe&4194176)!==Qe&&Qi.current!==null||(mc=!0),!($r&134217727)&&!(cl&134217727)||yt===null||ds(yt,Qe,qi,!1)}function RT(t,o,n){var s=Pt;Pt|=2;var l=dM(),c=hM();(yt!==t||Qe!==o)&&(jf=null,sc(t,o)),o=!1;var d=Wt;e:do try{if(vt!==0&&je!==null){var h=je,p=Ii;switch(vt){case 8:$y(),d=6;break e;case 3:case 2:case 6:Qi.current===null&&(o=!0);var g=vt;if(vt=0,Ii=null,Pa(t,h,p,g),n&&mc){d=0;break e}break;default:g=vt,vt=0,Ii=null,Pa(t,h,p,g)}}QB(),d=Wt;break}catch($){uM(t,$)}while(!0);return o&&t.shellSuspendCounter++,$s=Rl=null,Pt=s,Fe.H=l,Fe.A=c,je===null&&(yt=null,Qe=0,wg()),d}function QB(){for(;je!==null;)pM(je)}function eU(t,o){var n=Pt;Pt|=2;var s=dM(),l=hM();yt!==t||Qe!==o?(jf=null,Yf=Un()+500,sc(t,o)):mc=Ld(t,o);e:do try{if(vt!==0&&je!==null){o=je;var c=Ii;t:switch(vt){case 1:vt=0,Ii=null,Pa(t,o,c,1);break;case 2:if(vA(c)){vt=0,Ii=null,XA(o);break}o=function(){vt===2&&yt===t&&(vt=7),zn(t)},c.then(o,o);break e;case 3:vt=7;break e;case 4:vt=5;break e;case 7:vA(c)?(vt=0,Ii=null,XA(o)):(vt=0,Ii=null,Pa(t,o,c,7));break;case 5:var d=null;switch(je.tag){case 26:d=je.memoizedState;case 5:case 27:var h=je;if(!d||RM(d)){vt=0,Ii=null;var p=h.sibling;if(p!==null)je=p;else{var g=h.return;g!==null?(je=g,Dg(g)):je=null}break t}}vt=0,Ii=null,Pa(t,o,c,5);break;case 6:vt=0,Ii=null,Pa(t,o,c,6);break;case 8:$y(),Wt=6;break e;default:throw Error(se(462))}}tU();break}catch($){uM(t,$)}while(!0);return $s=Rl=null,Fe.H=s,Fe.A=l,Pt=n,je!==null?0:(yt=null,Qe=0,wg(),Wt)}function tU(){for(;je!==null&&!yP();)pM(je)}function pM(t){var o=HN(t.alternate,t,Ss);t.memoizedProps=t.pendingProps,o===null?Dg(t):je=o}function XA(t){var o=t,n=o.alternate;switch(o.tag){case 15:case 0:o=PA(n,o,o.pendingProps,o.type,void 0,Qe);break;case 11:o=PA(n,o,o.pendingProps,o.type.render,o.ref,Qe);break;case 5:ty(o);default:lM(n,o),o=je=sM(o,Ss),o=HN(n,o,Ss)}t.memoizedProps=t.pendingProps,o===null?Dg(t):je=o}function Pa(t,o,n,s){$s=Rl=null,ty(o),Va=null,ud=0;var l=o.return;try{if(VB(t,l,o,n,Qe)){Wt=1,zf(t,ji(n,t.current)),je=null;return}}catch(c){if(l!==null)throw je=l,c;Wt=1,zf(t,ji(n,t.current)),je=null;return}o.flags&32768?(tt||s===1?t=!0:mc||Qe&536870912?t=!1:(us=t=!0,(s===2||s===3||s===6)&&(s=Qi.current,s!==null&&s.tag===13&&(s.flags|=16384))),fM(o,t)):Dg(o)}function Dg(t){var o=t;do{if(o.flags&32768){fM(o,us);return}t=o.return;var n=jB(o.alternate,o,Ss);if(n!==null){je=n;return}if(o=o.sibling,o!==null){je=o;return}je=o=t}while(o!==null);Wt===0&&(Wt=5)}function fM(t,o){do{var n=KB(t.alternate,t);if(n!==null){n.flags&=32767,je=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!o&&(t=t.sibling,t!==null)){je=t;return}je=t=n}while(t!==null);Wt=6,je=null}function YA(t,o,n,s,l,c,d,h,p,g){var $=Fe.T,b=Ot.p;try{Ot.p=2,Fe.T=null,oU(t,o,n,s,b,l,c,d,h,p,g)}finally{Fe.T=$,Ot.p=b}}function oU(t,o,n,s,l,c,d,h){do Ya();while(tl!==null);if(Pt&6)throw Error(se(327));var p=t.finishedWork;if(s=t.finishedLanes,p===null)return null;if(t.finishedWork=null,t.finishedLanes=0,p===t.current)throw Error(se(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var g=p.lanes|p.childLanes;if(g|=zv,MP(t,s,g,c,d,h),t===yt&&(je=yt=null,Qe=0),!(p.subtreeFlags&10256)&&!(p.flags&10256)||jp||(jp=!0,UE=g,HE=n,rU(Nf,function(){return Ya(),null})),n=(p.flags&15990)!==0,p.subtreeFlags&15990||n?(n=Fe.T,Fe.T=null,c=Ot.p,Ot.p=2,d=Pt,Pt|=4,WB(t,p),ZN(p,t),OB(YE,t.containerInfo),og=!!XE,YE=XE=null,t.current=p,jN(t,p.alternate,p),SP(),Pt=d,Ot.p=c,Fe.T=n):t.current=p,jp?(jp=!1,tl=t,Zu=s):gM(t,g),g=t.pendingLanes,g===0&&(cr=null),wP(p.stateNode),zn(t),o!==null)for(l=t.onRecoverableError,p=0;p<o.length;p++)g=o[p],l(g.value,{componentStack:g.stack});return Zu&3&&Ya(),g=t.pendingLanes,s&4194218&&g&42?t===FE?Qu++:(Qu=0,FE=t):Qu=0,Ud(0),null}function gM(t,o){(t.pooledCacheLanes&=o)===0&&(o=t.pooledCache,o!=null&&(t.pooledCache=null,xd(o)))}function Ya(){if(tl!==null){var t=tl,o=UE;UE=0;var n=_0(Zu),s=Fe.T,l=Ot.p;try{if(Ot.p=32>n?32:n,Fe.T=null,tl===null)var c=!1;else{n=HE,HE=null;var d=tl,h=Zu;if(tl=null,Zu=0,Pt&6)throw Error(se(331));var p=Pt;if(Pt|=4,iM(d.current),eM(d,d.current,h,n),Pt=p,Ud(0,!1),Ri&&typeof Ri.onPostCommitFiberRoot=="function")try{Ri.onPostCommitFiberRoot(Ad,d)}catch(g){}c=!0}return c}finally{Ot.p=l,Fe.T=s,gM(t,o)}}return!1}function jA(t,o,n){o=ji(n,o),o=CE(t.stateNode,o,2),t=lr(t,o,2),t!==null&&(kd(t,2),zn(t))}function _t(t,o,n){if(t.tag===3)jA(t,t,n);else for(;o!==null;){if(o.tag===3){jA(o,t,n);break}else if(o.tag===1){var s=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(cr===null||!cr.has(s))){t=ji(n,t),n=NN(2),s=lr(o,n,2),s!==null&&(MN(n,s,o,t),kd(s,2),zn(s));break}}o=o.return}}function CT(t,o,n){var s=t.pingCache;if(s===null){s=t.pingCache=new JB;var l=new Set;s.set(o,l)}else l=s.get(o),l===void 0&&(l=new Set,s.set(o,l));l.has(n)||(fy=!0,l.add(n),t=iU.bind(null,t,o,n),o.then(t,t))}function iU(t,o,n){var s=t.pingCache;s!==null&&s.delete(o),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,yt===t&&(Qe&n)===n&&(Wt===4||Wt===3&&(Qe&62914560)===Qe&&300>Un()-my?!(Pt&2)&&sc(t,0):gy|=n,nc===Qe&&(nc=0)),zn(t)}function mM(t,o){o===0&&(o=g0()),t=fr(t,o),t!==null&&(kd(t,o),zn(t))}function nU(t){var o=t.memoizedState,n=0;o!==null&&(n=o.retryLane),mM(t,n)}function sU(t,o){var n=0;switch(t.tag){case 13:var s=t.stateNode,l=t.memoizedState;l!==null&&(n=l.retryLane);break;case 19:s=t.stateNode;break;case 22:s=t.stateNode._retryCache;break;default:throw Error(se(314))}s!==null&&s.delete(o),mM(t,n)}function rU(t,o){return Dv(t,o)}var Kf=null,ya=null,zE=!1,qf=!1,wT=!1,ul=0;function zn(t){t!==ya&&t.next===null&&(ya===null?Kf=ya=t:ya=ya.next=t),qf=!0,zE||(zE=!0,aU(lU))}function Ud(t,o){if(!wT&&qf){wT=!0;do for(var n=!1,s=Kf;s!==null;){if(t!==0){var l=s.pendingLanes;if(l===0)var c=0;else{var d=s.suspendedLanes,h=s.pingedLanes;c=(1<<31-Ci(42|t)+1)-1,c&=l&~(d&~h),c=c&201326677?c&201326677|1:c?c|2:0}c!==0&&(n=!0,KA(s,c))}else c=Qe,c=Ig(s,s===yt?c:0),!(c&3)||Ld(s,c)||(n=!0,KA(s,c));s=s.next}while(n);wT=!1}}function lU(){qf=zE=!1;var t=0;ul!==0&&(mU()&&(t=ul),ul=0);for(var o=Un(),n=null,s=Kf;s!==null;){var l=s.next,c=$M(s,o);c===0?(s.next=null,n===null?Kf=l:n.next=l,l===null&&(ya=n)):(n=s,(t!==0||c&3)&&(qf=!0)),s=l}Ud(t)}function $M(t,o){for(var n=t.suspendedLanes,s=t.pingedLanes,l=t.expirationTimes,c=t.pendingLanes&-62914561;0<c;){var d=31-Ci(c),h=1<<d,p=l[d];p===-1?(!(h&n)||h&s)&&(l[d]=NP(h,o)):p<=o&&(t.expiredLanes|=h),c&=~h}if(o=yt,n=Qe,n=Ig(t,t===o?n:0),s=t.callbackNode,n===0||t===o&&vt===2||t.cancelPendingCommit!==null)return s!==null&&s!==null&&sT(s),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||Ld(t,n)){if(o=n&-n,o===t.callbackPriority)return o;switch(s!==null&&sT(s),_0(n)){case 2:case 8:n=h0;break;case 32:n=Nf;break;case 268435456:n=p0;break;default:n=Nf}return s=_M.bind(null,t),n=Dv(n,s),t.callbackPriority=o,t.callbackNode=n,o}return s!==null&&s!==null&&sT(s),t.callbackPriority=2,t.callbackNode=null,2}function _M(t,o){var n=t.callbackNode;if(Ya()&&t.callbackNode!==n)return null;var s=Qe;return s=Ig(t,t===yt?s:0),s===0?null:(cM(t,s,o),$M(t,Un()),t.callbackNode!=null&&t.callbackNode===n?_M.bind(null,t):null)}function KA(t,o){if(Ya())return null;cM(t,o,!0)}function aU(t){_U(function(){Pt&6?Dv(d0,t):t()})}function _y(){return ul===0&&(ul=f0()),ul}function qA(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ff(""+t)}function JA(t,o){var n=o.ownerDocument.createElement("input");return n.name=o.name,n.value=o.value,t.id&&n.setAttribute("form",t.id),o.parentNode.insertBefore(n,o),t=new FormData(t),n.parentNode.removeChild(n),t}function cU(t,o,n,s,l){if(o==="submit"&&n&&n.stateNode===l){var c=qA((l[di]||null).action),d=s.submitter;d&&(o=(o=d[di]||null)?qA(o.formAction):d.getAttribute("formAction"),o!==null&&(c=o,d=null));var h=new Og("action","action",null,s,l);t.push({event:h,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(ul!==0){var p=d?JA(l,d):new FormData(l);OE(n,{pending:!0,data:p,method:l.method,action:c},null,p)}}else typeof c=="function"&&(h.preventDefault(),p=d?JA(l,d):new FormData(l),OE(n,{pending:!0,data:p,method:l.method,action:c},c,p))},currentTarget:l}]})}}for(var AT=0;AT<_A.length;AT++){var LT=_A[AT],uU=LT.toLowerCase(),dU=LT[0].toUpperCase()+LT.slice(1);gn(uU,"on"+dU)}gn(U0,"onAnimationEnd");gn(H0,"onAnimationIteration");gn(F0,"onAnimationStart");gn("dblclick","onDoubleClick");gn("focusin","onFocus");gn("focusout","onBlur");gn(CB,"onTransitionRun");gn(wB,"onTransitionStart");gn(AB,"onTransitionCancel");gn(G0,"onTransitionEnd");Qa("onMouseEnter",["mouseout","mouseover"]);Qa("onMouseLeave",["mouseout","mouseover"]);Qa("onPointerEnter",["pointerout","pointerover"]);Qa("onPointerLeave",["pointerout","pointerover"]);vl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vl("onBeforeInput",["compositionend","keypress","textInput","paste"]);vl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hU=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hd));function bM(t,o){o=(o&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],l=s.event;s=s.listeners;e:{var c=void 0;if(o)for(var d=s.length-1;0<=d;d--){var h=s[d],p=h.instance,g=h.currentTarget;if(h=h.listener,p!==c&&l.isPropagationStopped())break e;c=h,l.currentTarget=g;try{c(l)}catch($){Vf($)}l.currentTarget=null,c=p}else for(d=0;d<s.length;d++){if(h=s[d],p=h.instance,g=h.currentTarget,h=h.listener,p!==c&&l.isPropagationStopped())break e;c=h,l.currentTarget=g;try{c(l)}catch($){Vf($)}l.currentTarget=null,c=p}}}}function Je(t,o){var n=o[pE];n===void 0&&(n=o[pE]=new Set);var s=t+"__bubble";n.has(s)||(TM(o,t,2,!1),n.add(s))}function kT(t,o,n){var s=0;o&&(s|=4),TM(n,t,s,o)}var Kp="_reactListening"+Math.random().toString(36).slice(2);function by(t){if(!t[Kp]){t[Kp]=!0,T0.forEach(function(n){n!=="selectionchange"&&(hU.has(n)||kT(n,!1,t),kT(n,!0,t))});var o=t.nodeType===9?t:t.ownerDocument;o===null||o[Kp]||(o[Kp]=!0,kT("selectionchange",!1,o))}}function TM(t,o,n,s){switch(kM(o)){case 2:var l=BU;break;case 8:l=UU;break;default:l=yy}n=l.bind(null,o,n,t),l=void 0,!$E||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(l=!0),s?l!==void 0?t.addEventListener(o,n,{capture:!0,passive:l}):t.addEventListener(o,n,!0):l!==void 0?t.addEventListener(o,n,{passive:l}):t.addEventListener(o,n,!1)}function NT(t,o,n,s,l){var c=s;if(!(o&1)&&!(o&2)&&s!==null)e:for(;;){if(s===null)return;var d=s.tag;if(d===3||d===4){var h=s.stateNode.containerInfo;if(h===l||h.nodeType===8&&h.parentNode===l)break;if(d===4)for(d=s.return;d!==null;){var p=d.tag;if((p===3||p===4)&&(p=d.stateNode.containerInfo,p===l||p.nodeType===8&&p.parentNode===l))return;d=d.return}for(;h!==null;){if(d=ol(h),d===null)return;if(p=d.tag,p===5||p===6||p===26||p===27){s=c=d;continue e}h=h.parentNode}}s=s.return}C0(function(){var g=c,$=Uv(n),b=[];e:{var T=V0.get(t);if(T!==void 0){var v=Og,I=t;switch(t){case"keypress":if(mf(n)===0)break e;case"keydown":case"keyup":v=sB;break;case"focusin":I="focus",v=uT;break;case"focusout":I="blur",v=uT;break;case"beforeblur":case"afterblur":v=uT;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=rA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=YP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=aB;break;case U0:case H0:case F0:v=qP;break;case G0:v=uB;break;case"scroll":case"scrollend":v=WP;break;case"wheel":v=hB;break;case"copy":case"cut":case"paste":v=ZP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=aA;break;case"toggle":case"beforetoggle":v=fB}var k=(o&4)!==0,G=!k&&(t==="scroll"||t==="scrollend"),R=k?T!==null?T+"Capture":null:T;k=[];for(var S=g,w;S!==null;){var L=S;if(w=L.stateNode,L=L.tag,L!==5&&L!==26&&L!==27||w===null||R===null||(L=rd(S,R),L!=null&&k.push(pd(S,L,w))),G)break;S=S.return}0<k.length&&(T=new v(T,I,null,n,$),b.push({event:T,listeners:k}))}}if(!(o&7)){e:{if(T=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",T&&n!==mE&&(I=n.relatedTarget||n.fromElement)&&(ol(I)||I[fc]))break e;if((v||T)&&(T=$.window===$?$:(T=$.ownerDocument)?T.defaultView||T.parentWindow:window,v?(I=n.relatedTarget||n.toElement,v=g,I=I?ol(I):null,I!==null&&(G=pc(I),k=I.tag,I!==G||k!==5&&k!==27&&k!==6)&&(I=null)):(v=null,I=g),v!==I)){if(k=rA,L="onMouseLeave",R="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(k=aA,L="onPointerLeave",R="onPointerEnter",S="pointer"),G=v==null?T:xu(v),w=I==null?T:xu(I),T=new k(L,S+"leave",v,n,$),T.target=G,T.relatedTarget=w,L=null,ol($)===g&&(k=new k(R,S+"enter",I,n,$),k.target=w,k.relatedTarget=G,L=k),G=L,v&&I)t:{for(k=v,R=I,S=0,w=k;w;w=ba(w))S++;for(w=0,L=R;L;L=ba(L))w++;for(;0<S-w;)k=ba(k),S--;for(;0<w-S;)R=ba(R),w--;for(;S--;){if(k===R||R!==null&&k===R.alternate)break t;k=ba(k),R=ba(R)}k=null}else k=null;v!==null&&ZA(b,T,v,k,!1),I!==null&&G!==null&&ZA(b,G,I,k,!0)}}e:{if(T=g?xu(g):window,v=T.nodeName&&T.nodeName.toLowerCase(),v==="select"||v==="input"&&T.type==="file")var H=hA;else if(dA(T))if(M0)H=SB;else{H=vB;var Y=EB}else v=T.nodeName,!v||v.toLowerCase()!=="input"||T.type!=="checkbox"&&T.type!=="radio"?g&&Bv(g.elementType)&&(H=hA):H=yB;if(H&&(H=H(t,g))){N0(b,H,n,$);break e}Y&&Y(t,T,g),t==="focusout"&&g&&T.type==="number"&&g.memoizedProps.value!=null&&gE(T,"number",T.value)}switch(Y=g?xu(g):window,t){case"focusin":(dA(Y)||Y.contentEditable==="true")&&(La=Y,_E=g,Fu=null);break;case"focusout":Fu=_E=La=null;break;case"mousedown":bE=!0;break;case"contextmenu":case"mouseup":case"dragend":bE=!1,$A(b,n,$);break;case"selectionchange":if(RB)break;case"keydown":case"keyup":$A(b,n,$)}var K;if(Gv)e:{switch(t){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Aa?L0(t,n)&&(j="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(A0&&n.locale!=="ko"&&(Aa||j!=="onCompositionStart"?j==="onCompositionEnd"&&Aa&&(K=w0()):(ir=$,Hv="value"in ir?ir.value:ir.textContent,Aa=!0)),Y=Jf(g,j),0<Y.length&&(j=new lA(j,t,null,n,$),b.push({event:j,listeners:Y}),K?j.data=K:(K=k0(n),K!==null&&(j.data=K)))),(K=mB?$B(t,n):_B(t,n))&&(j=Jf(g,"onBeforeInput"),0<j.length&&(Y=new lA("onBeforeInput","beforeinput",null,n,$),b.push({event:Y,listeners:j}),Y.data=K)),cU(b,t,g,n,$)}bM(b,o)})}function pd(t,o,n){return{instance:t,listener:o,currentTarget:n}}function Jf(t,o){for(var n=o+"Capture",s=[];t!==null;){var l=t,c=l.stateNode;l=l.tag,l!==5&&l!==26&&l!==27||c===null||(l=rd(t,n),l!=null&&s.unshift(pd(t,l,c)),l=rd(t,o),l!=null&&s.push(pd(t,l,c))),t=t.return}return s}function ba(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ZA(t,o,n,s,l){for(var c=o._reactName,d=[];n!==null&&n!==s;){var h=n,p=h.alternate,g=h.stateNode;if(h=h.tag,p!==null&&p===s)break;h!==5&&h!==26&&h!==27||g===null||(p=g,l?(g=rd(n,c),g!=null&&d.unshift(pd(n,g,p))):l||(g=rd(n,c),g!=null&&d.push(pd(n,g,p)))),n=n.return}d.length!==0&&t.push({event:o,listeners:d})}var pU=/\r\n?/g,fU=/\u0000|\uFFFD/g;function QA(t){return(typeof t=="string"?t:""+t).replace(pU,"\n").replace(fU,"")}function EM(t,o){return o=QA(o),QA(t)===o}function Pg(){}function ft(t,o,n,s,l,c){switch(n){case"children":typeof s=="string"?o==="body"||o==="textarea"&&s===""||ec(t,s):(typeof s=="number"||typeof s=="bigint")&&o!=="body"&&ec(t,""+s);break;case"className":Fp(t,"class",s);break;case"tabIndex":Fp(t,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Fp(t,n,s);break;case"style":R0(t,s,c);break;case"data":if(o!=="object"){Fp(t,"data",s);break}case"src":case"href":if(s===""&&(o!=="a"||n!=="href")){t.removeAttribute(n);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(n);break}s=ff(""+s),t.setAttribute(n,s);break;case"action":case"formAction":if(typeof s=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(n==="formAction"?(o!=="input"&&ft(t,o,"name",l.name,l,null),ft(t,o,"formEncType",l.formEncType,l,null),ft(t,o,"formMethod",l.formMethod,l,null),ft(t,o,"formTarget",l.formTarget,l,null)):(ft(t,o,"encType",l.encType,l,null),ft(t,o,"method",l.method,l,null),ft(t,o,"target",l.target,l,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(n);break}s=ff(""+s),t.setAttribute(n,s);break;case"onClick":s!=null&&(t.onclick=Pg);break;case"onScroll":s!=null&&Je("scroll",t);break;case"onScrollEnd":s!=null&&Je("scrollend",t);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(se(61));if(n=s.__html,n!=null){if(l.children!=null)throw Error(se(60));t.innerHTML=n}}break;case"multiple":t.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":t.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){t.removeAttribute("xlink:href");break}n=ff(""+s),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(n,""+s):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":s===!0?t.setAttribute(n,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(n,s):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?t.setAttribute(n,s):t.removeAttribute(n);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?t.removeAttribute(n):t.setAttribute(n,s);break;case"popover":Je("beforetoggle",t),Je("toggle",t),pf(t,"popover",s);break;case"xlinkActuate":ns(t,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":ns(t,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":ns(t,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":ns(t,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":ns(t,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":ns(t,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":ns(t,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":ns(t,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":ns(t,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":pf(t,"is",s);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=VP.get(n)||n,pf(t,n,s))}}function WE(t,o,n,s,l,c){switch(n){case"style":R0(t,s,c);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(se(61));if(n=s.__html,n!=null){if(l.children!=null)throw Error(se(60));t.innerHTML=n}}break;case"children":typeof s=="string"?ec(t,s):(typeof s=="number"||typeof s=="bigint")&&ec(t,""+s);break;case"onScroll":s!=null&&Je("scroll",t);break;case"onScrollEnd":s!=null&&Je("scrollend",t);break;case"onClick":s!=null&&(t.onclick=Pg);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!E0.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(l=n.endsWith("Capture"),o=n.slice(2,l?n.length-7:void 0),c=t[di]||null,c=c!=null?c[n]:null,typeof c=="function"&&t.removeEventListener(o,c,l),typeof s=="function")){typeof c!="function"&&c!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(o,s,l);break e}n in t?t[n]=s:s===!0?t.setAttribute(n,""):pf(t,n,s)}}}function xo(t,o,n){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Je("error",t),Je("load",t);var s=!1,l=!1,c;for(c in n)if(n.hasOwnProperty(c)){var d=n[c];if(d!=null)switch(c){case"src":s=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(se(137,o));default:ft(t,o,c,d,n,null)}}l&&ft(t,o,"srcSet",n.srcSet,n,null),s&&ft(t,o,"src",n.src,n,null);return;case"input":Je("invalid",t);var h=c=d=l=null,p=null,g=null;for(s in n)if(n.hasOwnProperty(s)){var $=n[s];if($!=null)switch(s){case"name":l=$;break;case"type":d=$;break;case"checked":p=$;break;case"defaultChecked":g=$;break;case"value":c=$;break;case"defaultValue":h=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(se(137,o));break;default:ft(t,o,s,$,n,null)}}S0(t,c,h,p,g,d,l,!1),Mf(t);return;case"select":Je("invalid",t),s=d=c=null;for(l in n)if(n.hasOwnProperty(l)&&(h=n[l],h!=null))switch(l){case"value":c=h;break;case"defaultValue":d=h;break;case"multiple":s=h;default:ft(t,o,l,h,n,null)}o=c,n=d,t.multiple=!!s,o!=null?Fa(t,!!s,o,!1):n!=null&&Fa(t,!!s,n,!0);return;case"textarea":Je("invalid",t),c=l=s=null;for(d in n)if(n.hasOwnProperty(d)&&(h=n[d],h!=null))switch(d){case"value":s=h;break;case"defaultValue":l=h;break;case"children":c=h;break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(se(91));break;default:ft(t,o,d,h,n,null)}O0(t,s,l,c),Mf(t);return;case"option":for(p in n)if(n.hasOwnProperty(p)&&(s=n[p],s!=null))switch(p){case"selected":t.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:ft(t,o,p,s,n,null)}return;case"dialog":Je("cancel",t),Je("close",t);break;case"iframe":case"object":Je("load",t);break;case"video":case"audio":for(s=0;s<hd.length;s++)Je(hd[s],t);break;case"image":Je("error",t),Je("load",t);break;case"details":Je("toggle",t);break;case"embed":case"source":case"link":Je("error",t),Je("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(g in n)if(n.hasOwnProperty(g)&&(s=n[g],s!=null))switch(g){case"children":case"dangerouslySetInnerHTML":throw Error(se(137,o));default:ft(t,o,g,s,n,null)}return;default:if(Bv(o)){for($ in n)n.hasOwnProperty($)&&(s=n[$],s!==void 0&&WE(t,o,$,s,n,void 0));return}}for(h in n)n.hasOwnProperty(h)&&(s=n[h],s!=null&&ft(t,o,h,s,n,null))}function gU(t,o,n,s){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,c=null,d=null,h=null,p=null,g=null,$=null;for(v in n){var b=n[v];if(n.hasOwnProperty(v)&&b!=null)switch(v){case"checked":break;case"value":break;case"defaultValue":p=b;default:s.hasOwnProperty(v)||ft(t,o,v,null,s,b)}}for(var T in s){var v=s[T];if(b=n[T],s.hasOwnProperty(T)&&(v!=null||b!=null))switch(T){case"type":c=v;break;case"name":l=v;break;case"checked":g=v;break;case"defaultChecked":$=v;break;case"value":d=v;break;case"defaultValue":h=v;break;case"children":case"dangerouslySetInnerHTML":if(v!=null)throw Error(se(137,o));break;default:v!==b&&ft(t,o,T,v,s,b)}}fE(t,d,h,p,g,$,c,l);return;case"select":v=d=h=T=null;for(c in n)if(p=n[c],n.hasOwnProperty(c)&&p!=null)switch(c){case"value":break;case"multiple":v=p;default:s.hasOwnProperty(c)||ft(t,o,c,null,s,p)}for(l in s)if(c=s[l],p=n[l],s.hasOwnProperty(l)&&(c!=null||p!=null))switch(l){case"value":T=c;break;case"defaultValue":h=c;break;case"multiple":d=c;default:c!==p&&ft(t,o,l,c,s,p)}o=h,n=d,s=v,T!=null?Fa(t,!!n,T,!1):!!s!=!!n&&(o!=null?Fa(t,!!n,o,!0):Fa(t,!!n,n?[]:"",!1));return;case"textarea":v=T=null;for(h in n)if(l=n[h],n.hasOwnProperty(h)&&l!=null&&!s.hasOwnProperty(h))switch(h){case"value":break;case"children":break;default:ft(t,o,h,null,s,l)}for(d in s)if(l=s[d],c=n[d],s.hasOwnProperty(d)&&(l!=null||c!=null))switch(d){case"value":T=l;break;case"defaultValue":v=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(se(91));break;default:l!==c&&ft(t,o,d,l,s,c)}I0(t,T,v);return;case"option":for(var I in n)if(T=n[I],n.hasOwnProperty(I)&&T!=null&&!s.hasOwnProperty(I))switch(I){case"selected":t.selected=!1;break;default:ft(t,o,I,null,s,T)}for(p in s)if(T=s[p],v=n[p],s.hasOwnProperty(p)&&T!==v&&(T!=null||v!=null))switch(p){case"selected":t.selected=T&&typeof T!="function"&&typeof T!="symbol";break;default:ft(t,o,p,T,s,v)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var k in n)T=n[k],n.hasOwnProperty(k)&&T!=null&&!s.hasOwnProperty(k)&&ft(t,o,k,null,s,T);for(g in s)if(T=s[g],v=n[g],s.hasOwnProperty(g)&&T!==v&&(T!=null||v!=null))switch(g){case"children":case"dangerouslySetInnerHTML":if(T!=null)throw Error(se(137,o));break;default:ft(t,o,g,T,s,v)}return;default:if(Bv(o)){for(var G in n)T=n[G],n.hasOwnProperty(G)&&T!==void 0&&!s.hasOwnProperty(G)&&WE(t,o,G,void 0,s,T);for($ in s)T=s[$],v=n[$],!s.hasOwnProperty($)||T===v||T===void 0&&v===void 0||WE(t,o,$,T,s,v);return}}for(var R in n)T=n[R],n.hasOwnProperty(R)&&T!=null&&!s.hasOwnProperty(R)&&ft(t,o,R,null,s,T);for(b in s)T=s[b],v=n[b],!s.hasOwnProperty(b)||T===v||T==null&&v==null||ft(t,o,b,T,s,v)}var XE=null,YE=null;function Zf(t){return t.nodeType===9?t:t.ownerDocument}function eL(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vM(t,o){if(t===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&o==="foreignObject"?0:t}function jE(t,o){return t==="textarea"||t==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var MT=null;function mU(){var t=window.event;return t&&t.type==="popstate"?t===MT?!1:(MT=t,!0):(MT=null,!1)}var yM=typeof setTimeout=="function"?setTimeout:void 0,$U=typeof clearTimeout=="function"?clearTimeout:void 0,tL=typeof Promise=="function"?Promise:void 0,_U=typeof queueMicrotask=="function"?queueMicrotask:typeof tL<"u"?function(t){return tL.resolve(null).then(t).catch(bU)}:yM;function bU(t){setTimeout(function(){throw t})}function xT(t,o){var n=o,s=0;do{var l=n.nextSibling;if(t.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(s===0){t.removeChild(l),_d(o);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=l}while(n);_d(o)}function KE(t){var o=t.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var n=o;switch(o=o.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":KE(n),Pv(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function TU(t,o,n,s){for(;t.nodeType===1;){var l=n;if(t.nodeName.toLowerCase()!==o.toLowerCase()){if(!s&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(s){if(!t[sd])switch(o){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(c=t.getAttribute("rel"),c==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(c!==l.rel||t.getAttribute("href")!==(l.href==null?null:l.href)||t.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||t.getAttribute("title")!==(l.title==null?null:l.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(c=t.getAttribute("src"),(c!==(l.src==null?null:l.src)||t.getAttribute("type")!==(l.type==null?null:l.type)||t.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&c&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(o==="input"&&t.type==="hidden"){var c=l.name==null?null:""+l.name;if(l.type==="hidden"&&t.getAttribute("name")===c)return t}else return t;if(t=fn(t.nextSibling),t===null)break}return null}function EU(t,o,n){if(o==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=fn(t.nextSibling),t===null))return null;return t}function fn(t){for(;t!=null;t=t.nextSibling){var o=t.nodeType;if(o===1||o===3)break;if(o===8){if(o=t.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return t}function oL(t){t=t.previousSibling;for(var o=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(o===0)return t;o--}else n==="/$"&&o++}t=t.previousSibling}return null}function SM(t,o,n){switch(o=Zf(n),t){case"html":if(t=o.documentElement,!t)throw Error(se(452));return t;case"head":if(t=o.head,!t)throw Error(se(453));return t;case"body":if(t=o.body,!t)throw Error(se(454));return t;default:throw Error(se(451))}}var en=new Map,iL=new Set;function Qf(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Cs=Ot.d;Ot.d={f:vU,r:yU,D:SU,C:IU,L:OU,m:RU,X:wU,S:CU,M:AU};function vU(){var t=Cs.f(),o=xg();return t||o}function yU(t){var o=gc(t);o!==null&&o.tag===5&&o.type==="form"?SN(o):Cs.r(t)}var $c=typeof document>"u"?null:document;function IM(t,o,n){var s=$c;if(s&&typeof o=="string"&&o){var l=Yi(o);l='link[rel="'+t+'"][href="'+l+'"]',typeof n=="string"&&(l+='[crossorigin="'+n+'"]'),iL.has(l)||(iL.add(l),t={rel:t,crossOrigin:n,href:o},s.querySelector(l)===null&&(o=s.createElement("link"),xo(o,"link",t),yo(o),s.head.appendChild(o)))}}function SU(t){Cs.D(t),IM("dns-prefetch",t,null)}function IU(t,o){Cs.C(t,o),IM("preconnect",t,o)}function OU(t,o,n){Cs.L(t,o,n);var s=$c;if(s&&t&&o){var l='link[rel="preload"][as="'+Yi(o)+'"]';o==="image"&&n&&n.imageSrcSet?(l+='[imagesrcset="'+Yi(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(l+='[imagesizes="'+Yi(n.imageSizes)+'"]')):l+='[href="'+Yi(t)+'"]';var c=l;switch(o){case"style":c=rc(t);break;case"script":c=_c(t)}en.has(c)||(t=Rt({rel:"preload",href:o==="image"&&n&&n.imageSrcSet?void 0:t,as:o},n),en.set(c,t),s.querySelector(l)!==null||o==="style"&&s.querySelector(Hd(c))||o==="script"&&s.querySelector(Fd(c))||(o=s.createElement("link"),xo(o,"link",t),yo(o),s.head.appendChild(o)))}}function RU(t,o){Cs.m(t,o);var n=$c;if(n&&t){var s=o&&typeof o.as=="string"?o.as:"script",l='link[rel="modulepreload"][as="'+Yi(s)+'"][href="'+Yi(t)+'"]',c=l;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=_c(t)}if(!en.has(c)&&(t=Rt({rel:"modulepreload",href:t},o),en.set(c,t),n.querySelector(l)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Fd(c)))return}s=n.createElement("link"),xo(s,"link",t),yo(s),n.head.appendChild(s)}}}function CU(t,o,n){Cs.S(t,o,n);var s=$c;if(s&&t){var l=Ha(s).hoistableStyles,c=rc(t);o=o||"default";var d=l.get(c);if(!d){var h={loading:0,preload:null};if(d=s.querySelector(Hd(c)))h.loading=5;else{t=Rt({rel:"stylesheet",href:t,"data-precedence":o},n),(n=en.get(c))&&Ty(t,n);var p=d=s.createElement("link");yo(p),xo(p,"link",t),p._p=new Promise(function(g,$){p.onload=g,p.onerror=$}),p.addEventListener("load",function(){h.loading|=1}),p.addEventListener("error",function(){h.loading|=2}),h.loading|=4,vf(d,o,s)}d={type:"stylesheet",instance:d,count:1,state:h},l.set(c,d)}}}function wU(t,o){Cs.X(t,o);var n=$c;if(n&&t){var s=Ha(n).hoistableScripts,l=_c(t),c=s.get(l);c||(c=n.querySelector(Fd(l)),c||(t=Rt({src:t,async:!0},o),(o=en.get(l))&&Ey(t,o),c=n.createElement("script"),yo(c),xo(c,"link",t),n.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},s.set(l,c))}}function AU(t,o){Cs.M(t,o);var n=$c;if(n&&t){var s=Ha(n).hoistableScripts,l=_c(t),c=s.get(l);c||(c=n.querySelector(Fd(l)),c||(t=Rt({src:t,async:!0,type:"module"},o),(o=en.get(l))&&Ey(t,o),c=n.createElement("script"),yo(c),xo(c,"link",t),n.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},s.set(l,c))}}function nL(t,o,n,s){var l=(l=sr.current)?Qf(l):null;if(!l)throw Error(se(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(o=rc(n.href),n=Ha(l).hoistableStyles,s=n.get(o),s||(s={type:"style",instance:null,count:0,state:null},n.set(o,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=rc(n.href);var c=Ha(l).hoistableStyles,d=c.get(t);if(d||(l=l.ownerDocument||l,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(t,d),(c=l.querySelector(Hd(t)))&&!c._p&&(d.instance=c,d.state.loading=5),en.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},en.set(t,n),c||LU(l,t,n,d.state))),o&&s===null)throw Error(se(528,""));return d}if(o&&s!==null)throw Error(se(529,""));return null;case"script":return o=n.async,n=n.src,typeof n=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=_c(n),n=Ha(l).hoistableScripts,s=n.get(o),s||(s={type:"script",instance:null,count:0,state:null},n.set(o,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(se(444,t))}}function rc(t){return'href="'+Yi(t)+'"'}function Hd(t){return'link[rel="stylesheet"]['+t+"]"}function OM(t){return Rt({},t,{"data-precedence":t.precedence,precedence:null})}function LU(t,o,n,s){t.querySelector('link[rel="preload"][as="style"]['+o+"]")?s.loading=1:(o=t.createElement("link"),s.preload=o,o.addEventListener("load",function(){return s.loading|=1}),o.addEventListener("error",function(){return s.loading|=2}),xo(o,"link",n),yo(o),t.head.appendChild(o))}function _c(t){return'[src="'+Yi(t)+'"]'}function Fd(t){return"script[async]"+t}function sL(t,o,n){if(o.count++,o.instance===null)switch(o.type){case"style":var s=t.querySelector('style[data-href~="'+Yi(n.href)+'"]');if(s)return o.instance=s,yo(s),s;var l=Rt({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return s=(t.ownerDocument||t).createElement("style"),yo(s),xo(s,"style",l),vf(s,n.precedence,t),o.instance=s;case"stylesheet":l=rc(n.href);var c=t.querySelector(Hd(l));if(c)return o.state.loading|=4,o.instance=c,yo(c),c;s=OM(n),(l=en.get(l))&&Ty(s,l),c=(t.ownerDocument||t).createElement("link"),yo(c);var d=c;return d._p=new Promise(function(h,p){d.onload=h,d.onerror=p}),xo(c,"link",s),o.state.loading|=4,vf(c,n.precedence,t),o.instance=c;case"script":return c=_c(n.src),(l=t.querySelector(Fd(c)))?(o.instance=l,yo(l),l):(s=n,(l=en.get(c))&&(s=Rt({},n),Ey(s,l)),t=t.ownerDocument||t,l=t.createElement("script"),yo(l),xo(l,"link",s),t.head.appendChild(l),o.instance=l);case"void":return null;default:throw Error(se(443,o.type))}else o.type==="stylesheet"&&!(o.state.loading&4)&&(s=o.instance,o.state.loading|=4,vf(s,n.precedence,t));return o.instance}function vf(t,o,n){for(var s=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=s.length?s[s.length-1]:null,c=l,d=0;d<s.length;d++){var h=s[d];if(h.dataset.precedence===o)c=h;else if(c!==l)break}c?c.parentNode.insertBefore(t,c.nextSibling):(o=n.nodeType===9?n.head:n,o.insertBefore(t,o.firstChild))}function Ty(t,o){t.crossOrigin==null&&(t.crossOrigin=o.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=o.referrerPolicy),t.title==null&&(t.title=o.title)}function Ey(t,o){t.crossOrigin==null&&(t.crossOrigin=o.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=o.referrerPolicy),t.integrity==null&&(t.integrity=o.integrity)}var yf=null;function rL(t,o,n){if(yf===null){var s=new Map,l=yf=new Map;l.set(n,s)}else l=yf,s=l.get(n),s||(s=new Map,l.set(n,s));if(s.has(t))return s;for(s.set(t,null),n=n.getElementsByTagName(t),l=0;l<n.length;l++){var c=n[l];if(!(c[sd]||c[zo]||t==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var d=c.getAttribute(o)||"";d=t+d;var h=s.get(d);h?h.push(c):s.set(d,[c])}}return s}function lL(t,o,n){t=t.ownerDocument||t,t.head.insertBefore(n,o==="title"?t.querySelector("head > title"):null)}function kU(t,o,n){if(n===1||o.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return t=o.disabled,typeof o.precedence=="string"&&t==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function RM(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var fd=null;function NU(){}function MU(t,o,n){if(fd===null)throw Error(se(475));var s=fd;if(o.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(o.state.loading&4)){if(o.instance===null){var l=rc(n.href),c=t.querySelector(Hd(l));if(c){t=c._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(s.count++,s=eg.bind(s),t.then(s,s)),o.state.loading|=4,o.instance=c,yo(c);return}c=t.ownerDocument||t,n=OM(n),(l=en.get(l))&&Ty(n,l),c=c.createElement("link"),yo(c);var d=c;d._p=new Promise(function(h,p){d.onload=h,d.onerror=p}),xo(c,"link",n),o.instance=c}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(o,t),(t=o.state.preload)&&!(o.state.loading&3)&&(s.count++,o=eg.bind(s),t.addEventListener("load",o),t.addEventListener("error",o))}}function xU(){if(fd===null)throw Error(se(475));var t=fd;return t.stylesheets&&t.count===0&&qE(t,t.stylesheets),0<t.count?function(o){var n=setTimeout(function(){if(t.stylesheets&&qE(t,t.stylesheets),t.unsuspend){var s=t.unsuspend;t.unsuspend=null,s()}},6e4);return t.unsuspend=o,function(){t.unsuspend=null,clearTimeout(n)}}:null}function eg(){if(this.count--,this.count===0){if(this.stylesheets)qE(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var tg=null;function qE(t,o){t.stylesheets=null,t.unsuspend!==null&&(t.count++,tg=new Map,o.forEach(DU,t),tg=null,eg.call(t))}function DU(t,o){if(!(o.state.loading&4)){var n=tg.get(t);if(n)var s=n.get(null);else{n=new Map,tg.set(t,n);for(var l=t.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<l.length;c++){var d=l[c];(d.nodeName==="LINK"||d.getAttribute("media")!=="not all")&&(n.set(d.dataset.precedence,d),s=d)}s&&n.set(null,s)}l=o.instance,d=l.getAttribute("data-precedence"),c=n.get(d)||s,c===s&&n.set(null,l),n.set(d,l),this.count++,s=eg.bind(this),l.addEventListener("load",s),l.addEventListener("error",s),c?c.parentNode.insertBefore(l,c.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(l,t.firstChild)),o.state.loading|=4}}var gd={$$typeof:ps,Provider:null,Consumer:null,_currentValue:sl,_currentValue2:sl,_threadCount:0};function PU(t,o,n,s,l,c,d,h){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=rT(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rT(0),this.hiddenUpdates=rT(null),this.identifierPrefix=s,this.onUncaughtError=l,this.onCaughtError=c,this.onRecoverableError=d,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=h,this.incompleteTransitions=new Map}function CM(t,o,n,s,l,c,d,h,p,g,$,b){return t=new PU(t,o,n,d,h,p,g,b),o=1,c===!0&&(o|=24),c=Ki(3,null,null,o),t.current=c,c.stateNode=t,o=Kv(),o.refCount++,t.pooledCache=o,o.refCount++,c.memoizedState={element:s,isDehydrated:n,cache:o},uy(c),t}function wM(t){return t?(t=Ma,t):Ma}function AM(t,o,n,s,l,c){l=wM(l),s.context===null?s.context=l:s.pendingContext=l,s=rr(o),s.payload={element:n},c=c===void 0?null:c,c!==null&&(s.callback=c),n=lr(t,s,o),n!==null&&(ti(n,t,o),Yu(n,t,o))}function aL(t,o){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<o?n:o}}function vy(t,o){aL(t,o),(t=t.alternate)&&aL(t,o)}function LM(t){if(t.tag===13){var o=fr(t,67108864);o!==null&&ti(o,t,67108864),vy(t,67108864)}}var og=!0;function BU(t,o,n,s){var l=Fe.T;Fe.T=null;var c=Ot.p;try{Ot.p=2,yy(t,o,n,s)}finally{Ot.p=c,Fe.T=l}}function UU(t,o,n,s){var l=Fe.T;Fe.T=null;var c=Ot.p;try{Ot.p=8,yy(t,o,n,s)}finally{Ot.p=c,Fe.T=l}}function yy(t,o,n,s){if(og){var l=JE(s);if(l===null)NT(t,o,s,ig,n),cL(t,s);else if(FU(l,t,o,n,s))s.stopPropagation();else if(cL(t,s),o&4&&-1<HU.indexOf(t)){for(;l!==null;){var c=gc(l);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var d=Qr(c.pendingLanes);if(d!==0){var h=c;for(h.pendingLanes|=2,h.entangledLanes|=2;d;){var p=1<<31-Ci(d);h.entanglements[1]|=p,d&=~p}zn(c),!(Pt&6)&&(Yf=Un()+500,Ud(0))}}break;case 13:h=fr(c,2),h!==null&&ti(h,c,2),xg(),vy(c,2)}if(c=JE(s),c===null&&NT(t,o,s,ig,n),c===l)break;l=c}l!==null&&s.stopPropagation()}else NT(t,o,s,null,n)}}function JE(t){return t=Uv(t),Sy(t)}var ig=null;function Sy(t){if(ig=null,t=ol(t),t!==null){var o=pc(t);if(o===null)t=null;else{var n=o.tag;if(n===13){if(t=c0(o),t!==null)return t;t=null}else if(n===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;t=null}else o!==t&&(t=null)}}return ig=t,null}function kM(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(IP()){case d0:return 2;case h0:return 8;case Nf:case OP:return 32;case p0:return 268435456;default:return 32}default:return 32}}var ZE=!1,ur=null,dr=null,hr=null,md=new Map,$d=new Map,tr=[],HU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cL(t,o){switch(t){case"focusin":case"focusout":ur=null;break;case"dragenter":case"dragleave":dr=null;break;case"mouseover":case"mouseout":hr=null;break;case"pointerover":case"pointerout":md.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":$d.delete(o.pointerId)}}function Cu(t,o,n,s,l,c){return t===null||t.nativeEvent!==c?(t={blockedOn:o,domEventName:n,eventSystemFlags:s,nativeEvent:c,targetContainers:[l]},o!==null&&(o=gc(o),o!==null&&LM(o)),t):(t.eventSystemFlags|=s,o=t.targetContainers,l!==null&&o.indexOf(l)===-1&&o.push(l),t)}function FU(t,o,n,s,l){switch(o){case"focusin":return ur=Cu(ur,t,o,n,s,l),!0;case"dragenter":return dr=Cu(dr,t,o,n,s,l),!0;case"mouseover":return hr=Cu(hr,t,o,n,s,l),!0;case"pointerover":var c=l.pointerId;return md.set(c,Cu(md.get(c)||null,t,o,n,s,l)),!0;case"gotpointercapture":return c=l.pointerId,$d.set(c,Cu($d.get(c)||null,t,o,n,s,l)),!0}return!1}function NM(t){var o=ol(t.target);if(o!==null){var n=pc(o);if(n!==null){if(o=n.tag,o===13){if(o=c0(n),o!==null){t.blockedOn=o,xP(t.priority,function(){if(n.tag===13){var s=wi(),l=fr(n,s);l!==null&&ti(l,n,s),vy(n,s)}});return}}else if(o===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Sf(t){if(t.blockedOn!==null)return!1;for(var o=t.targetContainers;0<o.length;){var n=JE(t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);mE=s,n.target.dispatchEvent(s),mE=null}else return o=gc(n),o!==null&&LM(o),t.blockedOn=n,!1;o.shift()}return!0}function uL(t,o,n){Sf(t)&&n.delete(o)}function GU(){ZE=!1,ur!==null&&Sf(ur)&&(ur=null),dr!==null&&Sf(dr)&&(dr=null),hr!==null&&Sf(hr)&&(hr=null),md.forEach(uL),$d.forEach(uL)}function qp(t,o){t.blockedOn===o&&(t.blockedOn=null,ZE||(ZE=!0,po.unstable_scheduleCallback(po.unstable_NormalPriority,GU)))}var Jp=null;function dL(t){Jp!==t&&(Jp=t,po.unstable_scheduleCallback(po.unstable_NormalPriority,function(){Jp===t&&(Jp=null);for(var o=0;o<t.length;o+=3){var n=t[o],s=t[o+1],l=t[o+2];if(typeof s!="function"){if(Sy(s||n)===null)continue;break}var c=gc(n);c!==null&&(t.splice(o,3),o-=3,OE(c,{pending:!0,data:l,method:n.method,action:s},s,l))}}))}function _d(t){function o(p){return qp(p,t)}ur!==null&&qp(ur,t),dr!==null&&qp(dr,t),hr!==null&&qp(hr,t),md.forEach(o),$d.forEach(o);for(var n=0;n<tr.length;n++){var s=tr[n];s.blockedOn===t&&(s.blockedOn=null)}for(;0<tr.length&&(n=tr[0],n.blockedOn===null);)NM(n),n.blockedOn===null&&tr.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(s=0;s<n.length;s+=3){var l=n[s],c=n[s+1],d=l[di]||null;if(typeof c=="function")d||dL(n);else if(d){var h=null;if(c&&c.hasAttribute("formAction")){if(l=c,d=c[di]||null)h=d.formAction;else if(Sy(l)!==null)continue}else h=d.action;typeof h=="function"?n[s+1]=h:(n.splice(s,3),s-=3),dL(n)}}}function Iy(t){this._internalRoot=t}Bg.prototype.render=Iy.prototype.render=function(t){var o=this._internalRoot;if(o===null)throw Error(se(409));var n=o.current,s=wi();AM(n,s,t,o,null,null)};Bg.prototype.unmount=Iy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var o=t.containerInfo;t.tag===0&&Ya(),AM(t.current,2,null,t,null,null),xg(),o[fc]=null}};function Bg(t){this._internalRoot=t}Bg.prototype.unstable_scheduleHydration=function(t){if(t){var o=b0();t={blockedOn:null,target:t,priority:o};for(var n=0;n<tr.length&&o!==0&&o<tr[n].priority;n++);tr.splice(n,0,t),n===0&&NM(t)}};var hL=n0.version;if(hL!=="19.0.0")throw Error(se(527,hL,"19.0.0"));Ot.findDOMNode=function(t){var o=t._reactInternals;if(o===void 0)throw typeof t.render=="function"?Error(se(188)):(t=Object.keys(t).join(","),Error(se(268,t)));return t=vP(o),t=t!==null?u0(t):null,t=t===null?null:t.stateNode,t};var VU={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:Fe,findFiberByHostInstance:ol,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zp.isDisabled&&Zp.supportsFiber)try{Ad=Zp.inject(VU),Ri=Zp}catch(t){}}yg.createRoot=function(t,o){if(!s0(t))throw Error(se(299));var n=!1,s="",l=AN,c=LN,d=kN,h=null;return o!=null&&(o.unstable_strictMode===!0&&(n=!0),o.identifierPrefix!==void 0&&(s=o.identifierPrefix),o.onUncaughtError!==void 0&&(l=o.onUncaughtError),o.onCaughtError!==void 0&&(c=o.onCaughtError),o.onRecoverableError!==void 0&&(d=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(h=o.unstable_transitionCallbacks)),o=CM(t,1,!1,null,null,n,s,l,c,d,h,null),t[fc]=o.current,by(t.nodeType===8?t.parentNode:t),new Iy(o)};yg.hydrateRoot=function(t,o,n){if(!s0(t))throw Error(se(299));var s=!1,l="",c=AN,d=LN,h=kN,p=null,g=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(h=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(p=n.unstable_transitionCallbacks),n.formState!==void 0&&(g=n.formState)),o=CM(t,1,!0,o,n!=null?n:null,s,l,c,d,h,p,g),o.context=wM(null),n=o.current,s=wi(),l=rr(s),l.callback=null,lr(n,l,s),o.current.lanes=s,kd(o,s),zn(o),t[fc]=o.current,by(t),new Bg(o)};yg.version="19.0.0";function MM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(MM)}catch(t){console.error(t)}}MM(),Zk.exports=yg;var zU=Zk.exports;function QE(t,o){return QE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},QE(t,o)}function _r(t,o){t.prototype=Object.create(o.prototype),t.prototype.constructor=t,QE(t,o)}var xM={exports:{}},WU="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",XU=WU,YU=XU;function DM(){}function PM(){}PM.resetWarningCache=DM;var jU=function(){function t(s,l,c,d,h,p){if(p!==YU){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}t.isRequired=t;function o(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:o,element:t,elementType:t,instanceOf:o,node:t,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:PM,resetWarningCache:DM};return n.PropTypes=n,n};xM.exports=jU();var KU=xM.exports;const pL=Rs(KU);function hi(){return hi=Object.assign?Object.assign.bind():function(t){for(var o=1;o<arguments.length;o++){var n=arguments[o];for(var s in n)({}).hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},hi.apply(null,arguments)}function Qp(t){return t.charAt(0)==="/"}function DT(t,o){for(var n=o,s=n+1,l=t.length;s<l;n+=1,s+=1)t[n]=t[s];t.pop()}function qU(t,o){o===void 0&&(o="");var n=t&&t.split("/")||[],s=o&&o.split("/")||[],l=t&&Qp(t),c=o&&Qp(o),d=l||c;if(t&&Qp(t)?s=n:n.length&&(s.pop(),s=s.concat(n)),!s.length)return"/";var h;if(s.length){var p=s[s.length-1];h=p==="."||p===".."||p===""}else h=!1;for(var g=0,$=s.length;$>=0;$--){var b=s[$];b==="."?DT(s,$):b===".."?(DT(s,$),g++):g&&(DT(s,$),g--)}if(!d)for(;g--;g)s.unshift("..");d&&s[0]!==""&&(!s[0]||!Qp(s[0]))&&s.unshift("");var T=s.join("/");return h&&T.substr(-1)!=="/"&&(T+="/"),T}function fL(t){return t.valueOf?t.valueOf():Object.prototype.valueOf.call(t)}function If(t,o){if(t===o)return!0;if(t==null||o==null)return!1;if(Array.isArray(t))return Array.isArray(o)&&t.length===o.length&&t.every(function(l,c){return If(l,o[c])});if(typeof t=="object"||typeof o=="object"){var n=fL(t),s=fL(o);return n!==t||s!==o?If(n,s):Object.keys(Object.assign({},t,o)).every(function(l){return If(t[l],o[l])})}return!1}var JU="Invariant failed";function Cl(t,o){throw new Error(JU)}function ed(t){return t.charAt(0)==="/"?t:"/"+t}function gL(t){return t.charAt(0)==="/"?t.substr(1):t}function ZU(t,o){return t.toLowerCase().indexOf(o.toLowerCase())===0&&"/?#".indexOf(t.charAt(o.length))!==-1}function BM(t,o){return ZU(t,o)?t.substr(o.length):t}function UM(t){return t.charAt(t.length-1)==="/"?t.slice(0,-1):t}function QU(t){var o=t||"/",n="",s="",l=o.indexOf("#");l!==-1&&(s=o.substr(l),o=o.substr(0,l));var c=o.indexOf("?");return c!==-1&&(n=o.substr(c),o=o.substr(0,c)),{pathname:o,search:n==="?"?"":n,hash:s==="#"?"":s}}function Fi(t){var o=t.pathname,n=t.search,s=t.hash,l=o||"/";return n&&n!=="?"&&(l+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(l+=s.charAt(0)==="#"?s:"#"+s),l}function ui(t,o,n,s){var l;typeof t=="string"?(l=QU(t),l.state=o):(l=hi({},t),l.pathname===void 0&&(l.pathname=""),l.search?l.search.charAt(0)!=="?"&&(l.search="?"+l.search):l.search="",l.hash?l.hash.charAt(0)!=="#"&&(l.hash="#"+l.hash):l.hash="",o!==void 0&&l.state===void 0&&(l.state=o));try{l.pathname=decodeURI(l.pathname)}catch(c){throw c instanceof URIError?new URIError('Pathname "'+l.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):c}return n&&(l.key=n),s?l.pathname?l.pathname.charAt(0)!=="/"&&(l.pathname=qU(l.pathname,s.pathname)):l.pathname=s.pathname:l.pathname||(l.pathname="/"),l}function eH(t,o){return t.pathname===o.pathname&&t.search===o.search&&t.hash===o.hash&&t.key===o.key&&If(t.state,o.state)}function Oy(){var t=null;function o(d){return t=d,function(){t===d&&(t=null)}}function n(d,h,p,g){if(t!=null){var $=typeof t=="function"?t(d,h):t;typeof $=="string"?typeof p=="function"?p($,g):g(!0):g($!==!1)}else g(!0)}var s=[];function l(d){var h=!0;function p(){h&&d.apply(void 0,arguments)}return s.push(p),function(){h=!1,s=s.filter(function(g){return g!==p})}}function c(){for(var d=arguments.length,h=new Array(d),p=0;p<d;p++)h[p]=arguments[p];s.forEach(function(g){return g.apply(void 0,h)})}return{setPrompt:o,confirmTransitionTo:n,appendListener:l,notifyListeners:c}}var HM=!!(typeof window<"u"&&window.document&&window.document.createElement);function FM(t,o){o(window.confirm(t))}function tH(){var t=window.navigator.userAgent;return(t.indexOf("Android 2.")!==-1||t.indexOf("Android 4.0")!==-1)&&t.indexOf("Mobile Safari")!==-1&&t.indexOf("Chrome")===-1&&t.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function oH(){return window.navigator.userAgent.indexOf("Trident")===-1}function iH(){return window.navigator.userAgent.indexOf("Firefox")===-1}function nH(t){return t.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var mL="popstate",$L="hashchange";function _L(){try{return window.history.state||{}}catch(t){return{}}}function sH(t){t===void 0&&(t={}),HM||Cl();var o=window.history,n=tH(),s=!oH(),l=t,c=l.forceRefresh,d=c===void 0?!1:c,h=l.getUserConfirmation,p=h===void 0?FM:h,g=l.keyLength,$=g===void 0?6:g,b=t.basename?UM(ed(t.basename)):"";function T(ae){var V=ae||{},Se=V.key,le=V.state,Ee=window.location,$e=Ee.pathname,Re=Ee.search,ke=Ee.hash,Ye=$e+Re+ke;return b&&(Ye=BM(Ye,b)),ui(Ye,le,Se)}function v(){return Math.random().toString(36).substr(2,$)}var I=Oy();function k(ae){hi(pe,ae),pe.length=o.length,I.notifyListeners(pe.location,pe.action)}function G(ae){nH(ae)||w(T(ae.state))}function R(){w(T(_L()))}var S=!1;function w(ae){if(S)S=!1,k();else{var V="POP";I.confirmTransitionTo(ae,V,p,function(Se){Se?k({action:V,location:ae}):L(ae)})}}function L(ae){var V=pe.location,Se=Y.indexOf(V.key);Se===-1&&(Se=0);var le=Y.indexOf(ae.key);le===-1&&(le=0);var Ee=Se-le;Ee&&(S=!0,J(Ee))}var H=T(_L()),Y=[H.key];function K(ae){return b+Fi(ae)}function j(ae,V){var Se="PUSH",le=ui(ae,V,v(),pe.location);I.confirmTransitionTo(le,Se,p,function(Ee){if(Ee){var $e=K(le),Re=le.key,ke=le.state;if(n)if(o.pushState({key:Re,state:ke},null,$e),d)window.location.href=$e;else{var Ye=Y.indexOf(pe.location.key),we=Y.slice(0,Ye+1);we.push(le.key),Y=we,k({action:Se,location:le})}else window.location.href=$e}})}function P(ae,V){var Se="REPLACE",le=ui(ae,V,v(),pe.location);I.confirmTransitionTo(le,Se,p,function(Ee){if(Ee){var $e=K(le),Re=le.key,ke=le.state;if(n)if(o.replaceState({key:Re,state:ke},null,$e),d)window.location.replace($e);else{var Ye=Y.indexOf(pe.location.key);Ye!==-1&&(Y[Ye]=le.key),k({action:Se,location:le})}else window.location.replace($e)}})}function J(ae){o.go(ae)}function ie(){J(-1)}function ce(){J(1)}var me=0;function ve(ae){me+=ae,me===1&&ae===1?(window.addEventListener(mL,G),s&&window.addEventListener($L,R)):me===0&&(window.removeEventListener(mL,G),s&&window.removeEventListener($L,R))}var Te=!1;function ee(ae){ae===void 0&&(ae=!1);var V=I.setPrompt(ae);return Te||(ve(1),Te=!0),function(){return Te&&(Te=!1,ve(-1)),V()}}function he(ae){var V=I.appendListener(ae);return ve(1),function(){ve(-1),V()}}var pe={length:o.length,action:"POP",location:H,createHref:K,push:j,replace:P,go:J,goBack:ie,goForward:ce,block:ee,listen:he};return pe}var bL="hashchange",rH={hashbang:{encodePath:function(o){return o.charAt(0)==="!"?o:"!/"+gL(o)},decodePath:function(o){return o.charAt(0)==="!"?o.substr(1):o}},noslash:{encodePath:gL,decodePath:ed},slash:{encodePath:ed,decodePath:ed}};function GM(t){var o=t.indexOf("#");return o===-1?t:t.slice(0,o)}function wu(){var t=window.location.href,o=t.indexOf("#");return o===-1?"":t.substring(o+1)}function lH(t){window.location.hash=t}function PT(t){window.location.replace(GM(window.location.href)+"#"+t)}function aH(t){t===void 0&&(t={}),HM||Cl();var o=window.history;iH();var n=t,s=n.getUserConfirmation,l=s===void 0?FM:s,c=n.hashType,d=c===void 0?"slash":c,h=t.basename?UM(ed(t.basename)):"",p=rH[d],g=p.encodePath,$=p.decodePath;function b(){var V=$(wu());return h&&(V=BM(V,h)),ui(V)}var T=Oy();function v(V){hi(ae,V),ae.length=o.length,T.notifyListeners(ae.location,ae.action)}var I=!1,k=null;function G(V,Se){return V.pathname===Se.pathname&&V.search===Se.search&&V.hash===Se.hash}function R(){var V=wu(),Se=g(V);if(V!==Se)PT(Se);else{var le=b(),Ee=ae.location;if(!I&&G(Ee,le)||k===Fi(le))return;k=null,S(le)}}function S(V){if(I)I=!1,v();else{var Se="POP";T.confirmTransitionTo(V,Se,l,function(le){le?v({action:Se,location:V}):w(V)})}}function w(V){var Se=ae.location,le=K.lastIndexOf(Fi(Se));le===-1&&(le=0);var Ee=K.lastIndexOf(Fi(V));Ee===-1&&(Ee=0);var $e=le-Ee;$e&&(I=!0,ie($e))}var L=wu(),H=g(L);L!==H&&PT(H);var Y=b(),K=[Fi(Y)];function j(V){var Se=document.querySelector("base"),le="";return Se&&Se.getAttribute("href")&&(le=GM(window.location.href)),le+"#"+g(h+Fi(V))}function P(V,Se){var le="PUSH",Ee=ui(V,void 0,void 0,ae.location);T.confirmTransitionTo(Ee,le,l,function($e){if($e){var Re=Fi(Ee),ke=g(h+Re),Ye=wu()!==ke;if(Ye){k=Re,lH(ke);var we=K.lastIndexOf(Fi(ae.location)),ot=K.slice(0,we+1);ot.push(Re),K=ot,v({action:le,location:Ee})}else v()}})}function J(V,Se){var le="REPLACE",Ee=ui(V,void 0,void 0,ae.location);T.confirmTransitionTo(Ee,le,l,function($e){if($e){var Re=Fi(Ee),ke=g(h+Re),Ye=wu()!==ke;Ye&&(k=Re,PT(ke));var we=K.indexOf(Fi(ae.location));we!==-1&&(K[we]=Re),v({action:le,location:Ee})}})}function ie(V){o.go(V)}function ce(){ie(-1)}function me(){ie(1)}var ve=0;function Te(V){ve+=V,ve===1&&V===1?window.addEventListener(bL,R):ve===0&&window.removeEventListener(bL,R)}var ee=!1;function he(V){V===void 0&&(V=!1);var Se=T.setPrompt(V);return ee||(Te(1),ee=!0),function(){return ee&&(ee=!1,Te(-1)),Se()}}function pe(V){var Se=T.appendListener(V);return Te(1),function(){Te(-1),Se()}}var ae={length:o.length,action:"POP",location:Y,createHref:j,push:P,replace:J,go:ie,goBack:ce,goForward:me,block:he,listen:pe};return ae}function TL(t,o,n){return Math.min(Math.max(t,o),n)}function cH(t){t===void 0&&(t={});var o=t,n=o.getUserConfirmation,s=o.initialEntries,l=s===void 0?["/"]:s,c=o.initialIndex,d=c===void 0?0:c,h=o.keyLength,p=h===void 0?6:h,g=Oy();function $(j){hi(K,j),K.length=K.entries.length,g.notifyListeners(K.location,K.action)}function b(){return Math.random().toString(36).substr(2,p)}var T=TL(d,0,l.length-1),v=l.map(function(j){return typeof j=="string"?ui(j,void 0,b()):ui(j,void 0,j.key||b())}),I=Fi;function k(j,P){var J="PUSH",ie=ui(j,P,b(),K.location);g.confirmTransitionTo(ie,J,n,function(ce){if(ce){var me=K.index,ve=me+1,Te=K.entries.slice(0);Te.length>ve?Te.splice(ve,Te.length-ve,ie):Te.push(ie),$({action:J,location:ie,index:ve,entries:Te})}})}function G(j,P){var J="REPLACE",ie=ui(j,P,b(),K.location);g.confirmTransitionTo(ie,J,n,function(ce){ce&&(K.entries[K.index]=ie,$({action:J,location:ie}))})}function R(j){var P=TL(K.index+j,0,K.entries.length-1),J="POP",ie=K.entries[P];g.confirmTransitionTo(ie,J,n,function(ce){ce?$({action:J,location:ie,index:P}):$()})}function S(){R(-1)}function w(){R(1)}function L(j){var P=K.index+j;return P>=0&&P<K.entries.length}function H(j){return j===void 0&&(j=!1),g.setPrompt(j)}function Y(j){return g.appendListener(j)}var K={length:v.length,action:"POP",location:v[T],index:T,entries:v,createHref:I,push:k,replace:G,go:R,goBack:S,goForward:w,canGo:L,block:H,listen:Y};return K}var bc={exports:{}},uH=Array.isArray||function(t){return Object.prototype.toString.call(t)=="[object Array]"},ng=uH;bc.exports=WM;bc.exports.parse=Ry;bc.exports.compile=pH;bc.exports.tokensToFunction=VM;bc.exports.tokensToRegExp=zM;var dH=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function Ry(t,o){for(var n=[],s=0,l=0,c="",d=o&&o.delimiter||"/",h;(h=dH.exec(t))!=null;){var p=h[0],g=h[1],$=h.index;if(c+=t.slice(l,$),l=$+p.length,g){c+=g[1];continue}var b=t[l],T=h[2],v=h[3],I=h[4],k=h[5],G=h[6],R=h[7];c&&(n.push(c),c="");var S=T!=null&&b!=null&&b!==T,w=G==="+"||G==="*",L=G==="?"||G==="*",H=T||d,Y=I||k,K=T||(typeof n[n.length-1]=="string"?n[n.length-1]:"");n.push({name:v||s++,prefix:T||"",delimiter:H,optional:L,repeat:w,partial:S,asterisk:!!R,pattern:Y?mH(Y):R?".*":hH(H,K)})}return l<t.length&&(c+=t.substr(l)),c&&n.push(c),n}function hH(t,o){return!o||o.indexOf(t)>-1?"[^"+nl(t)+"]+?":nl(o)+"|(?:(?!"+nl(o)+")[^"+nl(t)+"])+?"}function pH(t,o){return VM(Ry(t,o),o)}function fH(t){return encodeURI(t).replace(/[\/?#]/g,function(o){return"%"+o.charCodeAt(0).toString(16).toUpperCase()})}function gH(t){return encodeURI(t).replace(/[?#]/g,function(o){return"%"+o.charCodeAt(0).toString(16).toUpperCase()})}function VM(t,o){for(var n=new Array(t.length),s=0;s<t.length;s++)typeof t[s]=="object"&&(n[s]=new RegExp("^(?:"+t[s].pattern+")$",wy(o)));return function(l,c){for(var d="",h=l||{},p=c||{},g=p.pretty?fH:encodeURIComponent,$=0;$<t.length;$++){var b=t[$];if(typeof b=="string"){d+=b;continue}var T=h[b.name],v;if(T==null)if(b.optional){b.partial&&(d+=b.prefix);continue}else throw new TypeError('Expected "'+b.name+'" to be defined');if(ng(T)){if(!b.repeat)throw new TypeError('Expected "'+b.name+'" to not repeat, but received `'+JSON.stringify(T)+"`");if(T.length===0){if(b.optional)continue;throw new TypeError('Expected "'+b.name+'" to not be empty')}for(var I=0;I<T.length;I++){if(v=g(T[I]),!n[$].test(v))throw new TypeError('Expected all "'+b.name+'" to match "'+b.pattern+'", but received `'+JSON.stringify(v)+"`");d+=(I===0?b.prefix:b.delimiter)+v}continue}if(v=b.asterisk?gH(T):g(T),!n[$].test(v))throw new TypeError('Expected "'+b.name+'" to match "'+b.pattern+'", but received "'+v+'"');d+=b.prefix+v}return d}}function nl(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function mH(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function Cy(t,o){return t.keys=o,t}function wy(t){return t&&t.sensitive?"":"i"}function $H(t,o){var n=t.source.match(/\((?!\?)/g);if(n)for(var s=0;s<n.length;s++)o.push({name:s,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return Cy(t,o)}function _H(t,o,n){for(var s=[],l=0;l<t.length;l++)s.push(WM(t[l],o,n).source);var c=new RegExp("(?:"+s.join("|")+")",wy(n));return Cy(c,o)}function bH(t,o,n){return zM(Ry(t,n),o,n)}function zM(t,o,n){ng(o)||(n=o||n,o=[]),n=n||{};for(var s=n.strict,l=n.end!==!1,c="",d=0;d<t.length;d++){var h=t[d];if(typeof h=="string")c+=nl(h);else{var p=nl(h.prefix),g="(?:"+h.pattern+")";o.push(h),h.repeat&&(g+="(?:"+p+g+")*"),h.optional?h.partial?g=p+"("+g+")?":g="(?:"+p+"("+g+"))?":g=p+"("+g+")",c+=g}}var $=nl(n.delimiter||"/"),b=c.slice(-$.length)===$;return s||(c=(b?c.slice(0,-$.length):c)+"(?:"+$+"(?=$))?"),l?c+="$":c+=s&&b?"":"(?="+$+"|$)",Cy(new RegExp("^"+c,wy(n)),o)}function WM(t,o,n){return ng(o)||(n=o||n,o=[]),n=n||{},t instanceof RegExp?$H(t,o):ng(t)?_H(t,o,n):bH(t,o,n)}var TH=bc.exports;const XM=Rs(TH);var mt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oo=typeof Symbol=="function"&&Symbol.for,Ay=Oo?Symbol.for("react.element"):60103,Ly=Oo?Symbol.for("react.portal"):60106,Ug=Oo?Symbol.for("react.fragment"):60107,Hg=Oo?Symbol.for("react.strict_mode"):60108,Fg=Oo?Symbol.for("react.profiler"):60114,Gg=Oo?Symbol.for("react.provider"):60109,Vg=Oo?Symbol.for("react.context"):60110,ky=Oo?Symbol.for("react.async_mode"):60111,zg=Oo?Symbol.for("react.concurrent_mode"):60111,Wg=Oo?Symbol.for("react.forward_ref"):60112,Xg=Oo?Symbol.for("react.suspense"):60113,EH=Oo?Symbol.for("react.suspense_list"):60120,Yg=Oo?Symbol.for("react.memo"):60115,jg=Oo?Symbol.for("react.lazy"):60116,vH=Oo?Symbol.for("react.block"):60121,yH=Oo?Symbol.for("react.fundamental"):60117,SH=Oo?Symbol.for("react.responder"):60118,IH=Oo?Symbol.for("react.scope"):60119;function Li(t){if(typeof t=="object"&&t!==null){var o=t.$$typeof;switch(o){case Ay:switch(t=t.type,t){case ky:case zg:case Ug:case Fg:case Hg:case Xg:return t;default:switch(t=t&&t.$$typeof,t){case Vg:case Wg:case jg:case Yg:case Gg:return t;default:return o}}case Ly:return o}}}function YM(t){return Li(t)===zg}mt.AsyncMode=ky;mt.ConcurrentMode=zg;mt.ContextConsumer=Vg;mt.ContextProvider=Gg;mt.Element=Ay;mt.ForwardRef=Wg;mt.Fragment=Ug;mt.Lazy=jg;mt.Memo=Yg;mt.Portal=Ly;mt.Profiler=Fg;mt.StrictMode=Hg;mt.Suspense=Xg;mt.isAsyncMode=function(t){return YM(t)||Li(t)===ky};mt.isConcurrentMode=YM;mt.isContextConsumer=function(t){return Li(t)===Vg};mt.isContextProvider=function(t){return Li(t)===Gg};mt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ay};mt.isForwardRef=function(t){return Li(t)===Wg};mt.isFragment=function(t){return Li(t)===Ug};mt.isLazy=function(t){return Li(t)===jg};mt.isMemo=function(t){return Li(t)===Yg};mt.isPortal=function(t){return Li(t)===Ly};mt.isProfiler=function(t){return Li(t)===Fg};mt.isStrictMode=function(t){return Li(t)===Hg};mt.isSuspense=function(t){return Li(t)===Xg};mt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Ug||t===zg||t===Fg||t===Hg||t===Xg||t===EH||typeof t=="object"&&t!==null&&(t.$$typeof===jg||t.$$typeof===Yg||t.$$typeof===Gg||t.$$typeof===Vg||t.$$typeof===Wg||t.$$typeof===yH||t.$$typeof===SH||t.$$typeof===IH||t.$$typeof===vH)};mt.typeOf=Li;function jM(t,o){if(t==null)return{};var n={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(o.indexOf(s)!==-1)continue;n[s]=t[s]}return n}var KM={exports:{}},ut={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ro=typeof Symbol=="function"&&Symbol.for,Ny=Ro?Symbol.for("react.element"):60103,My=Ro?Symbol.for("react.portal"):60106,Kg=Ro?Symbol.for("react.fragment"):60107,qg=Ro?Symbol.for("react.strict_mode"):60108,Jg=Ro?Symbol.for("react.profiler"):60114,Zg=Ro?Symbol.for("react.provider"):60109,Qg=Ro?Symbol.for("react.context"):60110,xy=Ro?Symbol.for("react.async_mode"):60111,em=Ro?Symbol.for("react.concurrent_mode"):60111,tm=Ro?Symbol.for("react.forward_ref"):60112,om=Ro?Symbol.for("react.suspense"):60113,OH=Ro?Symbol.for("react.suspense_list"):60120,im=Ro?Symbol.for("react.memo"):60115,nm=Ro?Symbol.for("react.lazy"):60116,RH=Ro?Symbol.for("react.block"):60121,CH=Ro?Symbol.for("react.fundamental"):60117,wH=Ro?Symbol.for("react.responder"):60118,AH=Ro?Symbol.for("react.scope"):60119;function ki(t){if(typeof t=="object"&&t!==null){var o=t.$$typeof;switch(o){case Ny:switch(t=t.type,t){case xy:case em:case Kg:case Jg:case qg:case om:return t;default:switch(t=t&&t.$$typeof,t){case Qg:case tm:case nm:case im:case Zg:return t;default:return o}}case My:return o}}}function qM(t){return ki(t)===em}ut.AsyncMode=xy;ut.ConcurrentMode=em;ut.ContextConsumer=Qg;ut.ContextProvider=Zg;ut.Element=Ny;ut.ForwardRef=tm;ut.Fragment=Kg;ut.Lazy=nm;ut.Memo=im;ut.Portal=My;ut.Profiler=Jg;ut.StrictMode=qg;ut.Suspense=om;ut.isAsyncMode=function(t){return qM(t)||ki(t)===xy};ut.isConcurrentMode=qM;ut.isContextConsumer=function(t){return ki(t)===Qg};ut.isContextProvider=function(t){return ki(t)===Zg};ut.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ny};ut.isForwardRef=function(t){return ki(t)===tm};ut.isFragment=function(t){return ki(t)===Kg};ut.isLazy=function(t){return ki(t)===nm};ut.isMemo=function(t){return ki(t)===im};ut.isPortal=function(t){return ki(t)===My};ut.isProfiler=function(t){return ki(t)===Jg};ut.isStrictMode=function(t){return ki(t)===qg};ut.isSuspense=function(t){return ki(t)===om};ut.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Kg||t===em||t===Jg||t===qg||t===om||t===OH||typeof t=="object"&&t!==null&&(t.$$typeof===nm||t.$$typeof===im||t.$$typeof===Zg||t.$$typeof===Qg||t.$$typeof===tm||t.$$typeof===CH||t.$$typeof===wH||t.$$typeof===AH||t.$$typeof===RH)};ut.typeOf=ki;KM.exports=ut;var LH=KM.exports,Dy=LH,kH={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},NH={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},MH={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},JM={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Py={};Py[Dy.ForwardRef]=MH;Py[Dy.Memo]=JM;function EL(t){return Dy.isMemo(t)?JM:Py[t.$$typeof]||kH}var xH=Object.defineProperty,DH=Object.getOwnPropertyNames,vL=Object.getOwnPropertySymbols,PH=Object.getOwnPropertyDescriptor,BH=Object.getPrototypeOf,yL=Object.prototype;function ZM(t,o,n){if(typeof o!="string"){if(yL){var s=BH(o);s&&s!==yL&&ZM(t,s,n)}var l=DH(o);vL&&(l=l.concat(vL(o)));for(var c=EL(t),d=EL(o),h=0;h<l.length;++h){var p=l[h];if(!NH[p]&&!(n&&n[p])&&!(d&&d[p])&&!(c&&c[p])){var g=PH(o,p);try{xH(t,p,g)}catch($){}}}}return t}var UH=ZM;const HH=Rs(UH);var BT=1073741823,SL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{};function FH(){var t="__global_unique_id__";return SL[t]=(SL[t]||0)+1}function GH(t,o){return t===o?t!==0||1/t===1/o:t!==t&&o!==o}function VH(t){var o=[];return{on:function(s){o.push(s)},off:function(s){o=o.filter(function(l){return l!==s})},get:function(){return t},set:function(s,l){t=s,o.forEach(function(c){return c(t,l)})}}}function zH(t){return Array.isArray(t)?t[0]:t}function WH(t,o){var n,s,l="__create-react-context-"+FH()+"__",c=function(h){_r(p,h);function p(){for(var $,b=arguments.length,T=new Array(b),v=0;v<b;v++)T[v]=arguments[v];return $=h.call.apply(h,[this].concat(T))||this,$.emitter=VH($.props.value),$}var g=p.prototype;return g.getChildContext=function(){var b;return b={},b[l]=this.emitter,b},g.componentWillReceiveProps=function(b){if(this.props.value!==b.value){var T=this.props.value,v=b.value,I;GH(T,v)?I=0:(I=typeof o=="function"?o(T,v):BT,I|=0,I!==0&&this.emitter.set(b.value,I))}},g.render=function(){return this.props.children},p}(ue.Component);c.childContextTypes=(n={},n[l]=pL.object.isRequired,n);var d=function(h){_r(p,h);function p(){for(var $,b=arguments.length,T=new Array(b),v=0;v<b;v++)T[v]=arguments[v];return $=h.call.apply(h,[this].concat(T))||this,$.observedBits=void 0,$.state={value:$.getValue()},$.onUpdate=function(I,k){var G=$.observedBits|0;G&k&&$.setState({value:$.getValue()})},$}var g=p.prototype;return g.componentWillReceiveProps=function(b){var T=b.observedBits;this.observedBits=T==null?BT:T},g.componentDidMount=function(){this.context[l]&&this.context[l].on(this.onUpdate);var b=this.props.observedBits;this.observedBits=b==null?BT:b},g.componentWillUnmount=function(){this.context[l]&&this.context[l].off(this.onUpdate)},g.getValue=function(){return this.context[l]?this.context[l].get():t},g.render=function(){return zH(this.props.children)(this.state.value)},p}(ue.Component);return d.contextTypes=(s={},s[l]=pL.object,s),{Provider:c,Consumer:d}}var XH=ue.createContext||WH,QM=function(o){var n=XH();return n.displayName=o,n},YH=QM("Router-History"),lc=QM("Router"),Gd=function(t){_r(o,t),o.computeRootMatch=function(l){return{path:"/",url:"/",params:{},isExact:l==="/"}};function o(s){var l;return l=t.call(this,s)||this,l.state={location:s.history.location},l._isMounted=!1,l._pendingLocation=null,s.staticContext||(l.unlisten=s.history.listen(function(c){l._pendingLocation=c})),l}var n=o.prototype;return n.componentDidMount=function(){var l=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen(function(c){l._isMounted&&l.setState({location:c})})),this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return ue.createElement(lc.Provider,{value:{history:this.props.history,location:this.state.location,match:o.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},ue.createElement(YH.Provider,{children:this.props.children||null,value:this.props.history}))},o}(ue.Component);ue.Component;var jH=function(t){_r(o,t);function o(){return t.apply(this,arguments)||this}var n=o.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(l){this.props.onUpdate&&this.props.onUpdate.call(this,this,l)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},o}(ue.Component),UT={},KH=1e4,IL=0;function qH(t){if(UT[t])return UT[t];var o=XM.compile(t);return IL<KH&&(UT[t]=o,IL++),o}function OL(t,o){return t===void 0&&(t="/"),o===void 0&&(o={}),t==="/"?t:qH(t)(o,{pretty:!0})}function JH(t){var o=t.computedMatch,n=t.to,s=t.push,l=s===void 0?!1:s;return ue.createElement(lc.Consumer,null,function(c){c||Cl();var d=c.history,h=c.staticContext,p=l?d.push:d.replace,g=ui(o?typeof n=="string"?OL(n,o.params):hi({},n,{pathname:OL(n.pathname,o.params)}):n);return h?(p(g),null):ue.createElement(jH,{onMount:function(){p(g)},onUpdate:function(b,T){var v=ui(T.to);eH(v,hi({},g,{key:v.key}))||p(g)},to:n})})}var RL={},ZH=1e4,CL=0;function QH(t,o){var n=""+o.end+o.strict+o.sensitive,s=RL[n]||(RL[n]={});if(s[t])return s[t];var l=[],c=XM(t,l,o),d={regexp:c,keys:l};return CL<ZH&&(s[t]=d,CL++),d}function By(t,o){o===void 0&&(o={}),(typeof o=="string"||Array.isArray(o))&&(o={path:o});var n=o,s=n.path,l=n.exact,c=l===void 0?!1:l,d=n.strict,h=d===void 0?!1:d,p=n.sensitive,g=p===void 0?!1:p,$=[].concat(s);return $.reduce(function(b,T){if(!T&&T!=="")return null;if(b)return b;var v=QH(T,{end:c,strict:h,sensitive:g}),I=v.regexp,k=v.keys,G=I.exec(t);if(!G)return null;var R=G[0],S=G.slice(1),w=t===R;return c&&!w?null:{path:T,url:T==="/"&&R===""?"/":R,isExact:w,params:k.reduce(function(L,H,Y){return L[H.name]=S[Y],L},{})}},null)}function eF(t){return ue.Children.count(t)===0}var ev=function(t){_r(o,t);function o(){return t.apply(this,arguments)||this}var n=o.prototype;return n.render=function(){var l=this;return ue.createElement(lc.Consumer,null,function(c){c||Cl();var d=l.props.location||c.location,h=l.props.computedMatch?l.props.computedMatch:l.props.path?By(d.pathname,l.props):c.match,p=hi({},c,{location:d,match:h}),g=l.props,$=g.children,b=g.component,T=g.render;return Array.isArray($)&&eF($)&&($=null),ue.createElement(lc.Provider,{value:p},p.match?$?typeof $=="function"?$(p):$:b?ue.createElement(b,p):T?T(p):null:typeof $=="function"?$(p):null)})},o}(ue.Component);function Uy(t){return t.charAt(0)==="/"?t:"/"+t}function tF(t,o){return t?hi({},o,{pathname:Uy(t)+o.pathname}):o}function oF(t,o){if(!t)return o;var n=Uy(t);return o.pathname.indexOf(n)!==0?o:hi({},o,{pathname:o.pathname.substr(n.length)})}function wL(t){return typeof t=="string"?t:Fi(t)}function HT(t){return function(){Cl()}}function AL(){}ue.Component;ue.Component;function iF(t){var o="withRouter("+(t.displayName||t.name)+")",n=function(l){var c=l.wrappedComponentRef,d=jM(l,["wrappedComponentRef"]);return ue.createElement(lc.Consumer,null,function(h){return h||Cl(),ue.createElement(t,hi({},d,h,{ref:c}))})};return n.displayName=o,n.WrappedComponent=t,HH(n,t)}ue.useContext;const nF="modulepreload",sF=function(t){return"/"+t},LL={},hn=function(o,n,s){let l=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),h=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));l=Promise.allSettled(n.map(p=>{if(p=sF(p),p in LL)return;LL[p]=!0;const g=p.endsWith(".css"),$=g?'[rel="stylesheet"]':"";if(document.querySelector('link[href="'.concat(p,'"]').concat($)))return;const b=document.createElement("link");if(b.rel=g?"stylesheet":nF,g||(b.as="script"),b.crossOrigin="",b.href=p,h&&b.setAttribute("nonce",h),document.head.appendChild(b),g)return new Promise((T,v)=>{b.addEventListener("load",T),b.addEventListener("error",()=>v(new Error("Unable to preload CSS for ".concat(p))))})}))}function c(d){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=d,window.dispatchEvent(h),!h.defaultPrevented)throw d}return l.then(d=>{for(const h of d||[])h.status==="rejected"&&c(h.reason);return o().catch(c)})};var Zt={allRenderFn:!1,element:!0,event:!0,hasRenderFn:!0,hostListener:!0,hostListenerTargetWindow:!0,hostListenerTargetDocument:!0,hostListenerTargetBody:!0,hostListenerTargetParent:!1,hostListenerTarget:!0,member:!0,method:!0,mode:!0,observeAttribute:!0,prop:!0,propMutable:!0,reflect:!0,scoped:!0,shadowDom:!0,slot:!0,cssAnnotations:!0,state:!0,style:!0,formAssociated:!1,svg:!0,updatable:!0,vdomAttribute:!0,vdomXlink:!0,vdomClass:!0,vdomFunctional:!0,vdomKey:!0,vdomListener:!0,vdomRef:!0,vdomPropOrAttr:!0,vdomRender:!0,vdomStyle:!0,vdomText:!0,propChangeCallback:!0,taskQueue:!0,hotModuleReplacement:!1,isDebug:!1,isDev:!1,isTesting:!1,hydrateServerSide:!1,hydrateClientSide:!1,lifecycleDOMEvents:!1,lazyLoad:!1,profile:!1,slotRelocation:!0,appendChildSlotFix:!1,cloneNodeFix:!1,hydratedAttribute:!1,hydratedClass:!0,scriptDataOpts:!1,scopedSlotTextContentFix:!1,shadowDomShim:!1,slotChildNodesFix:!1,invisiblePrehydration:!0,propBoolean:!0,propNumber:!0,propString:!0,constructableCSS:!0,devTools:!1,shadowDelegatesFocus:!0,initializeNextTick:!1,asyncLoading:!0,asyncQueue:!1,transformTagName:!1,attachStyles:!0,experimentalSlotFixes:!1},rF="app",lF=Object.defineProperty,aF=(t,o)=>{for(var n in o)lF(t,n,{get:o[n],enumerable:!0})},cF={isBrowser:!0},uF="http://www.w3.org/2000/svg",dF="http://www.w3.org/1999/xhtml",hF=(t,o)=>{var n;const s=o.$cmpMeta$;Object.entries((n=s.$members$)!=null?n:{}).map(([c,[d]])=>{if(d&31||d&32){const h=t[c],p=pF(Object.getPrototypeOf(t),c)||Object.getOwnPropertyDescriptor(t,c);p&&Object.defineProperty(t,c,{get(){return p.get.call(this)},set(g){p.set.call(this,g)},configurable:!0,enumerable:!0}),t[c]=o.$instanceValues$.has(c)?o.$instanceValues$.get(c):h}})};function pF(t,o){for(;t;){const n=Object.getOwnPropertyDescriptor(t,o);if(n!=null&&n.get)return n;t=Object.getPrototypeOf(t)}}var Is=t=>{if(t.__stencil__getHostRef)return t.__stencil__getHostRef()},fF=(t,o)=>{const n={$flags$:0,$hostElement$:t,$cmpMeta$:o,$instanceValues$:new Map,$serializerValues$:new Map};n.$onReadyPromise$=new Promise(l=>n.$onReadyResolve$=l),t["s-p"]=[],t["s-rc"]=[];const s=n;return t.__stencil__getHostRef=()=>s,Zt.modernPropertyDecls&&Zt.state&&hF(t,n),s},kL=(t,o)=>o in t,Vd=(t,o)=>(0,console.error)(t,o),sg=new Map,ex=[],gF="slot-fb{display:contents}slot-fb[hidden]{display:none}",NL="http://www.w3.org/1999/xlink",Xt=typeof window<"u"?window:{},jt=Xt.HTMLElement||class{},Do={$flags$:0,$resourcesUrl$:"",jmp:t=>t(),raf:t=>requestAnimationFrame(t),ael:(t,o,n,s)=>t.addEventListener(o,n,s),rel:(t,o,n,s)=>t.removeEventListener(o,n,s),ce:(t,o)=>new CustomEvent(t,o)},mF=(()=>{var t;let o=!1;try{(t=Xt.document)==null||t.addEventListener("e",null,Object.defineProperty({},"passive",{get(){o=!0}}))}catch(n){}return o})(),$F=t=>Promise.resolve(t),Hy=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch(t){}return!1})(),tv=Hy?!!Xt.document&&Object.getOwnPropertyDescriptor(Xt.document.adoptedStyleSheets,"length").writable:!1,ov=!1,iv=[],tx=[],ox=(t,o)=>n=>{t.push(n),ov||(ov=!0,o&&Do.$flags$&4?Fy(nv):Do.raf(nv))},ML=t=>{for(let o=0;o<t.length;o++)try{t[o](performance.now())}catch(n){Vd(n)}t.length=0},nv=()=>{ML(iv),ML(tx),(ov=iv.length>0)&&Do.raf(nv)},Fy=t=>$F().then(t),Of=ox(iv,!1),bd=ox(tx,!0),_F=t=>{const o=new URL(t,Do.$resourcesUrl$);return o.origin!==Xt.location.origin?o.href:o.pathname},bF=t=>t!=null&&t!==void 0,Gy=t=>(t=typeof t,t==="object"||t==="function");function TF(t){var o,n,s;return(s=(n=(o=t.head)==null?void 0:o.querySelector('meta[name="csp-nonce"]'))==null?void 0:n.getAttribute("content"))!=null?s:void 0}var EF=t=>t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),vF={};aF(vF,{err:()=>ix,map:()=>yF,ok:()=>sv,unwrap:()=>SF,unwrapErr:()=>IF});var sv=t=>({isOk:!0,isErr:!1,value:t}),ix=t=>({isOk:!1,isErr:!0,value:t});function yF(t,o){if(t.isOk){const n=o(t.value);return n instanceof Promise?n.then(s=>sv(s)):sv(n)}if(t.isErr){const n=t.value;return ix(n)}throw"should never get here"}var SF=t=>{if(t.isOk)return t.value;throw t.value},IF=t=>{if(t.isErr)return t.value;throw t.value};var Au;function OF(t){var o;const n=this.attachShadow({mode:"open",delegatesFocus:!!(t.$flags$&16)});Au===void 0&&(Au=(o=void 0)!=null?o:null),Au&&(tv?n.adoptedStyleSheets.push(Au):n.adoptedStyleSheets=[...n.adoptedStyleSheets,Au])}var nx=t=>{const o=DL(t,"childNodes");t.tagName&&t.tagName.includes("-")&&t["s-cr"]&&t.tagName!=="SLOT-FB"&&sx(o,t.tagName).forEach(s=>{s.nodeType===1&&s.tagName==="SLOT-FB"&&(CF(s,Vy(s),!1).length?s.hidden=!0:s.hidden=!1)});let n=0;for(n=0;n<o.length;n++){const s=o[n];s.nodeType===1&&DL(s,"childNodes").length&&nx(s)}},RF=t=>{const o=[];for(let n=0;n<t.length;n++){const s=t[n]["s-nr"]||void 0;s&&s.isConnected&&o.push(s)}return o};function sx(t,o,n){let s=0,l=[],c;for(;s<t.length;s++)c=t[s],c["s-sr"]&&(!o||c["s-hn"]===o)&&n===void 0&&l.push(c),l=[...l,...sx(c.childNodes,o,n)];return l}var CF=(t,o,n=!0)=>{const s=[];(n&&t["s-sr"]||!t["s-sr"])&&s.push(t);let l=t;for(;l=l.nextSibling;)Vy(l)===o&&(n||!l["s-sr"])&&s.push(l);return s},xL=(t,o)=>t.nodeType===1?t.getAttribute("slot")===null&&o===""||t.getAttribute("slot")===o:t["s-sn"]===o?!0:o==="",Vy=t=>typeof t["s-sn"]=="string"?t["s-sn"]:t.nodeType===1&&t.getAttribute("slot")||void 0;function wF(t){if(t.assignedElements||t.assignedNodes||!t["s-sr"])return;const o=n=>(function(s){const l=[],c=this["s-sn"];s!=null&&s.flatten&&console.error("\n          Flattening is not supported for Stencil non-shadow slots.\n          You can use `.childNodes` to nested slot fallback content.\n          If you have a particular use case, please open an issue on the Stencil repo.\n        ");const d=this["s-cr"].parentElement;return(d.__childNodes?d.childNodes:RF(d.childNodes)).forEach(p=>{c===Vy(p)&&l.push(p)}),n?l.filter(p=>p.nodeType===1):l}).bind(t);t.assignedElements=o(!0),t.assignedNodes=o(!1)}function DL(t,o){if("__"+o in t){const n=t["__"+o];return typeof n!="function"?n:n.bind(t)}else return typeof t[o]!="function"?t[o]:t[o].bind(t)}var _l=(t,o="")=>()=>{},Ba=new WeakMap,AF=(t,o,n)=>{let s=sg.get(t);Hy&&n?(s=s||new CSSStyleSheet,typeof s=="string"?s=o:s.replaceSync(o)):s=o,sg.set(t,s)},LF=(t,o,n)=>{var s;const l=rx(o,n),c=sg.get(l);if(!Xt.document)return l;if(t=t.nodeType===11?t:Xt.document,c)if(typeof c=="string"){t=t.head||t;let d=Ba.get(t),h;if(d||Ba.set(t,d=new Set),!d.has(l)){{h=Xt.document.createElement("style"),h.innerHTML=c;const p=(s=Do.$nonce$)!=null?s:TF(Xt.document);if(p!=null&&h.setAttribute("nonce",p),!(o.$flags$&1))if(t.nodeName==="HEAD"){const g=t.querySelectorAll("link[rel=preconnect]"),$=g.length>0?g[g.length-1].nextSibling:t.querySelector("style");t.insertBefore(h,($==null?void 0:$.parentNode)===t?$:null)}else if("host"in t)if(Hy){const g=new CSSStyleSheet;g.replaceSync(c),tv?t.adoptedStyleSheets.unshift(g):t.adoptedStyleSheets=[g,...t.adoptedStyleSheets]}else{const g=t.querySelector("style");g?g.innerHTML=c+g.innerHTML:t.prepend(h)}else t.append(h);o.$flags$&1&&t.insertBefore(h,null)}o.$flags$&4&&(h.innerHTML+=gF),d&&d.add(l)}}else t.adoptedStyleSheets.includes(c)||(tv?t.adoptedStyleSheets.push(c):t.adoptedStyleSheets=[...t.adoptedStyleSheets,c]);return l},kF=t=>{const o=t.$cmpMeta$,n=t.$hostElement$,s=o.$flags$,l=_l("attachStyles",o.$tagName$),c=LF(n.shadowRoot?n.shadowRoot:n.getRootNode(),o,t.$modeName$);s&10&&(n["s-sc"]=c,n.classList.add(c+"-h")),l()},rx=(t,o)=>"sc-"+(o&&t.$flags$&32?t.$tagName$+"-"+o:t.$tagName$),_e=(t,o,...n)=>{let s=null,l=null,c=null,d=!1,h=!1;const p=[],g=b=>{for(let T=0;T<b.length;T++)s=b[T],Array.isArray(s)?g(s):s!=null&&typeof s!="boolean"&&((d=typeof t!="function"&&!Gy(s))&&(s=String(s)),d&&h?p[p.length-1].$text$+=s:p.push(d?rg(null,s):s),h=d)};if(g(n),o){o.key&&(l=o.key),o.name&&(c=o.name);{const b=o.className||o.class;b&&(o.class=typeof b!="object"?b:Object.keys(b).filter(T=>b[T]).join(" "))}}if(typeof t=="function")return t(o===null?{}:o,p,MF);const $=rg(t,null);return $.$attrs$=o,p.length>0&&($.$children$=p),$.$key$=l,$.$name$=c,$},rg=(t,o)=>{const n={$flags$:0,$tag$:t,$text$:o,$elm$:null,$children$:null};return n.$attrs$=null,n.$key$=null,n.$name$=null,n},so={},NF=t=>t&&t.$tag$===so,MF={forEach:(t,o)=>t.map(PL).forEach(o),map:(t,o)=>t.map(PL).map(o).map(xF)},PL=t=>({vattrs:t.$attrs$,vchildren:t.$children$,vkey:t.$key$,vname:t.$name$,vtag:t.$tag$,vtext:t.$text$}),xF=t=>{if(typeof t.vtag=="function"){const n={...t.vattrs};return t.vkey&&(n.key=t.vkey),t.vname&&(n.name=t.vname),_e(t.vtag,n,...t.vchildren||[])}const o=rg(t.vtag,t.vtext);return o.$attrs$=t.vattrs,o.$children$=t.vchildren,o.$key$=t.vkey,o.$name$=t.vname,o},zy=t=>{const o=EF(t);return new RegExp("(^|[^@]|@(?!supports\\s+selector\\s*\\([^{]*?".concat(o,"))(").concat(o,"\\b)"),"g")};zy("::slotted");zy(":host");zy(":host-context");var DF=t=>ex.map(o=>o(t)).find(o=>!!o),PF=t=>ex.push(t),BF=t=>{var o;return(o=Is(t))==null?void 0:o.$modeName$},lx=(t,o,n)=>t!=null&&!Gy(t)?o&4?t==="false"?!1:t===""||!!t:o&2?typeof t=="string"?parseFloat(t):typeof t=="number"?t:NaN:o&1?String(t):t:t,UF=t=>t,ze=(t,o,n)=>{const s=UF(t);return{emit:l=>ax(s,o,{bubbles:!!(n&4),composed:!!(n&2),cancelable:!!(n&1),detail:l})}},ax=(t,o,n)=>{const s=Do.ce(o,n);return t.dispatchEvent(s),s},BL=(t,o,n,s,l,c,d)=>{if(n===s)return;let h=kL(t,o),p=o.toLowerCase();if(o==="class"){const g=t.classList,$=UL(n);let b=UL(s);g.remove(...$.filter(T=>T&&!b.includes(T))),g.add(...b.filter(T=>T&&!$.includes(T)))}else if(o==="style"){for(const g in n)(!s||s[g]==null)&&(g.includes("-")?t.style.removeProperty(g):t.style[g]="");for(const g in s)(!n||s[g]!==n[g])&&(g.includes("-")?t.style.setProperty(g,s[g]):t.style[g]=s[g])}else if(o!=="key")if(o==="ref")s&&s(t);else if(!t.__lookupSetter__(o)&&o[0]==="o"&&o[1]==="n"){if(o[2]==="-"?o=o.slice(3):kL(Xt,p)?o=p.slice(2):o=p[2]+o.slice(3),n||s){const g=o.endsWith(cx);o=o.replace(FF,""),n&&Do.rel(t,o,n,g),s&&Do.ael(t,o,s,g)}}else{const g=Gy(s);if((h||g&&s!==null)&&!l)try{if(t.tagName.includes("-"))t[o]!==s&&(t[o]=s);else{const b=s==null?"":s;o==="list"?h=!1:(n==null||t[o]!=b)&&(typeof t.__lookupSetter__(o)=="function"?t[o]=b:t.setAttribute(o,b))}}catch(b){}let $=!1;p!==(p=p.replace(/^xlink\:?/,""))&&(o=p,$=!0),s==null||s===!1?(s!==!1||t.getAttribute(o)==="")&&($?t.removeAttributeNS(NL,o):t.removeAttribute(o)):(!h||c&4||l)&&!g&&t.nodeType===1&&(s=s===!0?"":s,$?t.setAttributeNS(NL,o,s):t.setAttribute(o,s))}},HF=/\s/,UL=t=>(typeof t=="object"&&t&&"baseVal"in t&&(t=t.baseVal),!t||typeof t!="string"?[]:t.split(HF)),cx="Capture",FF=new RegExp(cx+"$"),rv=(t,o,n,s)=>{const l=o.$elm$.nodeType===11&&o.$elm$.host?o.$elm$.host:o.$elm$,c=t&&t.$attrs$||{},d=o.$attrs$||{};for(const h of HL(Object.keys(c)))h in d||BL(l,h,c[h],void 0,n,o.$flags$);for(const h of HL(Object.keys(d)))BL(l,h,c[h],d[h],n,o.$flags$)};function HL(t){return t.includes("ref")?[...t.filter(o=>o!=="ref"),"ref"]:t}var Rf,lg,Td,lv=!1,ag=!1,Wy=!1,ci=!1,cg=(t,o,n)=>{var s;const l=o.$children$[n];let c=0,d,h,p;if(lv||(Wy=!0,l.$tag$==="slot"&&(l.$flags$|=l.$children$?2:1)),l.$text$!==null)d=l.$elm$=Xt.document.createTextNode(l.$text$);else if(l.$flags$&1)d=l.$elm$=Xt.document.createTextNode(""),rv(null,l,ci);else{if(ci||(ci=l.$tag$==="svg"),!Xt.document)throw new Error("You are trying to render a Stencil component in an environment that doesn't support the DOM. Make sure to populate the [`window`](https://developer.mozilla.org/en-US/docs/Web/API/Window/window) object before rendering a component.");if(d=l.$elm$=Xt.document.createElementNS(ci?uF:dF,!lv&&Zt.slotRelocation&&l.$flags$&2?"slot-fb":l.$tag$),ci&&l.$tag$==="foreignObject"&&(ci=!1),rv(null,l,ci),bF(Rf)&&d["s-si"]!==Rf&&d.classList.add(d["s-si"]=Rf),l.$children$)for(c=0;c<l.$children$.length;++c)h=cg(t,l,c),h&&d.appendChild(h);l.$tag$==="svg"?ci=!1:d.tagName==="foreignObject"&&(ci=!0)}return d["s-hn"]=Td,l.$flags$&3&&(d["s-sr"]=!0,d["s-cr"]=lg,d["s-sn"]=l.$name$||"",d["s-rf"]=(s=l.$attrs$)==null?void 0:s.ref,wF(d),p=t&&t.$children$&&t.$children$[n],p&&p.$tag$===l.$tag$&&t.$elm$&&Ed(t.$elm$,!1),fx(lg,d,o.$elm$,t==null?void 0:t.$elm$)),d},Ed=(t,o)=>{Do.$flags$|=1;const n=Array.from(t.__childNodes||t.childNodes);t["s-sr"]&&Zt.experimentalSlotFixes;for(let s=n.length-1;s>=0;s--){const l=n[s];l["s-hn"]!==Td&&l["s-ol"]&&(pr(vd(l).parentNode,l,vd(l)),l["s-ol"].remove(),l["s-ol"]=void 0,l["s-sh"]=void 0,Wy=!0),o&&Ed(l,o)}Do.$flags$&=-2},ux=(t,o,n,s,l,c)=>{let d=t["s-cr"]&&t["s-cr"].parentNode||t,h;for(d.shadowRoot&&d.tagName===Td&&(d=d.shadowRoot);l<=c;++l)s[l]&&(h=cg(null,n,l),h&&(s[l].$elm$=h,pr(d,h,vd(o))))},dx=(t,o,n)=>{for(let s=o;s<=n;++s){const l=t[s];if(l){const c=l.$elm$;px(l),c&&(ag=!0,c["s-ol"]?c["s-ol"].remove():Ed(c,!0),c.remove())}}},GF=(t,o,n,s,l=!1)=>{let c=0,d=0,h=0,p=0,g=o.length-1,$=o[0],b=o[g],T=s.length-1,v=s[0],I=s[T],k,G;for(;c<=g&&d<=T;)if($==null)$=o[++c];else if(b==null)b=o[--g];else if(v==null)v=s[++d];else if(I==null)I=s[--T];else if(ef($,v,l))Sa($,v,l),$=o[++c],v=s[++d];else if(ef(b,I,l))Sa(b,I,l),b=o[--g],I=s[--T];else if(ef($,I,l))($.$tag$==="slot"||I.$tag$==="slot")&&Ed($.$elm$.parentNode,!1),Sa($,I,l),pr(t,$.$elm$,b.$elm$.nextSibling),$=o[++c],I=s[--T];else if(ef(b,v,l))($.$tag$==="slot"||I.$tag$==="slot")&&Ed(b.$elm$.parentNode,!1),Sa(b,v,l),pr(t,b.$elm$,$.$elm$),b=o[--g],v=s[++d];else{for(h=-1,p=c;p<=g;++p)if(o[p]&&o[p].$key$!==null&&o[p].$key$===v.$key$){h=p;break}h>=0?(G=o[h],G.$tag$!==v.$tag$?k=cg(o&&o[d],n,h):(Sa(G,v,l),o[h]=void 0,k=G.$elm$),v=s[++d]):(k=cg(o&&o[d],n,d),v=s[++d]),k&&pr(vd($.$elm$).parentNode,k,vd($.$elm$))}c>g?ux(t,s[T+1]==null?null:s[T+1].$elm$,n,s,d,T):d>T&&dx(o,c,g)},ef=(t,o,n=!1)=>t.$tag$===o.$tag$?t.$tag$==="slot"?t.$name$===o.$name$:n?(n&&!t.$key$&&o.$key$&&(t.$key$=o.$key$),!0):t.$key$===o.$key$:!1,vd=t=>t&&t["s-ol"]||t,Sa=(t,o,n=!1)=>{const s=o.$elm$=t.$elm$,l=t.$children$,c=o.$children$,d=o.$tag$,h=o.$text$;let p;h===null?(ci=d==="svg"?!0:d==="foreignObject"?!1:ci,rv(t,o,ci),l!==null&&c!==null?GF(s,l,o,c,n):c!==null?(t.$text$!==null&&(s.textContent=""),ux(s,null,o,c,0,c.length-1)):!n&&Zt.updatable&&l!==null&&dx(l,0,l.length-1),ci&&d==="svg"&&(ci=!1)):(p=s["s-cr"])?p.parentNode.textContent=h:t.$text$!==h&&(s.data=h)},as=[],hx=t=>{let o,n,s;const l=t.__childNodes||t.childNodes;for(const c of l){if(c["s-sr"]&&(o=c["s-cr"])&&o.parentNode){n=o.parentNode.__childNodes||o.parentNode.childNodes;const d=c["s-sn"];for(s=n.length-1;s>=0;s--)if(o=n[s],!o["s-cn"]&&!o["s-nr"]&&o["s-hn"]!==c["s-hn"])if(xL(o,d)){let h=as.find(p=>p.$nodeToRelocate$===o);ag=!0,o["s-sn"]=o["s-sn"]||d,h?(h.$nodeToRelocate$["s-sh"]=c["s-hn"],h.$slotRefNode$=c):(o["s-sh"]=c["s-hn"],as.push({$slotRefNode$:c,$nodeToRelocate$:o})),o["s-sr"]&&as.map(p=>{xL(p.$nodeToRelocate$,o["s-sn"])&&(h=as.find(g=>g.$nodeToRelocate$===o),h&&!p.$slotRefNode$&&(p.$slotRefNode$=h.$slotRefNode$))})}else as.some(h=>h.$nodeToRelocate$===o)||as.push({$nodeToRelocate$:o})}c.nodeType===1&&hx(c)}},px=t=>{t.$attrs$&&t.$attrs$.ref&&t.$attrs$.ref(null),t.$children$&&t.$children$.map(px)},pr=(t,o,n)=>(typeof o["s-sn"]=="string"&&o["s-sr"]&&o["s-cr"]&&fx(o["s-cr"],o,t,o.parentElement),t==null?void 0:t.insertBefore(o,n));function fx(t,o,n,s){var l,c;let d;if(t&&typeof o["s-sn"]=="string"&&o["s-sr"]&&t.parentNode&&t.parentNode["s-sc"]&&(d=o["s-si"]||t.parentNode["s-sc"])){const h=o["s-sn"],p=o["s-hn"];if((l=n.classList)==null||l.add(d+"-s"),s&&((c=s.classList)!=null&&c.contains(d+"-s"))){let g=(s.__childNodes||s.childNodes)[0],$=!1;for(;g;){if(g["s-sn"]!==h&&g["s-hn"]===p&&g["s-sr"]){$=!0;break}g=g.nextSibling}$||s.classList.remove(d+"-s")}}}var VF=(t,o,n=!1)=>{var s,l,c,d,h;const p=t.$hostElement$,g=t.$cmpMeta$,$=t.$vnode$||rg(null,null),T=NF(o)?o:_e(null,null,o);if(Td=p.tagName,g.$attrsToReflect$&&(T.$attrs$=T.$attrs$||{},g.$attrsToReflect$.forEach(([v,I])=>{Zt.serializer&&t.$serializerValues$.has(v)?T.$attrs$[I]=t.$serializerValues$.get(v):T.$attrs$[I]=p[v]})),n&&T.$attrs$)for(const v of Object.keys(T.$attrs$))p.hasAttribute(v)&&!["key","ref","style","class"].includes(v)&&(T.$attrs$[v]=p[v]);T.$tag$=null,T.$flags$|=4,t.$vnode$=T,T.$elm$=$.$elm$=p.shadowRoot||p,Rf=p["s-sc"],lv=!!(g.$flags$&1)&&!(g.$flags$&128),lg=p["s-cr"],ag=!1,Sa($,T,n);{if(Do.$flags$|=1,Wy){hx(T.$elm$);for(const v of as){const I=v.$nodeToRelocate$;if(!I["s-ol"]&&Xt.document){const k=Xt.document.createTextNode("");k["s-nr"]=I,pr(I.parentNode,I["s-ol"]=k,I)}}for(const v of as){const I=v.$nodeToRelocate$,k=v.$slotRefNode$;if(k){const G=k.parentNode;let R=k.nextSibling;{let L=(s=I["s-ol"])==null?void 0:s.previousSibling;for(;L;){let H=(l=L["s-nr"])!=null?l:null;if(H&&H["s-sn"]===I["s-sn"]&&G===(H.__parentNode||H.parentNode)){for(H=H.nextSibling;H===I||H!=null&&H["s-sr"];)H=H==null?void 0:H.nextSibling;if(!H||!H["s-nr"]){R=H;break}}L=L.previousSibling}}const S=I.__parentNode||I.parentNode,w=I.__nextSibling||I.nextSibling;(!R&&G!==S||w!==R)&&I!==R&&(!I["s-hn"]&&I["s-ol"]&&(I["s-hn"]=I["s-ol"].parentNode.nodeName),pr(G,I,R),I.nodeType===1&&I.tagName!=="SLOT-FB"&&(I.hidden=(c=I["s-ih"])!=null?c:!1)),I&&typeof k["s-rf"]=="function"&&k["s-rf"](k)}else I.nodeType===1&&(n&&(I["s-ih"]=(d=I.hidden)!=null?d:!1),I.hidden=!0)}}ag&&nx(T.$elm$),Do.$flags$&=-2,as.length=0}if(Zt.experimentalScopedSlotChanges&&g.$flags$&2){const v=T.$elm$.__childNodes||T.$elm$.childNodes;for(const I of v)I["s-hn"]!==Td&&!I["s-sh"]&&(n&&I["s-ih"]==null&&(I["s-ih"]=(h=I.hidden)!=null?h:!1),I.hidden=!0)}lg=void 0},gx=(t,o)=>{if(o&&!t.$onRenderResolve$&&o["s-p"]){const n=o["s-p"].push(new Promise(s=>t.$onRenderResolve$=()=>{o["s-p"].splice(n-1,1),s()}))}},sm=(t,o)=>{if(t.$flags$|=16,t.$flags$&4){t.$flags$|=512;return}gx(t,t.$ancestorComponent$);const n=()=>zF(t,o);if(o){queueMicrotask(()=>{n()});return}return bd(n)},zF=(t,o)=>{const n=t.$hostElement$,s=_l("scheduleUpdate",t.$cmpMeta$.$tagName$),l=n;if(!l)throw new Error("Can't render component <".concat(n.tagName.toLowerCase()," /> with invalid Stencil runtime! Make sure this imported component is compiled with a `externalRuntime: true` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime"));let c;return o?c=ja(l,"componentWillLoad",void 0,n):c=ja(l,"componentWillUpdate",void 0,n),c=FL(c,()=>ja(l,"componentWillRender",void 0,n)),s(),FL(c,()=>XF(t,l,o))},FL=(t,o)=>WF(t)?t.then(o).catch(n=>{console.error(n),o()}):o(),WF=t=>t instanceof Promise||t&&t.then&&typeof t.then=="function",XF=async(t,o,n)=>{var s;const l=t.$hostElement$,c=_l("update",t.$cmpMeta$.$tagName$),d=l["s-rc"];n&&kF(t);const h=_l("render",t.$cmpMeta$.$tagName$);YF(t,o,l,n),d&&(d.map(p=>p()),l["s-rc"]=void 0),h(),c();{const p=(s=l["s-p"])!=null?s:[],g=()=>jF(t);p.length===0?g():(Promise.all(p).then(g),t.$flags$|=4,p.length=0)}},GL=null,YF=(t,o,n,s)=>{try{GL=o,o=o.render&&o.render(),t.$flags$&=-17,t.$flags$|=2,(Zt.hasRenderFn||Zt.reflect)&&(Zt.vdomRender||Zt.reflect)&&(Zt.hydrateServerSide||VF(t,o,s))}catch(p){Vd(p,t.$hostElement$)}return GL=null,null},jF=t=>{const o=t.$cmpMeta$.$tagName$,n=t.$hostElement$,s=_l("postUpdate",o),l=n,c=t.$ancestorComponent$;ja(l,"componentDidRender",void 0,n),t.$flags$&64?(ja(l,"componentDidUpdate",void 0,n),s()):(t.$flags$|=64,qF(n),ja(l,"componentDidLoad",void 0,n),s(),t.$onReadyResolve$(n),c||KF()),t.$onRenderResolve$&&(t.$onRenderResolve$(),t.$onRenderResolve$=void 0),t.$flags$&512&&Fy(()=>sm(t,!1)),t.$flags$&=-517},av=t=>{var o;{const n=Is(t),s=(o=n==null?void 0:n.$hostElement$)==null?void 0:o.isConnected;return s&&(n.$flags$&18)===2&&sm(n,!1),s}},KF=t=>{Fy(()=>ax(Xt,"appload",{detail:{namespace:rF}}))},ja=(t,o,n,s)=>{if(t&&t[o])try{return t[o](n)}catch(l){Vd(l,s)}},qF=t=>{var o;return t.classList.add((o=Zt.hydratedSelectorName)!=null?o:"hydrated")},JF=(t,o)=>Is(t).$instanceValues$.get(o),VL=(t,o,n,s)=>{const l=Is(t);if(!l||Zt.serializer&&l.$serializerValues$.has(o)&&l.$serializerValues$.get(o)===n)return;const c=t,d=l.$instanceValues$.get(o),h=l.$flags$,p=c;n=lx(n,s.$members$[o][0]);const g=Number.isNaN(d)&&Number.isNaN(n);if(n!==d&&!g){if(l.$instanceValues$.set(o,n),Zt.serializer&&Zt.reflect&&s.$attrsToReflect$&&p&&s.$serializers$&&s.$serializers$[o]){let b=n;for(const T of s.$serializers$[o])b=p[T](b,o);l.$serializerValues$.set(o,b)}{if(s.$watchers$&&h&128){const b=s.$watchers$[o];b&&b.map(T=>{try{p[T](n,d,o)}catch(v){Vd(v,c)}})}if((h&18)===2){if(p.componentShouldUpdate&&p.componentShouldUpdate(n,d,o)===!1)return;sm(l,!1)}}}},ZF=(t,o,n)=>{var s,l;const c=t.prototype;if(o.$members$||Zt.propChangeCallback){t.watchers&&!o.$watchers$&&(o.$watchers$=t.watchers),t.deserializers&&!o.$deserializers$&&(o.$deserializers$=t.deserializers),t.serializers&&!o.$serializers$&&(o.$serializers$=t.serializers);const d=Object.entries((s=o.$members$)!=null?s:{});d.map(([h,[p]])=>{if(p&31||p&32){const{get:g,set:$}=Object.getOwnPropertyDescriptor(c,h)||{};g&&(o.$members$[h][0]|=2048),$&&(o.$members$[h][0]|=4096),Object.defineProperty(c,h,{get(){return g?g.apply(this):JF(this,h)},configurable:!0,enumerable:!0}),Object.defineProperty(c,h,{set(b){const T=Is(this);if(T){if($){typeof(p&32?this[h]:T.$hostElement$[h])>"u"&&T.$instanceValues$.get(h)&&(b=T.$instanceValues$.get(h)),$.apply(this,[lx(b,p)]),b=p&32?this[h]:T.$hostElement$[h],VL(this,h,b,o);return}{VL(this,h,b,o);return}}}})}});{const h=new Map;c.attributeChangedCallback=function(p,g,$){Do.jmp(()=>{var b;const T=h.get(p),v=Is(this);if(Zt.serializer&&v.$serializerValues$.has(T)&&v.$serializerValues$.get(T)===$)return;if(this.hasOwnProperty(T)&&Zt.lazyLoad,Zt.deserializer&&o.$deserializers$&&o.$deserializers$[T]){const k=(G,R)=>{const S=R==null?void 0:R[G]($,T);S!==this[T]&&(this[T]=S)};for(const G of o.$deserializers$[T])k(G,this);return}else{if(c.hasOwnProperty(T)&&typeof this[T]=="number"&&this[T]==$)return;if(T==null){const k=v==null?void 0:v.$flags$;if(v&&k&&!(k&8)&&k&128&&$!==g){const R=this,S=(b=o.$watchers$)==null?void 0:b[p];S==null||S.forEach(w=>{R[w]!=null&&R[w].call(R,$,g,p)})}return}}const I=Object.getOwnPropertyDescriptor(c,T);$=$===null&&typeof this[T]=="boolean"?!1:$,$!=this[T]&&(!I.get||I.set)&&(this[T]=$)})},t.observedAttributes=Array.from(new Set([...Object.keys((l=o.$watchers$)!=null?l:{}),...d.filter(([p,g])=>g[0]&31).map(([p,g])=>{var $;const b=g[1]||p;return h.set(b,p),g[0]&512&&(($=o.$attrsToReflect$)==null||$.push([p,b])),b})]))}}return t},QF=async(t,o,n,s)=>{let l;if(!(o.$flags$&32)){o.$flags$|=32,n.$lazyBundleId$;{l=t.constructor;const h=t.localName;customElements.whenDefined(h).then(()=>o.$flags$|=128)}if(l&&l.style){let h;typeof l.style=="string"?h=l.style:typeof l.style!="string"&&(o.$modeName$=DF(t),o.$modeName$&&(h=l.style[o.$modeName$]));const p=rx(n,o.$modeName$);if(!sg.has(p)){const g=_l("registerStyles",n.$tagName$);AF(p,h,!!(n.$flags$&1)),g()}}}const c=o.$ancestorComponent$,d=()=>sm(o,!0);c&&c["s-rc"]?c["s-rc"].push(d):d()},zL=(t,o)=>{},e2=t=>{if(!(Do.$flags$&1)){const o=Is(t);if(!o)return;const n=o.$cmpMeta$,s=_l("connectedCallback",n.$tagName$);if(o.$flags$&1)mx(t,o,n.$listeners$),o!=null&&o.$lazyInstance$?zL(o.$lazyInstance$):o!=null&&o.$onReadyPromise$&&o.$onReadyPromise$.then(()=>zL(o.$lazyInstance$));else{o.$flags$|=1,n.$flags$&12&&t2(t);{let l=t;for(;l=l.parentNode||l.host;)if(l["s-p"]){gx(o,o.$ancestorComponent$=l);break}}n.$members$&&Object.entries(n.$members$).map(([l,[c]])=>{if(c&31&&l in t&&t[l]!==Object.prototype[l]){const d=t[l];delete t[l],t[l]=d}}),QF(t,o,n)}s()}},t2=t=>{if(!Xt.document)return;const o=t["s-cr"]=Xt.document.createComment("");o["s-cn"]=!0,pr(t,o,t.firstChild)},o2=async t=>{if(!(Do.$flags$&1)){const o=Is(t);o!=null&&o.$rmListeners$&&(o.$rmListeners$.map(n=>n()),o.$rmListeners$=void 0)}Ba.has(t)&&Ba.delete(t),t.shadowRoot&&Ba.has(t.shadowRoot)&&Ba.delete(t.shadowRoot)},Qt=(t,o)=>{const n={$flags$:o[0],$tagName$:o[1]};n.$members$=o[2],n.$listeners$=o[3],n.$watchers$=t.$watchers$,n.$deserializers$=t.$deserializers$,n.$serializers$=t.$serializers$,n.$attrsToReflect$=[],!(n.$flags$&1)&&n.$flags$&256;const s=t.prototype.connectedCallback,l=t.prototype.disconnectedCallback;return Object.assign(t.prototype,{__hasHostListenerAttached:!1,__registerHost(){fF(this,n)},connectedCallback(){if(!this.__hasHostListenerAttached){const c=Is(this);if(!c)return;mx(this,c,n.$listeners$),this.__hasHostListenerAttached=!0}e2(this),s&&s.call(this)},disconnectedCallback(){o2(this),l&&l.call(this)},__attachShadow(){if(!this.shadowRoot)OF.call(this,n);else if(this.shadowRoot.mode!=="open")throw new Error("Unable to re-use existing shadow root for ".concat(n.$tagName$,"! Mode is set to ").concat(this.shadowRoot.mode," but Stencil only supports open shadow roots."))}}),t.is=n.$tagName$,ZF(t,n)},mx=(t,o,n,s)=>{n&&Xt.document&&n.map(([l,c,d])=>{const h=n2(Xt.document,t,l),p=i2(o,d),g=s2(l);Do.ael(h,c,p,g),(o.$rmListeners$=o.$rmListeners$||[]).push(()=>Do.rel(h,c,p,g))})},i2=(t,o)=>n=>{var s;try{Zt.lazyLoad||t.$hostElement$[o](n)}catch(l){Vd(l,t.$hostElement$)}},n2=(t,o,n)=>n&4?t:n&8?Xt:n&16?t.body:o,s2=t=>mF?{passive:(t&1)!==0,capture:(t&2)!==0}:(t&2)!==0;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */class r2{constructor(){this.m=new Map}reset(o){this.m=new Map(Object.entries(o))}get(o,n){const s=this.m.get(o);return s!==void 0?s:n}getBoolean(o,n=!1){const s=this.m.get(o);return s===void 0?n:typeof s=="string"?s==="true":!!s}getNumber(o,n){const s=parseFloat(this.m.get(o));return isNaN(s)?n!==void 0?n:NaN:s}set(o,n){this.m.set(o,n)}}const Ke=new r2,l2=t=>{try{const o=t.sessionStorage.getItem($x);return o!==null?JSON.parse(o):{}}catch(o){return{}}},a2=(t,o)=>{try{t.sessionStorage.setItem($x,JSON.stringify(o))}catch(n){return}},c2=t=>{const o={};return t.location.search.slice(1).split("&").map(n=>n.split("=")).map(([n,s])=>{try{return[decodeURIComponent(n),decodeURIComponent(s)]}catch(l){return["",""]}}).filter(([n])=>u2(n,WL)).map(([n,s])=>[n.slice(WL.length),s]).forEach(([n,s])=>{o[n]=s}),o},u2=(t,o)=>t.substr(0,o.length)===o,WL="ionic:",$x="ionic-persist-config";var dl;(function(t){t.OFF="OFF",t.ERROR="ERROR",t.WARN="WARN"})(dl||(dl={}));const Ji=(t,...o)=>{const n=Ke.get("logLevel",dl.WARN);if([dl.WARN].includes(n))return console.warn("[Ionic Warning]: ".concat(t),...o)},wl=(t,...o)=>{const n=Ke.get("logLevel",dl.ERROR);if([dl.ERROR,dl.WARN].includes(n))return console.error("[Ionic Error]: ".concat(t),...o)},d2=(t,...o)=>console.error("<".concat(t.tagName.toLowerCase(),"> must be used inside ").concat(o.join(" or "),"."));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const xt=typeof window<"u"?window:void 0,td=typeof document<"u"?document:void 0;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */let FT;const h2=t=>{if(FT===void 0){const o=t.style.animationName!==void 0,n=t.style.webkitAnimationName!==void 0;FT=!o&&n?"-webkit-":""}return FT},GT=(t,o,n)=>{const s=o.startsWith("animation")?h2(t):"";t.style.setProperty(s+o,n)},tf=(t=[],o)=>{if(o!==void 0){const n=Array.isArray(o)?o:[o];return[...t,...n]}return t},xe=t=>{let o,n,s,l,c,d,h=[],p=[],g=[],$=!1,b,T={},v=[],I=[],k={},G=0,R=!1,S=!1,w,L,H,Y=!0,K=!1,j=!0,P,J=!1;const ie=t,ce=[],me=[],ve=[],Te=[],ee=[],he=[],pe=[],ae=[],V=[],Se=[],le=[],Ee=typeof AnimationEffect=="function"||xt!==void 0&&typeof xt.AnimationEffect=="function",$e=typeof Element=="function"&&typeof Element.prototype.animate=="function"&&Ee,Re=()=>le,ke=Z=>(ee.forEach(Oe=>{Oe.destroy(Z)}),Ye(Z),Te.length=0,ee.length=0,h.length=0,fe(),$=!1,j=!0,P),Ye=Z=>{Co(),Z&&De()},we=()=>{R=!1,S=!1,j=!0,w=void 0,L=void 0,H=void 0,G=0,K=!1,Y=!0,J=!1},ot=()=>G!==0&&!J,ge=(Z,Oe)=>{const Pe=Oe.findIndex(Et=>Et.c===Z);Pe>-1&&Oe.splice(Pe,1)},ro=(Z,Oe)=>(ve.push({c:Z,o:Oe}),P),q=(Z,Oe)=>((Oe!=null&&Oe.oneTimeCallback?me:ce).push({c:Z,o:Oe}),P),fe=()=>(ce.length=0,me.length=0,P),Co=()=>{$e&&(le.forEach(Z=>{Z.cancel()}),le.length=0)},De=()=>{he.forEach(Z=>{Z!=null&&Z.parentNode&&Z.parentNode.removeChild(Z)}),he.length=0},Po=Z=>(pe.push(Z),P),Xe=Z=>(ae.push(Z),P),Xo=Z=>(V.push(Z),P),Bo=Z=>(Se.push(Z),P),bt=Z=>(p=tf(p,Z),P),wo=Z=>(g=tf(g,Z),P),Tt=(Z={})=>(T=Z,P),tn=(Z=[])=>{for(const Oe of Z)T[Oe]="";return P},Yo=Z=>(v=tf(v,Z),P),M=Z=>(I=tf(I,Z),P),Uo=(Z={})=>(k=Z,P),gi=(Z=[])=>{for(const Oe of Z)k[Oe]="";return P},et=()=>c!==void 0?c:b?b.getFill():"both",$t=()=>w!==void 0?w:d!==void 0?d:b?b.getDirection():"normal",Lt=()=>R?"linear":s!==void 0?s:b?b.getEasing():"linear",it=()=>S?0:L!==void 0?L:n!==void 0?n:b?b.getDuration():0,lo=()=>l!==void 0?l:b?b.getIterations():1,_=()=>H!==void 0?H:o!==void 0?o:b?b.getDelay():0,O=()=>h,D=Z=>(d=Z,Kt(!0),P),B=Z=>(c=Z,Kt(!0),P),de=Z=>(o=Z,Kt(!0),P),Ze=Z=>(s=Z,Kt(!0),P),jo=Z=>(!$e&&Z===0&&(Z=1),n=Z,Kt(!0),P),ii=Z=>(l=Z,Kt(!0),P),Ne=Z=>(b=Z,P),m=Z=>{if(Z!=null)if(Z.nodeType===1)Te.push(Z);else if(Z.length>=0)for(let Oe=0;Oe<Z.length;Oe++)Te.push(Z[Oe]);else wl("createAnimation - Invalid addElement value.");return P},y=Z=>{if(Z!=null)if(Array.isArray(Z))for(const Oe of Z)Oe.parent(P),ee.push(Oe);else Z.parent(P),ee.push(Z);return P},N=Z=>{const Oe=h!==Z;return h=Z,Oe&&U(h),P},U=Z=>{$e&&Re().forEach(Oe=>{const Pe=Oe.effect;if(Pe.setKeyframes)Pe.setKeyframes(Z);else{const Et=new KeyframeEffect(Pe.target,Z,Pe.getTiming());Oe.effect=Et}})},te=()=>{pe.forEach(Et=>Et()),ae.forEach(Et=>Et());const Z=p,Oe=g,Pe=T;Te.forEach(Et=>{const mo=Et.classList;Z.forEach(Ko=>mo.add(Ko)),Oe.forEach(Ko=>mo.remove(Ko));for(const Ko in Pe)Pe.hasOwnProperty(Ko)&&GT(Et,Ko,Pe[Ko])})},ye=()=>{V.forEach(mo=>mo()),Se.forEach(mo=>mo());const Z=Y?1:0,Oe=v,Pe=I,Et=k;Te.forEach(mo=>{const Ko=mo.classList;Oe.forEach(_n=>Ko.add(_n)),Pe.forEach(_n=>Ko.remove(_n));for(const _n in Et)Et.hasOwnProperty(_n)&&GT(mo,_n,Et[_n])}),L=void 0,w=void 0,H=void 0,ce.forEach(mo=>mo.c(Z,P)),me.forEach(mo=>mo.c(Z,P)),me.length=0,j=!0,Y&&(K=!0),Y=!0},Me=()=>{G!==0&&(G--,G===0&&(ye(),b&&b.animationFinish()))},fo=()=>{Te.forEach(Z=>{const Oe=Z.animate(h,{id:ie,delay:_(),duration:it(),easing:Lt(),iterations:lo(),fill:et(),direction:$t()});Oe.pause(),le.push(Oe)}),le.length>0&&(le[0].onfinish=()=>{Me()})},$n=()=>{te(),h.length>0&&$e&&fo(),$=!0},Ni=Z=>{Z=Math.min(Math.max(Z,0),.9999),$e&&le.forEach(Oe=>{Oe.currentTime=Oe.effect.getComputedTiming().delay+it()*Z,Oe.pause()})},go=Z=>{le.forEach(Oe=>{Oe.effect.updateTiming({delay:_(),duration:it(),easing:Lt(),iterations:lo(),fill:et(),direction:$t()})}),Z!==void 0&&Ni(Z)},Kt=(Z=!1,Oe=!0,Pe)=>(Z&&ee.forEach(Et=>{Et.update(Z,Oe,Pe)}),$e&&go(Pe),P),Ec=(Z=!1,Oe)=>(ee.forEach(Pe=>{Pe.progressStart(Z,Oe)}),Ll(),R=Z,$||$n(),Kt(!1,!0,Oe),P),vc=Z=>(ee.forEach(Oe=>{Oe.progressStep(Z)}),Ni(Z),P),yc=(Z,Oe,Pe)=>(R=!1,ee.forEach(Et=>{Et.progressEnd(Z,Oe,Pe)}),Pe!==void 0&&(L=Pe),K=!1,Y=!0,Z===0?(w=$t()==="reverse"?"normal":"reverse",w==="reverse"&&(Y=!1),$e?(Kt(),Ni(1-Oe)):(H=(1-Oe)*it()*-1,Kt(!1,!1))):Z===1&&($e?(Kt(),Ni(Oe)):(H=Oe*it()*-1,Kt(!1,!1))),Z!==void 0&&!b&&ws(),P),Ll=()=>{$&&($e?le.forEach(Z=>{Z.pause()}):Te.forEach(Z=>{GT(Z,"animation-play-state","paused")}),J=!0)},yr=()=>(ee.forEach(Z=>{Z.pause()}),Ll(),P),kl=()=>{Me()},Sc=()=>{le.forEach(Z=>{Z.play()}),(h.length===0||Te.length===0)&&Me()},Ic=()=>{$e&&(Ni(0),go())},ws=Z=>new Promise(Oe=>{Z!=null&&Z.sync&&(S=!0,q(()=>S=!1,{oneTimeCallback:!0})),$||$n(),K&&(Ic(),K=!1),j&&(G=ee.length+1,j=!1);const Pe=()=>{ge(Et,me),Oe()},Et=()=>{ge(Pe,ve),Oe()};q(Et,{oneTimeCallback:!0}),ro(Pe,{oneTimeCallback:!0}),ee.forEach(mo=>{mo.play()}),$e?Sc():kl(),J=!1}),As=()=>{ee.forEach(Z=>{Z.stop()}),$&&(Co(),$=!1),we(),ve.forEach(Z=>Z.c(0,P)),ve.length=0},Oc=(Z,Oe)=>{const Pe=h[0];return Pe!==void 0&&(Pe.offset===void 0||Pe.offset===0)?Pe[Z]=Oe:h=[{offset:0,[Z]:Oe},...h],P};return P={parentAnimation:b,elements:Te,childAnimations:ee,id:ie,animationFinish:Me,from:Oc,to:(Z,Oe)=>{const Pe=h[h.length-1];return Pe!==void 0&&(Pe.offset===void 0||Pe.offset===1)?Pe[Z]=Oe:h=[...h,{offset:1,[Z]:Oe}],P},fromTo:(Z,Oe,Pe)=>Oc(Z,Oe).to(Z,Pe),parent:Ne,play:ws,pause:yr,stop:As,destroy:ke,keyframes:N,addAnimation:y,addElement:m,update:Kt,fill:B,direction:D,iterations:ii,duration:jo,easing:Ze,delay:de,getWebAnimations:Re,getKeyframes:O,getFill:et,getDirection:$t,getDelay:_,getIterations:lo,getEasing:Lt,getDuration:it,afterAddRead:Xo,afterAddWrite:Bo,afterClearStyles:gi,afterStyles:Uo,afterRemoveClass:M,afterAddClass:Yo,beforeAddRead:Po,beforeAddWrite:Xe,beforeClearStyles:tn,beforeStyles:Tt,beforeRemoveClass:wo,beforeAddClass:bt,onFinish:q,isRunning:ot,progressStart:Ec,progressStep:vc,progressEnd:yc}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const ac=(t,o)=>{t.componentOnReady?t.componentOnReady().then(n=>o(n)):Zi(()=>o(t))},yd=t=>t.componentOnReady!==void 0,rm=(t,o=[])=>{const n={};return o.forEach(s=>{t.hasAttribute(s)&&(t.getAttribute(s)!==null&&(n[s]=t.getAttribute(s)),t.removeAttribute(s))}),n},p2=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],lm=(t,o)=>rm(t,p2),_x=(t,o,n,s)=>t.addEventListener(o,n,s),f2=(t,o,n,s)=>t.removeEventListener(o,n,s),Yt=(t,o=t)=>t.shadowRoot||o,Zi=t=>typeof __zone_symbol__requestAnimationFrame=="function"?__zone_symbol__requestAnimationFrame(t):typeof requestAnimationFrame=="function"?requestAnimationFrame(t):setTimeout(t),g2=t=>!!t.shadowRoot&&!!t.attachShadow,bx=t=>{if(t.focus(),t.classList.contains("ion-focusable")){const o=t.closest("ion-app");o&&o.setFocus([t])}},ug=(t,o,n)=>Math.max(t,Math.min(o,n)),ri=(t,o)=>{if(!t){const n="ASSERT: "+o;wl(n);debugger;throw new Error(n)}},RK=t=>{if(t){const o=t.changedTouches;if(o&&o.length>0){const n=o[0];return{x:n.clientX,y:n.clientY}}if(t.pageX!==void 0)return{x:t.pageX,y:t.pageY}}return{x:0,y:0}},Tx=(t,o)=>{if(t!=null||(t={}),o!=null||(o={}),t===o)return!0;const n=Object.keys(t);if(n.length!==Object.keys(o).length)return!1;for(const s of n)if(!(s in o)||t[s]!==o[s])return!1;return!0},m2="ionViewWillEnter",$2="ionViewDidEnter",Ex="ionViewWillLeave",vx="ionViewDidLeave",VT="ionViewWillUnload",Lu=t=>{t.tabIndex=-1,t.focus()},of=t=>t.offsetParent!==null,_2=()=>({saveViewFocus:n=>{if(Ke.get("focusManagerPriority",!1)){const l=document.activeElement;l!==null&&(n!=null&&n.contains(l))&&l.setAttribute(XL,"true")}},setViewFocus:n=>{const s=Ke.get("focusManagerPriority",!1);if(Array.isArray(s)&&!n.contains(document.activeElement)){const l=n.querySelector("[".concat(XL,"]"));if(l&&of(l)){Lu(l);return}for(const c of s)switch(c){case"content":const d=n.querySelector('main, [role="main"]');if(d&&of(d)){Lu(d);return}break;case"heading":const h=n.querySelector('h1, [role="heading"][aria-level="1"]');if(h&&of(h)){Lu(h);return}break;case"banner":const p=n.querySelector('header, [role="banner"]');if(p&&of(p)){Lu(p);return}break;default:Ji("Unrecognized focus manager priority value ".concat(c));break}Lu(n)}}}),XL="ion-last-focus",b2=()=>hn(()=>import("./ios.transition-Cb7sxTxh.js"),[]),T2=()=>hn(()=>import("./md.transition-pv5A_tDP.js"),[]),yx=_2(),Sx=t=>new Promise((o,n)=>{bd(()=>{const s=w2(t);E2(t,s),v2(t).then(l=>{l.animation&&l.animation.destroy(),YL(t),o(l)},l=>{YL(t),n(l)}).finally(()=>{wx(s,!1)})})}),E2=(t,o)=>{const n=t.enteringEl,s=t.leavingEl;yx.saveViewFocus(s),C2(n,s,t.direction),wx(o,!0),t.showGoBack?n.classList.add("can-go-back"):n.classList.remove("can-go-back"),cv(n,!1),n.style.setProperty("pointer-events","none"),s&&(cv(s,!1),s.style.setProperty("pointer-events","none"))},v2=async t=>{const o=await y2(t);return o&&cF.isBrowser?S2(o,t):I2(t)},YL=t=>{const o=t.enteringEl,n=t.leavingEl;o.classList.remove("ion-page-invisible"),o.style.removeProperty("pointer-events"),n!==void 0&&(n.classList.remove("ion-page-invisible"),n.style.removeProperty("pointer-events")),yx.setViewFocus(o)},y2=async t=>!t.leavingEl||!t.animated||t.duration===0?void 0:t.animationBuilder?t.animationBuilder:t.mode==="ios"?(await b2()).iosTransitionAnimation:(await T2()).mdTransitionAnimation,S2=async(t,o)=>{await Ix(o,!0);const n=t(o.baseEl,o);Ox(o.enteringEl,o.leavingEl);const s=await R2(n,o);return o.progressCallback&&o.progressCallback(void 0),s&&Rx(o.enteringEl,o.leavingEl),{hasCompleted:s,animation:n}},I2=async t=>{const o=t.enteringEl,n=t.leavingEl,s=Ke.get("focusManagerPriority",!1);return await Ix(t,s),Ox(o,n),Rx(o,n),{hasCompleted:!0}},Ix=async(t,o)=>{(t.deepWait!==void 0?t.deepWait:o)&&await Promise.all([Sd(t.enteringEl),Sd(t.leavingEl)]),await O2(t.viewIsReady,t.enteringEl)},O2=async(t,o)=>{t&&await t(o)},R2=(t,o)=>{const n=o.progressCallback,s=new Promise(l=>{t.onFinish(c=>l(c===1))});return n?(t.progressStart(!0),n(t)):t.play(),s},Ox=(t,o)=>{hs(o,Ex),hs(t,m2)},Rx=(t,o)=>{hs(t,$2),hs(o,vx)},hs=(t,o)=>{if(t){const n=new CustomEvent(o,{bubbles:!1,cancelable:!1});t.dispatchEvent(n)}},Cx=()=>new Promise(t=>Zi(()=>Zi(()=>t()))),Sd=async t=>{const o=t;if(o){if(o.componentOnReady!=null){if(await o.componentOnReady()!=null)return}else if(o.__registerHost!=null){await new Promise(s=>Zi(s));return}await Promise.all(Array.from(o.children).map(Sd))}},cv=(t,o)=>{o?(t.setAttribute("aria-hidden","true"),t.classList.add("ion-page-hidden")):(t.hidden=!1,t.removeAttribute("aria-hidden"),t.classList.remove("ion-page-hidden"))},C2=(t,o,n)=>{t!==void 0&&(t.style.zIndex=n==="back"?"99":"101"),o!==void 0&&(o.style.zIndex="100")},wx=(t,o)=>{if(!t)return;const n="header-transitioning";o?t.classList.add(n):t.classList.remove(n)},CK=t=>{if(t.classList.contains("ion-page"))return t;const o=t.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs");return o||t},w2=t=>{const o=t.enteringEl,n=t.leavingEl,s=t.direction;if(t.mode!=="ios")return null;const c=s==="back"?n:o;return c?c.querySelector("ion-header"):null};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const cc=(t,o,n,s,l)=>L2(t[1],o[1],n[1],s[1],l).map(c=>A2(t[0],o[0],n[0],s[0],c)),A2=(t,o,n,s,l)=>{const c=3*o*Math.pow(l-1,2),d=-3*n*l+3*n+s*l,h=t*Math.pow(l-1,3);return l*(c+l*d)-h},L2=(t,o,n,s,l)=>(t-=l,o-=l,n-=l,s-=l,N2(s-3*n+3*o-t,3*n-6*o+3*t,3*o-3*t,t).filter(d=>d>=0&&d<=1)),k2=(t,o,n)=>{const s=o*o-4*t*n;return s<0?[]:[(-o+Math.sqrt(s))/(2*t),(-o-Math.sqrt(s))/(2*t)]},N2=(t,o,n,s)=>{if(t===0)return k2(o,n,s);o/=t,n/=t,s/=t;const l=(3*n-o*o)/3,c=(2*o*o*o-9*o*n+27*s)/27;if(l===0)return[Math.pow(-c,1/3)];if(c===0)return[Math.sqrt(-l),-Math.sqrt(-l)];const d=Math.pow(c/2,2)+Math.pow(l/3,3);if(d===0)return[Math.pow(c/2,1/2)-o/3];if(d>0)return[Math.pow(-(c/2)+Math.sqrt(d),1/3)-Math.pow(c/2+Math.sqrt(d),1/3)-o/3];const h=Math.sqrt(Math.pow(-(l/3),3)),p=Math.acos(-(c/(2*Math.sqrt(Math.pow(-(l/3),3))))),g=2*Math.pow(h,1/3);return[g*Math.cos(p/3)-o/3,g*Math.cos((p+2*Math.PI)/3)-o/3,g*Math.cos((p+4*Math.PI)/3)-o/3]};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */class M2{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(o){var n;return new x2(this,this.newID(),o.name,(n=o.priority)!==null&&n!==void 0?n:0,!!o.disableScroll)}createBlocker(o={}){return new D2(this,this.newID(),o.disable,!!o.disableScroll)}start(o,n,s){return this.canStart(o)?(this.requestedStart.set(n,s),!0):(this.requestedStart.delete(n),!1)}capture(o,n,s){if(!this.start(o,n,s))return!1;const l=this.requestedStart;let c=-1e4;if(l.forEach(d=>{c=Math.max(c,d)}),c===s){this.capturedId=n,l.clear();const d=new CustomEvent("ionGestureCaptured",{detail:{gestureName:o}});return document.dispatchEvent(d),!0}return l.delete(n),!1}release(o){this.requestedStart.delete(o),this.capturedId===o&&(this.capturedId=void 0)}disableGesture(o,n){let s=this.disabledGestures.get(o);s===void 0&&(s=new Set,this.disabledGestures.set(o,s)),s.add(n)}enableGesture(o,n){const s=this.disabledGestures.get(o);s!==void 0&&s.delete(n)}disableScroll(o){this.disabledScroll.add(o),this.disabledScroll.size===1&&document.body.classList.add(dg)}enableScroll(o){this.disabledScroll.delete(o),this.disabledScroll.size===0&&document.body.classList.remove(dg)}canStart(o){return!(this.capturedId!==void 0||this.isDisabled(o))}isCaptured(){return this.capturedId!==void 0}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(o){const n=this.disabledGestures.get(o);return!!(n&&n.size>0)}newID(){return this.gestureId++,this.gestureId}}class x2{constructor(o,n,s,l,c){this.id=n,this.name=s,this.disableScroll=c,this.priority=l*1e6+n,this.ctrl=o}canStart(){return this.ctrl?this.ctrl.canStart(this.name):!1}start(){return this.ctrl?this.ctrl.start(this.name,this.id,this.priority):!1}capture(){if(!this.ctrl)return!1;const o=this.ctrl.capture(this.name,this.id,this.priority);return o&&this.disableScroll&&this.ctrl.disableScroll(this.id),o}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class D2{constructor(o,n,s,l){this.id=n,this.disable=s,this.disableScroll=l,this.ctrl=o}block(){if(this.ctrl){if(this.disable)for(const o of this.disable)this.ctrl.disableGesture(o,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const o of this.disable)this.ctrl.enableGesture(o,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const dg="backdrop-no-scroll",P2=new M2;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Zr=(t,o,n,s)=>{const l=B2(t)?{capture:!1,passive:!!s.passive}:!1;let c,d;return t.__zone_symbol__addEventListener?(c="__zone_symbol__addEventListener",d="__zone_symbol__removeEventListener"):(c="addEventListener",d="removeEventListener"),t[c](o,n,l),()=>{t[d](o,n,l)}},B2=t=>{if(nf===void 0)try{const o=Object.defineProperty({},"passive",{get:()=>{nf=!0}});t.addEventListener("optsTest",()=>{},o)}catch(o){nf=!1}return!!nf};let nf;const U2=2e3,H2=(t,o,n,s,l)=>{let c,d,h,p,g,$,b,T=0;const v=Y=>{T=Date.now()+U2,o(Y)&&(!d&&n&&(d=Zr(t,"touchmove",n,l)),h||(h=Zr(Y.target,"touchend",k,l)),p||(p=Zr(Y.target,"touchcancel",k,l)))},I=Y=>{T>Date.now()||o(Y)&&(!$&&n&&($=Zr(jL(t),"mousemove",n,l)),b||(b=Zr(jL(t),"mouseup",G,l)))},k=Y=>{R(),s&&s(Y)},G=Y=>{S(),s&&s(Y)},R=()=>{d&&d(),h&&h(),p&&p(),d=h=p=void 0},S=()=>{$&&$(),b&&b(),$=b=void 0},w=()=>{R(),S()},L=(Y=!0)=>{Y?(c||(c=Zr(t,"touchstart",v,l)),g||(g=Zr(t,"mousedown",I,l))):(c&&c(),g&&g(),c=g=void 0,w())};return{enable:L,stop:w,destroy:()=>{L(!1),s=n=o=void 0}}},jL=t=>t instanceof Document?t:t.ownerDocument,F2=(t,o,n)=>{const s=n*(Math.PI/180),l=t==="x",c=Math.cos(s),d=o*o;let h=0,p=0,g=!1,$=0;return{start(b,T){h=b,p=T,$=0,g=!0},detect(b,T){if(!g)return!1;const v=b-h,I=T-p,k=v*v+I*I;if(k<d)return!1;const G=Math.sqrt(k),R=(l?v:I)/G;return R>c?$=1:R<-c?$=-1:$=0,g=!1,!0},isGesture(){return $!==0},getDirection(){return $}}},Ax=t=>{let o=!1,n=!1,s=!0,l=!1;const c=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},t),d=c.canStart,h=c.onWillStart,p=c.onStart,g=c.onEnd,$=c.notCaptured,b=c.onMove,T=c.threshold,v=c.passive,I=c.blurOnStart,k={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},G=F2(c.direction,c.threshold,c.maxAngle),R=P2.createGesture({name:t.gestureName,priority:t.gesturePriority,disableScroll:t.disableScroll}),S=ce=>{const me=kx(ce);return n||!s||(Lx(ce,k),k.startX=k.currentX,k.startY=k.currentY,k.startTime=k.currentTime=me,k.velocityX=k.velocityY=k.deltaX=k.deltaY=0,k.event=ce,d&&d(k)===!1)||(R.release(),!R.start())?!1:(n=!0,T===0?H():(G.start(k.startX,k.startY),!0))},w=ce=>{if(o){!l&&s&&(l=!0,zT(k,ce),requestAnimationFrame(L));return}zT(k,ce),G.detect(k.currentX,k.currentY)&&(!G.isGesture()||!H())&&ie()},L=()=>{o&&(l=!1,b&&b(k))},H=()=>R.capture()?(o=!0,s=!1,k.startX=k.currentX,k.startY=k.currentY,k.startTime=k.currentTime,h?h(k).then(K):K(),!0):!1,Y=()=>{if(typeof document<"u"){const ce=document.activeElement;ce!=null&&ce.blur&&ce.blur()}},K=()=>{I&&Y(),p&&p(k),s=!0},j=()=>{o=!1,n=!1,l=!1,s=!0,R.release()},P=ce=>{const me=o,ve=s;if(j(),!!ve){if(zT(k,ce),me){g&&g(k);return}$&&$(k)}},J=H2(c.el,S,w,P,{passive:v}),ie=()=>{j(),J.stop(),$&&$(k)};return{enable(ce=!0){ce||(o&&P(void 0),j()),J.enable(ce)},destroy(){R.destroy(),J.destroy()}}},zT=(t,o)=>{if(!o)return;const n=t.currentX,s=t.currentY,l=t.currentTime;Lx(o,t);const c=t.currentX,d=t.currentY,p=(t.currentTime=kx(o))-l;if(p>0&&p<100){const g=(c-n)/p,$=(d-s)/p;t.velocityX=g*.7+t.velocityX*.3,t.velocityY=$*.7+t.velocityY*.3}t.deltaX=c-t.startX,t.deltaY=d-t.startY,t.event=o},Lx=(t,o)=>{let n=0,s=0;if(t){const l=t.changedTouches;if(l&&l.length>0){const c=l[0];n=c.clientX,s=c.clientY}else t.pageX!==void 0&&(n=t.pageX,s=t.pageY)}o.currentX=n,o.currentY=s},kx=t=>t.timeStamp||Date.now();/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const G2=t=>Nx(t),_s=(t,o)=>(typeof t=="string"&&(o=t,t=void 0),G2(t).includes(o)),Nx=(t=window)=>{if(typeof t>"u")return[];t.Ionic=t.Ionic||{};let o=t.Ionic.platforms;return o==null&&(o=t.Ionic.platforms=V2(t),o.forEach(n=>t.document.documentElement.classList.add("plt-".concat(n)))),o},V2=t=>{const o=Ke.get("platform");return Object.keys(KL).filter(n=>{const s=o==null?void 0:o[n];return typeof s=="function"?s(t):KL[n](t)})},z2=t=>am(t)&&!xx(t),Xy=t=>!!(bl(t,/iPad/i)||bl(t,/Macintosh/i)&&am(t)),W2=t=>bl(t,/iPhone/i),X2=t=>bl(t,/iPhone|iPod/i)||Xy(t),Mx=t=>bl(t,/android|sink/i),Y2=t=>Mx(t)&&!bl(t,/mobile/i),j2=t=>{const o=t.innerWidth,n=t.innerHeight,s=Math.min(o,n),l=Math.max(o,n);return s>390&&s<520&&l>620&&l<800},K2=t=>{const o=t.innerWidth,n=t.innerHeight,s=Math.min(o,n),l=Math.max(o,n);return Xy(t)||Y2(t)||s>460&&s<820&&l>780&&l<1400},am=t=>Q2(t,"(any-pointer:coarse)"),q2=t=>!am(t),xx=t=>Dx(t)||Px(t),Dx=t=>!!(t.cordova||t.phonegap||t.PhoneGap),Px=t=>{const o=t.Capacitor;return!!(o!=null&&o.isNative||o!=null&&o.isNativePlatform&&o.isNativePlatform())},J2=t=>bl(t,/electron/i),Z2=t=>{var o;return!!(!((o=t.matchMedia)===null||o===void 0)&&o.call(t,"(display-mode: standalone)").matches||t.navigator.standalone)},bl=(t,o)=>o.test(t.navigator.userAgent),Q2=(t,o)=>{var n;return(n=t.matchMedia)===null||n===void 0?void 0:n.call(t,o).matches},KL={ipad:Xy,iphone:W2,ios:X2,android:Mx,phablet:j2,tablet:K2,cordova:Dx,capacitor:Px,electron:J2,pwa:Z2,mobile:am,mobileweb:z2,desktop:q2,hybrid:xx};let Ia;const rt=t=>t&&BF(t)||Ia,eG=(t={})=>{if(typeof window>"u")return;const o=window.document,n=window,s=n.Ionic=n.Ionic||{},l=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},l2(n)),{persistConfig:!1}),s.config),c2(n)),t);Ke.reset(l),Ke.getBoolean("persistConfig")&&a2(n,l),Nx(n),s.config=Ke,s.mode=Ia=Ke.get("mode",o.documentElement.getAttribute("mode")||(_s(n,"ios")?"ios":"md")),Ke.set("mode",Ia),o.documentElement.setAttribute("mode",Ia),o.documentElement.classList.add(Ia),Ke.getBoolean("_testing")&&Ke.set("animated",!1);const c=h=>{var p;return(p=h.tagName)===null||p===void 0?void 0:p.startsWith("ION-")},d=h=>["ios","md"].includes(h);PF(h=>{for(;h;){const p=h.mode||h.getAttribute("mode");if(p){if(d(p))return p;c(h)&&Ji('Invalid ionic mode: "'+p+'", expected: "ios" or "md"')}h=h.parentElement}return Ia})};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const hl=(t,o)=>o.closest(t)!==null,vr=(t,o)=>typeof t=="string"&&t.length>0?Object.assign({"ion-color":!0,["ion-color-".concat(t)]:!0},o):o,tG=t=>t!==void 0?(Array.isArray(t)?t:t.split(" ")).filter(n=>n!=null).map(n=>n.trim()).filter(n=>n!==""):[],Bx=t=>{const o={};return tG(t).forEach(n=>o[n]=!0),o},oG=/^[a-z][a-z0-9+\-.]*:/,cm=async(t,o,n,s)=>{if(t!=null&&t[0]!=="#"&&!oG.test(t)){const l=document.querySelector("ion-router");if(l)return o!=null&&o.preventDefault(),l.push(t,n,s)}return!1};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Id=()=>Ke.get("experimentalCloseWatcher",!1)&&xt!==void 0&&"CloseWatcher"in xt,iG=()=>{document.addEventListener("backbutton",()=>{})},nG=()=>{const t=document;let o=!1;const n=()=>{if(o)return;let s=0,l=[];const c=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(p,g){l.push({priority:p,handler:g,id:s++})}}});t.dispatchEvent(c);const d=async p=>{try{if(p!=null&&p.handler){const g=p.handler(h);g!=null&&await g}}catch(g){wl("[ion-app] - Exception in startHardwareBackButton:",g)}},h=()=>{if(l.length>0){let p={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};l.forEach(g=>{g.priority>=p.priority&&(p=g)}),o=!0,l=l.filter(g=>g.id!==p.id),d(p).then(()=>o=!1)}};h()};if(Id()){let s;const l=()=>{s==null||s.destroy(),s=new xt.CloseWatcher,s.onclose=()=>{n(),l()}};l()}else t.addEventListener("backbutton",n)},Ux=100,sG=99,rG=Object.freeze(Object.defineProperty({__proto__:null,MENU_BACK_BUTTON_PRIORITY:sG,OVERLAY_BACK_BUTTON_PRIORITY:Ux,blockHardwareBackButton:iG,shouldUseCloseWatcher:Id,startHardwareBackButton:nG},Symbol.toStringTag,{value:"Module"}));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const zd=async(t,o,n,s,l,c)=>{var d;if(t)return t.attachViewToDom(o,n,l,s);if(!c&&typeof n!="string"&&!(n instanceof HTMLElement))throw new Error("framework delegate is missing");const h=typeof n=="string"?(d=o.ownerDocument)===null||d===void 0?void 0:d.createElement(n):n;return s&&s.forEach(p=>h.classList.add(p)),l&&Object.assign(h,l),o.appendChild(h),await new Promise(p=>ac(h,p)),h},Yy=(t,o)=>{if(o){if(t){const n=o.parentElement;return t.removeViewFromDom(n,o)}o.remove()}return Promise.resolve()},Hx=()=>{let t,o;return{attachViewToDom:async(l,c,d={},h=[])=>{var p,g;t=l;let $;if(c){const T=typeof c=="string"?(p=t.ownerDocument)===null||p===void 0?void 0:p.createElement(c):c;h.forEach(v=>T.classList.add(v)),Object.assign(T,d),t.appendChild(T),$=T,await new Promise(v=>ac(T,v))}else if(t.children.length>0&&(t.tagName==="ION-MODAL"||t.tagName==="ION-POPOVER")&&!($=t.children[0]).classList.contains("ion-delegate-host")){const v=(g=t.ownerDocument)===null||g===void 0?void 0:g.createElement("div");v.classList.add("ion-delegate-host"),h.forEach(I=>v.classList.add(I)),v.append(...t.children),t.appendChild(v),$=v}const b=document.querySelector("ion-app")||document.body;return o=document.createComment("ionic teleport"),t.parentNode.insertBefore(o,t),b.appendChild(t),$!=null?$:t},removeViewFromDom:()=>(t&&o&&(o.parentNode.insertBefore(t,o),o.remove()),Promise.resolve())}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Wd='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), ion-checkbox:not([tabindex^="-"]):not([hidden]):not([disabled]), ion-radio:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',uv=(t,o)=>{const n=t.querySelector(Wd);Fx(n,o!=null?o:t)},qL=(t,o)=>{const n=Array.from(t.querySelectorAll(Wd)),s=n.length>0?n[n.length-1]:null;Fx(s,o!=null?o:t)},Fx=(t,o)=>{let n=t;const s=t==null?void 0:t.shadowRoot;if(s&&(n=s.querySelector(Wd)||t),n){const l=n.closest("ion-radio-group");l?l.setFocus():bx(n)}else o.focus()};let dv=0,lG=0;const hg=new WeakMap,hv=t=>{var o;return t.showBackdrop!==!1&&!(((o=t.backdropBreakpoint)!==null&&o!==void 0?o:0)>0)},Gx=t=>{typeof document<"u"&&uG(document);const o=dv++;t.overlayIndex=o},Vx=t=>(t.hasAttribute("id")||(t.id="ion-overlay-".concat(++lG)),t.id),aG=t=>t.classList.contains("overlay-hidden"),JL=(t,o)=>{let n=t;const s=t==null?void 0:t.shadowRoot;s&&(n=s.querySelector(Wd)||t),n?bx(n):o.focus()},cG=(t,o)=>{const n=pv(o,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),s=t.target;if(!n||!s||n.classList.contains(Od))return;const l=()=>{if(n===s)n.lastFocus=void 0;else if(s.tagName==="ION-TOAST")JL(n.lastFocus,n);else{const d=Yt(n);if(!d.contains(s))return;const h=d.querySelector(".ion-overlay-wrapper");if(!h)return;if(h.contains(s)||s===d.querySelector("ion-backdrop"))n.lastFocus=s;else{const p=n.lastFocus;uv(h,n),p===o.activeElement&&qL(h,n),n.lastFocus=o.activeElement}}},c=()=>{if(n.contains(s))n.lastFocus=s;else if(s.tagName==="ION-TOAST")JL(n.lastFocus,n);else{const d=n.lastFocus;uv(n),d===o.activeElement&&qL(n),n.lastFocus=o.activeElement}};n.shadowRoot?c():l()},uG=t=>{dv===0&&(dv=1,t.addEventListener("focus",o=>{cG(o,t)},!0),t.addEventListener("ionBackButton",o=>{const n=pv(t);n!=null&&n.backdropDismiss&&o.detail.register(Ux,()=>{n.dismiss(void 0,fg)})}),Id()||t.addEventListener("keydown",o=>{if(o.key==="Escape"){const n=pv(t);n!=null&&n.backdropDismiss&&n.dismiss(void 0,fg)}}))},dG=(t,o)=>(o===void 0&&(o="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(t.querySelectorAll(o)).filter(n=>n.overlayIndex>0)),zx=(t,o)=>dG(t,o).filter(n=>!aG(n)),pv=(t,o,n)=>zx(t,o).slice(-1)[0],Wx=(t=!1)=>{const n=jx(document).querySelector("ion-router-outlet, #ion-view-container-root");n&&(t?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden"))},Xx=async(t,o,n,s,l)=>{var c,d;if(t.presented)return;t.el.tagName!=="ION-TOAST"&&hG(t.el);const h=t.el,g=h.tagName!=="ION-TOAST"&&h.focusTrap!==!1&&hv(h);if(t.presented=!0,t.willPresent.emit(),g){const I=jx(document).querySelector("ion-router-outlet, #ion-view-container-root");(I?I.contains(h):!1)||Wx(!0),document.body.classList.add(dg)}(c=t.willPresentShorthand)===null||c===void 0||c.emit();const $=rt(t),b=t.enterAnimation?t.enterAnimation:Ke.get(o,$==="ios"?n:s);await Kx(t,b,t.el,l)&&(t.didPresent.emit(),(d=t.didPresentShorthand)===null||d===void 0||d.emit()),t.keyboardClose&&(document.activeElement===null||!t.el.contains(document.activeElement))&&t.el.focus(),t.el.removeAttribute("aria-hidden"),t.el.removeAttribute("inert")},hG=async t=>{let o=document.activeElement;if(!o)return;o.blur();const n=o==null?void 0:o.shadowRoot;n&&(o=n.querySelector(Wd)||o),await t.onDidDismiss(),(document.activeElement===null||document.activeElement===document.body)&&o.focus()},Yx=async(t,o,n,s,l,c,d)=>{var h,p;if(!t.presented)return!1;const $=(td!==void 0?zx(td):[]).filter(I=>{const k=I;return k.tagName!=="ION-TOAST"&&k.focusTrap!==!1&&hv(k)}),b=t.el;b.tagName!=="ION-TOAST"&&b.focusTrap!==!1&&hv(b)&&$.length===1&&$[0].id===b.id&&(Wx(!1),document.body.classList.remove(dg)),t.presented=!1;try{t.el.style.setProperty("pointer-events","none"),t.willDismiss.emit({data:o,role:n}),(h=t.willDismissShorthand)===null||h===void 0||h.emit({data:o,role:n});const I=rt(t),k=t.leaveAnimation?t.leaveAnimation:Ke.get(s,I==="ios"?l:c);n!==od&&await Kx(t,k,t.el,d),t.didDismiss.emit({data:o,role:n}),(p=t.didDismissShorthand)===null||p===void 0||p.emit({data:o,role:n}),(hg.get(t)||[]).forEach(R=>R.destroy()),hg.delete(t),t.el.classList.add("overlay-hidden"),t.el.style.removeProperty("pointer-events"),t.el.lastFocus!==void 0&&(t.el.lastFocus=void 0)}catch(I){wl("[".concat(t.el.tagName.toLowerCase(),"] - "),I)}return t.el.remove(),!0},jx=t=>t.querySelector("ion-app")||t.body,Kx=async(t,o,n,s)=>{n.classList.remove("overlay-hidden");const l=t.el,c=o(l,s);(!t.animated||!Ke.getBoolean("animated",!0))&&c.duration(0),t.keyboardClose&&c.beforeAddWrite(()=>{const h=n.ownerDocument.activeElement;h!=null&&h.matches("input,ion-input, ion-textarea")&&h.blur()});const d=hg.get(t)||[];return hg.set(t,[...d,c]),await c.play(),!0},pg=(t,o)=>{let n;const s=new Promise(l=>n=l);return pG(t,o,l=>{n(l.detail)}),s},pG=(t,o,n)=>{const s=l=>{f2(t,o,s),n(l)};_x(t,o,s)},fg="backdrop",od="gesture",fG=39,gG=()=>{let t;const o=()=>{t&&(t(),t=void 0)};return{addClickListener:(s,l)=>{o();const c=l!==void 0?document.getElementById(l):null;if(!c){Ji("[".concat(s.tagName.toLowerCase(),'] - A trigger element with the ID "').concat(l,'" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.'),s);return}t=((h,p)=>{const g=()=>{p.present()};return h.addEventListener("click",g),()=>{h.removeEventListener("click",g)}})(c,s)},removeClickListener:o}},Od="ion-disable-focus-trap";/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const mG="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512' class='ionicon'><path d='M244 400 100 256l144-144M120 256h292' stroke-linecap='square' stroke-miterlimit='10' stroke-width='48px' class='ionicon-fill-none'/></svg>",$G="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512' class='ionicon'><path d='M328 112 184 256l144 144' stroke-linecap='round' stroke-linejoin='round' stroke-width='48px' class='ionicon-fill-none'/></svg>",_G="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512' class='ionicon'><path d='m289.94 256 95-95A24 24 0 0 0 351 127l-95 95-95-95a24 24 0 0 0-34 34l95 95-95 95a24 24 0 1 0 34 34l95-95 95 95a24 24 0 0 0 34-34Z'/></svg>";/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */let WT;const bG=()=>{if(typeof window>"u")return new Map;if(!WT){const t=window;t.Ionicons=t.Ionicons||{},WT=t.Ionicons.map=t.Ionicons.map||new Map}return WT},TG=t=>{let o=XT(t.src);return o||(o=qx(t.name,t.icon,t.mode,t.ios,t.md),o?EG(o,t):t.icon&&(o=XT(t.icon),o||(o=XT(t.icon[t.mode]),o))?o:null)},EG=(t,o)=>{const n=bG().get(t);if(n)return n;try{return _F("svg/".concat(t,".svg"))}catch(s){console.log("e",s),console.warn('[Ionicons Warning]: Could not load icon with name "'.concat(t,'". Ensure that the icon is registered using addIcons or that the icon SVG data is passed directly to the icon component.'),o)}},qx=(t,o,n,s,l)=>(n=(n&&sf(n))==="ios"?"ios":"md",s&&n==="ios"?t=sf(s):l&&n==="md"?t=sf(l):(!t&&o&&!Jx(o)&&(t=o),gg(t)&&(t=sf(t))),!gg(t)||t.trim()===""||t.replace(/[a-z]|-|\d/gi,"")!==""?null:t),XT=t=>gg(t)&&(t=t.trim(),Jx(t))?t:null,Jx=t=>t.length>0&&/(\/|\.)/.test(t),gg=t=>typeof t=="string",sf=t=>t.toLowerCase(),vG=(t,o=[])=>{const n={};return o.forEach(s=>{t.hasAttribute(s)&&(t.getAttribute(s)!==null&&(n[s]=t.getAttribute(s)),t.removeAttribute(s))}),n},yG=t=>t&&t.dir!==""?t.dir.toLowerCase()==="rtl":(document==null?void 0:document.dir.toLowerCase())==="rtl",SG=t=>{const o=document.createElement("div");o.innerHTML=t;for(let s=o.childNodes.length-1;s>=0;s--)o.childNodes[s].nodeName.toLowerCase()!=="svg"&&o.removeChild(o.childNodes[s]);const n=o.firstElementChild;if(n&&n.nodeName.toLowerCase()==="svg"){const s=n.getAttribute("class")||"";if(n.setAttribute("class",(s+" s-ion-icon").trim()),Zx(n))return o.innerHTML}return""},Zx=t=>{if(t.nodeType===1){if(t.nodeName.toLowerCase()==="script")return!1;for(let o=0;o<t.attributes.length;o++){const n=t.attributes[o].name;if(gg(n)&&n.toLowerCase().indexOf("on")===0)return!1}for(let o=0;o<t.childNodes.length;o++)if(!Zx(t.childNodes[o]))return!1}return!0},IG=t=>t.startsWith("data:image/svg+xml"),OG=t=>t.indexOf(";utf8,")!==-1,Ka=new Map,Qx=new Map;let YT;function fv(t){const o="";return Ka.set(t,o),o}const RG=(t,o)=>{const n=Qx.get(t);return n||(typeof fetch<"u"&&typeof document<"u"?IG(t)&&OG(t)?Promise.resolve(CG(t)):wG(t,o):Promise.resolve(fv(t)))};function CG(t){YT||(YT=new DOMParser);const n=YT.parseFromString(t,"text/html").querySelector("svg");if(n)return Ka.set(t,n.outerHTML),n.outerHTML;throw new Error("Could not parse svg from ".concat(t))}function wG(t,o){const n=fetch(t).then(s=>s.text().then(l=>{l&&o!==!1&&(l=SG(l));const c=l||"";return Ka.set(t,c),c}).catch(()=>fv(t))).catch(()=>fv(t));return Qx.set(t,n),n}const AG=":host{display:inline-block;width:1em;height:1em;contain:strict;fill:currentColor;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host .ionicon{stroke:currentColor}.ionicon-fill-none{fill:none}.ionicon-stroke-width{stroke-width:var(--ionicon-stroke-width, 32px)}.icon-inner,.ionicon,svg{display:block;height:100%;width:100%}@supports (background: -webkit-named-image(i)){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}@supports not selector(:dir(rtl)) and selector(:host-context([dir='rtl'])){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}:host(.flip-rtl):host-context([dir='rtl']) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}@supports selector(:dir(rtl)){:host(.flip-rtl:dir(rtl)) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}:host(.flip-rtl:dir(ltr)) .icon-inner{-webkit-transform:scaleX(1);transform:scaleX(1)}}:host(.icon-small){font-size:1.125rem !important}:host(.icon-large){font-size:2rem !important}:host(.ion-color){color:var(--ion-color-base) !important}:host(.ion-color-primary){--ion-color-base:var(--ion-color-primary, #3880ff)}:host(.ion-color-secondary){--ion-color-base:var(--ion-color-secondary, #0cd1e8)}:host(.ion-color-tertiary){--ion-color-base:var(--ion-color-tertiary, #f4a942)}:host(.ion-color-success){--ion-color-base:var(--ion-color-success, #10dc60)}:host(.ion-color-warning){--ion-color-base:var(--ion-color-warning, #ffce00)}:host(.ion-color-danger){--ion-color-base:var(--ion-color-danger, #f14141)}:host(.ion-color-light){--ion-color-base:var(--ion-color-light, #f4f5f8)}:host(.ion-color-medium){--ion-color-base:var(--ion-color-medium, #989aa2)}:host(.ion-color-dark){--ion-color-base:var(--ion-color-dark, #222428)}",LG=Qt(class extends jt{constructor(o){super(),o!==!1&&this.__registerHost(),this.__attachShadow(),this.iconName=null,this.inheritedAttributes={},this.didLoadIcon=!1,this.isVisible=!1,this.mode=kG(),this.lazy=!1,this.sanitize=!0}componentWillLoad(){this.inheritedAttributes=vG(this.el,["aria-label"])}connectedCallback(){this.waitUntilVisible(this.el,"50px",()=>{this.isVisible=!0,this.loadIcon()})}componentDidLoad(){this.didLoadIcon||this.loadIcon()}disconnectedCallback(){this.io&&(this.io.disconnect(),this.io=void 0)}waitUntilVisible(o,n,s){if(!!!(this.lazy&&typeof window<"u"&&window.IntersectionObserver))return s();const c=this.io=new window.IntersectionObserver(d=>{d[0].isIntersecting&&(c.disconnect(),this.io=void 0,s())},{rootMargin:n});c.observe(o)}loadIcon(){if(this.isVisible){const o=TG(this);o&&(Ka.has(o)?this.svgContent=Ka.get(o):RG(o,this.sanitize).then(()=>this.svgContent=Ka.get(o)),this.didLoadIcon=!0)}this.iconName=qx(this.name,this.icon,this.mode,this.ios,this.md)}render(){const{flipRtl:o,iconName:n,inheritedAttributes:s,el:l}=this,c=this.mode||"md",d=n?(n.includes("arrow")||n.includes("chevron"))&&o!==!1:!1,h=o||d;return _e(so,Object.assign({key:"0578c899781ca145dd8205acd9670af39b57cf2e",role:"img",class:Object.assign(Object.assign({[c]:!0},NG(this.color)),{["icon-".concat(this.size)]:!!this.size,"flip-rtl":h,"icon-rtl":h&&yG(l)})},s),this.svgContent?_e("div",{class:"icon-inner",innerHTML:this.svgContent}):_e("div",{class:"icon-inner"}))}static get assetsDirs(){return["svg"]}get el(){return this}static get watchers(){return{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}}static get style(){return AG}},[257,"ion-icon",{mode:[1025],color:[1],ios:[1],md:[1],flipRtl:[4,"flip-rtl"],name:[513],src:[1],icon:[8],size:[1],lazy:[4],sanitize:[4],svgContent:[32],isVisible:[32]},void 0,{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}]),kG=()=>typeof document<"u"&&document.documentElement.getAttribute("mode")||"md",NG=t=>t?{"ion-color":!0,["ion-color-".concat(t)]:!0}:null;function MG(){if(typeof customElements>"u")return;["ion-icon"].forEach(o=>{switch(o){case"ion-icon":customElements.get(o)||customElements.define(o,LG);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const xG=":host{left:0;right:0;top:0;bottom:0;display:block;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);contain:strict;cursor:pointer;opacity:0.01;-ms-touch-action:none;touch-action:none;z-index:2}:host(.backdrop-hide){background:transparent}:host(.backdrop-no-tappable){cursor:auto}:host{background-color:var(--ion-backdrop-color, #000)}",DG=":host{left:0;right:0;top:0;bottom:0;display:block;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);contain:strict;cursor:pointer;opacity:0.01;-ms-touch-action:none;touch-action:none;z-index:2}:host(.backdrop-hide){background:transparent}:host(.backdrop-no-tappable){cursor:auto}:host{background-color:var(--ion-backdrop-color, #000)}",PG=Qt(class extends jt{constructor(o){super(),o!==!1&&this.__registerHost(),this.__attachShadow(),this.ionBackdropTap=ze(this,"ionBackdropTap",7),this.visible=!0,this.tappable=!0,this.stopPropagation=!0}onMouseDown(o){this.emitTap(o)}emitTap(o){this.stopPropagation&&(o.preventDefault(),o.stopPropagation()),this.tappable&&this.ionBackdropTap.emit()}render(){const o=rt(this);return _e(so,{key:"7abaf2c310aa399607451b14063265e8a5846938","aria-hidden":"true",class:{[o]:!0,"backdrop-hide":!this.visible,"backdrop-no-tappable":!this.tappable}})}static get style(){return{ios:xG,md:DG}}},[289,"ion-backdrop",{visible:[4],tappable:[4],stopPropagation:[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]);function eD(){if(typeof customElements>"u")return;["ion-backdrop"].forEach(o=>{switch(o){case"ion-backdrop":customElements.get(o)||customElements.define(o,PG);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const BG=":host{--background:var(--ion-color-primary, #0054e9);--color:var(--ion-color-primary-contrast, #fff);--padding-top:3px;--padding-end:8px;--padding-bottom:3px;--padding-start:8px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:inline-block;min-width:10px;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);font-size:0.8125rem;font-weight:bold;line-height:1;text-align:center;white-space:nowrap;contain:content;vertical-align:baseline}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(:empty){display:none}:host{border-radius:10px;font-size:max(13px, 0.8125rem)}",UG=":host{--background:var(--ion-color-primary, #0054e9);--color:var(--ion-color-primary-contrast, #fff);--padding-top:3px;--padding-end:8px;--padding-bottom:3px;--padding-start:8px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:inline-block;min-width:10px;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);font-size:0.8125rem;font-weight:bold;line-height:1;text-align:center;white-space:nowrap;contain:content;vertical-align:baseline}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(:empty){display:none}:host{--padding-top:3px;--padding-end:4px;--padding-bottom:4px;--padding-start:4px;border-radius:4px}",HG=Qt(class extends jt{constructor(o){super(),o!==!1&&this.__registerHost(),this.__attachShadow()}render(){const o=rt(this);return _e(so,{key:"1a2d39c5deec771a2f2196447627b62a7d4c8389",class:vr(this.color,{[o]:!0})},_e("slot",{key:"fc1b6587f1ed24715748eb6785e7fb7a57cdd5cd"}))}static get style(){return{ios:BG,md:UG}}},[289,"ion-badge",{color:[513]}]);function FG(){if(typeof customElements>"u")return;["ion-badge"].forEach(o=>{switch(o){case"ion-badge":customElements.get(o)||customElements.define(o,HG);break}})}const GG=FG;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const VG=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:strict;pointer-events:none}:host(.unbounded){contain:layout size style}.ripple-effect{border-radius:50%;position:absolute;background-color:currentColor;color:inherit;contain:strict;opacity:0;-webkit-animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;will-change:transform, opacity;pointer-events:none}.fade-out{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1));-webkit-animation:150ms fadeOutAnimation forwards;animation:150ms fadeOutAnimation forwards}@-webkit-keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@-webkit-keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@-webkit-keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}@keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}",zG=Qt(class extends jt{constructor(o){super(),o!==!1&&this.__registerHost(),this.__attachShadow(),this.type="bounded"}async addRipple(o,n){return new Promise(s=>{Of(()=>{const l=this.el.getBoundingClientRect(),c=l.width,d=l.height,h=Math.sqrt(c*c+d*d),p=Math.max(d,c),g=this.unbounded?p:h+XG,$=Math.floor(p*YG),b=g/$;let T=o-l.left,v=n-l.top;this.unbounded&&(T=c*.5,v=d*.5);const I=T-$*.5,k=v-$*.5,G=c*.5-T,R=d*.5-v;bd(()=>{const S=document.createElement("div");S.classList.add("ripple-effect");const w=S.style;w.top=k+"px",w.left=I+"px",w.width=w.height=$+"px",w.setProperty("--final-scale","".concat(b)),w.setProperty("--translate-end","".concat(G,"px, ").concat(R,"px")),(this.el.shadowRoot||this.el).appendChild(S),setTimeout(()=>{s(()=>{WG(S)})},325)})})})}get unbounded(){return this.type==="unbounded"}render(){const o=rt(this);return _e(so,{key:"ae9d3b1ed6773a9b9bb2267129f7e9af23b6c9fc",role:"presentation",class:{[o]:!0,unbounded:this.unbounded}})}get el(){return this}static get style(){return VG}},[257,"ion-ripple-effect",{type:[1],addRipple:[64]}]),WG=t=>{t.classList.add("fade-out"),setTimeout(()=>{t.remove()},200)},XG=10,YG=.5;function jy(){if(typeof customElements>"u")return;["ion-ripple-effect"].forEach(o=>{switch(o){case"ion-ripple-effect":customElements.get(o)||customElements.define(o,zG);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const jG=":host{--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.12);--color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.87);border-radius:16px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-margin-start:4px;margin-inline-start:4px;-webkit-margin-end:4px;margin-inline-end:4px;margin-top:4px;margin-bottom:4px;-webkit-padding-start:12px;padding-inline-start:12px;-webkit-padding-end:12px;padding-inline-end:12px;padding-top:6px;padding-bottom:6px;display:-ms-inline-flexbox;display:inline-flex;position:relative;-ms-flex-align:center;align-items:center;min-height:32px;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);cursor:pointer;overflow:hidden;vertical-align:middle;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.chip-disabled){cursor:default;opacity:0.4;pointer-events:none}:host(.ion-color){background:rgba(var(--ion-color-base-rgb), 0.08);color:var(--ion-color-shade)}:host(.ion-color:focus){background:rgba(var(--ion-color-base-rgb), 0.12)}:host(.ion-color.ion-activated){background:rgba(var(--ion-color-base-rgb), 0.16)}:host(.chip-outline){border-width:1px;border-style:solid}:host(.chip-outline){border-color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.32);background:transparent}:host(.chip-outline.ion-color){border-color:rgba(var(--ion-color-base-rgb), 0.32)}:host(.chip-outline:not(.ion-color):focus){background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.04)}:host(.chip-outline.ion-activated:not(.ion-color)){background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08)}::slotted(ion-icon){font-size:1.4285714286em}:host(:not(.ion-color)) ::slotted(ion-icon){color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54)}::slotted(ion-icon:first-child){-webkit-margin-start:-4px;margin-inline-start:-4px;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:-4px;margin-bottom:-4px}::slotted(ion-icon:last-child){-webkit-margin-start:8px;margin-inline-start:8px;-webkit-margin-end:-4px;margin-inline-end:-4px;margin-top:-4px;margin-bottom:-4px}::slotted(ion-avatar){-ms-flex-negative:0;flex-shrink:0;width:1.7142857143em;height:1.7142857143em}::slotted(ion-avatar:first-child){-webkit-margin-start:-8px;margin-inline-start:-8px;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:-4px;margin-bottom:-4px}::slotted(ion-avatar:last-child){-webkit-margin-start:8px;margin-inline-start:8px;-webkit-margin-end:-8px;margin-inline-end:-8px;margin-top:-4px;margin-bottom:-4px}:host(:focus){outline:none}:host(:focus){--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.16)}:host(.ion-activated){--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2)}@media (any-hover: hover){:host(:hover){--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.16)}:host(.ion-color:hover){background:rgba(var(--ion-color-base-rgb), 0.12)}:host(.chip-outline:not(.ion-color):hover){background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.04)}}:host{font-size:clamp(13px, 0.875rem, 22px)}",KG=":host{--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.12);--color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.87);border-radius:16px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-margin-start:4px;margin-inline-start:4px;-webkit-margin-end:4px;margin-inline-end:4px;margin-top:4px;margin-bottom:4px;-webkit-padding-start:12px;padding-inline-start:12px;-webkit-padding-end:12px;padding-inline-end:12px;padding-top:6px;padding-bottom:6px;display:-ms-inline-flexbox;display:inline-flex;position:relative;-ms-flex-align:center;align-items:center;min-height:32px;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);cursor:pointer;overflow:hidden;vertical-align:middle;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.chip-disabled){cursor:default;opacity:0.4;pointer-events:none}:host(.ion-color){background:rgba(var(--ion-color-base-rgb), 0.08);color:var(--ion-color-shade)}:host(.ion-color:focus){background:rgba(var(--ion-color-base-rgb), 0.12)}:host(.ion-color.ion-activated){background:rgba(var(--ion-color-base-rgb), 0.16)}:host(.chip-outline){border-width:1px;border-style:solid}:host(.chip-outline){border-color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.32);background:transparent}:host(.chip-outline.ion-color){border-color:rgba(var(--ion-color-base-rgb), 0.32)}:host(.chip-outline:not(.ion-color):focus){background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.04)}:host(.chip-outline.ion-activated:not(.ion-color)){background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08)}::slotted(ion-icon){font-size:1.4285714286em}:host(:not(.ion-color)) ::slotted(ion-icon){color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54)}::slotted(ion-icon:first-child){-webkit-margin-start:-4px;margin-inline-start:-4px;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:-4px;margin-bottom:-4px}::slotted(ion-icon:last-child){-webkit-margin-start:8px;margin-inline-start:8px;-webkit-margin-end:-4px;margin-inline-end:-4px;margin-top:-4px;margin-bottom:-4px}::slotted(ion-avatar){-ms-flex-negative:0;flex-shrink:0;width:1.7142857143em;height:1.7142857143em}::slotted(ion-avatar:first-child){-webkit-margin-start:-8px;margin-inline-start:-8px;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:-4px;margin-bottom:-4px}::slotted(ion-avatar:last-child){-webkit-margin-start:8px;margin-inline-start:8px;-webkit-margin-end:-8px;margin-inline-end:-8px;margin-top:-4px;margin-bottom:-4px}:host(:focus){outline:none}:host(:focus){--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.16)}:host(.ion-activated){--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2)}@media (any-hover: hover){:host(:hover){--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.16)}:host(.ion-color:hover){background:rgba(var(--ion-color-base-rgb), 0.12)}:host(.chip-outline:not(.ion-color):hover){background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.04)}}:host{font-size:0.875rem}",qG=Qt(class extends jt{constructor(o){super(),o!==!1&&this.__registerHost(),this.__attachShadow(),this.outline=!1,this.disabled=!1}render(){const o=rt(this);return _e(so,{key:"fa2e9a4837ef87a17ef10f388e8caa7f604d9145","aria-disabled":this.disabled?"true":null,class:vr(this.color,{[o]:!0,"chip-outline":this.outline,"chip-disabled":this.disabled,"ion-activatable":!0})},_e("slot",{key:"3793fbd9d915cef7241fb101e2bc64c08b9ba482"}),o==="md"&&_e("ion-ripple-effect",{key:"d3b95b53918611dec095a50f2aaaab65617947a4"}))}static get style(){return{ios:jG,md:KG}}},[289,"ion-chip",{color:[513],outline:[4],disabled:[4]}]);function JG(){if(typeof customElements>"u")return;["ion-chip","ion-ripple-effect"].forEach(o=>{switch(o){case"ion-chip":customElements.get(o)||customElements.define(o,qG);break;case"ion-ripple-effect":customElements.get(o)||jy();break}})}const ZG=JG;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const rf=typeof window<"u"?window:void 0;rf&&(rf.CSS&&rf.CSS.supports&&rf.CSS.supports("--a: 0"));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const QG=t=>t&&t.dir!==""?t.dir.toLowerCase()==="rtl":(document==null?void 0:document.dir.toLowerCase())==="rtl";/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const eV=':host{--background:var(--ion-background-color, #fff);--color:var(--ion-text-color, #000);--padding-top:0px;--padding-bottom:0px;--padding-start:0px;--padding-end:0px;--keyboard-offset:0px;--offset-top:0px;--offset-bottom:0px;--overflow:auto;display:block;position:relative;-ms-flex:1;flex:1;width:100%;height:100%;margin:0 !important;padding:0 !important;font-family:var(--ion-font-family, inherit);contain:size style}:host(.ion-color) .inner-scroll{background:var(--ion-color-base);color:var(--ion-color-contrast)}#background-content{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);position:absolute;background:var(--background)}.inner-scroll{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:calc(var(--padding-top) + var(--offset-top));padding-bottom:calc(var(--padding-bottom) + var(--keyboard-offset) + var(--offset-bottom));position:absolute;color:var(--color);-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden;-ms-touch-action:pan-x pan-y pinch-zoom;touch-action:pan-x pan-y pinch-zoom}.scroll-y,.scroll-x{-webkit-overflow-scrolling:touch;z-index:0;will-change:scroll-position}.scroll-y{overflow-y:var(--overflow);overscroll-behavior-y:contain}.scroll-x{overflow-x:var(--overflow);overscroll-behavior-x:contain}.overscroll::before,.overscroll::after{position:absolute;width:1px;height:1px;content:""}.overscroll::before{bottom:-1px}.overscroll::after{top:-1px}:host(.content-sizing){display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;min-height:0;contain:none}:host(.content-sizing) .inner-scroll{position:relative;top:0;bottom:0;margin-top:calc(var(--offset-top) * -1);margin-bottom:calc(var(--offset-bottom) * -1)}.transition-effect{display:none;position:absolute;width:100%;height:100vh;opacity:0;pointer-events:none}:host(.content-ltr) .transition-effect{left:-100%;}:host(.content-rtl) .transition-effect{right:-100%;}.transition-cover{position:absolute;right:0;width:100%;height:100%;background:black;opacity:0.1}.transition-shadow{display:block;position:absolute;width:100%;height:100%;-webkit-box-shadow:inset -9px 0 9px 0 rgba(0, 0, 100, 0.03);box-shadow:inset -9px 0 9px 0 rgba(0, 0, 100, 0.03)}:host(.content-ltr) .transition-shadow{right:0;}:host(.content-rtl) .transition-shadow{left:0;-webkit-transform:scaleX(-1);transform:scaleX(-1)}::slotted([slot=fixed]){position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0)}',tV=Qt(class extends jt{constructor(o){super(),o!==!1&&this.__registerHost(),this.__attachShadow(),this.ionScrollStart=ze(this,"ionScrollStart",7),this.ionScroll=ze(this,"ionScroll",7),this.ionScrollEnd=ze(this,"ionScrollEnd",7),this.watchDog=null,this.isScrolling=!1,this.lastScroll=0,this.queued=!1,this.cTop=-1,this.cBottom=-1,this.isMainContent=!0,this.resizeTimeout=null,this.inheritedAttributes={},this.tabsElement=null,this.detail={scrollTop:0,scrollLeft:0,type:"scroll",event:void 0,startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,data:void 0,isScrolling:!0},this.fullscreen=!1,this.fixedSlotPlacement="after",this.scrollX=!1,this.scrollY=!0,this.scrollEvents=!1}componentWillLoad(){this.inheritedAttributes=lm(this.el)}connectedCallback(){if(this.isMainContent=this.el.closest("ion-menu, ion-popover, ion-modal")===null,yd(this.el)){const o=this.tabsElement=this.el.closest("ion-tabs");o!==null&&(this.tabsLoadCallback=()=>this.resize(),o.addEventListener("ionTabBarLoaded",this.tabsLoadCallback))}}disconnectedCallback(){if(this.onScrollEnd(),yd(this.el)){const{tabsElement:o,tabsLoadCallback:n}=this;o!==null&&n!==void 0&&o.removeEventListener("ionTabBarLoaded",n),this.tabsElement=null,this.tabsLoadCallback=void 0}}onResize(){this.resizeTimeout&&(clearTimeout(this.resizeTimeout),this.resizeTimeout=null),this.resizeTimeout=setTimeout(()=>{this.el.offsetParent!==null&&this.resize()},100)}shouldForceOverscroll(){const{forceOverscroll:o}=this,n=rt(this);return o===void 0?n==="ios"&&_s("ios"):o}resize(){this.fullscreen?Of(()=>this.readDimensions()):(this.cTop!==0||this.cBottom!==0)&&(this.cTop=this.cBottom=0,av(this))}async recalculateDimensions(){Of(()=>this.readDimensions())}readDimensions(){const o=iV(this.el),n=Math.max(this.el.offsetTop,0),s=Math.max(o.offsetHeight-n-this.el.offsetHeight,0);(n!==this.cTop||s!==this.cBottom)&&(this.cTop=n,this.cBottom=s,av(this))}onScroll(o){const n=Date.now(),s=!this.isScrolling;this.lastScroll=n,s&&this.onScrollStart(),!this.queued&&this.scrollEvents&&(this.queued=!0,Of(l=>{this.queued=!1,this.detail.event=o,nV(this.detail,this.scrollEl,l,s),this.ionScroll.emit(this.detail)}))}async getScrollElement(){return this.scrollEl||await new Promise(o=>ac(this.el,o)),Promise.resolve(this.scrollEl)}async getBackgroundElement(){return this.backgroundContentEl||await new Promise(o=>ac(this.el,o)),Promise.resolve(this.backgroundContentEl)}scrollToTop(o=0){return this.scrollToPoint(void 0,0,o)}async scrollToBottom(o=0){const n=await this.getScrollElement(),s=n.scrollHeight-n.clientHeight;return this.scrollToPoint(void 0,s,o)}async scrollByPoint(o,n,s){const l=await this.getScrollElement();return this.scrollToPoint(o+l.scrollLeft,n+l.scrollTop,s)}async scrollToPoint(o,n,s=0){const l=await this.getScrollElement();if(s<32){n!=null&&(l.scrollTop=n),o!=null&&(l.scrollLeft=o);return}let c,d=0;const h=new Promise(v=>c=v),p=l.scrollTop,g=l.scrollLeft,$=n!=null?n-p:0,b=o!=null?o-g:0,T=v=>{const I=Math.min(1,(v-d)/s)-1,k=Math.pow(I,3)+1;$!==0&&(l.scrollTop=Math.floor(k*$+p)),b!==0&&(l.scrollLeft=Math.floor(k*b+g)),k<1?requestAnimationFrame(T):c()};return requestAnimationFrame(v=>{d=v,T(v)}),h}onScrollStart(){this.isScrolling=!0,this.ionScrollStart.emit({isScrolling:!0}),this.watchDog&&clearInterval(this.watchDog),this.watchDog=setInterval(()=>{this.lastScroll<Date.now()-120&&this.onScrollEnd()},100)}onScrollEnd(){this.watchDog&&clearInterval(this.watchDog),this.watchDog=null,this.isScrolling&&(this.isScrolling=!1,this.ionScrollEnd.emit({isScrolling:!1}))}render(){const{fixedSlotPlacement:o,inheritedAttributes:n,isMainContent:s,scrollX:l,scrollY:c,el:d}=this,h=QG(d)?"rtl":"ltr",p=rt(this),g=this.shouldForceOverscroll(),$=p==="ios";return this.resize(),_e(so,Object.assign({key:"cd8781f848d8dc926fe66f43d43c49564425a507",role:s?"main":void 0,class:vr(this.color,{[p]:!0,"content-sizing":hl("ion-popover",this.el),overscroll:g,["content-".concat(h)]:!0}),style:{"--offset-top":"".concat(this.cTop,"px"),"--offset-bottom":"".concat(this.cBottom,"px")}},n),_e("div",{key:"95b112d7cae30f22ef778ceffb88edb4d941c170",ref:b=>this.backgroundContentEl=b,id:"background-content",part:"background"}),o==="before"?_e("slot",{name:"fixed"}):null,_e("div",{key:"2fdfcbc39fb66f11b6191911f2941c660f4c12e5",class:{"inner-scroll":!0,"scroll-x":l,"scroll-y":c,overscroll:(l||c)&&g},ref:b=>this.scrollEl=b,onScroll:this.scrollEvents?b=>this.onScroll(b):void 0,part:"scroll"},_e("slot",{key:"6bc77e0054ec8e21635a7f2abfe0ca46e0962e03"})),$?_e("div",{class:"transition-effect"},_e("div",{class:"transition-cover"}),_e("div",{class:"transition-shadow"})):null,o==="after"?_e("slot",{name:"fixed"}):null)}get el(){return this}static get style(){return eV}},[257,"ion-content",{color:[513],fullscreen:[4],fixedSlotPlacement:[1,"fixed-slot-placement"],forceOverscroll:[1028,"force-overscroll"],scrollX:[4,"scroll-x"],scrollY:[4,"scroll-y"],scrollEvents:[4,"scroll-events"],recalculateDimensions:[64],getScrollElement:[64],getBackgroundElement:[64],scrollToTop:[64],scrollToBottom:[64],scrollByPoint:[64],scrollToPoint:[64]},[[9,"resize","onResize"]]]),oV=t=>{var o;return t.parentElement?t.parentElement:!((o=t.parentNode)===null||o===void 0)&&o.host?t.parentNode.host:null},iV=t=>{const o=t.closest("ion-tabs");if(o)return o;const n=t.closest("ion-app, ion-page, .ion-page, page-inner, .popover-content");return n||oV(t)},nV=(t,o,n,s)=>{const l=t.currentX,c=t.currentY,d=t.currentTime,h=o.scrollLeft,p=o.scrollTop,g=n-d;if(s&&(t.startTime=n,t.startX=h,t.startY=p,t.velocityX=t.velocityY=0),t.currentTime=n,t.currentX=t.scrollLeft=h,t.currentY=t.scrollTop=p,t.deltaX=h-t.startX,t.deltaY=p-t.startY,g>0&&g<100){const $=(h-l)/g,b=(p-c)/g;t.velocityX=$*.7+t.velocityX*.3,t.velocityY=b*.7+t.velocityY*.3}};function sV(){if(typeof customElements>"u")return;["ion-content"].forEach(o=>{switch(o){case"ion-content":customElements.get(o)||customElements.define(o,tV);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const rV=sV;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const lV=':host{--overflow:hidden;--ripple-color:currentColor;--border-width:initial;--border-color:initial;--border-style:initial;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--box-shadow:none;display:inline-block;width:auto;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;white-space:normal;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:top;vertical-align:-webkit-baseline-middle;-webkit-font-kerning:none;font-kerning:none}:host(.button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.button-solid){--background:var(--ion-color-primary, #0054e9);--color:var(--ion-color-primary-contrast, #fff)}:host(.button-outline){--border-color:var(--ion-color-primary, #0054e9);--background:transparent;--color:var(--ion-color-primary, #0054e9)}:host(.button-clear){--border-width:0;--background:transparent;--color:var(--ion-color-primary, #0054e9)}:host(.button-block){display:block}:host(.button-block) .button-native{margin-left:0;margin-right:0;width:100%;clear:both;contain:content}:host(.button-block) .button-native::after{clear:both}:host(.button-full){display:block}:host(.button-full) .button-native{margin-left:0;margin-right:0;width:100%;contain:content}:host(.button-full:not(.button-round)) .button-native{border-radius:0;border-right-width:0;border-left-width:0}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);line-height:1;-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);contain:layout style;cursor:pointer;opacity:var(--opacity);overflow:var(--overflow);z-index:0;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-native::-moz-focus-inner{border:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}::slotted([slot=start]),::slotted([slot=end]){-ms-flex-negative:0;flex-shrink:0}::slotted(ion-icon){font-size:1.35em;pointer-events:none}::slotted(ion-icon[slot=start]){-webkit-margin-start:-0.3em;margin-inline-start:-0.3em;-webkit-margin-end:0.3em;margin-inline-end:0.3em;margin-top:0;margin-bottom:0}::slotted(ion-icon[slot=end]){-webkit-margin-start:0.3em;margin-inline-start:0.3em;-webkit-margin-end:-0.2em;margin-inline-end:-0.2em;margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}:host(.ion-focused){color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){:host(:hover){color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-activated){color:var(--color-activated)}:host(.ion-activated) .button-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.button-solid.ion-color) .button-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.button-outline.ion-color) .button-native{border-color:var(--ion-color-base);background:transparent;color:var(--ion-color-base)}:host(.button-clear.ion-color) .button-native{background:transparent;color:var(--ion-color-base)}:host(.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{color:var(--ion-toolbar-color, var(--color))}:host(.button-outline.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{border-color:var(--ion-toolbar-color, var(--color, var(--border-color)))}:host(.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--background));color:var(--ion-toolbar-background, var(--color))}:host{--border-radius:14px;--padding-top:13px;--padding-bottom:13px;--padding-start:1em;--padding-end:1em;--transition:background-color, opacity 100ms linear;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;margin-top:4px;margin-bottom:4px;min-height:3.1em;font-size:min(1rem, 48px);font-weight:500;letter-spacing:0}:host(.button-solid){--background-activated:var(--ion-color-primary-shade, #004acd);--background-focused:var(--ion-color-primary-shade, #004acd);--background-hover:var(--ion-color-primary-tint, #1a65eb);--background-activated-opacity:1;--background-focused-opacity:1;--background-hover-opacity:1}:host(.button-outline){--border-radius:14px;--border-width:1px;--border-style:solid;--background-activated:var(--ion-color-primary, #0054e9);--background-focused:var(--ion-color-primary, #0054e9);--background-hover:transparent;--background-focused-opacity:.1;--color-activated:var(--ion-color-primary-contrast, #fff)}:host(.button-clear){--background-activated:transparent;--background-activated-opacity:0;--background-focused:var(--ion-color-primary, #0054e9);--background-hover:transparent;--background-focused-opacity:.1;font-size:min(1.0625rem, 51px);font-weight:normal}:host(.in-buttons){font-size:clamp(17px, 1.0625rem, 21.08px);font-weight:400}:host(.button-large){--border-radius:16px;--padding-top:17px;--padding-start:1em;--padding-end:1em;--padding-bottom:17px;min-height:3.1em;font-size:min(1.25rem, 60px)}:host(.button-small){--border-radius:6px;--padding-top:4px;--padding-start:0.9em;--padding-end:0.9em;--padding-bottom:4px;min-height:2.1em;font-size:min(0.8125rem, 39px)}:host(.button-round){--border-radius:999px;--padding-top:0;--padding-start:26px;--padding-end:26px;--padding-bottom:0}:host(.button-strong){font-weight:600}:host(.button-has-icon-only){--padding-top:0;--padding-bottom:var(--padding-top);--padding-end:var(--padding-top);--padding-start:var(--padding-end);min-width:clamp(30px, 2.125em, 60px);min-height:clamp(30px, 2.125em, 60px)}::slotted(ion-icon[slot=icon-only]){font-size:clamp(15.12px, 1.125em, 43.02px)}:host(.button-small.button-has-icon-only){min-width:clamp(23px, 2.16em, 54px);min-height:clamp(23px, 2.16em, 54px)}:host(.button-small) ::slotted(ion-icon[slot=icon-only]){font-size:clamp(12.1394px, 1.308125em, 40.1856px)}:host(.button-large.button-has-icon-only){min-width:clamp(46px, 2.5em, 78px);min-height:clamp(46px, 2.5em, 78px)}:host(.button-large) ::slotted(ion-icon[slot=icon-only]){font-size:clamp(15.12px, 0.9em, 43.056px)}:host(.button-outline.ion-focused.ion-color) .button-native,:host(.button-clear.ion-focused.ion-color) .button-native{color:var(--ion-color-base)}:host(.button-outline.ion-focused.ion-color) .button-native::after,:host(.button-clear.ion-focused.ion-color) .button-native::after{background:var(--ion-color-base)}:host(.button-solid.ion-color.ion-focused) .button-native::after{background:var(--ion-color-shade)}@media (any-hover: hover){:host(.button-clear:not(.ion-activated):hover),:host(.button-outline:not(.ion-activated):hover){opacity:0.6}:host(.button-clear.ion-color:hover) .button-native,:host(.button-outline.ion-color:hover) .button-native{color:var(--ion-color-base)}:host(.button-clear.ion-color:hover) .button-native::after,:host(.button-outline.ion-color:hover) .button-native::after{background:transparent}:host(.button-solid.ion-color:hover) .button-native::after{background:var(--ion-color-tint)}:host(:hover.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color):not(.ion-activated)) .button-native::after{background:#fff;opacity:0.1}}:host(.button-clear.ion-activated){opacity:0.4}:host(.button-outline.ion-activated.ion-color) .button-native{color:var(--ion-color-contrast)}:host(.button-outline.ion-activated.ion-color) .button-native::after{background:var(--ion-color-base)}:host(.button-solid.ion-color.ion-activated) .button-native::after{background:var(--ion-color-shade)}:host(.button-outline.ion-activated.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--color));color:var(--ion-toolbar-background, var(--background), var(--ion-color-primary-contrast, #fff))}',aV=':host{--overflow:hidden;--ripple-color:currentColor;--border-width:initial;--border-color:initial;--border-style:initial;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--box-shadow:none;display:inline-block;width:auto;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;white-space:normal;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:top;vertical-align:-webkit-baseline-middle;-webkit-font-kerning:none;font-kerning:none}:host(.button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.button-solid){--background:var(--ion-color-primary, #0054e9);--color:var(--ion-color-primary-contrast, #fff)}:host(.button-outline){--border-color:var(--ion-color-primary, #0054e9);--background:transparent;--color:var(--ion-color-primary, #0054e9)}:host(.button-clear){--border-width:0;--background:transparent;--color:var(--ion-color-primary, #0054e9)}:host(.button-block){display:block}:host(.button-block) .button-native{margin-left:0;margin-right:0;width:100%;clear:both;contain:content}:host(.button-block) .button-native::after{clear:both}:host(.button-full){display:block}:host(.button-full) .button-native{margin-left:0;margin-right:0;width:100%;contain:content}:host(.button-full:not(.button-round)) .button-native{border-radius:0;border-right-width:0;border-left-width:0}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);line-height:1;-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);contain:layout style;cursor:pointer;opacity:var(--opacity);overflow:var(--overflow);z-index:0;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-native::-moz-focus-inner{border:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}::slotted([slot=start]),::slotted([slot=end]){-ms-flex-negative:0;flex-shrink:0}::slotted(ion-icon){font-size:1.35em;pointer-events:none}::slotted(ion-icon[slot=start]){-webkit-margin-start:-0.3em;margin-inline-start:-0.3em;-webkit-margin-end:0.3em;margin-inline-end:0.3em;margin-top:0;margin-bottom:0}::slotted(ion-icon[slot=end]){-webkit-margin-start:0.3em;margin-inline-start:0.3em;-webkit-margin-end:-0.2em;margin-inline-end:-0.2em;margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}:host(.ion-focused){color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){:host(:hover){color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-activated){color:var(--color-activated)}:host(.ion-activated) .button-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.button-solid.ion-color) .button-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.button-outline.ion-color) .button-native{border-color:var(--ion-color-base);background:transparent;color:var(--ion-color-base)}:host(.button-clear.ion-color) .button-native{background:transparent;color:var(--ion-color-base)}:host(.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{color:var(--ion-toolbar-color, var(--color))}:host(.button-outline.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{border-color:var(--ion-toolbar-color, var(--color, var(--border-color)))}:host(.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--background));color:var(--ion-toolbar-background, var(--color))}:host{--border-radius:4px;--padding-top:8px;--padding-bottom:8px;--padding-start:1.1em;--padding-end:1.1em;--transition:box-shadow 280ms cubic-bezier(.4, 0, .2, 1),\n                background-color 15ms linear,\n                color 15ms linear;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;margin-top:4px;margin-bottom:4px;min-height:36px;font-size:0.875rem;font-weight:500;letter-spacing:0.06em;text-transform:uppercase}:host(.button-solid){--background-activated:transparent;--background-hover:var(--ion-color-primary-contrast, #fff);--background-focused:var(--ion-color-primary-contrast, #fff);--background-activated-opacity:0;--background-focused-opacity:.24;--background-hover-opacity:.08;--box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)}:host(.button-solid.ion-activated){--box-shadow:0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12)}:host(.button-outline){--border-width:2px;--border-style:solid;--box-shadow:none;--background-activated:transparent;--background-focused:var(--ion-color-primary, #0054e9);--background-hover:var(--ion-color-primary, #0054e9);--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04}:host(.button-outline.ion-activated.ion-color) .button-native{background:transparent}:host(.button-clear){--background-activated:transparent;--background-focused:var(--ion-color-primary, #0054e9);--background-hover:var(--ion-color-primary, #0054e9);--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04}:host(.button-round){--border-radius:999px;--padding-top:0;--padding-start:26px;--padding-end:26px;--padding-bottom:0}:host(.button-large){--padding-top:14px;--padding-start:1em;--padding-end:1em;--padding-bottom:14px;min-height:2.8em;font-size:1.25rem}:host(.button-small){--padding-top:4px;--padding-start:0.9em;--padding-end:0.9em;--padding-bottom:4px;min-height:2.1em;font-size:0.8125rem}:host(.button-strong){font-weight:bold}:host(.button-has-icon-only){--padding-top:0;--padding-bottom:var(--padding-top);--padding-end:var(--padding-top);--padding-start:var(--padding-end);min-width:clamp(30px, 2.86em, 60px);min-height:clamp(30px, 2.86em, 60px)}::slotted(ion-icon[slot=icon-only]){font-size:clamp(15.104px, 1.6em, 43.008px)}:host(.button-small.button-has-icon-only){min-width:clamp(23px, 2.16em, 54px);min-height:clamp(23px, 2.16em, 54px)}:host(.button-small) ::slotted(ion-icon[slot=icon-only]){font-size:clamp(13.002px, 1.23125em, 40.385px)}:host(.button-large.button-has-icon-only){min-width:clamp(46px, 2.5em, 78px);min-height:clamp(46px, 2.5em, 78px)}:host(.button-large) ::slotted(ion-icon[slot=icon-only]){font-size:clamp(15.008px, 1.4em, 43.008px)}:host(.button-solid.ion-color.ion-focused) .button-native::after{background:var(--ion-color-contrast)}:host(.button-clear.ion-color.ion-focused) .button-native::after,:host(.button-outline.ion-color.ion-focused) .button-native::after{background:var(--ion-color-base)}@media (any-hover: hover){:host(.button-solid.ion-color:hover) .button-native::after{background:var(--ion-color-contrast)}:host(.button-clear.ion-color:hover) .button-native::after,:host(.button-outline.ion-color:hover) .button-native::after{background:var(--ion-color-base)}}:host(.button-outline.ion-activated.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-background, var(--color));color:var(--ion-toolbar-color, var(--background), var(--ion-color-primary-contrast, #fff))}',cV=Qt(class extends jt{constructor(o){super(),o!==!1&&this.__registerHost(),this.__attachShadow(),this.ionFocus=ze(this,"ionFocus",7),this.ionBlur=ze(this,"ionBlur",7),this.inItem=!1,this.inListHeader=!1,this.inToolbar=!1,this.formButtonEl=null,this.formEl=null,this.inheritedAttributes={},this.isCircle=!1,this.buttonType="button",this.disabled=!1,this.routerDirection="forward",this.strong=!1,this.type="button",this.handleClick=n=>{const{el:s}=this;this.type==="button"?cm(this.href,n,this.routerDirection,this.routerAnimation):g2(s)&&this.submitForm(n)},this.onFocus=()=>{this.ionFocus.emit()},this.onBlur=()=>{this.ionBlur.emit()},this.slotChanged=()=>{this.isCircle=this.hasIconOnly}}disabledChanged(){const{disabled:o}=this;this.formButtonEl&&(this.formButtonEl.disabled=o)}onAriaChanged(o,n,s){this.inheritedAttributes=Object.assign(Object.assign({},this.inheritedAttributes),{[s]:o}),av(this)}renderHiddenButton(){const o=this.formEl=this.findForm();if(o){const{formButtonEl:n}=this;if(n!==null&&o.contains(n))return;const s=this.formButtonEl=document.createElement("button");s.type=this.type,s.style.display="none",s.disabled=this.disabled,o.appendChild(s)}}componentWillLoad(){this.inToolbar=!!this.el.closest("ion-buttons"),this.inListHeader=!!this.el.closest("ion-list-header"),this.inItem=!!this.el.closest("ion-item")||!!this.el.closest("ion-item-divider"),this.inheritedAttributes=lm(this.el)}get hasIconOnly(){return!!this.el.querySelector('[slot="icon-only"]')}get rippleType(){return(this.fill===void 0||this.fill==="clear")&&this.hasIconOnly&&this.inToolbar?"unbounded":"bounded"}findForm(){const{form:o}=this;if(o instanceof HTMLFormElement)return o;if(typeof o=="string"){const n=document.getElementById(o);return n?n instanceof HTMLFormElement?n:(Ji('[ion-button] - Form with selector: "#'.concat(o,'" could not be found. Verify that the id is attached to a <form> element.'),this.el),null):(Ji('[ion-button] - Form with selector: "#'.concat(o,'" could not be found. Verify that the id is correct and the form is rendered in the DOM.'),this.el),null)}return o!==void 0?(Ji('[ion-button] - The provided "form" element is invalid. Verify that the form is a HTMLFormElement and rendered in the DOM.',this.el),null):this.el.closest("form")}submitForm(o){this.formEl&&this.formButtonEl&&(o.preventDefault(),this.formButtonEl.click())}render(){const o=rt(this),{buttonType:n,type:s,disabled:l,rel:c,target:d,size:h,href:p,color:g,expand:$,hasIconOnly:b,shape:T,strong:v,inheritedAttributes:I}=this,k=h===void 0&&this.inItem?"small":h,G=p===void 0?"button":"a",R=G==="button"?{type:s}:{download:this.download,href:p,rel:c,target:d};let S=this.fill;return S===void 0&&(S=this.inToolbar||this.inListHeader?"clear":"solid"),s!=="button"&&this.renderHiddenButton(),_e(so,{key:"d148ed2332917f03fafd63dbbef10131df0ec5f0",onClick:this.handleClick,"aria-disabled":l?"true":null,class:vr(g,{[o]:!0,[n]:!0,["".concat(n,"-").concat($)]:$!==void 0,["".concat(n,"-").concat(k)]:k!==void 0,["".concat(n,"-").concat(T)]:T!==void 0,["".concat(n,"-").concat(S)]:!0,["".concat(n,"-strong")]:v,"in-toolbar":hl("ion-toolbar",this.el),"in-toolbar-color":hl("ion-toolbar[color]",this.el),"in-buttons":hl("ion-buttons",this.el),"button-has-icon-only":b,"button-disabled":l,"ion-activatable":!0,"ion-focusable":!0})},_e(G,Object.assign({key:"9da73c530017d510839a224bc4d5315bd44f60ed"},R,{class:"button-native",part:"native",disabled:l,onFocus:this.onFocus,onBlur:this.onBlur},I),_e("span",{key:"9046184db918cc53e90796860c43d1dfb7d1f85c",class:"button-inner"},_e("slot",{key:"9dd37ab124803e703567ddde4154c81ed1922be1",name:"icon-only",onSlotchange:this.slotChanged}),_e("slot",{key:"01713ecf19c68be05072ffcd00ed7ff2d76c4551",name:"start"}),_e("slot",{key:"121124874ba1357bc10ffaf4f7ed13803a02add9"}),_e("slot",{key:"09317cf5ced153fbb94d4ebba69db858f9dbe570",name:"end"})),o==="md"&&_e("ion-ripple-effect",{key:"8bdd9d082f48582be903221b13b67095046cd9aa",type:this.rippleType})))}get el(){return this}static get watchers(){return{disabled:["disabledChanged"],"aria-checked":["onAriaChanged"],"aria-label":["onAriaChanged"],"aria-pressed":["onAriaChanged"]}}static get style(){return{ios:lV,md:aV}}},[289,"ion-button",{color:[513],buttonType:[1025,"button-type"],disabled:[516],expand:[513],fill:[1537],routerDirection:[1,"router-direction"],routerAnimation:[16],download:[1],href:[1],rel:[1],shape:[513],size:[513],strong:[4],target:[1],type:[1],form:[1],isCircle:[32]},void 0,{disabled:["disabledChanged"],"aria-checked":["onAriaChanged"],"aria-label":["onAriaChanged"],"aria-pressed":["onAriaChanged"]}]);/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const tD=()=>{if(xt!==void 0)return xt.Capacitor};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Ky=()=>{let t;return{lock:async()=>{const n=t;let s;return t=new Promise(l=>s=l),n!==void 0&&await n,s}}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const uV=t=>{if(!t)return{arrowWidth:0,arrowHeight:0};const{width:o,height:n}=t.getBoundingClientRect();return{arrowWidth:o,arrowHeight:n}},oD=(t,o,n)=>{const s=o.getBoundingClientRect(),l=s.height;let c=s.width;return t==="cover"&&n&&(c=n.getBoundingClientRect().width),{contentWidth:c,contentHeight:l}},dV=(t,o,n,s)=>{let l=[];const d=Yt(s).querySelector(".popover-content");switch(o){case"hover":l=[{eventName:"mouseenter",callback:h=>{document.elementFromPoint(h.clientX,h.clientY)!==t&&n.dismiss(void 0,void 0,!1)}}];break;case"context-menu":case"click":default:l=[{eventName:"click",callback:h=>{if(h.target.closest("[data-ion-popover-trigger]")===t){h.stopPropagation();return}n.dismiss(void 0,void 0,!1)}}];break}return l.forEach(({eventName:h,callback:p})=>d.addEventListener(h,p)),()=>{l.forEach(({eventName:h,callback:p})=>d.removeEventListener(h,p))}},hV=(t,o,n)=>{let s=[];switch(o){case"hover":let l;s=[{eventName:"mouseenter",callback:async c=>{c.stopPropagation(),l&&clearTimeout(l),l=setTimeout(()=>{Zi(()=>{n.presentFromTrigger(c),l=void 0})},100)}},{eventName:"mouseleave",callback:c=>{l&&clearTimeout(l);const d=c.relatedTarget;d&&d.closest("ion-popover")!==n&&n.dismiss(void 0,void 0,!1)}},{eventName:"click",callback:c=>c.stopPropagation()},{eventName:"ionPopoverActivateTrigger",callback:c=>n.presentFromTrigger(c,!0)}];break;case"context-menu":s=[{eventName:"contextmenu",callback:c=>{c.preventDefault(),n.presentFromTrigger(c)}},{eventName:"click",callback:c=>c.stopPropagation()},{eventName:"ionPopoverActivateTrigger",callback:c=>n.presentFromTrigger(c,!0)}];break;case"click":default:s=[{eventName:"click",callback:c=>n.presentFromTrigger(c)},{eventName:"ionPopoverActivateTrigger",callback:c=>n.presentFromTrigger(c,!0)}];break}return s.forEach(({eventName:l,callback:c})=>t.addEventListener(l,c)),t.setAttribute("data-ion-popover-trigger","true"),()=>{s.forEach(({eventName:l,callback:c})=>t.removeEventListener(l,c)),t.removeAttribute("data-ion-popover-trigger")}},iD=(t,o)=>!o||o.tagName!=="ION-ITEM"?-1:t.findIndex(n=>n===o),pV=(t,o)=>{const n=iD(t,o);return t[n+1]},fV=(t,o)=>{const n=iD(t,o);return t[n-1]},lf=t=>{const n=Yt(t).querySelector("button");n&&Zi(()=>n.focus())},gV=t=>t.hasAttribute("data-ion-popover-trigger"),mV=t=>{const o=async n=>{var s;const l=document.activeElement;let c=[];const d=(s=n.target)===null||s===void 0?void 0:s.tagName;if(!(d!=="ION-POPOVER"&&d!=="ION-ITEM")){try{c=Array.from(t.querySelectorAll("ion-item:not(ion-popover ion-popover *):not([disabled])"))}catch(h){}switch(n.key){case"ArrowLeft":await t.getParentPopover()&&t.dismiss(void 0,void 0,!1);break;case"ArrowDown":n.preventDefault();const p=pV(c,l);p!==void 0&&lf(p);break;case"ArrowUp":n.preventDefault();const g=fV(c,l);g!==void 0&&lf(g);break;case"Home":n.preventDefault();const $=c[0];$!==void 0&&lf($);break;case"End":n.preventDefault();const b=c[c.length-1];b!==void 0&&lf(b);break;case"ArrowRight":case" ":case"Enter":if(l&&gV(l)){const T=new CustomEvent("ionPopoverActivateTrigger");l.dispatchEvent(T)}break}}};return t.addEventListener("keydown",o),()=>t.removeEventListener("keydown",o)},nD=(t,o,n,s,l,c,d,h,p,g,$)=>{var b;let T={top:0,left:0,width:0,height:0};switch(c){case"event":if(!$)return p;const H=$;T={top:H.clientY,left:H.clientX,width:1,height:1};break;case"trigger":default:const Y=$,K=g||((b=Y==null?void 0:Y.detail)===null||b===void 0?void 0:b.ionShadowTarget)||(Y==null?void 0:Y.target);if(!K)return p;const j=K.getBoundingClientRect();T={top:j.top,left:j.left,width:j.width,height:j.height};break}const v=bV(d,T,o,n,s,l,t),I=TV(h,d,T,o,n),k=v.top+I.top,G=v.left+I.left,{arrowTop:R,arrowLeft:S}=_V(d,s,l,k,G,o,n,t),{originX:w,originY:L}=$V(d,h,t);return{top:k,left:G,referenceCoordinates:T,arrowTop:R,arrowLeft:S,originX:w,originY:L}},$V=(t,o,n)=>{switch(t){case"top":return{originX:ZL(o),originY:"bottom"};case"bottom":return{originX:ZL(o),originY:"top"};case"left":return{originX:"right",originY:af(o)};case"right":return{originX:"left",originY:af(o)};case"start":return{originX:n?"left":"right",originY:af(o)};case"end":return{originX:n?"right":"left",originY:af(o)}}},ZL=t=>{switch(t){case"start":return"left";case"center":return"center";case"end":return"right"}},af=t=>{switch(t){case"start":return"top";case"center":return"center";case"end":return"bottom"}},_V=(t,o,n,s,l,c,d,h)=>{const p={arrowTop:s+d/2-o/2,arrowLeft:l+c-o/2},g={arrowTop:s+d/2-o/2,arrowLeft:l-o*1.5};switch(t){case"top":return{arrowTop:s+d,arrowLeft:l+c/2-o/2};case"bottom":return{arrowTop:s-n,arrowLeft:l+c/2-o/2};case"left":return p;case"right":return g;case"start":return h?g:p;case"end":return h?p:g;default:return{arrowTop:0,arrowLeft:0}}},bV=(t,o,n,s,l,c,d)=>{const h={top:o.top,left:o.left-n-l},p={top:o.top,left:o.left+o.width+l};switch(t){case"top":return{top:o.top-s-c,left:o.left};case"right":return p;case"bottom":return{top:o.top+o.height+c,left:o.left};case"left":return h;case"start":return d?p:h;case"end":return d?h:p}},TV=(t,o,n,s,l)=>{switch(t){case"center":return vV(o,n,s,l);case"end":return EV(o,n,s,l);case"start":default:return{top:0,left:0}}},EV=(t,o,n,s)=>{switch(t){case"start":case"end":case"left":case"right":return{top:-(s-o.height),left:0};case"top":case"bottom":default:return{top:0,left:-(n-o.width)}}},vV=(t,o,n,s)=>{switch(t){case"start":case"end":case"left":case"right":return{top:-(s/2-o.height/2),left:0};case"top":case"bottom":default:return{top:0,left:-(n/2-o.width/2)}}},sD=(t,o,n,s,l,c,d,h,p,g,$,b,T=0,v=0,I=0)=>{let k=T;const G=v;let R=n,S=o,w,L=g,H=$,Y=!1,K=!1;const j=b?b.top+b.height:c/2-h/2,P=b?b.height:0;let J=!1;return R<s+p?(R=s,Y=!0,L="left"):d+s+R+p>l&&(K=!0,R=l-d-s,L="right"),j+P+h>c&&(t==="top"||t==="bottom")&&(j-h>0?(S=Math.max(12,j-h-P-(I-1)),k=S+h,H="bottom",J=!0):w=s),{top:S,left:R,bottom:w,originX:L,originY:H,checkSafeAreaLeft:Y,checkSafeAreaRight:K,arrowTop:k,arrowLeft:G,addPopoverBottomClass:J}},yV=(t,o=!1,n,s)=>!(!n&&!s||t!=="top"&&t!=="bottom"&&o),SV=5,IV=(t,o)=>{var n;const{event:s,size:l,trigger:c,reference:d,side:h,align:p}=o,g=t.ownerDocument,$=g.dir==="rtl",b=g.defaultView.innerWidth,T=g.defaultView.innerHeight,v=Yt(t),I=v.querySelector(".popover-content"),k=v.querySelector(".popover-arrow"),G=c||((n=s==null?void 0:s.detail)===null||n===void 0?void 0:n.ionShadowTarget)||(s==null?void 0:s.target),{contentWidth:R,contentHeight:S}=oD(l,I,G),{arrowWidth:w,arrowHeight:L}=uV(k),H={top:T/2-S/2,left:b/2-R/2,originX:$?"right":"left",originY:"top"},Y=nD($,R,S,w,L,d,h,p,H,c,s),K=l==="cover"?0:SV,j=l==="cover"?0:25,{originX:P,originY:J,top:ie,left:ce,bottom:me,checkSafeAreaLeft:ve,checkSafeAreaRight:Te,arrowTop:ee,arrowLeft:he,addPopoverBottomClass:pe}=sD(h,Y.top,Y.left,K,b,T,R,S,j,Y.originX,Y.originY,Y.referenceCoordinates,Y.arrowTop,Y.arrowLeft,L),ae=xe(),V=xe(),Se=xe();return V.addElement(v.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),Se.addElement(v.querySelector(".popover-arrow")).addElement(v.querySelector(".popover-content")).fromTo("opacity",.01,1),ae.easing("ease").duration(100).beforeAddWrite(()=>{l==="cover"&&t.style.setProperty("--width","".concat(R,"px")),pe&&t.classList.add("popover-bottom"),me!==void 0&&I.style.setProperty("bottom","".concat(me,"px"));const le=" + var(--ion-safe-area-left, 0)",Ee=" - var(--ion-safe-area-right, 0)";let $e="".concat(ce,"px");if(ve&&($e="".concat(ce,"px").concat(le)),Te&&($e="".concat(ce,"px").concat(Ee)),I.style.setProperty("top","calc(".concat(ie,"px + var(--offset-y, 0))")),I.style.setProperty("left","calc(".concat($e," + var(--offset-x, 0))")),I.style.setProperty("transform-origin","".concat(J," ").concat(P)),k!==null){const Re=Y.top!==ie||Y.left!==ce;yV(h,Re,s,c)?(k.style.setProperty("top","calc(".concat(ee,"px + var(--offset-y, 0))")),k.style.setProperty("left","calc(".concat(he,"px + var(--offset-x, 0))"))):k.style.setProperty("display","none")}}).addAnimation([V,Se])},OV=t=>{const o=Yt(t),n=o.querySelector(".popover-content"),s=o.querySelector(".popover-arrow"),l=xe(),c=xe(),d=xe();return c.addElement(o.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),d.addElement(o.querySelector(".popover-arrow")).addElement(o.querySelector(".popover-content")).fromTo("opacity",.99,0),l.easing("ease").afterAddWrite(()=>{t.style.removeProperty("--width"),t.classList.remove("popover-bottom"),n.style.removeProperty("top"),n.style.removeProperty("left"),n.style.removeProperty("bottom"),n.style.removeProperty("transform-origin"),s&&(s.style.removeProperty("top"),s.style.removeProperty("left"),s.style.removeProperty("display"))}).duration(300).addAnimation([c,d])},RV=12,CV=(t,o)=>{var n;const{event:s,size:l,trigger:c,reference:d,side:h,align:p}=o,g=t.ownerDocument,$=g.dir==="rtl",b=g.defaultView.innerWidth,T=g.defaultView.innerHeight,v=Yt(t),I=v.querySelector(".popover-content"),k=c||((n=s==null?void 0:s.detail)===null||n===void 0?void 0:n.ionShadowTarget)||(s==null?void 0:s.target),{contentWidth:G,contentHeight:R}=oD(l,I,k),S={top:T/2-R/2,left:b/2-G/2,originX:$?"right":"left",originY:"top"},w=nD($,G,R,0,0,d,h,p,S,c,s),L=l==="cover"?0:RV,{originX:H,originY:Y,top:K,left:j,bottom:P}=sD(h,w.top,w.left,L,b,T,G,R,0,w.originX,w.originY,w.referenceCoordinates),J=xe(),ie=xe(),ce=xe(),me=xe(),ve=xe();return ie.addElement(v.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),ce.addElement(v.querySelector(".popover-wrapper")).duration(150).fromTo("opacity",.01,1),me.addElement(I).beforeStyles({top:"calc(".concat(K,"px + var(--offset-y, 0px))"),left:"calc(".concat(j,"px + var(--offset-x, 0px))"),"transform-origin":"".concat(Y," ").concat(H)}).beforeAddWrite(()=>{P!==void 0&&I.style.setProperty("bottom","".concat(P,"px"))}).fromTo("transform","scale(0.8)","scale(1)"),ve.addElement(v.querySelector(".popover-viewport")).fromTo("opacity",.01,1),J.easing("cubic-bezier(0.36,0.66,0.04,1)").duration(300).beforeAddWrite(()=>{l==="cover"&&t.style.setProperty("--width","".concat(G,"px")),Y==="bottom"&&t.classList.add("popover-bottom")}).addAnimation([ie,ce,me,ve])},wV=t=>{const o=Yt(t),n=o.querySelector(".popover-content"),s=xe(),l=xe(),c=xe();return l.addElement(o.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),c.addElement(o.querySelector(".popover-wrapper")).fromTo("opacity",.99,0),s.easing("ease").afterAddWrite(()=>{t.style.removeProperty("--width"),t.classList.remove("popover-bottom"),n.style.removeProperty("top"),n.style.removeProperty("left"),n.style.removeProperty("bottom"),n.style.removeProperty("transform-origin")}).duration(150).addAnimation([l,c])},AV=':host{--background:var(--ion-background-color, #fff);--min-width:0;--min-height:0;--max-width:auto;--height:auto;--offset-x:0px;--offset-y:0px;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);z-index:1001}:host(.popover-nested){pointer-events:none}:host(.popover-nested) .popover-wrapper{pointer-events:auto}:host(.overlay-hidden){display:none}.popover-wrapper{z-index:10}.popover-content{display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:auto;z-index:10}::slotted(.popover-viewport){--ion-safe-area-top:0px;--ion-safe-area-right:0px;--ion-safe-area-bottom:0px;--ion-safe-area-left:0px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}:host(.popover-nested.popover-side-left){--offset-x:5px}:host(.popover-nested.popover-side-right){--offset-x:-5px}:host(.popover-nested.popover-side-start){--offset-x:5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-start),:host-context([dir=rtl]).popover-nested.popover-side-start{--offset-x:-5px}@supports selector(:dir(rtl)){:host(.popover-nested.popover-side-start:dir(rtl)){--offset-x:-5px}}:host(.popover-nested.popover-side-end){--offset-x:-5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-end),:host-context([dir=rtl]).popover-nested.popover-side-end{--offset-x:5px}@supports selector(:dir(rtl)){:host(.popover-nested.popover-side-end:dir(rtl)){--offset-x:5px}}:host{--width:200px;--max-height:90%;--box-shadow:none;--backdrop-opacity:var(--ion-backdrop-opacity, 0.08)}:host(.popover-desktop){--box-shadow:0px 4px 16px 0px rgba(0, 0, 0, 0.12)}.popover-content{border-radius:10px}:host(.popover-desktop) .popover-content{border:0.5px solid var(--ion-color-step-100, var(--ion-background-color-step-100, #e6e6e6))}.popover-arrow{display:block;position:absolute;width:20px;height:10px;overflow:hidden;z-index:11}.popover-arrow::after{top:3px;border-radius:3px;position:absolute;width:14px;height:14px;-webkit-transform:rotate(45deg);transform:rotate(45deg);background:var(--background);content:"";z-index:10}.popover-arrow::after{inset-inline-start:3px}:host(.popover-bottom) .popover-arrow{top:auto;bottom:-10px}:host(.popover-bottom) .popover-arrow::after{top:-6px}:host(.popover-side-left) .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}:host(.popover-side-right) .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}:host(.popover-side-top) .popover-arrow{-webkit-transform:rotate(180deg);transform:rotate(180deg)}:host(.popover-side-start) .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}:host-context([dir=rtl]):host(.popover-side-start) .popover-arrow,:host-context([dir=rtl]).popover-side-start .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}@supports selector(:dir(rtl)){:host(.popover-side-start:dir(rtl)) .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}}:host(.popover-side-end) .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}:host-context([dir=rtl]):host(.popover-side-end) .popover-arrow,:host-context([dir=rtl]).popover-side-end .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}@supports selector(:dir(rtl)){:host(.popover-side-end:dir(rtl)) .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}}.popover-arrow,.popover-content{opacity:0}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.popover-translucent) .popover-content,:host(.popover-translucent) .popover-arrow::after{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}',LV=":host{--background:var(--ion-background-color, #fff);--min-width:0;--min-height:0;--max-width:auto;--height:auto;--offset-x:0px;--offset-y:0px;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);z-index:1001}:host(.popover-nested){pointer-events:none}:host(.popover-nested) .popover-wrapper{pointer-events:auto}:host(.overlay-hidden){display:none}.popover-wrapper{z-index:10}.popover-content{display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:auto;z-index:10}::slotted(.popover-viewport){--ion-safe-area-top:0px;--ion-safe-area-right:0px;--ion-safe-area-bottom:0px;--ion-safe-area-left:0px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}:host(.popover-nested.popover-side-left){--offset-x:5px}:host(.popover-nested.popover-side-right){--offset-x:-5px}:host(.popover-nested.popover-side-start){--offset-x:5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-start),:host-context([dir=rtl]).popover-nested.popover-side-start{--offset-x:-5px}@supports selector(:dir(rtl)){:host(.popover-nested.popover-side-start:dir(rtl)){--offset-x:-5px}}:host(.popover-nested.popover-side-end){--offset-x:-5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-end),:host-context([dir=rtl]).popover-nested.popover-side-end{--offset-x:5px}@supports selector(:dir(rtl)){:host(.popover-nested.popover-side-end:dir(rtl)){--offset-x:5px}}:host{--width:250px;--max-height:90%;--box-shadow:0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12);--backdrop-opacity:var(--ion-backdrop-opacity, 0.32)}.popover-content{border-radius:4px;-webkit-transform-origin:left top;transform-origin:left top}:host-context([dir=rtl]) .popover-content{-webkit-transform-origin:right top;transform-origin:right top}[dir=rtl] .popover-content{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.popover-content:dir(rtl){-webkit-transform-origin:right top;transform-origin:right top}}.popover-viewport{-webkit-transition-delay:100ms;transition-delay:100ms}.popover-wrapper{opacity:0}",kV=Qt(class extends jt{constructor(o){super(),o!==!1&&this.__registerHost(),this.__attachShadow(),this.didPresent=ze(this,"ionPopoverDidPresent",7),this.willPresent=ze(this,"ionPopoverWillPresent",7),this.willDismiss=ze(this,"ionPopoverWillDismiss",7),this.didDismiss=ze(this,"ionPopoverDidDismiss",7),this.didPresentShorthand=ze(this,"didPresent",7),this.willPresentShorthand=ze(this,"willPresent",7),this.willDismissShorthand=ze(this,"willDismiss",7),this.didDismissShorthand=ze(this,"didDismiss",7),this.ionMount=ze(this,"ionMount",7),this.parentPopover=null,this.coreDelegate=Hx(),this.lockController=Ky(),this.inline=!1,this.focusDescendantOnPresent=!1,this.presented=!1,this.hasController=!1,this.keyboardClose=!0,this.backdropDismiss=!0,this.showBackdrop=!0,this.translucent=!1,this.animated=!0,this.triggerAction="click",this.size="auto",this.dismissOnSelect=!1,this.reference="trigger",this.side="bottom",this.arrow=!0,this.isOpen=!1,this.keyboardEvents=!1,this.focusTrap=!0,this.keepContentsMounted=!1,this.onBackdropTap=()=>{this.dismiss(void 0,fg)},this.onLifecycle=n=>{const s=this.usersElement,l=NV[n.type];if(s&&l){const c=new CustomEvent(l,{bubbles:!1,cancelable:!1,detail:n.detail});s.dispatchEvent(c)}},this.configureTriggerInteraction=()=>{const{trigger:n,triggerAction:s,el:l,destroyTriggerInteraction:c}=this;if(c&&c(),n===void 0)return;const d=this.triggerEl=n!==void 0?document.getElementById(n):null;if(!d){Ji('[ion-popover] - A trigger element with the ID "'.concat(n,'" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on ion-popover.'),this.el);return}this.destroyTriggerInteraction=hV(d,s,l)},this.configureKeyboardInteraction=()=>{const{destroyKeyboardInteraction:n,el:s}=this;n&&n(),this.destroyKeyboardInteraction=mV(s)},this.configureDismissInteraction=()=>{const{destroyDismissInteraction:n,parentPopover:s,triggerAction:l,triggerEl:c,el:d}=this;!s||!c||(n&&n(),this.destroyDismissInteraction=dV(c,l,d,s))}}onTriggerChange(){this.configureTriggerInteraction()}onIsOpenChange(o,n){o===!0&&n===!1?this.present():o===!1&&n===!0&&this.dismiss()}connectedCallback(){const{configureTriggerInteraction:o,el:n}=this;Gx(n),o()}disconnectedCallback(){const{destroyTriggerInteraction:o}=this;o&&o(),this.headerResizeObserver&&(this.headerResizeObserver.disconnect(),this.headerResizeObserver=void 0)}componentWillLoad(){var o,n;const{el:s}=this,l=(n=(o=this.htmlAttributes)===null||o===void 0?void 0:o.id)!==null&&n!==void 0?n:Vx(s);this.parentPopover=s.closest("ion-popover:not(#".concat(l,")")),this.alignment===void 0&&(this.alignment=rt(this)==="ios"?"center":"start")}componentDidLoad(){const{parentPopover:o,isOpen:n}=this;n===!0&&Zi(()=>this.present()),o&&_x(o,"ionPopoverWillDismiss",()=>{this.dismiss(void 0,void 0,!1)}),this.configureTriggerInteraction()}async presentFromTrigger(o,n=!1){this.focusDescendantOnPresent=n,await this.present(o),this.focusDescendantOnPresent=!1}getDelegate(o=!1){if(this.workingDelegate&&!o)return{delegate:this.workingDelegate,inline:this.inline};const n=this.el.parentNode,s=this.inline=n!==null&&!this.hasController,l=this.workingDelegate=s?this.delegate||this.coreDelegate:this.delegate;return{inline:s,delegate:l}}async present(o){const n=await this.lockController.lock();if(this.presented){n();return}const{el:s}=this,{inline:l,delegate:c}=this.getDelegate(!0);this.ionMount.emit(),this.usersElement=await zd(c,s,this.component,["popover-viewport"],this.componentProps,l),this.recalculateContentOnHeaderReady(),this.keyboardEvents||this.configureKeyboardInteraction(),this.configureDismissInteraction(),yd(s)?await Sd(this.usersElement):this.keepContentsMounted||await Cx(),await Xx(this,"popoverEnter",IV,CV,{event:o||this.event,size:this.size,trigger:this.triggerEl,reference:this.reference,side:this.side,align:this.alignment}),this.focusDescendantOnPresent&&uv(s),n()}recalculateContentOnHeaderReady(){var o;const n=(o=this.el.shadowRoot)===null||o===void 0?void 0:o.querySelector(".popover-content");if(!n)return;const s=this.usersElement||n,l=s.querySelector("ion-header"),c=s.querySelectorAll("ion-content");!l||c.length===0||(this.headerResizeObserver=new ResizeObserver(async()=>{var d;if(l.offsetHeight>0){(d=this.headerResizeObserver)===null||d===void 0||d.disconnect(),this.headerResizeObserver=void 0;for(const h of c)await h.recalculateDimensions()}}),this.headerResizeObserver.observe(l))}async dismiss(o,n,s=!0){const l=await this.lockController.lock(),{destroyKeyboardInteraction:c,destroyDismissInteraction:d}=this;s&&this.parentPopover&&this.parentPopover.dismiss(o,n,s);const h=await Yx(this,o,n,"popoverLeave",OV,wV,this.event);if(h){c&&(c(),this.destroyKeyboardInteraction=void 0),d&&(d(),this.destroyDismissInteraction=void 0);const{delegate:p}=this.getDelegate();await Yy(p,this.usersElement)}return l(),h}async getParentPopover(){return this.parentPopover}onDidDismiss(){return pg(this.el,"ionPopoverDidDismiss")}onWillDismiss(){return pg(this.el,"ionPopoverWillDismiss")}render(){const o=rt(this),{onLifecycle:n,parentPopover:s,dismissOnSelect:l,side:c,arrow:d,htmlAttributes:h,focusTrap:p}=this,g=_s("desktop"),$=d&&!s;return _e(so,Object.assign({key:"42863f748c93f709d433931d969230137b37d42d","aria-modal":"true","no-router":!0,tabindex:"-1"},h,{style:{zIndex:"".concat(2e4+this.overlayIndex)},class:Object.assign(Object.assign({},Bx(this.cssClass)),{[o]:!0,"popover-translucent":this.translucent,"overlay-hidden":!0,"popover-desktop":g,["popover-side-".concat(c)]:!0,[Od]:p===!1,"popover-nested":!!s}),onIonPopoverDidPresent:n,onIonPopoverWillPresent:n,onIonPopoverWillDismiss:n,onIonPopoverDidDismiss:n,onIonBackdropTap:this.onBackdropTap}),!s&&_e("ion-backdrop",{key:"22b6d82178b52158b76ab3fd9a7dd738fd6e4bbf",tappable:this.backdropDismiss,visible:this.showBackdrop,part:"backdrop"}),_e("div",{key:"b76335c64e992a964ed3fb91d17a992c3474b4cd",class:"popover-wrapper ion-overlay-wrapper",onClick:l?()=>this.dismiss():void 0},$&&_e("div",{key:"018c846c32e7ff7fa010528e6b37a17e5f03c84c",class:"popover-arrow",part:"arrow"}),_e("div",{key:"350c468c80052da3a07768bceab98fe159c35a43",class:"popover-content",part:"content"},_e("slot",{key:"686443c17ac9873d33905c1cdb67e6d6da675282"}))))}get el(){return this}static get watchers(){return{trigger:["onTriggerChange"],triggerAction:["onTriggerChange"],isOpen:["onIsOpenChange"]}}static get style(){return{ios:AV,md:LV}}},[289,"ion-popover",{hasController:[4,"has-controller"],delegate:[16],overlayIndex:[2,"overlay-index"],enterAnimation:[16],leaveAnimation:[16],component:[1],componentProps:[16],keyboardClose:[4,"keyboard-close"],cssClass:[1,"css-class"],backdropDismiss:[4,"backdrop-dismiss"],event:[8],showBackdrop:[4,"show-backdrop"],translucent:[4],animated:[4],htmlAttributes:[16],triggerAction:[1,"trigger-action"],trigger:[1],size:[1],dismissOnSelect:[4,"dismiss-on-select"],reference:[1],side:[1],alignment:[1025],arrow:[4],isOpen:[4,"is-open"],keyboardEvents:[4,"keyboard-events"],focusTrap:[4,"focus-trap"],keepContentsMounted:[4,"keep-contents-mounted"],presented:[32],presentFromTrigger:[64],present:[64],dismiss:[64],getParentPopover:[64],onDidDismiss:[64],onWillDismiss:[64]},void 0,{trigger:["onTriggerChange"],triggerAction:["onTriggerChange"],isOpen:["onIsOpenChange"]}]),NV={ionPopoverDidPresent:"ionViewDidEnter",ionPopoverWillPresent:"ionViewWillEnter",ionPopoverWillDismiss:"ionViewWillLeave",ionPopoverDidDismiss:"ionViewDidLeave"};function MV(){if(typeof customElements>"u")return;["ion-popover","ion-backdrop"].forEach(o=>{switch(o){case"ion-popover":customElements.get(o)||customElements.define(o,kV);break;case"ion-backdrop":customElements.get(o)||eD();break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const xV=":host{position:absolute;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;z-index:999}:host(.fab-horizontal-center){left:0px;right:0px;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}:host(.fab-horizontal-start){left:calc(10px + var(--ion-safe-area-left, 0px));}:host-context([dir=rtl]):host(.fab-horizontal-start),:host-context([dir=rtl]).fab-horizontal-start{right:calc(10px + var(--ion-safe-area-right, 0px));left:unset}@supports selector(:dir(rtl)){:host(.fab-horizontal-start:dir(rtl)){right:calc(10px + var(--ion-safe-area-right, 0px));left:unset}}:host(.fab-horizontal-end){right:calc(10px + var(--ion-safe-area-right, 0px));}:host-context([dir=rtl]):host(.fab-horizontal-end),:host-context([dir=rtl]).fab-horizontal-end{left:calc(10px + var(--ion-safe-area-left, 0px));right:unset}@supports selector(:dir(rtl)){:host(.fab-horizontal-end:dir(rtl)){left:calc(10px + var(--ion-safe-area-left, 0px));right:unset}}:host(.fab-vertical-top){top:10px}:host(.fab-vertical-top.fab-edge){top:0}:host(.fab-vertical-top.fab-edge) ::slotted(ion-fab-button){margin-top:-50%}:host(.fab-vertical-top.fab-edge) ::slotted(ion-fab-button.fab-button-small){margin-top:calc((-100% + 16px) / 2)}:host(.fab-vertical-top.fab-edge) ::slotted(ion-fab-list.fab-list-side-start),:host(.fab-vertical-top.fab-edge) ::slotted(ion-fab-list.fab-list-side-end){margin-top:-50%}:host(.fab-vertical-top.fab-edge) ::slotted(ion-fab-list.fab-list-side-top),:host(.fab-vertical-top.fab-edge) ::slotted(ion-fab-list.fab-list-side-bottom){margin-top:calc(50% + 10px)}:host(.fab-vertical-bottom){bottom:10px}:host(.fab-vertical-bottom.fab-edge){bottom:0}:host(.fab-vertical-bottom.fab-edge) ::slotted(ion-fab-button){margin-bottom:-50%}:host(.fab-vertical-bottom.fab-edge) ::slotted(ion-fab-button.fab-button-small){margin-bottom:calc((-100% + 16px) / 2)}:host(.fab-vertical-bottom.fab-edge) ::slotted(ion-fab-list.fab-list-side-start),:host(.fab-vertical-bottom.fab-edge) ::slotted(ion-fab-list.fab-list-side-end){margin-bottom:-50%}:host(.fab-vertical-bottom.fab-edge) ::slotted(ion-fab-list.fab-list-side-top),:host(.fab-vertical-bottom.fab-edge) ::slotted(ion-fab-list.fab-list-side-bottom){margin-bottom:calc(50% + 10px)}:host(.fab-vertical-center){top:0px;bottom:0px;margin-top:auto;margin-bottom:auto}",DV=Qt(class extends jt{constructor(o){super(),o!==!1&&this.__registerHost(),this.__attachShadow(),this.edge=!1,this.activated=!1}activatedChanged(){const o=this.activated,n=this.getFab();n&&(n.activated=o),Array.from(this.el.querySelectorAll("ion-fab-list")).forEach(s=>{s.activated=o})}componentDidLoad(){this.activated&&this.activatedChanged()}async close(){this.activated=!1}getFab(){return this.el.querySelector("ion-fab-button")}async toggle(){!!this.el.querySelector("ion-fab-list")&&(this.activated=!this.activated)}render(){const{horizontal:o,vertical:n,edge:s}=this,l=rt(this);return _e(so,{key:"8a310806d0e748d7ebb0ed3d9a2652038e0f2960",class:{[l]:!0,["fab-horizontal-".concat(o)]:o!==void 0,["fab-vertical-".concat(n)]:n!==void 0,"fab-edge":s}},_e("slot",{key:"9394ef6d6e5b0410fa6ba212171f687fb178ce2d"}))}get el(){return this}static get watchers(){return{activated:["activatedChanged"]}}static get style(){return xV}},[257,"ion-fab",{horizontal:[1],vertical:[1],edge:[4],activated:[1028],close:[64],toggle:[64]},void 0,{activated:["activatedChanged"]}]);function PV(){if(typeof customElements>"u")return;["ion-fab"].forEach(o=>{switch(o){case"ion-fab":customElements.get(o)||customElements.define(o,DV);break}})}const BV=PV;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const UV=":host{margin-left:0;margin-right:0;margin-top:calc(100% + 10px);margin-bottom:calc(100% + 10px);display:none;position:absolute;top:0;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;min-width:56px;min-height:56px}:host(.fab-list-active){display:-ms-flexbox;display:flex}::slotted(.fab-button-in-list){margin-left:0;margin-right:0;margin-top:8px;margin-bottom:8px;width:40px;height:40px;-webkit-transform:scale(0);transform:scale(0);opacity:0;visibility:hidden}:host(.fab-list-side-top) ::slotted(.fab-button-in-list),:host(.fab-list-side-bottom) ::slotted(.fab-button-in-list){margin-left:0;margin-right:0;margin-top:5px;margin-bottom:5px}:host(.fab-list-side-start) ::slotted(.fab-button-in-list),:host(.fab-list-side-end) ::slotted(.fab-button-in-list){-webkit-margin-start:5px;margin-inline-start:5px;-webkit-margin-end:5px;margin-inline-end:5px;margin-top:0;margin-bottom:0}::slotted(.fab-button-in-list.fab-button-show){-webkit-transform:scale(1);transform:scale(1);opacity:1;visibility:visible}:host(.fab-list-side-top){top:auto;bottom:0;-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.fab-list-side-start){-webkit-margin-start:calc(100% + 10px);margin-inline-start:calc(100% + 10px);-webkit-margin-end:calc(100% + 10px);margin-inline-end:calc(100% + 10px);margin-top:0;margin-bottom:0;-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.fab-list-side-start){inset-inline-end:0}:host(.fab-list-side-end){-webkit-margin-start:calc(100% + 10px);margin-inline-start:calc(100% + 10px);-webkit-margin-end:calc(100% + 10px);margin-inline-end:calc(100% + 10px);margin-top:0;margin-bottom:0;-ms-flex-direction:row;flex-direction:row}:host(.fab-list-side-end){inset-inline-start:0}",HV=Qt(class extends jt{constructor(o){super(),o!==!1&&this.__registerHost(),this.__attachShadow(),this.activated=!1,this.side="bottom"}activatedChanged(o){const n=Array.from(this.el.querySelectorAll("ion-fab-button")),s=o?30:0;n.forEach((l,c)=>{setTimeout(()=>l.show=o,c*s)})}render(){const o=rt(this);return _e(so,{key:"64b33366447f66c7f979cfac56307fbb1a6fac1c",class:{[o]:!0,"fab-list-active":this.activated,["fab-list-side-".concat(this.side)]:!0}},_e("slot",{key:"d9f474f7f20fd7e813db358fddc720534ca05bb6"}))}get el(){return this}static get watchers(){return{activated:["activatedChanged"]}}static get style(){return UV}},[257,"ion-fab-list",{activated:[4],side:[1]},void 0,{activated:["activatedChanged"]}]);function FV(){if(typeof customElements>"u")return;["ion-fab-list"].forEach(o=>{switch(o){case"ion-fab-list":customElements.get(o)||customElements.define(o,HV);break}})}const GV=FV;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const VV="ION-CONTENT",rD="ion-content",lD=".ion-content-scroll-host",aD="".concat(rD,", ").concat(lD),Fn=t=>t.tagName===VV,UK=async t=>Fn(t)?(await new Promise(o=>ac(t,o)),t.getScrollElement()):t,zV=t=>{const o=t.querySelector(lD);return o||t.querySelector(aD)},gv=t=>t.closest(aD),HK=(t,o)=>Fn(t)?t.scrollToTop(o):Promise.resolve(t.scrollTo({top:0,left:0,behavior:"smooth"})),FK=(t,o,n,s)=>Fn(t)?t.scrollByPoint(o,n,s):Promise.resolve(t.scrollBy({top:n,left:o,behavior:s>0?"smooth":"auto"})),WV=t=>d2(t,rD),QL=t=>{if(Fn(t)){const o=t,n=o.scrollY;return o.scrollY=!1,n}else return t.style.setProperty("overflow","hidden"),!0},XV=(t,o)=>{Fn(t)?t.scrollY=o:t.style.removeProperty("overflow")};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var mv;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(mv||(mv={}));var $v;(function(t){t.Body="body",t.Ionic="ionic",t.Native="native",t.None="none"})($v||($v={}));const cD={getEngine(){const t=tD();if(t!=null&&t.isPluginAvailable("Keyboard"))return t.Plugins.Keyboard},getResizeMode(){const t=this.getEngine();return t!=null&&t.getResizeMode?t.getResizeMode().catch(o=>{if(o.code!==mv.Unimplemented)throw o}):Promise.resolve(void 0)}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const uD=t=>{if(td===void 0||t===$v.None||t===void 0)return null;const o=td.querySelector("ion-app");return o!=null?o:td.body},ek=t=>{const o=uD(t);return o===null?0:o.clientHeight},YV=async t=>{let o,n,s,l;const c=async()=>{const $=await cD.getResizeMode(),b=$===void 0?void 0:$.mode;o=()=>{l===void 0&&(l=ek(b)),s=!0,d(s,b)},n=()=>{s=!1,d(s,b)},xt==null||xt.addEventListener("keyboardWillShow",o),xt==null||xt.addEventListener("keyboardWillHide",n)},d=($,b)=>{t&&t($,h(b))},h=$=>{if(l===0||l===ek($))return;const b=uD($);if(b!==null)return new Promise(T=>{const v=()=>{b.clientHeight===l&&(I.disconnect(),T())},I=new ResizeObserver(v);I.observe(b)})},p=()=>{xt==null||xt.removeEventListener("keyboardWillShow",o),xt==null||xt.removeEventListener("keyboardWillHide",n),o=n=void 0},g=()=>s;return await c(),{init:c,destroy:p,isKeyboardVisible:g}},dD=1,hD=2,mg=3;class _v{constructor(o,n){this.component=o,this.params=n,this.state=dD}async init(o){if(this.state=hD,!this.element){const n=this.component;this.element=await zd(this.delegate,o,n,["ion-page","ion-page-invisible"],this.params)}}_destroy(){ri(this.state!==mg,"view state must be ATTACHED");const o=this.element;o&&(this.delegate?this.delegate.removeViewFromDom(o.parentElement,o):o.remove()),this.nav=void 0,this.state=mg}}const tk=(t,o,n)=>!t||t.component!==o?!1:Tx(t.params,n),ok=(t,o)=>t?t instanceof _v?t:new _v(t,o):null,jV=t=>t.map(o=>o instanceof _v?o:"component"in o?ok(o.component,o.componentProps===null?void 0:o.componentProps):ok(o,void 0)).filter(o=>o!==null),KV=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;z-index:0}",qV=Qt(class extends jt{constructor(o){super(),o!==!1&&this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=ze(this,"ionNavWillLoad",7),this.ionNavWillChange=ze(this,"ionNavWillChange",3),this.ionNavDidChange=ze(this,"ionNavDidChange",3),this.transInstr=[],this.gestureOrAnimationInProgress=!1,this.useRouter=!1,this.isTransitioning=!1,this.destroyed=!1,this.views=[],this.didLoad=!1,this.animated=!0}swipeGestureChanged(){this.gesture&&this.gesture.enable(this.swipeGesture===!0)}rootChanged(){this.root!==void 0&&this.didLoad!==!1&&(this.useRouter||this.root!==void 0&&this.setRoot(this.root,this.rootParams))}componentWillLoad(){if(this.useRouter=document.querySelector("ion-router")!==null&&this.el.closest("[no-router]")===null,this.swipeGesture===void 0){const o=rt(this);this.swipeGesture=Ke.getBoolean("swipeBackEnabled",o==="ios")}this.ionNavWillLoad.emit()}async componentDidLoad(){this.didLoad=!0,this.rootChanged(),this.gesture=(await hn(async()=>{const{createSwipeBackGesture:o}=await import("./swipe-back-BnApIME-.js");return{createSwipeBackGesture:o}},[])).createSwipeBackGesture(this.el,this.canStart.bind(this),this.onStart.bind(this),this.onMove.bind(this),this.onEnd.bind(this)),this.swipeGestureChanged()}connectedCallback(){this.destroyed=!1}disconnectedCallback(){for(const o of this.views)hs(o.element,VT),o._destroy();this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.transInstr.length=0,this.views.length=0,this.destroyed=!0}push(o,n,s,l){return this.insert(-1,o,n,s,l)}insert(o,n,s,l,c){return this.insertPages(o,[{component:n,componentProps:s}],l,c)}insertPages(o,n,s,l){return this.queueTrns({insertStart:o,insertViews:n,opts:s},l)}pop(o,n){return this.removeIndex(-1,1,o,n)}popTo(o,n,s){const l={removeStart:-1,removeCount:-1,opts:n};return typeof o=="object"&&o.component?(l.removeView=o,l.removeStart=1):typeof o=="number"&&(l.removeStart=o+1),this.queueTrns(l,s)}popToRoot(o,n){return this.removeIndex(1,-1,o,n)}removeIndex(o,n=1,s,l){return this.queueTrns({removeStart:o,removeCount:n,opts:s},l)}setRoot(o,n,s,l){return this.setPages([{component:o,componentProps:n}],s,l)}setPages(o,n,s){return n!=null||(n={}),n.animated!==!0&&(n.animated=!1),this.queueTrns({insertStart:0,insertViews:o,removeStart:0,removeCount:-1,opts:n},s)}setRouteId(o,n,s,l){const c=this.getActiveSync();if(tk(c,o,n))return Promise.resolve({changed:!1,element:c.element});let d;const h=new Promise($=>d=$);let p;const g={updateURL:!1,viewIsReady:$=>{let b;const T=new Promise(v=>b=v);return d({changed:!0,element:$,markVisible:async()=>{b(),await p}}),T}};if(s==="root")p=this.setRoot(o,n,g);else{const $=this.views.find(b=>tk(b,o,n));$?p=this.popTo($,Object.assign(Object.assign({},g),{direction:"back",animationBuilder:l})):s==="forward"?p=this.push(o,n,Object.assign(Object.assign({},g),{animationBuilder:l})):s==="back"&&(p=this.setRoot(o,n,Object.assign(Object.assign({},g),{direction:"back",animated:!0,animationBuilder:l})))}return h}async getRouteId(){const o=this.getActiveSync();if(o)return{id:o.element.tagName,params:o.params,element:o.element}}async getActive(){return this.getActiveSync()}async getByIndex(o){return this.views[o]}async canGoBack(o){return this.canGoBackSync(o)}async getPrevious(o){return this.getPreviousSync(o)}async getLength(){return Promise.resolve(this.views.length)}getActiveSync(){return this.views[this.views.length-1]}canGoBackSync(o=this.getActiveSync()){return!!(o&&this.getPreviousSync(o))}getPreviousSync(o=this.getActiveSync()){if(!o)return;const n=this.views,s=n.indexOf(o);return s>0?n[s-1]:void 0}async queueTrns(o,n){var s,l;if(this.isTransitioning&&(!((s=o.opts)===null||s===void 0)&&s.skipIfBusy))return!1;const c=new Promise((d,h)=>{o.resolve=d,o.reject=h});if(o.done=n,o.opts&&o.opts.updateURL!==!1&&this.useRouter){const d=document.querySelector("ion-router");if(d){const h=await d.canTransition();if(h===!1)return!1;if(typeof h=="string")return d.push(h,o.opts.direction||"back"),!1}}return((l=o.insertViews)===null||l===void 0?void 0:l.length)===0&&(o.insertViews=void 0),this.transInstr.push(o),this.nextTrns(),c}success(o,n){if(this.destroyed){this.fireError("nav controller was destroyed",n);return}if(n.done&&n.done(o.hasCompleted,o.requiresTransition,o.enteringView,o.leavingView,o.direction),n.resolve(o.hasCompleted),n.opts.updateURL!==!1&&this.useRouter){const s=document.querySelector("ion-router");if(s){const l=o.direction==="back"?"back":"forward";s.navChanged(l)}}}failed(o,n){if(this.destroyed){this.fireError("nav controller was destroyed",n);return}this.transInstr.length=0,this.fireError(o,n)}fireError(o,n){n.done&&n.done(!1,!1,o),n.reject&&!this.destroyed?n.reject(o):n.resolve(!1)}nextTrns(){if(this.isTransitioning)return!1;const o=this.transInstr.shift();return o?(this.runTransition(o),!0):!1}async runTransition(o){try{this.ionNavWillChange.emit(),this.isTransitioning=!0,this.prepareTI(o);const n=this.getActiveSync(),s=this.getEnteringView(o,n);if(!n&&!s)throw new Error("no views in the stack to be removed");s&&s.state===dD&&await s.init(this.el),this.postViewInit(s,n,o);const l=(o.enteringRequiresTransition||o.leavingRequiresTransition)&&s!==n;l&&o.opts&&n&&(o.opts.direction==="back"&&(o.opts.animationBuilder=o.opts.animationBuilder||(s==null?void 0:s.animationBuilder)),n.animationBuilder=o.opts.animationBuilder);let c;l?c=await this.transition(s,n,o):c={hasCompleted:!0,requiresTransition:!1},this.success(c,o),this.ionNavDidChange.emit()}catch(n){this.failed(n,o)}this.isTransitioning=!1,this.nextTrns()}prepareTI(o){var n,s,l;const c=this.views.length;if((n=o.opts)!==null&&n!==void 0||(o.opts={}),(s=(l=o.opts).delegate)!==null&&s!==void 0||(l.delegate=this.delegate),o.removeView!==void 0){ri(o.removeStart!==void 0,"removeView needs removeStart"),ri(o.removeCount!==void 0,"removeView needs removeCount");const p=this.views.indexOf(o.removeView);if(p<0)throw new Error("removeView was not found");o.removeStart+=p}o.removeStart!==void 0&&(o.removeStart<0&&(o.removeStart=c-1),o.removeCount<0&&(o.removeCount=c-o.removeStart),o.leavingRequiresTransition=o.removeCount>0&&o.removeStart+o.removeCount===c),o.insertViews&&((o.insertStart<0||o.insertStart>c)&&(o.insertStart=c),o.enteringRequiresTransition=o.insertStart===c);const d=o.insertViews;if(!d)return;ri(d.length>0,"length can not be zero");const h=jV(d);if(h.length===0)throw new Error("invalid views to insert");for(const p of h){p.delegate=o.opts.delegate;const g=p.nav;if(g&&g!==this)throw new Error("inserted view was already inserted");if(p.state===mg)throw new Error("inserted view was already destroyed")}o.insertViews=h}getEnteringView(o,n){const s=o.insertViews;if(s!==void 0)return s[s.length-1];const l=o.removeStart;if(l!==void 0){const c=this.views,d=l+o.removeCount;for(let h=c.length-1;h>=0;h--){const p=c[h];if((h<l||h>=d)&&p!==n)return p}}}postViewInit(o,n,s){var l,c,d;ri(n||o,"Both leavingView and enteringView are null"),ri(s.resolve,"resolve must be valid"),ri(s.reject,"reject must be valid");const h=s.opts,{insertViews:p,removeStart:g,removeCount:$}=s;let b;if(g!==void 0&&$!==void 0){ri(g>=0,"removeStart can not be negative"),ri($>=0,"removeCount can not be negative"),b=[];for(let v=g;v<g+$;v++){const I=this.views[v];I!==void 0&&I!==o&&I!==n&&b.push(I)}(l=h.direction)!==null&&l!==void 0||(h.direction="back")}const T=this.views.length+((c=p==null?void 0:p.length)!==null&&c!==void 0?c:0)-($!=null?$:0);if(ri(T>=0,"final balance can not be negative"),T===0)throw Ji("[ion-nav] - You can't remove all the pages in the navigation stack. nav.pop() is probably called too many times.",this,this.el),new Error("navigation stack needs at least one root page");if(p){let v=s.insertStart;for(const I of p)this.insertViewAt(I,v),v++;s.enteringRequiresTransition&&((d=h.direction)!==null&&d!==void 0||(h.direction="forward"))}if(b&&b.length>0){for(const v of b)hs(v.element,Ex),hs(v.element,vx),hs(v.element,VT);for(const v of b)this.destroyView(v)}}async transition(o,n,s){const l=s.opts,c=l.progressAnimation?b=>{b!==void 0&&!this.gestureOrAnimationInProgress?(this.gestureOrAnimationInProgress=!0,b.onFinish(()=>{this.gestureOrAnimationInProgress=!1},{oneTimeCallback:!0}),b.progressEnd(0,0,0)):this.sbAni=b}:void 0,d=rt(this),h=o.element,p=n&&n.element,g=Object.assign(Object.assign({mode:d,showGoBack:this.canGoBackSync(o),baseEl:this.el,progressCallback:c,animated:this.animated&&Ke.getBoolean("animated",!0),enteringEl:h,leavingEl:p},l),{animationBuilder:l.animationBuilder||this.animation||Ke.get("navAnimation")}),{hasCompleted:$}=await Sx(g);return this.transitionFinish($,o,n,l)}transitionFinish(o,n,s,l){const c=o?n:s;return c&&this.unmountInactiveViews(c),{hasCompleted:o,requiresTransition:!0,enteringView:n,leavingView:s,direction:l.direction}}insertViewAt(o,n){const s=this.views,l=s.indexOf(o);l>-1?(ri(o.nav===this,"view is not part of the nav"),s.splice(l,1),s.splice(n,0,o)):(ri(!o.nav,"nav is used"),o.nav=this,s.splice(n,0,o))}removeView(o){ri(o.state===hD||o.state===mg,"view state should be loaded or destroyed");const n=this.views,s=n.indexOf(o);ri(s>-1,"view must be part of the stack"),s>=0&&n.splice(s,1)}destroyView(o){o._destroy(),this.removeView(o)}unmountInactiveViews(o){if(this.destroyed)return;const n=this.views,s=n.indexOf(o);for(let l=n.length-1;l>=0;l--){const c=n[l],d=c.element;d&&(l>s?(hs(d,VT),this.destroyView(c)):l<s&&cv(d,!0))}}canStart(){return!this.gestureOrAnimationInProgress&&!!this.swipeGesture&&!this.isTransitioning&&this.transInstr.length===0&&this.canGoBackSync()}onStart(){this.gestureOrAnimationInProgress=!0,this.pop({direction:"back",progressAnimation:!0})}onMove(o){this.sbAni&&this.sbAni.progressStep(o)}onEnd(o,n,s){if(this.sbAni){this.sbAni.onFinish(()=>{this.gestureOrAnimationInProgress=!1},{oneTimeCallback:!0});let l=o?-.001:.001;o?l+=cc([0,0],[.32,.72],[0,1],[1,1],n)[0]:(this.sbAni.easing("cubic-bezier(1, 0, 0.68, 0.28)"),l+=cc([0,0],[1,0],[.68,.28],[1,1],n)[0]),this.sbAni.progressEnd(o?1:0,l,s)}else this.gestureOrAnimationInProgress=!1}render(){return _e("slot",{key:"8067c9835d255daec61f33dba200fd3a6ff839a0"})}get el(){return this}static get watchers(){return{swipeGesture:["swipeGestureChanged"],root:["rootChanged"]}}static get style(){return KV}},[257,"ion-nav",{delegate:[16],swipeGesture:[1028,"swipe-gesture"],animated:[4],animation:[16],rootParams:[16],root:[1],push:[64],insert:[64],insertPages:[64],pop:[64],popTo:[64],popToRoot:[64],removeIndex:[64],setRoot:[64],setPages:[64],setRouteId:[64],getRouteId:[64],getActive:[64],getByIndex:[64],canGoBack:[64],getPrevious:[64],getLength:[64]},void 0,{swipeGesture:["swipeGestureChanged"],root:["rootChanged"]}]);function JV(){if(typeof customElements>"u")return;["ion-nav"].forEach(o=>{switch(o){case"ion-nav":customElements.get(o)||customElements.define(o,qV);break}})}const ZV=JV;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const $g="ionKeyboardDidShow",pD="ionKeyboardDidHide",QV=150;let _g={},Ts={},Tc=!1;const ez=()=>{_g={},Ts={},Tc=!1},tz=t=>{if(cD.getEngine())oz(t);else{if(!t.visualViewport)return;Ts=Qy(t.visualViewport),t.visualViewport.onresize=()=>{mD(t),fD()||gD(t)?qy(t):Zy(t)&&Jy(t)}}},oz=t=>{t.addEventListener("keyboardDidShow",o=>qy(t,o)),t.addEventListener("keyboardDidHide",()=>Jy(t))},qy=(t,o)=>{iz(t,o),Tc=!0},Jy=t=>{nz(t),Tc=!1},fD=()=>{const t=(_g.height-Ts.height)*Ts.scale;return!Tc&&_g.width===Ts.width&&t>QV},gD=t=>Tc&&!Zy(t),Zy=t=>Tc&&Ts.height===t.innerHeight,iz=(t,o)=>{const n=o?o.keyboardHeight:t.innerHeight-Ts.height,s=new CustomEvent($g,{detail:{keyboardHeight:n}});t.dispatchEvent(s)},nz=t=>{const o=new CustomEvent(pD);t.dispatchEvent(o)},mD=t=>{_g=Object.assign({},Ts),Ts=Qy(t.visualViewport)},Qy=t=>({width:Math.round(t.width),height:Math.round(t.height),offsetTop:t.offsetTop,offsetLeft:t.offsetLeft,pageTop:t.pageTop,pageLeft:t.pageLeft,scale:t.scale}),sz=Object.freeze(Object.defineProperty({__proto__:null,KEYBOARD_DID_CLOSE:pD,KEYBOARD_DID_OPEN:$g,copyVisualViewport:Qy,keyboardDidClose:Zy,keyboardDidOpen:fD,keyboardDidResize:gD,resetKeyboardAssist:ez,setKeyboardClose:Jy,setKeyboardOpen:qy,startKeyboardAssist:tz,trackViewportChanges:mD},Symbol.toStringTag,{value:"Module"}));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var uc;(function(t){t.Dark="DARK",t.Light="LIGHT",t.Default="DEFAULT"})(uc||(uc={}));const eS={getEngine(){const t=tD();if(t!=null&&t.isPluginAvailable("StatusBar"))return t.Plugins.StatusBar},setStyle(t){const o=this.getEngine();o&&o.setStyle(t)},getStyle:async function(){const t=this.getEngine();if(!t)return uc.Default;const{style:o}=await t.getInfo();return o}},bv=(t,o)=>{if(o===1)return 0;const n=1/(1-o),s=-(o*n);return t*n+s},$D=()=>{!xt||xt.innerWidth>=768||eS.setStyle({style:uc.Dark})},Tv=(t=uc.Default)=>{!xt||xt.innerWidth>=768||eS.setStyle({style:t})},_D=async(t,o)=>{typeof t.canDismiss!="function"||!await t.canDismiss(void 0,od)||(o.isRunning()?o.onFinish(()=>{t.dismiss(void 0,"handler")},{oneTimeCallback:!0}):t.dismiss(void 0,"handler"))},Ev=t=>.00255275*2.71828**(-14.9619*t)-1.00255*2.71828**(-.0380968*t)+1,Os={MIN_PRESENTING_SCALE:.915},rz=(t,o,n,s)=>{const c=t.offsetHeight;let d=!1,h=!1,p=null,g=null;const $=.2;let b=!0,T=0;const v=()=>p&&Fn(p)?p.scrollY:!0,S=Ax({el:t,gestureName:"modalSwipeToClose",gesturePriority:fG,direction:"y",threshold:10,canStart:w=>{const L=w.event.target;return L===null||!L.closest?!0:(p=gv(L),p?(Fn(p)?g=Yt(p).querySelector(".inner-scroll"):g=p,!!!p.querySelector("ion-refresher")&&g.scrollTop===0):L.closest("ion-footer")===null)},onStart:w=>{const{deltaY:L}=w;b=v(),h=t.canDismiss!==void 0&&t.canDismiss!==!0,L>0&&p&&QL(p),o.progressStart(!0,d?1:0)},onMove:w=>{const{deltaY:L}=w;L>0&&p&&QL(p);const H=w.deltaY/c,Y=H>=0&&h,K=Y?$:.9999,j=Y?Ev(H/K):H,P=ug(1e-4,j,K);o.progressStep(P),P>=.5&&T<.5?Tv(n):P<.5&&T>=.5&&$D(),T=P},onEnd:w=>{const L=w.velocityY,H=w.deltaY/c,Y=H>=0&&h,K=Y?$:.9999,j=Y?Ev(H/K):H,P=ug(1e-4,j,K),J=(w.deltaY+L*1e3)/c,ie=!Y&&J>=.5;let ce=ie?-.001:.001;ie?(o.easing("cubic-bezier(0.32, 0.72, 0, 1)"),ce+=cc([0,0],[.32,.72],[0,1],[1,1],P)[0]):(o.easing("cubic-bezier(1, 0, 0.68, 0.28)"),ce+=cc([0,0],[1,0],[.68,.28],[1,1],P)[0]);const me=ik(ie?H*c:(1-P)*c,L);d=ie,S.enable(!1),p&&XV(p,b),o.onFinish(()=>{ie||S.enable(!0)}).progressEnd(ie?1:0,ce,me),Y&&P>K/4?_D(t,o):ie&&s()}});return S},ik=(t,o)=>ug(400,t/Math.abs(o*1.1),500),bD=t=>{const{currentBreakpoint:o,backdropBreakpoint:n,expandToScroll:s}=t,l=n===void 0||n<o,c=l?"calc(var(--backdrop-opacity) * ".concat(o,")"):"0",d=xe("backdropAnimation").fromTo("opacity",0,c);l&&d.beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]);const h=xe("wrapperAnimation").keyframes([{offset:0,opacity:1,transform:"translateY(100%)"},{offset:1,opacity:1,transform:"translateY(".concat(100-o*100,"%)")}]),p=s?void 0:xe("contentAnimation").keyframes([{offset:0,opacity:1,maxHeight:"".concat((1-o)*100,"%")},{offset:1,opacity:1,maxHeight:"".concat(o*100,"%")}]);return{wrapperAnimation:h,backdropAnimation:d,contentAnimation:p}},TD=t=>{const{currentBreakpoint:o,backdropBreakpoint:n}=t,s="calc(var(--backdrop-opacity) * ".concat(bv(o,n),")"),l=[{offset:0,opacity:s},{offset:1,opacity:0}],c=[{offset:0,opacity:s},{offset:n,opacity:0},{offset:1,opacity:0}],d=xe("backdropAnimation").keyframes(n!==0?c:l);return{wrapperAnimation:xe("wrapperAnimation").keyframes([{offset:0,opacity:1,transform:"translateY(".concat(100-o*100,"%)")},{offset:1,opacity:1,transform:"translateY(100%)"}]),backdropAnimation:d}},lz=()=>{const t=xe().fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),o=xe().fromTo("transform","translateY(100vh)","translateY(0vh)");return{backdropAnimation:t,wrapperAnimation:o,contentAnimation:void 0}},nk=(t,o)=>{const{presentingEl:n,currentBreakpoint:s,expandToScroll:l}=o,c=Yt(t),{wrapperAnimation:d,backdropAnimation:h,contentAnimation:p}=s!==void 0?bD(o):lz();h.addElement(c.querySelector("ion-backdrop")),d.addElement(c.querySelectorAll(".modal-wrapper, .modal-shadow")).beforeStyles({opacity:1}),!l&&(p==null||p.addElement(t.querySelector(".ion-page")));const g=xe("entering-base").addElement(t).easing("cubic-bezier(0.32,0.72,0,1)").duration(500).addAnimation([d]);if(p&&g.addAnimation(p),n){const $=window.innerWidth<768,b=n.tagName==="ION-MODAL"&&n.presentingElement!==void 0,T=Yt(n),v=xe().beforeStyles({transform:"translateY(0)","transform-origin":"top center",overflow:"hidden"}),I=document.body;if($){const k=CSS.supports("width","max(0px, 1px)")?"max(30px, var(--ion-safe-area-top))":"30px",G=b?"-10px":k,R=Os.MIN_PRESENTING_SCALE,S="translateY(".concat(G,") scale(").concat(R,")");v.afterStyles({transform:S}).beforeAddWrite(()=>I.style.setProperty("background-color","black")).addElement(n).keyframes([{offset:0,filter:"contrast(1)",transform:"translateY(0px) scale(1)",borderRadius:"0px"},{offset:1,filter:"contrast(0.85)",transform:S,borderRadius:"10px 10px 0 0"}]),g.addAnimation(v)}else if(g.addAnimation(h),!b)d.fromTo("opacity","0","1");else{const k=b?Os.MIN_PRESENTING_SCALE:1,G="translateY(-10px) scale(".concat(k,")");v.afterStyles({transform:G}).addElement(T.querySelector(".modal-wrapper")).keyframes([{offset:0,filter:"contrast(1)",transform:"translateY(0) scale(1)"},{offset:1,filter:"contrast(0.85)",transform:G}]);const R=xe().afterStyles({transform:G}).addElement(T.querySelector(".modal-shadow")).keyframes([{offset:0,opacity:"1",transform:"translateY(0) scale(1)"},{offset:1,opacity:"0",transform:G}]);g.addAnimation([v,R])}}else g.addAnimation(h);return g},az=()=>{const t=xe().fromTo("opacity","var(--backdrop-opacity)",0),o=xe().fromTo("transform","translateY(0vh)","translateY(100vh)");return{backdropAnimation:t,wrapperAnimation:o}},sk=(t,o,n=500)=>{const{presentingEl:s,currentBreakpoint:l}=o,c=Yt(t),{wrapperAnimation:d,backdropAnimation:h}=l!==void 0?TD(o):az();h.addElement(c.querySelector("ion-backdrop")),d.addElement(c.querySelectorAll(".modal-wrapper, .modal-shadow")).beforeStyles({opacity:1});const p=xe("leaving-base").addElement(t).easing("cubic-bezier(0.32,0.72,0,1)").duration(n).addAnimation(d);if(s){const g=window.innerWidth<768,$=s.tagName==="ION-MODAL"&&s.presentingElement!==void 0,b=Yt(s),T=xe().beforeClearStyles(["transform"]).afterClearStyles(["transform"]).onFinish(I=>{if(I!==1)return;s.style.setProperty("overflow",""),Array.from(v.querySelectorAll("ion-modal:not(.overlay-hidden)")).filter(G=>G.presentingElement!==void 0).length<=1&&v.style.setProperty("background-color","")}),v=document.body;if(g){const I=CSS.supports("width","max(0px, 1px)")?"max(30px, var(--ion-safe-area-top))":"30px",k=$?"-10px":I,G=Os.MIN_PRESENTING_SCALE,R="translateY(".concat(k,") scale(").concat(G,")");T.addElement(s).keyframes([{offset:0,filter:"contrast(0.85)",transform:R,borderRadius:"10px 10px 0 0"},{offset:1,filter:"contrast(1)",transform:"translateY(0px) scale(1)",borderRadius:"0px"}]),p.addAnimation(T)}else if(p.addAnimation(h),!$)d.fromTo("opacity","1","0");else{const I=$?Os.MIN_PRESENTING_SCALE:1,k="translateY(-10px) scale(".concat(I,")");T.addElement(b.querySelector(".modal-wrapper")).afterStyles({transform:"translate3d(0, 0, 0)"}).keyframes([{offset:0,filter:"contrast(0.85)",transform:k},{offset:1,filter:"contrast(1)",transform:"translateY(0) scale(1)"}]);const G=xe().addElement(b.querySelector(".modal-shadow")).afterStyles({transform:"translateY(0) scale(1)"}).keyframes([{offset:0,opacity:"0",transform:k},{offset:1,opacity:"1",transform:"translateY(0) scale(1)"}]);p.addAnimation([T,G])}}else p.addAnimation(h);return p},cz=(t,o,n=300)=>{const{presentingEl:s}=o;if(!s)return xe("portrait-to-landscape-transition");const l=s.tagName==="ION-MODAL"&&s.presentingElement!==void 0,c=Yt(s),d=document.body,h=xe("portrait-to-landscape-transition").addElement(t).easing("cubic-bezier(0.32,0.72,0,1)").duration(n),p=xe().beforeStyles({transform:"translateY(0)","transform-origin":"top center",overflow:"hidden"});if(l){const g=Os.MIN_PRESENTING_SCALE,$="translateY(-10px) scale(".concat(g,")"),b="translateY(0px) scale(1)";p.addElement(s).afterStyles({transform:b}).fromTo("transform",$,b).fromTo("filter","contrast(0.85)","contrast(1)");const T=xe().addElement(c.querySelector(".modal-shadow")).afterStyles({transform:b,opacity:"0"}).fromTo("transform",$,b);h.addAnimation([p,T])}else{const g=Yt(t),$=xe().addElement(g.querySelectorAll(".modal-wrapper, .modal-shadow")).fromTo("opacity","1","1"),b=xe().addElement(g.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)","var(--backdrop-opacity)"),T=CSS.supports("width","max(0px, 1px)")?"max(30px, var(--ion-safe-area-top))":"30px",v=Os.MIN_PRESENTING_SCALE,I="translateY(".concat(T,") scale(").concat(v,")");p.addElement(s).afterStyles({transform:"translateY(0px) scale(1)","border-radius":"0px"}).beforeAddWrite(()=>d.style.setProperty("background-color","")).fromTo("transform",I,"translateY(0px) scale(1)").fromTo("filter","contrast(0.85)","contrast(1)").fromTo("border-radius","10px 10px 0 0","0px"),h.addAnimation([p,$,b])}return h},uz=(t,o,n=300)=>{const{presentingEl:s}=o;if(!s)return xe("landscape-to-portrait-transition");const l=s.tagName==="ION-MODAL"&&s.presentingElement!==void 0,c=Yt(s),d=document.body,h=xe("landscape-to-portrait-transition").addElement(t).easing("cubic-bezier(0.32,0.72,0,1)").duration(n),p=xe().beforeStyles({transform:"translateY(0)","transform-origin":"top center",overflow:"hidden"});if(l){const g=Os.MIN_PRESENTING_SCALE,$="translateY(-10px) scale(".concat(g,")"),b="translateY(0) scale(1)";p.addElement(s).afterStyles({transform:b}).fromTo("transform",$,b);const T=xe().addElement(c.querySelector(".modal-shadow")).afterStyles({transform:b,opacity:"0"}).fromTo("transform",$,b);h.addAnimation([p,T])}else{const g=Yt(t),$=xe().addElement(g.querySelectorAll(".modal-wrapper, .modal-shadow")).fromTo("opacity","1","1"),b=xe().addElement(g.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)","var(--backdrop-opacity)"),T=CSS.supports("width","max(0px, 1px)")?"max(30px, var(--ion-safe-area-top))":"30px",v=Os.MIN_PRESENTING_SCALE,I="translateY(".concat(T,") scale(").concat(v,")");p.addElement(s).afterStyles({transform:I}).beforeAddWrite(()=>d.style.setProperty("background-color","black")).keyframes([{offset:0,transform:"translateY(0px) scale(1)",filter:"contrast(1)",borderRadius:"0px"},{offset:.2,transform:"translateY(0px) scale(1)",filter:"contrast(1)",borderRadius:"10px 10px 0 0"},{offset:1,transform:I,filter:"contrast(0.85)",borderRadius:"10px 10px 0 0"}]),h.addAnimation([p,$,b])}return h},dz=()=>{const t=xe().fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),o=xe().keyframes([{offset:0,opacity:.01,transform:"translateY(40px)"},{offset:1,opacity:1,transform:"translateY(0px)"}]);return{backdropAnimation:t,wrapperAnimation:o,contentAnimation:void 0}},hz=(t,o)=>{const{currentBreakpoint:n,expandToScroll:s}=o,l=Yt(t),{wrapperAnimation:c,backdropAnimation:d,contentAnimation:h}=n!==void 0?bD(o):dz();d.addElement(l.querySelector("ion-backdrop")),c.addElement(l.querySelector(".modal-wrapper")),!s&&(h==null||h.addElement(t.querySelector(".ion-page")));const p=xe().addElement(t).easing("cubic-bezier(0.36,0.66,0.04,1)").duration(280).addAnimation([d,c]);return h&&p.addAnimation(h),p},pz=()=>{const t=xe().fromTo("opacity","var(--backdrop-opacity)",0),o=xe().keyframes([{offset:0,opacity:.99,transform:"translateY(0px)"},{offset:1,opacity:0,transform:"translateY(40px)"}]);return{backdropAnimation:t,wrapperAnimation:o}},fz=(t,o)=>{const{currentBreakpoint:n}=o,s=Yt(t),{wrapperAnimation:l,backdropAnimation:c}=n!==void 0?TD(o):pz();return c.addElement(s.querySelector("ion-backdrop")),l.addElement(s.querySelector(".modal-wrapper")),xe().easing("cubic-bezier(0.47,0,0.745,0.715)").duration(200).addAnimation([c,l])},gz=(t,o,n,s,l,c,d=[],h,p,g,$)=>{const b=[{offset:0,opacity:"var(--backdrop-opacity)"},{offset:1,opacity:.01}],T=[{offset:0,opacity:"var(--backdrop-opacity)"},{offset:1-l,opacity:0},{offset:1,opacity:0}],v={WRAPPER_KEYFRAMES:[{offset:0,transform:"translateY(0%)"},{offset:1,transform:"translateY(100%)"}],BACKDROP_KEYFRAMES:l!==0?T:b,CONTENT_KEYFRAMES:[{offset:0,maxHeight:"100%"},{offset:1,maxHeight:"0%"}]},I=t.querySelector("ion-content"),k=n.clientHeight;let G=s,R=0,S=!1,w=null,L=null,H=null,Y=null;const K=.95,j=d[d.length-1],P=d[0],J=c.childAnimations.find(le=>le.id==="wrapperAnimation"),ie=c.childAnimations.find(le=>le.id==="backdropAnimation"),ce=c.childAnimations.find(le=>le.id==="contentAnimation"),me=()=>{const le=t;le.focusTrap===!1||le.showBackdrop===!1||(t.style.setProperty("pointer-events","auto"),o.style.setProperty("pointer-events","auto"),t.classList.remove(Od))},ve=()=>{t.style.setProperty("pointer-events","none"),o.style.setProperty("pointer-events","none"),t.classList.add(Od)},Te=le=>{if(!L&&(L=Array.from(t.querySelectorAll("ion-footer")),!L.length))return;const Ee=t.querySelector(".ion-page");if(Y=le,le==="stationary")L.forEach($e=>{$e.classList.remove("modal-footer-moving"),$e.style.removeProperty("position"),$e.style.removeProperty("width"),$e.style.removeProperty("height"),$e.style.removeProperty("top"),$e.style.removeProperty("left"),Ee==null||Ee.style.removeProperty("padding-bottom"),Ee==null||Ee.appendChild($e)});else{let $e=0;L.forEach((Re,ke)=>{const Ye=Re.getBoundingClientRect(),we=document.body.getBoundingClientRect();$e+=Re.clientHeight;const ot=Ye.top-we.top,ge=Ye.left-we.left;if(Re.style.setProperty("--pinned-width","".concat(Re.clientWidth,"px")),Re.style.setProperty("--pinned-height","".concat(Re.clientHeight,"px")),Re.style.setProperty("--pinned-top","".concat(ot,"px")),Re.style.setProperty("--pinned-left","".concat(ge,"px")),ke===0){H=ot;const ro=t.querySelector("ion-header");ro&&(H-=ro.clientHeight)}}),L.forEach(Re=>{Ee==null||Ee.style.setProperty("padding-bottom","".concat($e,"px")),Re.classList.add("modal-footer-moving"),Re.style.setProperty("position","absolute"),Re.style.setProperty("width","var(--pinned-width)"),Re.style.setProperty("height","var(--pinned-height)"),Re.style.setProperty("top","var(--pinned-top)"),Re.style.setProperty("left","var(--pinned-left)"),document.body.appendChild(Re)})}};J&&ie&&(J.keyframes([...v.WRAPPER_KEYFRAMES]),ie.keyframes([...v.BACKDROP_KEYFRAMES]),ce==null||ce.keyframes([...v.CONTENT_KEYFRAMES]),c.progressStart(!0,1-G),G>l&&t.focusTrap!==!1&&t.showBackdrop!==!1?me():ve()),I&&G!==j&&h&&(I.scrollY=!1);const ee=le=>{const Ee=gv(le.event.target);if(G=p(),!h&&Ee)return(Fn(Ee)?Yt(Ee).querySelector(".inner-scroll"):Ee).scrollTop===0;if(G===1&&Ee){const $e=Fn(Ee)?Yt(Ee).querySelector(".inner-scroll"):Ee;return!!!Ee.querySelector("ion-refresher")&&$e.scrollTop===0}return!0},he=le=>{if(S=t.canDismiss!==void 0&&t.canDismiss!==!0&&P===0,!h){const Ee=gv(le.event.target);w=Ee&&Fn(Ee)?Yt(Ee).querySelector(".inner-scroll"):Ee}h||Te("moving"),le.deltaY>0&&I&&(I.scrollY=!1),Zi(()=>{t.focus()}),c.progressStart(!0,1-G)},pe=le=>{if(!h&&H!==null&&Y!==null&&(le.currentY>=H&&Y==="moving"?Te("stationary"):le.currentY<H&&Y==="stationary"&&Te("moving")),!h&&le.deltaY<=0&&w)return;le.deltaY>0&&I&&(I.scrollY=!1);const Ee=1-G,$e=d.length>1?1-d[1]:void 0,Re=Ee+le.deltaY/k,ke=$e!==void 0&&Re>=$e&&S,Ye=ke?K:.9999,we=ke&&$e!==void 0?$e+Ev((Re-$e)/(Ye-$e)):Re;R=ug(1e-4,we,Ye),c.progressStep(R)},ae=le=>{if(!h&&le.deltaY<=0&&w&&w.scrollTop>0){Te("stationary");return}const Ee=le.velocityY,$e=(le.deltaY+Ee*350)/k,Re=G-$e,ke=d.reduce((Ye,we)=>Math.abs(we-Re)<Math.abs(Ye-Re)?we:Ye);V({breakpoint:ke,breakpointOffset:R,canDismiss:S,animated:!0})},V=le=>{const{breakpoint:Ee,canDismiss:$e,breakpointOffset:Re,animated:ke}=le,Ye=$e&&Ee===0,we=Ye?G:Ee,ot=we!==0;return G=0,J&&ie&&(J.keyframes([{offset:0,transform:"translateY(".concat(Re*100,"%)")},{offset:1,transform:"translateY(".concat((1-we)*100,"%)")}]),ie.keyframes([{offset:0,opacity:"calc(var(--backdrop-opacity) * ".concat(bv(1-Re,l),")")},{offset:1,opacity:"calc(var(--backdrop-opacity) * ".concat(bv(we,l),")")}]),ce&&ce.keyframes([{offset:0,maxHeight:"".concat((1-Re)*100,"%")},{offset:1,maxHeight:"".concat(we*100,"%")}]),c.progressStep(0)),Se.enable(!1),Ye?_D(t,c):ot||g(),I&&(we===d[d.length-1]||!h)&&(I.scrollY=!0),!h&&we===0&&Te("stationary"),new Promise(ge=>{c.onFinish(()=>{ot?(h||Te("stationary"),J&&ie?Zi(()=>{J.keyframes([...v.WRAPPER_KEYFRAMES]),ie.keyframes([...v.BACKDROP_KEYFRAMES]),ce==null||ce.keyframes([...v.CONTENT_KEYFRAMES]),c.progressStart(!0,1-we),G=we,$(G),G>l&&t.focusTrap!==!1&&t.showBackdrop!==!1?me():ve(),Se.enable(!0),ge()}):(Se.enable(!0),ge())):ge()},{oneTimeCallback:!0}).progressEnd(1,0,ke?500:0)})},Se=Ax({el:n,gestureName:"modalSheet",gesturePriority:40,direction:"y",threshold:10,canStart:ee,onStart:he,onMove:pe,onEnd:ae});return{gesture:Se,moveSheetToBreakpoint:V}},mz=':host{--width:100%;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--ion-background-color, #fff);--box-shadow:none;--backdrop-opacity:0;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);contain:strict}.modal-wrapper,ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.modal-wrapper,.modal-shadow{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:var(--overflow);z-index:10}.modal-shadow{position:absolute;background:transparent}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--width:600px;--height:500px;--ion-safe-area-top:0px;--ion-safe-area-bottom:0px;--ion-safe-area-right:0px;--ion-safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){:host{--width:600px;--height:600px}}.modal-handle{left:0px;right:0px;top:5px;border-radius:8px;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;position:absolute;width:36px;height:5px;-webkit-transform:translateZ(0);transform:translateZ(0);border:0;background:var(--ion-color-step-350, var(--ion-background-color-step-350, #c0c0be));cursor:pointer;z-index:11}.modal-handle::before{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:4px;padding-bottom:4px;position:absolute;width:36px;height:5px;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);content:""}:host(.modal-sheet){--height:calc(100% - (var(--ion-safe-area-top) + 10px))}:host(.modal-sheet) .modal-wrapper,:host(.modal-sheet) .modal-shadow{position:absolute;bottom:0}:host(.modal-sheet.modal-no-expand-scroll) ion-footer{position:absolute;bottom:0;width:var(--width)}:host{--backdrop-opacity:var(--ion-backdrop-opacity, 0.4)}:host(.modal-card),:host(.modal-sheet){--border-radius:10px}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--border-radius:10px}}.modal-wrapper{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0)}@media screen and (max-width: 767px){@supports (width: max(0px, 1px)){:host(.modal-card){--height:calc(100% - max(30px, var(--ion-safe-area-top)) - 10px)}}@supports not (width: max(0px, 1px)){:host(.modal-card){--height:calc(100% - 40px)}}:host(.modal-card) .modal-wrapper{border-start-start-radius:var(--border-radius);border-start-end-radius:var(--border-radius);border-end-end-radius:0;border-end-start-radius:0}:host(.modal-card){--backdrop-opacity:0;--width:100%;-ms-flex-align:end;align-items:flex-end}:host(.modal-card) .modal-shadow{display:none}:host(.modal-card) ion-backdrop{pointer-events:none}}@media screen and (min-width: 768px){:host(.modal-card){--width:calc(100% - 120px);--height:calc(100% - (120px + var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));--max-width:720px;--max-height:1000px;--backdrop-opacity:0;--box-shadow:0px 0px 30px 10px rgba(0, 0, 0, 0.1);-webkit-transition:all 0.5s ease-in-out;transition:all 0.5s ease-in-out}:host(.modal-card) .modal-wrapper{-webkit-box-shadow:none;box-shadow:none}:host(.modal-card) .modal-shadow{-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}}:host(.modal-sheet) .modal-wrapper{border-start-start-radius:var(--border-radius);border-start-end-radius:var(--border-radius);border-end-end-radius:0;border-end-start-radius:0}',$z=':host{--width:100%;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--ion-background-color, #fff);--box-shadow:none;--backdrop-opacity:0;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);contain:strict}.modal-wrapper,ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.modal-wrapper,.modal-shadow{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:var(--overflow);z-index:10}.modal-shadow{position:absolute;background:transparent}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--width:600px;--height:500px;--ion-safe-area-top:0px;--ion-safe-area-bottom:0px;--ion-safe-area-right:0px;--ion-safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){:host{--width:600px;--height:600px}}.modal-handle{left:0px;right:0px;top:5px;border-radius:8px;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;position:absolute;width:36px;height:5px;-webkit-transform:translateZ(0);transform:translateZ(0);border:0;background:var(--ion-color-step-350, var(--ion-background-color-step-350, #c0c0be));cursor:pointer;z-index:11}.modal-handle::before{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:4px;padding-bottom:4px;position:absolute;width:36px;height:5px;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);content:""}:host(.modal-sheet){--height:calc(100% - (var(--ion-safe-area-top) + 10px))}:host(.modal-sheet) .modal-wrapper,:host(.modal-sheet) .modal-shadow{position:absolute;bottom:0}:host(.modal-sheet.modal-no-expand-scroll) ion-footer{position:absolute;bottom:0;width:var(--width)}:host{--backdrop-opacity:var(--ion-backdrop-opacity, 0.32)}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--border-radius:2px;--box-shadow:0 28px 48px rgba(0, 0, 0, 0.4)}}.modal-wrapper{-webkit-transform:translate3d(0,  40px,  0);transform:translate3d(0,  40px,  0);opacity:0.01}',_z=Qt(class extends jt{constructor(o){super(),o!==!1&&this.__registerHost(),this.__attachShadow(),this.didPresent=ze(this,"ionModalDidPresent",7),this.willPresent=ze(this,"ionModalWillPresent",7),this.willDismiss=ze(this,"ionModalWillDismiss",7),this.didDismiss=ze(this,"ionModalDidDismiss",7),this.ionBreakpointDidChange=ze(this,"ionBreakpointDidChange",7),this.didPresentShorthand=ze(this,"didPresent",7),this.willPresentShorthand=ze(this,"willPresent",7),this.willDismissShorthand=ze(this,"willDismiss",7),this.didDismissShorthand=ze(this,"didDismiss",7),this.ionMount=ze(this,"ionMount",7),this.lockController=Ky(),this.triggerController=gG(),this.coreDelegate=Hx(),this.isSheetModal=!1,this.inheritedAttributes={},this.inline=!1,this.gestureAnimationDismissing=!1,this.presented=!1,this.hasController=!1,this.keyboardClose=!0,this.expandToScroll=!0,this.backdropBreakpoint=0,this.handleBehavior="none",this.backdropDismiss=!0,this.showBackdrop=!0,this.animated=!0,this.isOpen=!1,this.keepContentsMounted=!1,this.focusTrap=!0,this.canDismiss=!0,this.onHandleClick=()=>{const{sheetTransition:n,handleBehavior:s}=this;s!=="cycle"||n!==void 0||this.moveToNextBreakpoint()},this.onBackdropTap=()=>{const{sheetTransition:n}=this;n===void 0&&this.dismiss(void 0,fg)},this.onLifecycle=n=>{const s=this.usersElement,l=bz[n.type];if(s&&l){const c=new CustomEvent(l,{bubbles:!1,cancelable:!1,detail:n.detail});s.dispatchEvent(c)}},this.onModalFocus=n=>{const{dragHandleEl:s,el:l}=this;n.target===l&&s&&s.tabIndex!==-1&&s.focus()},this.onSlotChange=({target:n})=>{n.assignedElements().forEach(l=>{l.querySelectorAll("ion-modal").forEach(c=>{c.getAttribute("data-parent-ion-modal")===null&&c.setAttribute("data-parent-ion-modal",this.el.id)})})}}onIsOpenChange(o,n){o===!0&&n===!1?this.present():o===!1&&n===!0&&this.dismiss()}triggerChanged(){const{trigger:o,el:n,triggerController:s}=this;o&&s.addClickListener(n,o)}onWindowResize(){rt(this)!=="ios"||!this.presentingElement||this.enterAnimation||this.leaveAnimation||(clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{this.handleViewTransition()},50))}breakpointsChanged(o){o!==void 0&&(this.sortedBreakpoints=o.sort((n,s)=>n-s))}connectedCallback(){const{el:o}=this;Gx(o),this.triggerChanged()}disconnectedCallback(){this.triggerController.removeClickListener(),this.cleanupViewTransitionListener(),this.cleanupParentRemovalObserver()}componentWillLoad(){var o;const{breakpoints:n,initialBreakpoint:s,el:l,htmlAttributes:c}=this,d=this.isSheetModal=n!==void 0&&s!==void 0,h=["aria-label","role"];this.inheritedAttributes=rm(l,h),l.parentNode&&(this.cachedOriginalParent=l.parentNode),c!==void 0&&h.forEach(p=>{c[p]&&(this.inheritedAttributes=Object.assign(Object.assign({},this.inheritedAttributes),{[p]:c[p]}),delete c[p])}),d&&(this.currentBreakpoint=this.initialBreakpoint),n!==void 0&&s!==void 0&&!n.includes(s)&&Ji("[ion-modal] - Your breakpoints array must include the initialBreakpoint value."),!((o=this.htmlAttributes)===null||o===void 0)&&o.id||Vx(this.el)}componentDidLoad(){this.isOpen===!0&&Zi(()=>this.present()),this.breakpointsChanged(this.breakpoints),this.triggerChanged()}getDelegate(o=!1){if(this.workingDelegate&&!o)return{delegate:this.workingDelegate,inline:this.inline};const n=this.el.parentNode,s=this.inline=n!==null&&!this.hasController,l=this.workingDelegate=s?this.delegate||this.coreDelegate:this.delegate;return{inline:s,delegate:l}}async checkCanDismiss(o,n){const{canDismiss:s}=this;return typeof s=="function"?s(o,n):s}async present(){const o=await this.lockController.lock();if(this.presented){o();return}const{presentingElement:n,el:s}=this;this.currentBreakpoint=this.initialBreakpoint;const{inline:l,delegate:c}=this.getDelegate(!0);this.ionMount.emit(),this.usersElement=await zd(c,s,this.component,["ion-page"],this.componentProps,l),yd(s)?await Sd(this.usersElement):this.keepContentsMounted||await Cx(),bd(()=>this.el.classList.add("show-modal"));const d=n!==void 0;d&&rt(this)==="ios"&&(this.statusBarStyle=await eS.getStyle(),$D()),await Xx(this,"modalEnter",nk,hz,{presentingEl:n,currentBreakpoint:this.initialBreakpoint,backdropBreakpoint:this.backdropBreakpoint,expandToScroll:this.expandToScroll}),typeof window<"u"&&(this.keyboardOpenCallback=()=>{this.gesture&&(this.gesture.enable(!1),Zi(()=>{this.gesture&&this.gesture.enable(!0)}))},window.addEventListener($g,this.keyboardOpenCallback));const h=this.breakpoints!==void 0&&this.initialBreakpoint!==void 0;this.isSheetModal=h,h?this.initSheetGesture():d&&this.initSwipeToClose(),this.initViewTransitionListener(),this.initParentRemovalObserver(),o()}initSwipeToClose(){var o;if(rt(this)!=="ios")return;const{el:n}=this,s=this.leaveAnimation||Ke.get("modalLeave",sk),l=this.animation=s(n,{presentingEl:this.presentingElement,expandToScroll:this.expandToScroll});if(!zV(n)){WV(n);return}const d=(o=this.statusBarStyle)!==null&&o!==void 0?o:uc.Default;this.gesture=rz(n,l,d,()=>{this.gestureAnimationDismissing=!0,Tv(this.statusBarStyle),this.animation.onFinish(async()=>{await this.dismiss(void 0,od),this.gestureAnimationDismissing=!1})}),this.gesture.enable(!0)}initSheetGesture(){const{wrapperEl:o,initialBreakpoint:n,backdropBreakpoint:s}=this;if(!o||n===void 0)return;const l=this.enterAnimation||Ke.get("modalEnter",nk),c=this.animation=l(this.el,{presentingEl:this.presentingElement,currentBreakpoint:n,backdropBreakpoint:s,expandToScroll:this.expandToScroll});c.progressStart(!0,1);const{gesture:d,moveSheetToBreakpoint:h}=gz(this.el,this.backdropEl,o,n,s,c,this.sortedBreakpoints,this.expandToScroll,()=>{var g;return(g=this.currentBreakpoint)!==null&&g!==void 0?g:0},()=>this.sheetOnDismiss(),g=>{this.currentBreakpoint!==g&&(this.currentBreakpoint=g,this.ionBreakpointDidChange.emit({breakpoint:g}))});this.gesture=d,this.moveSheetToBreakpoint=h,this.gesture.enable(!0),(this.showBackdrop===!1||this.focusTrap===!1||s>0)&&this.setupChildRoutePassthrough()}setupChildRoutePassthrough(){var o;this.cachedPageParent=this.getOriginalPageParent();const n=this.cachedPageParent;if(!n||n.tagName==="ION-APP"||Array.from(n.children).some(c=>{var d;return c!==this.el&&!(c instanceof jt&&window.getComputedStyle(c).display==="none")&&c.tagName!=="TEMPLATE"&&c.tagName!=="SLOT"&&!(c.nodeType===Node.TEXT_NODE&&!(!((d=c.textContent)===null||d===void 0)&&d.trim()))}))return;n.classList.add("ion-page-overlay-passthrough");const l=n.parentElement;(l==null?void 0:l.tagName)==="ION-ROUTER-OUTLET"&&((o=l.parentElement)===null||o===void 0?void 0:o.tagName)!=="ION-APP"&&(l.style.setProperty("pointer-events","none"),l.setAttribute("data-overlay-passthrough","true"))}getOriginalPageParent(){if(!this.cachedOriginalParent)return null;let o=this.cachedOriginalParent;for(;o&&!o.classList.contains("ion-page");)o=o.parentElement;return o}cleanupChildRoutePassthrough(){const o=this.cachedPageParent;if(!o)return;o.classList.remove("ion-page-overlay-passthrough");const n=o.parentElement;n!=null&&n.hasAttribute("data-overlay-passthrough")&&(n.style.removeProperty("pointer-events"),n.removeAttribute("data-overlay-passthrough")),this.cachedPageParent=void 0}sheetOnDismiss(){this.gestureAnimationDismissing=!0,this.animation.onFinish(async()=>{this.currentBreakpoint=0,this.ionBreakpointDidChange.emit({breakpoint:this.currentBreakpoint}),await this.dismiss(void 0,od),this.gestureAnimationDismissing=!1})}async dismiss(o,n){var s;if(this.gestureAnimationDismissing&&n!==od)return!1;const l=await this.lockController.lock();if(await this.dismissNestedModals(),n!=="handler"&&!await this.checkCanDismiss(o,n))return l(),!1;const{presentingElement:c}=this;c!==void 0&&rt(this)==="ios"&&Tv(this.statusBarStyle),typeof window<"u"&&this.keyboardOpenCallback&&(window.removeEventListener($g,this.keyboardOpenCallback),this.keyboardOpenCallback=void 0);const h=await Yx(this,o,n,"modalLeave",sk,fz,{presentingEl:c,currentBreakpoint:(s=this.currentBreakpoint)!==null&&s!==void 0?s:this.initialBreakpoint,backdropBreakpoint:this.backdropBreakpoint,expandToScroll:this.expandToScroll});if(h){const{delegate:p}=this.getDelegate();await Yy(p,this.usersElement),bd(()=>this.el.classList.remove("show-modal")),this.animation&&this.animation.destroy(),this.gesture&&this.gesture.destroy(),this.cleanupViewTransitionListener(),this.cleanupParentRemovalObserver(),this.cleanupChildRoutePassthrough()}return this.currentBreakpoint=void 0,this.animation=void 0,l(),h}onDidDismiss(){return pg(this.el,"ionModalDidDismiss")}onWillDismiss(){return pg(this.el,"ionModalWillDismiss")}async setCurrentBreakpoint(o){if(!this.isSheetModal){Ji("[ion-modal] - setCurrentBreakpoint is only supported on sheet modals.");return}if(!this.breakpoints.includes(o)){Ji("[ion-modal] - Attempted to set invalid breakpoint value ".concat(o,". Please double check that the breakpoint value is part of your defined breakpoints."));return}const{currentBreakpoint:n,moveSheetToBreakpoint:s,canDismiss:l,breakpoints:c,animated:d}=this;n!==o&&s&&(this.sheetTransition=s({breakpoint:o,breakpointOffset:1-n,canDismiss:l!==void 0&&l!==!0&&c[0]===0,animated:d}),await this.sheetTransition,this.sheetTransition=void 0)}async getCurrentBreakpoint(){return this.currentBreakpoint}async moveToNextBreakpoint(){const{breakpoints:o,currentBreakpoint:n}=this;if(!o||n==null)return!1;const s=o.filter(h=>h!==0),c=(s.indexOf(n)+1)%s.length,d=s[c];return await this.setCurrentBreakpoint(d),!0}initViewTransitionListener(){rt(this)!=="ios"||!this.presentingElement||this.enterAnimation||this.leaveAnimation||(this.currentViewIsPortrait=window.innerWidth<768)}handleViewTransition(){if(!this.presented)return;const o=window.innerWidth<768;if(this.currentViewIsPortrait===o)return;this.viewTransitionAnimation&&(this.viewTransitionAnimation.destroy(),this.viewTransitionAnimation=void 0);const{presentingElement:n}=this;if(!n)return;let s;this.currentViewIsPortrait&&!o?s=cz(this.el,{presentingEl:n}):s=uz(this.el,{presentingEl:n}),this.currentViewIsPortrait=o,this.viewTransitionAnimation=s,s.play().then(()=>{this.viewTransitionAnimation=void 0,this.reinitSwipeToClose()})}cleanupViewTransitionListener(){this.resizeTimeout&&(clearTimeout(this.resizeTimeout),this.resizeTimeout=void 0),this.viewTransitionAnimation&&(this.viewTransitionAnimation.destroy(),this.viewTransitionAnimation=void 0)}reinitSwipeToClose(){rt(this)!=="ios"||!this.presentingElement||(this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.animation&&(this.animation.progressEnd(0,0,0),this.animation.destroy(),this.animation=void 0),Zi(()=>{this.ensureCorrectModalPosition(),this.initSwipeToClose()}))}ensureCorrectModalPosition(){const{el:o,presentingElement:n}=this,l=Yt(o).querySelector(".modal-wrapper");if(l&&(l.style.transform="translateY(0vh)",l.style.opacity="1"),(n==null?void 0:n.tagName)==="ION-MODAL")if(window.innerWidth<768){const d=CSS.supports("width","max(0px, 1px)")?"max(30px, var(--ion-safe-area-top))":"30px",h=Os.MIN_PRESENTING_SCALE;n.style.transform="translateY(".concat(d,") scale(").concat(h,")")}else n.style.transform="translateY(0px) scale(1)"}async dismissNestedModals(){const o=document.querySelectorAll('ion-modal[data-parent-ion-modal="'.concat(this.el.id,'"]'));o==null||o.forEach(async n=>{await n.dismiss(void 0,"parent-dismissed")})}initParentRemovalObserver(){typeof MutationObserver>"u"||typeof window>"u"||!this.cachedOriginalParent||this.cachedOriginalParent.nodeType===Node.DOCUMENT_NODE||this.cachedOriginalParent.nodeType===Node.DOCUMENT_FRAGMENT_NODE||this.hasController||this.cachedOriginalParent===document.body||this.cachedOriginalParent.tagName==="ION-APP"||(this.parentRemovalObserver=new MutationObserver(o=>{o.forEach(n=>{if(n.type==="childList"&&n.removedNodes.length>0){const s=Array.from(n.removedNodes).some(c=>{var d,h;const p=c===this.cachedOriginalParent,g=this.cachedOriginalParent?(h=(d=c).contains)===null||h===void 0?void 0:h.call(d,this.cachedOriginalParent):!1;return p||g}),l=this.cachedOriginalParent&&!this.cachedOriginalParent.isConnected;(s||l)&&(this.dismiss(void 0,"parent-removed"),this.cachedOriginalParent=void 0)}})}),this.parentRemovalObserver.observe(document.body,{childList:!0,subtree:!0}))}cleanupParentRemovalObserver(){var o;(o=this.parentRemovalObserver)===null||o===void 0||o.disconnect(),this.parentRemovalObserver=void 0}render(){const{handle:o,isSheetModal:n,presentingElement:s,htmlAttributes:l,handleBehavior:c,inheritedAttributes:d,focusTrap:h,expandToScroll:p}=this,g=o!==!1&&n,$=rt(this),b=s!==void 0&&$==="ios",T=c==="cycle";return _e(so,Object.assign({key:"87328006ea6c75ebc518ace300438492a567223e","no-router":!0,tabIndex:T&&(n&&g)?0:-1},l,{style:{zIndex:"".concat(2e4+this.overlayIndex)},class:Object.assign({[$]:!0,"modal-default":!b&&!n,"modal-card":b,"modal-sheet":n,"modal-no-expand-scroll":n&&!p,"overlay-hidden":!0,[Od]:h===!1},Bx(this.cssClass)),onIonBackdropTap:this.onBackdropTap,onIonModalDidPresent:this.onLifecycle,onIonModalWillPresent:this.onLifecycle,onIonModalWillDismiss:this.onLifecycle,onIonModalDidDismiss:this.onLifecycle,onFocus:this.onModalFocus}),_e("ion-backdrop",{key:"ee94ff8e09b691dd4ad4e4db1720f06bc3c5a469",ref:I=>this.backdropEl=I,visible:this.showBackdrop,tappable:this.backdropDismiss,part:"backdrop"}),$==="ios"&&_e("div",{key:"bffd69b4635c22d9f249725bd952c1e93d5615c7",class:"modal-shadow"}),_e("div",Object.assign({key:"1d394d3c68916e464ff1fbf5242419f4a3d3cca1",role:"dialog"},d,{"aria-modal":"true",class:"modal-wrapper ion-overlay-wrapper",part:"content",ref:I=>this.wrapperEl=I}),g&&_e("button",{key:"2dcf58792018e557e0c323baad2d672bc99c0bb1",class:"modal-handle",tabIndex:T?0:-1,"aria-label":"Activate to adjust the size of the dialog overlaying the screen",onClick:T?this.onHandleClick:void 0,part:"handle",ref:I=>this.dragHandleEl=I}),_e("slot",{key:"44164b1e8710c3895400ad9f44ecd99873874ad5",onSlotchange:this.onSlotChange})))}get el(){return this}static get watchers(){return{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}}static get style(){return{ios:mz,md:$z}}},[289,"ion-modal",{hasController:[4,"has-controller"],overlayIndex:[2,"overlay-index"],delegate:[16],keyboardClose:[4,"keyboard-close"],enterAnimation:[16],leaveAnimation:[16],breakpoints:[16],expandToScroll:[4,"expand-to-scroll"],initialBreakpoint:[2,"initial-breakpoint"],backdropBreakpoint:[2,"backdrop-breakpoint"],handle:[4],handleBehavior:[1,"handle-behavior"],component:[1],componentProps:[16],cssClass:[1,"css-class"],backdropDismiss:[4,"backdrop-dismiss"],showBackdrop:[4,"show-backdrop"],animated:[4],presentingElement:[16],htmlAttributes:[16],isOpen:[4,"is-open"],trigger:[1],keepContentsMounted:[4,"keep-contents-mounted"],focusTrap:[4,"focus-trap"],canDismiss:[4,"can-dismiss"],isSheetModal:[32],presented:[32],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64],setCurrentBreakpoint:[64],getCurrentBreakpoint:[64]},[[9,"resize","onWindowResize"]],{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}]),bz={ionModalDidPresent:"ionViewDidEnter",ionModalWillPresent:"ionViewWillEnter",ionModalWillDismiss:"ionViewWillLeave",ionModalDidDismiss:"ionViewDidLeave"};function Tz(){if(typeof customElements>"u")return;["ion-modal","ion-backdrop"].forEach(o=>{switch(o){case"ion-modal":customElements.get(o)||customElements.define(o,_z);break;case"ion-backdrop":customElements.get(o)||eD();break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Ez=":host(.tab-hidden){display:none !important}",vz=Qt(class extends jt{constructor(o){super(),o!==!1&&this.__registerHost(),this.__attachShadow(),this.loaded=!1,this.active=!1}async componentWillLoad(){this.active&&await this.setActive()}async setActive(){await this.prepareLazyLoaded(),this.active=!0}changeActive(o){o&&this.prepareLazyLoaded()}prepareLazyLoaded(){if(!this.loaded&&this.component!=null){this.loaded=!0;try{return zd(this.delegate,this.el,this.component,["ion-page"])}catch(o){wl("[ion-tab] - Exception in prepareLazyLoaded:",o)}}return Promise.resolve(void 0)}render(){const{tab:o,active:n,component:s}=this;return _e(so,{key:"dbad8fe9f1566277d14647626308eaf1601ab01f",role:"tabpanel","aria-hidden":n?null:"true","aria-labelledby":"tab-button-".concat(o),class:{"ion-page":s===void 0,"tab-hidden":!n}},_e("slot",{key:"3be64f4e7161f6769aaf8e4dcb5293fcaa09af45"}))}get el(){return this}static get watchers(){return{active:["changeActive"]}}static get style(){return Ez}},[257,"ion-tab",{active:[1028],delegate:[16],tab:[1],component:[1],setActive:[64]},void 0,{active:["changeActive"]}]);function yz(){if(typeof customElements>"u")return;["ion-tab"].forEach(o=>{switch(o){case"ion-tab":customElements.get(o)||customElements.define(o,vz);break}})}const Sz=yz;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Iz=cV;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Oz=":host{--ion-safe-area-left:0px;--ion-safe-area-right:0px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;overflow:hidden}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.card-disabled){cursor:default;opacity:0.3;pointer-events:none}.card-native{font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:inherit}.card-native::-moz-focus-inner{border:0}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}ion-ripple-effect{color:var(--ripple-color)}:host{--background:var(--ion-card-background, var(--ion-item-background, var(--ion-background-color, #fff)));--color:var(--ion-card-color, var(--ion-item-color, var(--ion-color-step-600, var(--ion-text-color-step-400, #666666))));-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:24px;margin-bottom:24px;border-radius:8px;-webkit-transition:-webkit-transform 500ms cubic-bezier(0.12, 0.72, 0.29, 1);transition:-webkit-transform 500ms cubic-bezier(0.12, 0.72, 0.29, 1);transition:transform 500ms cubic-bezier(0.12, 0.72, 0.29, 1);transition:transform 500ms cubic-bezier(0.12, 0.72, 0.29, 1), -webkit-transform 500ms cubic-bezier(0.12, 0.72, 0.29, 1);font-size:0.875rem;-webkit-box-shadow:0 4px 16px rgba(0, 0, 0, 0.12);box-shadow:0 4px 16px rgba(0, 0, 0, 0.12)}:host(.ion-activated){-webkit-transform:scale3d(0.97, 0.97, 1);transform:scale3d(0.97, 0.97, 1)}",Rz=":host{--ion-safe-area-left:0px;--ion-safe-area-right:0px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;overflow:hidden}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.card-disabled){cursor:default;opacity:0.3;pointer-events:none}.card-native{font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:inherit}.card-native::-moz-focus-inner{border:0}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}ion-ripple-effect{color:var(--ripple-color)}:host{--background:var(--ion-card-background, var(--ion-item-background, var(--ion-background-color, #fff)));--color:var(--ion-card-color, var(--ion-item-color, var(--ion-color-step-550, var(--ion-text-color-step-450, #737373))));-webkit-margin-start:10px;margin-inline-start:10px;-webkit-margin-end:10px;margin-inline-end:10px;margin-top:10px;margin-bottom:10px;border-radius:4px;font-size:0.875rem;-webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)}",Cz=Qt(class extends jt{constructor(o){super(),o!==!1&&this.__registerHost(),this.__attachShadow(),this.inheritedAriaAttributes={},this.button=!1,this.type="button",this.disabled=!1,this.routerDirection="forward"}componentWillLoad(){this.inheritedAriaAttributes=rm(this.el,["aria-label"])}isClickable(){return this.href!==void 0||this.button}renderCard(o){const n=this.isClickable();if(!n)return[_e("slot",null)];const{href:s,routerAnimation:l,routerDirection:c,inheritedAriaAttributes:d}=this,h=n?s===void 0?"button":"a":"div",p=h==="button"?{type:this.type}:{download:this.download,href:this.href,rel:this.rel,target:this.target};return _e(h,Object.assign({},p,d,{class:"card-native",part:"native",disabled:this.disabled,onClick:g=>cm(s,g,c,l)}),_e("slot",null),n&&o==="md"&&_e("ion-ripple-effect",null))}render(){const o=rt(this);return _e(so,{key:"85e9b30bd81e79a0c7ac75cb3664bdcf9e4afc4d",class:vr(this.color,{[o]:!0,"card-disabled":this.disabled,"ion-activatable":this.isClickable()})},this.renderCard(o))}get el(){return this}static get style(){return{ios:Oz,md:Rz}}},[289,"ion-card",{color:[513],button:[4],type:[1],disabled:[4],download:[1],href:[1],rel:[1],routerDirection:[1,"router-direction"],routerAnimation:[16],target:[1]}]),wz=Cz;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Az=':host{--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--background-hover:var(--ion-color-primary-contrast, #fff);--background-hover-opacity:.08;--transition:background-color, opacity 100ms linear;--ripple-color:currentColor;--border-radius:50%;--border-width:0;--border-style:none;--border-color:initial;--padding-top:0;--padding-end:0;--padding-bottom:0;--padding-start:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;width:56px;height:56px;font-size:14px;text-align:center;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-font-kerning:none;font-kerning:none}.button-native{border-radius:var(--border-radius);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;-webkit-transform:var(--transform);transform:var(--transform);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);background-clip:padding-box;color:var(--color);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);contain:strict;cursor:pointer;overflow:hidden;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-icon){line-height:1}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{left:0;right:0;top:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;-webkit-transition:all ease-in-out 300ms;transition:all ease-in-out 300ms;-webkit-transition-property:opacity, -webkit-transform;transition-property:opacity, -webkit-transform;transition-property:transform, opacity;transition-property:transform, opacity, -webkit-transform;z-index:1}:host(.fab-button-disabled){cursor:default;opacity:0.5;pointer-events:none}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(.ion-activated) .button-native{color:var(--color-activated)}:host(.ion-activated) .button-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}::slotted(ion-icon){line-height:1}:host(.fab-button-small){-webkit-margin-start:8px;margin-inline-start:8px;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:8px;margin-bottom:8px;width:40px;height:40px}.close-icon{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:0;margin-bottom:0;left:0;right:0;top:0;position:absolute;height:100%;-webkit-transform:scale(0.4) rotateZ(-45deg);transform:scale(0.4) rotateZ(-45deg);-webkit-transition:all ease-in-out 300ms;transition:all ease-in-out 300ms;-webkit-transition-property:opacity, -webkit-transform;transition-property:opacity, -webkit-transform;transition-property:transform, opacity;transition-property:transform, opacity, -webkit-transform;font-size:var(--close-icon-font-size);opacity:0;z-index:1}:host(.fab-button-close-active) .close-icon{-webkit-transform:scale(1) rotateZ(0deg);transform:scale(1) rotateZ(0deg);opacity:1}:host(.fab-button-close-active) .button-inner{-webkit-transform:scale(0.4) rotateZ(45deg);transform:scale(0.4) rotateZ(45deg);opacity:0}ion-ripple-effect{color:var(--ripple-color)}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.fab-button-translucent) .button-native{-webkit-backdrop-filter:var(--backdrop-filter);backdrop-filter:var(--backdrop-filter)}}:host(.ion-color) .button-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host{--background:var(--ion-color-primary, #0054e9);--background-activated:var(--ion-color-primary-shade, #004acd);--background-focused:var(--ion-color-primary-shade, #004acd);--background-hover:var(--ion-color-primary-tint, #1a65eb);--background-activated-opacity:1;--background-focused-opacity:1;--background-hover-opacity:1;--color:var(--ion-color-primary-contrast, #fff);--box-shadow:0 4px 16px rgba(0, 0, 0, 0.12);--transition:0.2s transform cubic-bezier(0.25, 1.11, 0.78, 1.59);--close-icon-font-size:28px}:host(.ion-activated){--box-shadow:0 4px 16px rgba(0, 0, 0, 0.12);--transform:scale(1.1);--transition:0.2s transform ease-out}::slotted(ion-icon){font-size:28px}:host(.fab-button-in-list){--background:var(--ion-color-light, #f4f5f8);--background-activated:var(--ion-color-light-shade, #d7d8da);--background-focused:var(--background-activated);--background-hover:var(--ion-color-light-tint, #f5f6f9);--color:var(--ion-color-light-contrast, #000);--color-activated:var(--ion-color-light-contrast, #000);--color-focused:var(--color-activated);--transition:transform 200ms ease 10ms, opacity 200ms ease 10ms}:host(.fab-button-in-list) ::slotted(ion-icon){font-size:18px}:host(.ion-color.ion-focused) .button-native::after{background:var(--ion-color-shade)}:host(.ion-color.ion-focused) .button-native,:host(.ion-color.ion-activated) .button-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-focused) .button-native::after,:host(.ion-color.ion-activated) .button-native::after{background:var(--ion-color-shade)}@media (any-hover: hover){:host(.ion-color:hover) .button-native{color:var(--ion-color-contrast)}:host(.ion-color:hover) .button-native::after{background:var(--ion-color-tint)}}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.fab-button-translucent){--background:rgba(var(--ion-color-primary-rgb, 0, 84, 233), 0.9);--background-hover:rgba(var(--ion-color-primary-rgb, 0, 84, 233), 0.8);--background-focused:rgba(var(--ion-color-primary-rgb, 0, 84, 233), 0.82);--backdrop-filter:saturate(180%) blur(20px)}:host(.fab-button-translucent-in-list){--background:rgba(var(--ion-color-light-rgb, 244, 245, 248), 0.9);--background-hover:rgba(var(--ion-color-light-rgb, 244, 245, 248), 0.8);--background-focused:rgba(var(--ion-color-light-rgb, 244, 245, 248), 0.82)}}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){@media (any-hover: hover){:host(.fab-button-translucent.ion-color:hover) .button-native{background:rgba(var(--ion-color-base-rgb), 0.8)}}:host(.ion-color.fab-button-translucent) .button-native{background:rgba(var(--ion-color-base-rgb), 0.9)}:host(.ion-color.ion-focused.fab-button-translucent) .button-native,:host(.ion-color.ion-activated.fab-button-translucent) .button-native{background:var(--ion-color-base)}}',Lz=':host{--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--background-hover:var(--ion-color-primary-contrast, #fff);--background-hover-opacity:.08;--transition:background-color, opacity 100ms linear;--ripple-color:currentColor;--border-radius:50%;--border-width:0;--border-style:none;--border-color:initial;--padding-top:0;--padding-end:0;--padding-bottom:0;--padding-start:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;width:56px;height:56px;font-size:14px;text-align:center;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-font-kerning:none;font-kerning:none}.button-native{border-radius:var(--border-radius);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;-webkit-transform:var(--transform);transform:var(--transform);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);background-clip:padding-box;color:var(--color);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);contain:strict;cursor:pointer;overflow:hidden;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-icon){line-height:1}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{left:0;right:0;top:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;-webkit-transition:all ease-in-out 300ms;transition:all ease-in-out 300ms;-webkit-transition-property:opacity, -webkit-transform;transition-property:opacity, -webkit-transform;transition-property:transform, opacity;transition-property:transform, opacity, -webkit-transform;z-index:1}:host(.fab-button-disabled){cursor:default;opacity:0.5;pointer-events:none}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(.ion-activated) .button-native{color:var(--color-activated)}:host(.ion-activated) .button-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}::slotted(ion-icon){line-height:1}:host(.fab-button-small){-webkit-margin-start:8px;margin-inline-start:8px;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:8px;margin-bottom:8px;width:40px;height:40px}.close-icon{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:0;margin-bottom:0;left:0;right:0;top:0;position:absolute;height:100%;-webkit-transform:scale(0.4) rotateZ(-45deg);transform:scale(0.4) rotateZ(-45deg);-webkit-transition:all ease-in-out 300ms;transition:all ease-in-out 300ms;-webkit-transition-property:opacity, -webkit-transform;transition-property:opacity, -webkit-transform;transition-property:transform, opacity;transition-property:transform, opacity, -webkit-transform;font-size:var(--close-icon-font-size);opacity:0;z-index:1}:host(.fab-button-close-active) .close-icon{-webkit-transform:scale(1) rotateZ(0deg);transform:scale(1) rotateZ(0deg);opacity:1}:host(.fab-button-close-active) .button-inner{-webkit-transform:scale(0.4) rotateZ(45deg);transform:scale(0.4) rotateZ(45deg);opacity:0}ion-ripple-effect{color:var(--ripple-color)}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.fab-button-translucent) .button-native{-webkit-backdrop-filter:var(--backdrop-filter);backdrop-filter:var(--backdrop-filter)}}:host(.ion-color) .button-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host{--background:var(--ion-color-primary, #0054e9);--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor;--background-activated-opacity:0;--background-focused-opacity:.24;--background-hover-opacity:.08;--color:var(--ion-color-primary-contrast, #fff);--box-shadow:0 3px 5px -1px rgba(0, 0, 0, 0.2), 0 6px 10px 0 rgba(0, 0, 0, 0.14), 0 1px 18px 0 rgba(0, 0, 0, 0.12);--transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1), background-color 280ms cubic-bezier(0.4, 0, 0.2, 1), color 280ms cubic-bezier(0.4, 0, 0.2, 1), opacity 15ms linear 30ms, transform 270ms cubic-bezier(0, 0, 0.2, 1) 0ms;--close-icon-font-size:24px}:host(.ion-activated){--box-shadow:0 7px 8px -4px rgba(0, 0, 0, 0.2), 0 12px 17px 2px rgba(0, 0, 0, 0.14), 0 5px 22px 4px rgba(0, 0, 0, 0.12)}::slotted(ion-icon){font-size:24px}:host(.fab-button-in-list){--color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54);--color-activated:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54);--color-focused:var(--color-activated);--background:var(--ion-color-light, #f4f5f8);--background-activated:transparent;--background-focused:var(--ion-color-light-shade, #d7d8da);--background-hover:var(--ion-color-light-tint, #f5f6f9)}:host(.fab-button-in-list) ::slotted(ion-icon){font-size:18px}:host(.ion-color.ion-focused) .button-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-focused) .button-native::after{background:var(--ion-color-contrast)}:host(.ion-color.ion-activated) .button-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-activated) .button-native::after{background:transparent}@media (any-hover: hover){:host(.ion-color:hover) .button-native{color:var(--ion-color-contrast)}:host(.ion-color:hover) .button-native::after{background:var(--ion-color-contrast)}}',kz=Qt(class extends jt{constructor(o){super(),o!==!1&&this.__registerHost(),this.__attachShadow(),this.ionFocus=ze(this,"ionFocus",7),this.ionBlur=ze(this,"ionBlur",7),this.fab=null,this.inheritedAttributes={},this.activated=!1,this.disabled=!1,this.routerDirection="forward",this.show=!1,this.translucent=!1,this.type="button",this.closeIcon=_G,this.onFocus=()=>{this.ionFocus.emit()},this.onBlur=()=>{this.ionBlur.emit()},this.onClick=()=>{const{fab:n}=this;n&&n.toggle()}}connectedCallback(){this.fab=this.el.closest("ion-fab")}componentWillLoad(){this.inheritedAttributes=lm(this.el)}render(){const{el:o,disabled:n,color:s,href:l,activated:c,show:d,translucent:h,size:p,inheritedAttributes:g}=this,$=hl("ion-fab-list",o),b=rt(this),T=l===void 0?"button":"a",v=T==="button"?{type:this.type}:{download:this.download,href:l,rel:this.rel,target:this.target};return _e(so,{key:"4eee204d20b0e2ffed49a88f6cb3e04b6697965c",onClick:this.onClick,"aria-disabled":n?"true":null,class:vr(s,{[b]:!0,"fab-button-in-list":$,"fab-button-translucent-in-list":$&&h,"fab-button-close-active":c,"fab-button-show":d,"fab-button-disabled":n,"fab-button-translucent":h,"ion-activatable":!0,"ion-focusable":!0,["fab-button-".concat(p)]:p!==void 0})},_e(T,Object.assign({key:"914561622c0c6bd41453e828a7d8a39f924875ac"},v,{class:"button-native",part:"native",disabled:n,onFocus:this.onFocus,onBlur:this.onBlur,onClick:I=>cm(l,I,this.routerDirection,this.routerAnimation)},g),_e("ion-icon",{key:"2c8090742a64c62a79243667027a195cca9d5912","aria-hidden":"true",icon:this.closeIcon,part:"close-icon",class:"close-icon",lazy:!1}),_e("span",{key:"c3e55291e4c4d306d34a4b95dd2e727e87bdf39c",class:"button-inner"},_e("slot",{key:"f8e57f71d8f8878d9746cfece82f57f19ef9e988"})),b==="md"&&_e("ion-ripple-effect",{key:"a5e94fa0bb9836072300617245ed0c1b4887bac6"})))}get el(){return this}static get style(){return{ios:Az,md:Lz}}},[289,"ion-fab-button",{color:[513],activated:[4],disabled:[4],download:[1],href:[1],rel:[1],routerDirection:[1,"router-direction"],routerAnimation:[16],target:[1],show:[4],translucent:[4],type:[1],size:[1],closeIcon:[1,"close-icon"]}]),Nz=kz;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Mz=Tz;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const xz=MV,Dz="html.plt-mobile ion-app{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}html.plt-mobile ion-app [contenteditable]{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}ion-app.force-statusbar-padding{--ion-safe-area-top:20px}",Pz=Qt(class extends jt{constructor(o){super(),o!==!1&&this.__registerHost()}componentDidLoad(){Uz(async()=>{const o=_s(window,"hybrid");if(Ke.getBoolean("_testing")||hn(()=>import("./index7-CslBtseV.js"),[]).then(l=>l.startTapClick(Ke)),Ke.getBoolean("statusTap",o)&&hn(()=>import("./status-tap-BzBzqQXy.js"),[]).then(l=>l.startStatusTap()),Ke.getBoolean("inputShims",Bz())){const l=_s(window,"ios")?"ios":"android";hn(()=>import("./input-shims-CJxR4sft.js"),[]).then(c=>c.startInputShims(Ke,l))}const n=await hn(()=>Promise.resolve().then(()=>rG),void 0),s=o||Id();Ke.getBoolean("hardwareBackButton",s)?n.startHardwareBackButton():(Id()&&Ji("[ion-app] - experimentalCloseWatcher was set to `true`, but hardwareBackButton was set to `false`. Both config options must be `true` for the Close Watcher API to be used."),n.blockHardwareBackButton()),typeof window<"u"&&hn(()=>Promise.resolve().then(()=>sz),void 0).then(l=>l.startKeyboardAssist(window)),hn(()=>import("./focus-visible-supuXXMI.js"),[]).then(l=>this.focusVisible=l.startFocusVisible())})}async setFocus(o){this.focusVisible&&this.focusVisible.setFocus(o)}render(){const o=rt(this);return _e(so,{key:"9be440c65819e4fa67c2c3c6477ab40b3ad3eed3",class:{[o]:!0,"ion-page":!0,"force-statusbar-padding":Ke.getBoolean("_forceStatusbarPadding")}})}get el(){return this}static get style(){return Dz}},[256,"ion-app",{setFocus:[64]}]),Bz=()=>!!(_s(window,"ios")&&_s(window,"mobile")||_s(window,"android")&&_s(window,"mobileweb")),Uz=t=>{"requestIdleCallback"in window?window.requestIdleCallback(t):setTimeout(t,32)};function Hz(){if(typeof customElements>"u")return;["ion-app"].forEach(o=>{switch(o){case"ion-app":customElements.get(o)||customElements.define(o,Pz);break}})}const Fz=Hz;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Gz=':host{--background:transparent;--color-focused:currentColor;--color-hover:currentColor;--icon-margin-top:0;--icon-margin-bottom:0;--icon-padding-top:0;--icon-padding-end:0;--icon-padding-bottom:0;--icon-padding-start:0;--margin-top:0;--margin-end:0;--margin-bottom:0;--margin-start:0;--min-width:auto;--min-height:auto;--padding-top:0;--padding-end:0;--padding-bottom:0;--padding-start:0;--opacity:1;--ripple-color:currentColor;--transition:background-color, opacity 100ms linear;display:none;min-width:var(--min-width);min-height:var(--min-height);color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-font-kerning:none;font-kerning:none}ion-ripple-effect{color:var(--ripple-color)}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.show-back-button){display:block}:host(.back-button-disabled){cursor:default;opacity:0.5;pointer-events:none}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-margin-start:var(--margin-start);margin-inline-start:var(--margin-start);-webkit-margin-end:var(--margin-end);margin-inline-end:var(--margin-end);margin-top:var(--margin-top);margin-bottom:var(--margin-bottom);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;opacity:var(--opacity);overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}ion-icon{-webkit-padding-start:var(--icon-padding-start);padding-inline-start:var(--icon-padding-start);-webkit-padding-end:var(--icon-padding-end);padding-inline-end:var(--icon-padding-end);padding-top:var(--icon-padding-top);padding-bottom:var(--icon-padding-bottom);-webkit-margin-start:var(--icon-margin-start);margin-inline-start:var(--icon-margin-start);-webkit-margin-end:var(--icon-margin-end);margin-inline-end:var(--icon-margin-end);margin-top:var(--icon-margin-top);margin-bottom:var(--icon-margin-bottom);display:inherit;font-size:var(--icon-font-size);font-weight:var(--icon-font-weight);pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-color.ion-focused) .button-native{color:var(--ion-color-base)}@media (any-hover: hover){:host(.ion-color:hover) .button-native{color:var(--ion-color-base)}}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--background-hover:transparent;--background-hover-opacity:1;--background-focused:currentColor;--background-focused-opacity:.1;--border-radius:4px;--color:var(--ion-color-primary, #0054e9);--icon-margin-end:1px;--icon-margin-start:-4px;--icon-font-size:1.6em;--min-height:32px;font-size:clamp(17px, 1.0625rem, 21.998px)}.button-native{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:visible;z-index:99}:host(.ion-activated) .button-native{opacity:0.4}@media (any-hover: hover){:host(:hover){opacity:0.6}}',Vz=':host{--background:transparent;--color-focused:currentColor;--color-hover:currentColor;--icon-margin-top:0;--icon-margin-bottom:0;--icon-padding-top:0;--icon-padding-end:0;--icon-padding-bottom:0;--icon-padding-start:0;--margin-top:0;--margin-end:0;--margin-bottom:0;--margin-start:0;--min-width:auto;--min-height:auto;--padding-top:0;--padding-end:0;--padding-bottom:0;--padding-start:0;--opacity:1;--ripple-color:currentColor;--transition:background-color, opacity 100ms linear;display:none;min-width:var(--min-width);min-height:var(--min-height);color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-font-kerning:none;font-kerning:none}ion-ripple-effect{color:var(--ripple-color)}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.show-back-button){display:block}:host(.back-button-disabled){cursor:default;opacity:0.5;pointer-events:none}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-margin-start:var(--margin-start);margin-inline-start:var(--margin-start);-webkit-margin-end:var(--margin-end);margin-inline-end:var(--margin-end);margin-top:var(--margin-top);margin-bottom:var(--margin-bottom);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;opacity:var(--opacity);overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}ion-icon{-webkit-padding-start:var(--icon-padding-start);padding-inline-start:var(--icon-padding-start);-webkit-padding-end:var(--icon-padding-end);padding-inline-end:var(--icon-padding-end);padding-top:var(--icon-padding-top);padding-bottom:var(--icon-padding-bottom);-webkit-margin-start:var(--icon-margin-start);margin-inline-start:var(--icon-margin-start);-webkit-margin-end:var(--icon-margin-end);margin-inline-end:var(--icon-margin-end);margin-top:var(--icon-margin-top);margin-bottom:var(--icon-margin-bottom);display:inherit;font-size:var(--icon-font-size);font-weight:var(--icon-font-weight);pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-color.ion-focused) .button-native{color:var(--ion-color-base)}@media (any-hover: hover){:host(.ion-color:hover) .button-native{color:var(--ion-color-base)}}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--border-radius:4px;--background-focused:currentColor;--background-focused-opacity:.12;--background-hover:currentColor;--background-hover-opacity:0.04;--color:currentColor;--icon-margin-end:0;--icon-margin-start:0;--icon-font-size:1.5rem;--icon-font-weight:normal;--min-height:32px;--min-width:44px;--padding-start:12px;--padding-end:12px;font-size:0.875rem;font-weight:500;text-transform:uppercase}:host(.back-button-has-icon-only){--border-radius:50%;min-width:48px;min-height:48px;aspect-ratio:1/1}.button-native{-webkit-box-shadow:none;box-shadow:none}.button-text{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:0;padding-bottom:0}ion-icon{line-height:0.67;text-align:start}@media (any-hover: hover){:host(.ion-color:hover) .button-native::after{background:var(--ion-color-base)}}:host(.ion-color.ion-focused) .button-native::after{background:var(--ion-color-base)}',zz=Qt(class extends jt{constructor(o){super(),o!==!1&&this.__registerHost(),this.__attachShadow(),this.inheritedAttributes={},this.disabled=!1,this.type="button",this.onClick=async n=>{const s=this.el.closest("ion-nav");return n.preventDefault(),s&&await s.canGoBack()?s.pop({animationBuilder:this.routerAnimation,skipIfBusy:!0}):cm(this.defaultHref,n,"back",this.routerAnimation)}}componentWillLoad(){this.inheritedAttributes=lm(this.el),this.defaultHref===void 0&&(this.defaultHref=Ke.get("backButtonDefaultHref"))}get backButtonIcon(){const o=this.icon;return o!=null?o:rt(this)==="ios"?Ke.get("backButtonIcon",$G):Ke.get("backButtonIcon",mG)}get backButtonText(){const o=rt(this)==="ios"?"Back":null;return this.text!=null?this.text:Ke.get("backButtonText",o)}get hasIconOnly(){return this.backButtonIcon&&!this.backButtonText}get rippleType(){return this.hasIconOnly?"unbounded":"bounded"}render(){const{color:o,defaultHref:n,disabled:s,type:l,hasIconOnly:c,backButtonIcon:d,backButtonText:h,icon:p,inheritedAttributes:g}=this,$=n!==void 0,b=rt(this),T=g["aria-label"]||h||"back";return _e(so,{key:"5466624a10f1ab56f5469e6dc07080303880f2fe",onClick:this.onClick,class:vr(o,{[b]:!0,button:!0,"back-button-disabled":s,"back-button-has-icon-only":c,"in-toolbar":hl("ion-toolbar",this.el),"in-toolbar-color":hl("ion-toolbar[color]",this.el),"ion-activatable":!0,"ion-focusable":!0,"show-back-button":$})},_e("button",{key:"63bc75ef0ad7cc9fb79e58217a3314b20acd73e3",type:l,disabled:s,class:"button-native",part:"native","aria-label":T},_e("span",{key:"5d3eacbd11af2245c6e1151cab446a0d96559ad8",class:"button-inner"},d&&_e("ion-icon",{key:"6439af0ae463764174e7d3207f02267811df666d",part:"icon",icon:d,"aria-hidden":"true",lazy:!1,"flip-rtl":p===void 0}),h&&_e("span",{key:"8ee89fb18dfdb5b75948a8b197ff4cdbc008742f",part:"text","aria-hidden":"true",class:"button-text"},h)),b==="md"&&_e("ion-ripple-effect",{key:"63803a884998bc73bea5afe0b2a0a14e3fa4d6bf",type:this.rippleType})))}get el(){return this}static get style(){return{ios:Gz,md:Vz}}},[289,"ion-back-button",{color:[513],defaultHref:[1025,"default-href"],disabled:[516],icon:[1],text:[1],type:[1],routerAnimation:[16]}]);function Wz(){if(typeof customElements>"u")return;["ion-back-button","ion-icon","ion-ripple-effect"].forEach(o=>{switch(o){case"ion-back-button":customElements.get(o)||customElements.define(o,zz);break;case"ion-icon":customElements.get(o)||MG();break;case"ion-ripple-effect":customElements.get(o)||jy();break}})}const Xz=Wz,Yz=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;z-index:0}",jz=Qt(class extends jt{constructor(o){super(),o!==!1&&this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=ze(this,"ionNavWillLoad",7),this.ionNavWillChange=ze(this,"ionNavWillChange",3),this.ionNavDidChange=ze(this,"ionNavDidChange",3),this.lockController=Ky(),this.gestureOrAnimationInProgress=!1,this.mode=rt(this),this.animated=!0}swipeHandlerChanged(){this.gesture&&this.gesture.enable(this.swipeHandler!==void 0)}async connectedCallback(){const o=()=>{this.gestureOrAnimationInProgress=!0,this.swipeHandler&&this.swipeHandler.onStart()};this.gesture=(await hn(async()=>{const{createSwipeBackGesture:n}=await import("./swipe-back-BnApIME-.js");return{createSwipeBackGesture:n}},[])).createSwipeBackGesture(this.el,()=>!this.gestureOrAnimationInProgress&&!!this.swipeHandler&&this.swipeHandler.canStart(),()=>o(),n=>{var s;return(s=this.ani)===null||s===void 0?void 0:s.progressStep(n)},(n,s,l)=>{if(this.ani){this.ani.onFinish(()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(n)},{oneTimeCallback:!0});let c=n?-.001:.001;n?c+=cc([0,0],[.32,.72],[0,1],[1,1],s)[0]:(this.ani.easing("cubic-bezier(1, 0, 0.68, 0.28)"),c+=cc([0,0],[1,0],[.68,.28],[1,1],s)[0]),this.ani.progressEnd(n?1:0,c,l)}else this.gestureOrAnimationInProgress=!1}),this.swipeHandlerChanged()}componentWillLoad(){this.ionNavWillLoad.emit()}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}async commit(o,n,s){const l=await this.lockController.lock();let c=!1;try{c=await this.transition(o,n,s)}catch(d){wl("[ion-router-outlet] - Exception in commit:",d)}return l(),c}async setRouteId(o,n,s,l){return{changed:await this.setRoot(o,n,{duration:s==="root"?0:void 0,direction:s==="back"?"back":"forward",animationBuilder:l}),element:this.activeEl}}async getRouteId(){const o=this.activeEl;return o?{id:o.tagName,element:o,params:this.activeParams}:void 0}async setRoot(o,n,s){if(this.activeComponent===o&&Tx(n,this.activeParams))return!1;const l=this.activeEl,c=await zd(this.delegate,this.el,o,["ion-page","ion-page-invisible"],n);return this.activeComponent=o,this.activeEl=c,this.activeParams=n,await this.commit(c,l,s),await Yy(this.delegate,l),!0}async transition(o,n,s={}){if(n===o)return!1;this.ionNavWillChange.emit();const{el:l,mode:c}=this,d=this.animated&&Ke.getBoolean("animated",!0),h=s.animationBuilder||this.animation||Ke.get("navAnimation");return await Sx(Object.assign(Object.assign({mode:c,animated:d,enteringEl:o,leavingEl:n,baseEl:l,deepWait:yd(l),progressCallback:s.progressAnimation?p=>{p!==void 0&&!this.gestureOrAnimationInProgress?(this.gestureOrAnimationInProgress=!0,p.onFinish(()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(!1)},{oneTimeCallback:!0}),p.progressEnd(0,0,0)):this.ani=p}:void 0},s),{animationBuilder:h})),this.ionNavDidChange.emit(),!0}render(){return _e("slot",{key:"84b50f1155b0d780dff802ee13223287259fd525"})}get el(){return this}static get watchers(){return{swipeHandler:["swipeHandlerChanged"]}}static get style(){return Yz}},[257,"ion-router-outlet",{mode:[1025],delegate:[16],animated:[4],animation:[16],swipeHandler:[16],commit:[64],setRouteId:[64],getRouteId:[64]},void 0,{swipeHandler:["swipeHandlerChanged"]}]);function Kz(){if(typeof customElements>"u")return;["ion-router-outlet"].forEach(o=>{switch(o){case"ion-router-outlet":customElements.get(o)||customElements.define(o,jz);break}})}const qz=Kz;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Jz=":host{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-right:var(--ion-safe-area-right);padding-bottom:var(--ion-safe-area-bottom, 0);padding-left:var(--ion-safe-area-left);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-color-step-50, var(--ion-background-color-step-50, #f7f7f7)));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:0.55px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.2)))));--color:var(--ion-tab-bar-color, var(--ion-color-step-600, var(--ion-text-color-step-400, #666666)));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #0054e9));height:50px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.tab-bar-translucent){--background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(210%) blur(20px);backdrop-filter:saturate(210%) blur(20px)}:host(.ion-color.tab-bar-translucent){background:rgba(var(--ion-color-base-rgb), 0.8)}:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.6)}}",Zz=":host{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-right:var(--ion-safe-area-right);padding-bottom:var(--ion-safe-area-bottom, 0);padding-left:var(--ion-safe-area-left);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-background-color, #fff));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:1px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.07)))));--color:var(--ion-tab-bar-color, var(--ion-color-step-650, var(--ion-text-color-step-350, #595959)));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #0054e9));height:56px}",Qz=Qt(class extends jt{constructor(o){super(),o!==!1&&this.__registerHost(),this.__attachShadow(),this.ionTabBarChanged=ze(this,"ionTabBarChanged",7),this.ionTabBarLoaded=ze(this,"ionTabBarLoaded",7),this.keyboardCtrl=null,this.keyboardCtrlPromise=null,this.didLoad=!1,this.keyboardVisible=!1,this.translucent=!1}selectedTabChanged(){this.didLoad&&this.selectedTab!==void 0&&this.ionTabBarChanged.emit({tab:this.selectedTab})}componentDidLoad(){this.ionTabBarLoaded.emit(),this.didLoad=!0,this.selectedTab!==void 0&&this.ionTabBarChanged.emit({tab:this.selectedTab})}async connectedCallback(){const o=YV(async(s,l)=>{s===!1&&l!==void 0&&await l,this.keyboardVisible=s});this.keyboardCtrlPromise=o;const n=await o;this.keyboardCtrlPromise===o?(this.keyboardCtrl=n,this.keyboardCtrlPromise=null):n.destroy()}disconnectedCallback(){this.keyboardCtrlPromise&&(this.keyboardCtrlPromise.then(o=>o.destroy()),this.keyboardCtrlPromise=null),this.keyboardCtrl&&(this.keyboardCtrl.destroy(),this.keyboardCtrl=null)}render(){const{color:o,translucent:n,keyboardVisible:s}=this,l=rt(this),c=s&&this.el.getAttribute("slot")!=="top";return _e(so,{key:"9daf4e2acaff6e3ce3878cf9dd5109fb1afbbebe",role:"tablist","aria-hidden":c?"true":null,class:vr(o,{[l]:!0,"tab-bar-translucent":n,"tab-bar-hidden":c})},_e("slot",{key:"1d15aa2da8501e8e7eff11ad4a491478be845c43"}))}get el(){return this}static get watchers(){return{selectedTab:["selectedTabChanged"]}}static get style(){return{ios:Jz,md:Zz}}},[289,"ion-tab-bar",{color:[513],selectedTab:[1,"selected-tab"],translucent:[4],keyboardVisible:[32]},void 0,{selectedTab:["selectedTabChanged"]}]);function eW(){if(typeof customElements>"u")return;["ion-tab-bar"].forEach(o=>{switch(o){case"ion-tab-bar":customElements.get(o)||customElements.define(o,Qz);break}})}const tW=eW;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const oW=':host{--ripple-color:var(--color-selected);--background-focused-opacity:1;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;outline:none;background:var(--background);color:var(--color)}.button-native{border-radius:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;border:0;outline:none;background:transparent;text-decoration:none;cursor:pointer;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-drag:none}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;z-index:1}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){a:hover{color:var(--color-selected)}}:host(.tab-selected){color:var(--color-selected)}:host(.tab-hidden){display:none !important}:host(.tab-disabled){pointer-events:none;opacity:0.4}::slotted(ion-label),::slotted(ion-icon){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex-order:0;order:0}::slotted(ion-icon){-ms-flex-order:-1;order:-1;height:1em}:host(.tab-has-label-only) ::slotted(ion-label){white-space:normal}::slotted(ion-badge){-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1}:host(.tab-layout-icon-start){-ms-flex-direction:row;flex-direction:row}:host(.tab-layout-icon-end){-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.tab-layout-icon-bottom){-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.tab-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.tab-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color)}:host{--padding-top:0;--padding-end:2px;--padding-bottom:0;--padding-start:2px;max-width:240px;font-size:10px}::slotted(ion-badge){-webkit-padding-start:6px;padding-inline-start:6px;-webkit-padding-end:6px;padding-inline-end:6px;padding-top:1px;padding-bottom:1px;top:4px;height:auto;font-size:12px;line-height:16px}::slotted(ion-badge){inset-inline-start:calc(50% + 6px)}::slotted(ion-icon){margin-top:2px;margin-bottom:2px;font-size:24px}::slotted(ion-icon::before){vertical-align:top}::slotted(ion-label){margin-top:0;margin-bottom:1px;min-height:11px;font-weight:500}:host(.tab-has-label-only) ::slotted(ion-label){margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:12px;font-size:14px;line-height:1.1}:host(.tab-layout-icon-end) ::slotted(ion-label),:host(.tab-layout-icon-start) ::slotted(ion-label),:host(.tab-layout-icon-hide) ::slotted(ion-label){margin-top:2px;margin-bottom:2px;font-size:14px;line-height:1.1}:host(.tab-layout-icon-end) ::slotted(ion-icon),:host(.tab-layout-icon-start) ::slotted(ion-icon){min-width:24px;height:26px;margin-top:2px;margin-bottom:1px;font-size:24px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){inset-inline-start:calc(50% + 12px)}:host(.tab-layout-icon-bottom) ::slotted(ion-icon){margin-top:0;margin-bottom:1px}:host(.tab-layout-icon-bottom) ::slotted(ion-label){margin-top:4px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){top:10px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){inset-inline-start:calc(50% + 35px)}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){top:10px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){inset-inline-start:calc(50% + 30px)}:host(.tab-layout-label-hide) ::slotted(ion-badge),:host(.tab-has-icon-only) ::slotted(ion-badge){top:10px}:host(.tab-layout-label-hide) ::slotted(ion-icon){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}:host(.tab-layout-label-hide) ::slotted(ion-icon),:host(.tab-has-icon-only) ::slotted(ion-icon){font-size:30px}',iW=':host{--ripple-color:var(--color-selected);--background-focused-opacity:1;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;outline:none;background:var(--background);color:var(--color)}.button-native{border-radius:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;border:0;outline:none;background:transparent;text-decoration:none;cursor:pointer;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-drag:none}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;z-index:1}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){a:hover{color:var(--color-selected)}}:host(.tab-selected){color:var(--color-selected)}:host(.tab-hidden){display:none !important}:host(.tab-disabled){pointer-events:none;opacity:0.4}::slotted(ion-label),::slotted(ion-icon){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex-order:0;order:0}::slotted(ion-icon){-ms-flex-order:-1;order:-1;height:1em}:host(.tab-has-label-only) ::slotted(ion-label){white-space:normal}::slotted(ion-badge){-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1}:host(.tab-layout-icon-start){-ms-flex-direction:row;flex-direction:row}:host(.tab-layout-icon-end){-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.tab-layout-icon-bottom){-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.tab-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.tab-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color)}:host{--padding-top:0;--padding-end:12px;--padding-bottom:0;--padding-start:12px;max-width:168px;font-size:12px;font-weight:normal;letter-spacing:0.03em}::slotted(ion-label){margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;text-transform:none}::slotted(ion-icon){margin-left:0;margin-right:0;margin-top:16px;margin-bottom:16px;-webkit-transform-origin:center center;transform-origin:center center;font-size:22px}:host-context([dir=rtl]) ::slotted(ion-icon){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}[dir=rtl] ::slotted(ion-icon){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}@supports selector(:dir(rtl)){::slotted(ion-icon):dir(rtl){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}}::slotted(ion-badge){border-radius:8px;-webkit-padding-start:2px;padding-inline-start:2px;-webkit-padding-end:2px;padding-inline-end:2px;padding-top:3px;padding-bottom:2px;top:8px;min-width:12px;font-size:8px;font-weight:normal}::slotted(ion-badge){inset-inline-start:calc(50% + 6px)}::slotted(ion-badge:empty){display:block;min-width:8px;height:8px}:host(.tab-layout-icon-top) ::slotted(ion-icon){margin-top:6px;margin-bottom:2px}:host(.tab-layout-icon-top) ::slotted(ion-label){margin-top:0;margin-bottom:6px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){top:8px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){inset-inline-start:70%}:host(.tab-layout-icon-bottom) ::slotted(ion-icon){margin-top:0;margin-bottom:6px}:host(.tab-layout-icon-bottom) ::slotted(ion-label){margin-top:6px;margin-bottom:0}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){top:16px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){inset-inline-start:80%}:host(.tab-layout-icon-start) ::slotted(ion-icon){-webkit-margin-end:6px;margin-inline-end:6px}:host(.tab-layout-icon-end) ::slotted(ion-icon){-webkit-margin-start:6px;margin-inline-start:6px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){top:16px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){inset-inline-start:70%}:host(.tab-layout-icon-hide) ::slotted(ion-label),:host(.tab-has-label-only) ::slotted(ion-label){margin-top:0;margin-bottom:0}:host(.tab-layout-label-hide) ::slotted(ion-badge),:host(.tab-has-icon-only) ::slotted(ion-badge){top:16px}:host(.tab-layout-label-hide) ::slotted(ion-icon),:host(.tab-has-icon-only) ::slotted(ion-icon){margin-top:0;margin-bottom:0;font-size:24px}',nW=Qt(class extends jt{constructor(o){super(),o!==!1&&this.__registerHost(),this.__attachShadow(),this.ionTabButtonClick=ze(this,"ionTabButtonClick",7),this.inheritedAttributes={},this.disabled=!1,this.selected=!1,this.onKeyUp=n=>{(n.key==="Enter"||n.key===" ")&&this.selectTab(n)},this.onClick=n=>{this.selectTab(n)}}onTabBarChanged(o){const n=o.target,s=this.el.parentElement;(o.composedPath().includes(s)||n!=null&&n.contains(this.el))&&(this.selected=this.tab===o.detail.tab)}componentWillLoad(){this.inheritedAttributes=Object.assign({},rm(this.el,["aria-label"])),this.layout===void 0&&(this.layout=Ke.get("tabButtonLayout","icon-top"))}selectTab(o){this.tab!==void 0&&(this.disabled||this.ionTabButtonClick.emit({tab:this.tab,href:this.href,selected:this.selected}),o.preventDefault())}get hasLabel(){return!!this.el.querySelector("ion-label")}get hasIcon(){return!!this.el.querySelector("ion-icon")}render(){const{disabled:o,hasIcon:n,hasLabel:s,href:l,rel:c,target:d,layout:h,selected:p,tab:g,inheritedAttributes:$}=this,b=rt(this),T={download:this.download,href:l,rel:c,target:d};return _e(so,{key:"ce9d29ced0c781d6b2fa62cd5feb801c11fc42e8",onClick:this.onClick,onKeyup:this.onKeyUp,id:g!==void 0?"tab-button-".concat(g):null,class:{[b]:!0,"tab-selected":p,"tab-disabled":o,"tab-has-label":s,"tab-has-icon":n,"tab-has-label-only":s&&!n,"tab-has-icon-only":n&&!s,["tab-layout-".concat(h)]:!0,"ion-activatable":!0,"ion-selectable":!0,"ion-focusable":!0}},_e("a",Object.assign({key:"01cb0ed2e77c5c1a8abd48da1bb07ac1b305d0b6"},T,{class:"button-native",part:"native",role:"tab","aria-selected":p?"true":null,"aria-disabled":o?"true":null,tabindex:o?"-1":void 0},$),_e("span",{key:"d0240c05f42217cfb186b86ff8a0c9cd70b9c8df",class:"button-inner"},_e("slot",{key:"0a20b84925037dbaa8bb4a495b813d3f7c2e58ac"})),b==="md"&&_e("ion-ripple-effect",{key:"4c92c27178cdac89d69cffef8d2c39c3644914e8",type:"unbounded"})))}get el(){return this}static get style(){return{ios:oW,md:iW}}},[289,"ion-tab-button",{disabled:[4],download:[1],href:[1],rel:[1],layout:[1025],selected:[1028],tab:[1],target:[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]]);function sW(){if(typeof customElements>"u")return;["ion-tab-button","ion-ripple-effect"].forEach(o=>{switch(o){case"ion-tab-button":customElements.get(o)||customElements.define(o,nW);break;case"ion-ripple-effect":customElements.get(o)||jy();break}})}const rW=sW;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const lW=":host{left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:100%;height:100%;contain:layout size style;z-index:0}.tabs-inner{position:relative;-ms-flex:1;flex:1;contain:layout size style}",aW=Qt(class extends jt{constructor(o){super(),o!==!1&&this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=ze(this,"ionNavWillLoad",7),this.ionTabsWillChange=ze(this,"ionTabsWillChange",3),this.ionTabsDidChange=ze(this,"ionTabsDidChange",3),this.transitioning=!1,this.useRouter=!1,this.onTabClicked=n=>{const{href:s,tab:l}=n.detail;if(this.useRouter&&s!==void 0){const c=document.querySelector("ion-router");c&&c.push(s)}else this.select(l)}}async componentWillLoad(){if(this.useRouter||(this.useRouter=(!!this.el.querySelector("ion-router-outlet")||!!document.querySelector("ion-router"))&&!this.el.closest("[no-router]")),!this.useRouter){const o=this.tabs;o.length>0&&await this.select(o[0])}this.ionNavWillLoad.emit()}componentDidLoad(){this.updateTabBar()}componentDidUpdate(){this.updateTabBar()}updateTabBar(){const o=this.el.querySelector("ion-tab-bar");if(!o)return;const n=this.selectedTab?this.selectedTab.tab:void 0;n!==void 0&&o.selectedTab!==n&&(o.selectedTab=n)}async select(o){const n=jT(this.tabs,o);return this.shouldSwitch(n)?(await this.setActive(n),await this.notifyRouter(),this.tabSwitch(),!0):!1}async getTab(o){return jT(this.tabs,o)}getSelected(){return Promise.resolve(this.selectedTab?this.selectedTab.tab:void 0)}async setRouteId(o){const n=jT(this.tabs,o);return this.shouldSwitch(n)?(await this.setActive(n),{changed:!0,element:this.selectedTab,markVisible:()=>this.tabSwitch()}):{changed:!1,element:this.selectedTab}}async getRouteId(){var o;const n=(o=this.selectedTab)===null||o===void 0?void 0:o.tab;return n!==void 0?{id:n,element:this.selectedTab}:void 0}setActive(o){return this.transitioning?Promise.reject("transitioning already happening"):(this.transitioning=!0,this.leavingTab=this.selectedTab,this.selectedTab=o,this.ionTabsWillChange.emit({tab:o.tab}),o.active=!0,this.updateTabBar(),Promise.resolve())}tabSwitch(){const o=this.selectedTab,n=this.leavingTab;this.leavingTab=void 0,this.transitioning=!1,o&&n!==o&&(n&&(n.active=!1),this.ionTabsDidChange.emit({tab:o.tab}))}notifyRouter(){if(this.useRouter){const o=document.querySelector("ion-router");if(o)return o.navChanged("forward")}return Promise.resolve(!1)}shouldSwitch(o){const n=this.selectedTab;return o!==void 0&&o!==n&&!this.transitioning}get tabs(){return Array.from(this.el.querySelectorAll("ion-tab"))}render(){return _e(so,{key:"7b4b302f2942d8d131f6fc24e817989a8be08867",onIonTabButtonClick:this.onTabClicked},_e("slot",{key:"2c51cf14c0f17a8ddf2d879858c984cdf8fd3147",name:"top"}),_e("div",{key:"7e9d6055092d41bd9bc80ae15965f77e216feb84",class:"tabs-inner"},_e("slot",{key:"c308a787e37ff7f6653531d70deca597a7602d26"})),_e("slot",{key:"d5f5e693710c853570811602f859cf3e88272684",name:"bottom"}))}get el(){return this}static get style(){return lW}},[257,"ion-tabs",{useRouter:[1028,"use-router"],selectedTab:[32],select:[64],getTab:[64],getSelected:[64],setRouteId:[64],getRouteId:[64]}]),jT=(t,o)=>{const n=typeof o=="string"?t.find(s=>s.tab===o):o;return n||wl('[ion-tabs] - Tab with id: "'.concat(n,'" does not exist')),n};function cW(){if(typeof customElements>"u")return;["ion-tabs"].forEach(o=>{switch(o){case"ion-tabs":customElements.get(o)||customElements.define(o,aW);break}})}const uW=cW,dW="ionicons",um={hydratedSelectorName:"hydrated",lazyLoad:!1,updatable:!0};var hW=Object.defineProperty,pW=(t,o)=>{for(var n in o)hW(t,n,{get:o[n],enumerable:!0})},Tl=t=>{if(t.__stencil__getHostRef)return t.__stencil__getHostRef()},fW=(t,o)=>{const n={$flags$:0,$hostElement$:t,$cmpMeta$:o,$instanceValues$:new Map};n.$onReadyPromise$=new Promise(l=>n.$onReadyResolve$=l),t["s-p"]=[],t["s-rc"]=[];const s=n;return t.__stencil__getHostRef=()=>s,s},rk=(t,o)=>o in t,dm=(t,o)=>(0,console.error)(t,o),bg=new Map,gW="slot-fb{display:contents}slot-fb[hidden]{display:none}",lk="http://www.w3.org/1999/xlink",pn=typeof window<"u"?window:{},mW=pn.HTMLElement||class{},br={$flags$:0,$resourcesUrl$:"",jmp:t=>t(),raf:t=>requestAnimationFrame(t),ael:(t,o,n,s)=>t.addEventListener(o,n,s),rel:(t,o,n,s)=>t.removeEventListener(o,n,s),ce:(t,o)=>new CustomEvent(t,o)},$W=t=>Promise.resolve(t),ED=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch(t){}return!1})(),vv=!1,ak=[],vD=[],_W=(t,o)=>n=>{t.push(n),vv||(vv=!0,br.raf(yD))},ck=t=>{for(let o=0;o<t.length;o++)try{t[o](performance.now())}catch(n){dm(n)}t.length=0},yD=()=>{ck(ak),ck(vD),(vv=ak.length>0)&&br.raf(yD)},tS=t=>$W().then(t),bW=_W(vD),TW=t=>{const o=new URL(t,br.$resourcesUrl$);return o.origin!==pn.location.origin?o.href:o.pathname},oS=t=>(t=typeof t,t==="object"||t==="function");function EW(t){var o,n,s;return(s=(n=(o=t.head)==null?void 0:o.querySelector('meta[name="csp-nonce"]'))==null?void 0:n.getAttribute("content"))!=null?s:void 0}var vW=t=>t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),yW={};pW(yW,{err:()=>SD,map:()=>SW,ok:()=>yv,unwrap:()=>IW,unwrapErr:()=>OW});var yv=t=>({isOk:!0,isErr:!1,value:t}),SD=t=>({isOk:!1,isErr:!0,value:t});function SW(t,o){if(t.isOk){const n=o(t.value);return n instanceof Promise?n.then(s=>yv(s)):yv(n)}if(t.isErr){const n=t.value;return SD(n)}throw"should never get here"}var IW=t=>{if(t.isOk)return t.value;throw t.value},OW=t=>{if(t.isErr)return t.value;throw t.value};var cf;function RW(t){var o;const n=this.attachShadow({mode:"open"});cf===void 0&&(cf=(o=void 0)!=null?o:null),cf&&n.adoptedStyleSheets.push(cf)}var El=(t,o="")=>()=>{},Ua=new WeakMap,CW=(t,o,n)=>{let s=bg.get(t);ED&&n?(s=s||new CSSStyleSheet,typeof s=="string"?s=o:s.replaceSync(o)):s=o,bg.set(t,s)},wW=(t,o,n)=>{var s;const l=ID(o),c=bg.get(l);if(!pn.document)return l;if(t=t.nodeType===11?t:pn.document,c)if(typeof c=="string"){t=t.head||t;let d=Ua.get(t),h;if(d||Ua.set(t,d=new Set),!d.has(l)){{h=pn.document.createElement("style"),h.innerHTML=c;const p=(s=br.$nonce$)!=null?s:EW(pn.document);if(p!=null&&h.setAttribute("nonce",p),!(o.$flags$&1))if(t.nodeName==="HEAD"){const g=t.querySelectorAll("link[rel=preconnect]"),$=g.length>0?g[g.length-1].nextSibling:t.querySelector("style");t.insertBefore(h,($==null?void 0:$.parentNode)===t?$:null)}else if("host"in t)if(ED){const g=new CSSStyleSheet;g.replaceSync(c),t.adoptedStyleSheets.unshift(g)}else{const g=t.querySelector("style");g?g.innerHTML=c+g.innerHTML:t.prepend(h)}else t.append(h);o.$flags$&1&&t.insertBefore(h,null)}o.$flags$&4&&(h.innerHTML+=gW),d&&d.add(l)}}else t.adoptedStyleSheets.includes(c)||t.adoptedStyleSheets.push(c);return l},AW=t=>{const o=t.$cmpMeta$,n=t.$hostElement$,s=o.$flags$,l=El("attachStyles",o.$tagName$),c=wW(n.shadowRoot?n.shadowRoot:n.getRootNode(),o);s&10&&(n["s-sc"]=c,n.classList.add(c+"-h")),l()},ID=(t,o)=>"sc-"+t.$tagName$,Cf=(t,o,...n)=>{let s=null,l=null,c=!1,d=!1;const h=[],p=$=>{for(let b=0;b<$.length;b++)s=$[b],Array.isArray(s)?p(s):s!=null&&typeof s!="boolean"&&((c=typeof t!="function"&&!oS(s))&&(s=String(s)),c&&d?h[h.length-1].$text$+=s:h.push(c?Sv(null,s):s),d=c)};if(p(n),o){o.key&&(l=o.key);{const $=o.className||o.class;$&&(o.class=typeof $!="object"?$:Object.keys($).filter(b=>$[b]).join(" "))}}const g=Sv(t,null);return g.$attrs$=o,h.length>0&&(g.$children$=h),g.$key$=l,g},Sv=(t,o)=>{const n={$flags$:0,$tag$:t,$text$:o,$elm$:null,$children$:null};return n.$attrs$=null,n.$key$=null,n},OD={},LW=t=>t&&t.$tag$===OD,iS=t=>{const o=vW(t);return new RegExp("(^|[^@]|@(?!supports\\s+selector\\s*\\([^{]*?".concat(o,"))(").concat(o,"\\b)"),"g")};iS("::slotted");iS(":host");iS(":host-context");var RD=(t,o,n)=>t!=null&&!oS(t)?o&4?t==="false"?!1:t===""||!!t:o&1?String(t):t:t,kW=(t,o,n)=>{const s=br.ce(o,n);return t.dispatchEvent(s),s},uk=(t,o,n,s,l,c,d)=>{if(n===s)return;let h=rk(t,o),p=o.toLowerCase();if(o==="class"){const g=t.classList,$=dk(n);let b=dk(s);g.remove(...$.filter(T=>T&&!b.includes(T))),g.add(...b.filter(T=>T&&!$.includes(T)))}else if(o==="style"){for(const g in n)(!s||s[g]==null)&&(g.includes("-")?t.style.removeProperty(g):t.style[g]="");for(const g in s)(!n||s[g]!==n[g])&&(g.includes("-")?t.style.setProperty(g,s[g]):t.style[g]=s[g])}else if(o!=="key")if(o==="ref")s&&s(t);else if(!t.__lookupSetter__(o)&&o[0]==="o"&&o[1]==="n"){if(o[2]==="-"?o=o.slice(3):rk(pn,p)?o=p.slice(2):o=p[2]+o.slice(3),n||s){const g=o.endsWith(CD);o=o.replace(MW,""),n&&br.rel(t,o,n,g),s&&br.ael(t,o,s,g)}}else{const g=oS(s);if(h||g&&s!==null)try{if(t.tagName.includes("-"))t[o]!==s&&(t[o]=s);else{const b=s==null?"":s;o==="list"?h=!1:(n==null||t[o]!=b)&&(typeof t.__lookupSetter__(o)=="function"?t[o]=b:t.setAttribute(o,b))}}catch(b){}let $=!1;p!==(p=p.replace(/^xlink\:?/,""))&&(o=p,$=!0),s==null||s===!1?(s!==!1||t.getAttribute(o)==="")&&($?t.removeAttributeNS(lk,o):t.removeAttribute(o)):(!h||c&4||l)&&!g&&t.nodeType===1&&(s=s===!0?"":s,$?t.setAttributeNS(lk,o,s):t.setAttribute(o,s))}},NW=/\s/,dk=t=>(typeof t=="object"&&t&&"baseVal"in t&&(t=t.baseVal),!t||typeof t!="string"?[]:t.split(NW)),CD="Capture",MW=new RegExp(CD+"$"),wD=(t,o,n,s)=>{const l=o.$elm$.nodeType===11&&o.$elm$.host?o.$elm$.host:o.$elm$,c=t&&t.$attrs$||{},d=o.$attrs$||{};for(const h of hk(Object.keys(c)))h in d||uk(l,h,c[h],void 0,n,o.$flags$);for(const h of hk(Object.keys(d)))uk(l,h,c[h],d[h],n,o.$flags$)};function hk(t){return t.includes("ref")?[...t.filter(o=>o!=="ref"),"ref"]:t}var nS,AD=!1,Tg=(t,o,n)=>{const s=o.$children$[n];let l=0,c,d;if(s.$text$!==null)c=s.$elm$=pn.document.createTextNode(s.$text$);else{if(!pn.document)throw new Error("You are trying to render a Stencil component in an environment that doesn't support the DOM. Make sure to populate the [`window`](https://developer.mozilla.org/en-US/docs/Web/API/Window/window) object before rendering a component.");if(c=s.$elm$=pn.document.createElement(s.$tag$),wD(null,s,AD),s.$children$)for(l=0;l<s.$children$.length;++l)d=Tg(t,s,l),d&&c.appendChild(d)}return c["s-hn"]=nS,c},LD=(t,o,n,s,l,c)=>{let d=t,h;for(d.shadowRoot&&d.tagName===nS&&(d=d.shadowRoot);l<=c;++l)s[l]&&(h=Tg(null,n,l),h&&(s[l].$elm$=h,wf(d,h,o)))},kD=(t,o,n)=>{for(let s=o;s<=n;++s){const l=t[s];if(l){const c=l.$elm$;ND(l),c&&c.remove()}}},xW=(t,o,n,s,l=!1)=>{let c=0,d=0,h=0,p=0,g=o.length-1,$=o[0],b=o[g],T=s.length-1,v=s[0],I=s[T],k,G;for(;c<=g&&d<=T;)if($==null)$=o[++c];else if(b==null)b=o[--g];else if(v==null)v=s[++d];else if(I==null)I=s[--T];else if(uf($,v,l))Oa($,v,l),$=o[++c],v=s[++d];else if(uf(b,I,l))Oa(b,I,l),b=o[--g],I=s[--T];else if(uf($,I,l))Oa($,I,l),wf(t,$.$elm$,b.$elm$.nextSibling),$=o[++c],I=s[--T];else if(uf(b,v,l))Oa(b,v,l),wf(t,b.$elm$,$.$elm$),b=o[--g],v=s[++d];else{for(h=-1,p=c;p<=g;++p)if(o[p]&&o[p].$key$!==null&&o[p].$key$===v.$key$){h=p;break}h>=0?(G=o[h],G.$tag$!==v.$tag$?k=Tg(o&&o[d],n,h):(Oa(G,v,l),o[h]=void 0,k=G.$elm$),v=s[++d]):(k=Tg(o&&o[d],n,d),v=s[++d]),k&&wf($.$elm$.parentNode,k,$.$elm$)}c>g?LD(t,s[T+1]==null?null:s[T+1].$elm$,n,s,d,T):d>T&&kD(o,c,g)},uf=(t,o,n=!1)=>t.$tag$===o.$tag$?n?(n&&!t.$key$&&o.$key$&&(t.$key$=o.$key$),!0):t.$key$===o.$key$:!1,Oa=(t,o,n=!1)=>{const s=o.$elm$=t.$elm$,l=t.$children$,c=o.$children$,d=o.$text$;d===null?(wD(t,o,AD),l!==null&&c!==null?xW(s,l,o,c,n):c!==null?(t.$text$!==null&&(s.textContent=""),LD(s,null,o,c,0,c.length-1)):!n&&um.updatable&&l!==null&&kD(l,0,l.length-1)):t.$text$!==d&&(s.data=d)},ND=t=>{t.$attrs$&&t.$attrs$.ref&&t.$attrs$.ref(null),t.$children$&&t.$children$.map(ND)},wf=(t,o,n)=>t==null?void 0:t.insertBefore(o,n),DW=(t,o,n=!1)=>{const s=t.$hostElement$,l=t.$cmpMeta$,c=t.$vnode$||Sv(null,null),h=LW(o)?o:Cf(null,null,o);if(nS=s.tagName,l.$attrsToReflect$&&(h.$attrs$=h.$attrs$||{},l.$attrsToReflect$.map(([p,g])=>h.$attrs$[g]=s[p])),n&&h.$attrs$)for(const p of Object.keys(h.$attrs$))s.hasAttribute(p)&&!["key","ref","style","class"].includes(p)&&(h.$attrs$[p]=s[p]);h.$tag$=null,h.$flags$|=4,t.$vnode$=h,h.$elm$=c.$elm$=s.shadowRoot||s,Oa(c,h,n)},MD=(t,o)=>{if(o&&!t.$onRenderResolve$&&o["s-p"]){const n=o["s-p"].push(new Promise(s=>t.$onRenderResolve$=()=>{o["s-p"].splice(n-1,1),s()}))}},sS=(t,o)=>{if(t.$flags$|=16,t.$flags$&4){t.$flags$|=512;return}return MD(t,t.$ancestorComponent$),bW(()=>PW(t,o))},PW=(t,o)=>{const n=t.$hostElement$,s=El("scheduleUpdate",t.$cmpMeta$.$tagName$),l=n;if(!l)throw new Error("Can't render component <".concat(n.tagName.toLowerCase()," /> with invalid Stencil runtime! Make sure this imported component is compiled with a `externalRuntime: true` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime"));let c;return o?c=qa(l,"componentWillLoad",void 0,n):c=qa(l,"componentWillUpdate",void 0,n),c=pk(c,()=>qa(l,"componentWillRender",void 0,n)),s(),pk(c,()=>UW(t,l,o))},pk=(t,o)=>BW(t)?t.then(o).catch(n=>{console.error(n),o()}):o(),BW=t=>t instanceof Promise||t&&t.then&&typeof t.then=="function",UW=async(t,o,n)=>{var s;const l=t.$hostElement$,c=El("update",t.$cmpMeta$.$tagName$),d=l["s-rc"];n&&AW(t);const h=El("render",t.$cmpMeta$.$tagName$);HW(t,o,l,n),d&&(d.map(p=>p()),l["s-rc"]=void 0),h(),c();{const p=(s=l["s-p"])!=null?s:[],g=()=>FW(t);p.length===0?g():(Promise.all(p).then(g),t.$flags$|=4,p.length=0)}},HW=(t,o,n,s)=>{try{o=o.render(),t.$flags$&=-17,t.$flags$|=2,DW(t,o,s)}catch(l){dm(l,t.$hostElement$)}return null},FW=t=>{const o=t.$cmpMeta$.$tagName$,n=t.$hostElement$,s=El("postUpdate",o),l=n,c=t.$ancestorComponent$;qa(l,"componentDidRender",void 0,n),t.$flags$&64?(qa(l,"componentDidUpdate",void 0,n),s()):(t.$flags$|=64,VW(n),qa(l,"componentDidLoad",void 0,n),s(),t.$onReadyResolve$(n),c||GW()),t.$onRenderResolve$&&(t.$onRenderResolve$(),t.$onRenderResolve$=void 0),t.$flags$&512&&tS(()=>sS(t,!1)),t.$flags$&=-517},GW=t=>{tS(()=>kW(pn,"appload",{detail:{namespace:dW}}))},qa=(t,o,n,s)=>{if(t&&t[o])try{return t[o](n)}catch(l){dm(l,s)}},VW=t=>{var o;return t.classList.add((o=um.hydratedSelectorName)!=null?o:"hydrated")},zW=(t,o)=>Tl(t).$instanceValues$.get(o),fk=(t,o,n,s)=>{const l=Tl(t),c=t,d=l.$instanceValues$.get(o),h=l.$flags$,p=c;n=RD(n,s.$members$[o][0]);const g=Number.isNaN(d)&&Number.isNaN(n);if(n!==d&&!g){l.$instanceValues$.set(o,n);{if(s.$watchers$&&h&128){const b=s.$watchers$[o];b&&b.map(T=>{try{p[T](n,d,o)}catch(v){dm(v,c)}})}if((h&18)===2){if(p.componentShouldUpdate&&p.componentShouldUpdate(n,d,o)===!1)return;sS(l,!1)}}}},WW=(t,o,n)=>{var s,l;const c=t.prototype;if(o.$members$||o.$watchers$||t.watchers){t.watchers&&!o.$watchers$&&(o.$watchers$=t.watchers);const d=Object.entries((s=o.$members$)!=null?s:{});d.map(([h,[p]])=>{if(p&31||p&32){const{get:g,set:$}=Object.getOwnPropertyDescriptor(c,h)||{};g&&(o.$members$[h][0]|=2048),$&&(o.$members$[h][0]|=4096),Object.defineProperty(c,h,{get(){return g?g.apply(this):zW(this,h)},configurable:!0,enumerable:!0}),Object.defineProperty(c,h,{set(b){const T=Tl(this);if($){const v=p&32?this[h]:T.$hostElement$[h];typeof v>"u"&&T.$instanceValues$.get(h)?b=T.$instanceValues$.get(h):!T.$instanceValues$.get(h)&&v&&T.$instanceValues$.set(h,v),$.apply(this,[RD(b,p)]),b=p&32?this[h]:T.$hostElement$[h],fk(this,h,b,o);return}{fk(this,h,b,o);return}}})}});{const h=new Map;c.attributeChangedCallback=function(p,g,$){br.jmp(()=>{var b;const T=h.get(p);if(!(this.hasOwnProperty(T)&&um.lazyLoad)){if(c.hasOwnProperty(T)&&typeof this[T]=="number"&&this[T]==$)return;if(T==null){const I=Tl(this),k=I==null?void 0:I.$flags$;if(k&&!(k&8)&&k&128&&$!==g){const R=this,S=(b=o.$watchers$)==null?void 0:b[p];S==null||S.forEach(w=>{R[w]!=null&&R[w].call(R,$,g,p)})}return}}const v=Object.getOwnPropertyDescriptor(c,T);$=$===null&&typeof this[T]=="boolean"?!1:$,$!==this[T]&&(!v.get||v.set)&&(this[T]=$)})},t.observedAttributes=Array.from(new Set([...Object.keys((l=o.$watchers$)!=null?l:{}),...d.filter(([p,g])=>g[0]&15).map(([p,g])=>{var $;const b=g[1]||p;return h.set(b,p),g[0]&512&&(($=o.$attrsToReflect$)==null||$.push([p,b])),b})]))}}return t},gk=async(t,o,n,s)=>{let l;if(!(o.$flags$&32)){o.$flags$|=32;{l=t.constructor;const h=t.localName;customElements.whenDefined(h).then(()=>o.$flags$|=128)}if(l&&l.style){let h;typeof l.style=="string"&&(h=l.style);const p=ID(n);if(!bg.has(p)){const g=El("registerStyles",n.$tagName$);CW(p,h,!!(n.$flags$&1)),g()}}}const c=o.$ancestorComponent$,d=()=>sS(o,!0);c&&c["s-rc"]?c["s-rc"].push(d):d()},XW=(t,o)=>{},YW=t=>{{const o=Tl(t),n=o.$cmpMeta$,s=El("connectedCallback",n.$tagName$);if(o.$flags$&1)o!=null&&o.$lazyInstance$||o!=null&&o.$onReadyPromise$&&o.$onReadyPromise$.then(()=>XW());else{o.$flags$|=1;{let l=t;for(;l=l.parentNode||l.host;)if(l["s-p"]){MD(o,o.$ancestorComponent$=l);break}}n.$members$&&Object.entries(n.$members$).map(([l,[c]])=>{if(c&31&&t.hasOwnProperty(l)){const d=t[l];delete t[l],t[l]=d}}),um.initializeNextTick?tS(()=>gk(t,o,n)):gk(t,o,n)}s()}},jW=async t=>{Tl(t),Ua.has(t)&&Ua.delete(t),t.shadowRoot&&Ua.has(t.shadowRoot)&&Ua.delete(t.shadowRoot)},KW=(t,o)=>{const n={$flags$:o[0],$tagName$:o[1]};n.$members$=o[2],n.$watchers$=t.$watchers$,n.$attrsToReflect$=[];const s=t.prototype.connectedCallback,l=t.prototype.disconnectedCallback;return Object.assign(t.prototype,{__hasHostListenerAttached:!1,__registerHost(){fW(this,n)},connectedCallback(){this.__hasHostListenerAttached||(Tl(this),this.__hasHostListenerAttached=!0),YW(this),s&&s.call(this)},disconnectedCallback(){jW(this),l&&l.call(this)},__attachShadow(){if(!this.shadowRoot)RW.call(this,n);else if(this.shadowRoot.mode!=="open")throw new Error("Unable to re-use existing shadow root for ".concat(n.$tagName$,"! Mode is set to ").concat(this.shadowRoot.mode," but Stencil only supports open shadow roots."))}}),t.is=n.$tagName$,WW(t,n)};let KT;const qW=()=>{if(typeof window>"u")return new Map;if(!KT){const t=window;t.Ionicons=t.Ionicons||{},KT=t.Ionicons.map=t.Ionicons.map||new Map}return KT},JW=t=>{let o=qT(t.src);return o||(o=xD(t.name,t.icon,t.mode,t.ios,t.md),o?ZW(o,t):t.icon&&(o=qT(t.icon),o||(o=qT(t.icon[t.mode]),o))?o:null)},ZW=(t,o)=>{const n=qW().get(t);if(n)return n;try{return TW("svg/".concat(t,".svg"))}catch(s){console.log("e",s),console.warn('[Ionicons Warning]: Could not load icon with name "'.concat(t,'". Ensure that the icon is registered using addIcons or that the icon SVG data is passed directly to the icon component.'),o)}},xD=(t,o,n,s,l)=>(n=(n&&df(n))==="ios"?"ios":"md",s&&n==="ios"?t=df(s):l&&n==="md"?t=df(l):(!t&&o&&!DD(o)&&(t=o),Eg(t)&&(t=df(t))),!Eg(t)||t.trim()===""||t.replace(/[a-z]|-|\d/gi,"")!==""?null:t),qT=t=>Eg(t)&&(t=t.trim(),DD(t))?t:null,DD=t=>t.length>0&&/(\/|\.)/.test(t),Eg=t=>typeof t=="string",df=t=>t.toLowerCase(),QW=(t,o=[])=>{const n={};return o.forEach(s=>{t.hasAttribute(s)&&(t.getAttribute(s)!==null&&(n[s]=t.getAttribute(s)),t.removeAttribute(s))}),n},e4=t=>t&&t.dir!==""?t.dir.toLowerCase()==="rtl":(document==null?void 0:document.dir.toLowerCase())==="rtl",t4=t=>{const o=document.createElement("div");o.innerHTML=t;for(let s=o.childNodes.length-1;s>=0;s--)o.childNodes[s].nodeName.toLowerCase()!=="svg"&&o.removeChild(o.childNodes[s]);const n=o.firstElementChild;if(n&&n.nodeName.toLowerCase()==="svg"){const s=n.getAttribute("class")||"";if(n.setAttribute("class",(s+" s-ion-icon").trim()),PD(n))return o.innerHTML}return""},PD=t=>{if(t.nodeType===1){if(t.nodeName.toLowerCase()==="script")return!1;for(let o=0;o<t.attributes.length;o++){const n=t.attributes[o].name;if(Eg(n)&&n.toLowerCase().indexOf("on")===0)return!1}for(let o=0;o<t.childNodes.length;o++)if(!PD(t.childNodes[o]))return!1}return!0},o4=t=>t.startsWith("data:image/svg+xml"),i4=t=>t.indexOf(";utf8,")!==-1,Ja=new Map,BD=new Map;let JT;function Iv(t){const o="";return Ja.set(t,o),o}const n4=(t,o)=>{const n=BD.get(t);return n||(typeof fetch<"u"&&typeof document<"u"?o4(t)&&i4(t)?Promise.resolve(s4(t)):r4(t,o):Promise.resolve(Iv(t)))};function s4(t){JT||(JT=new DOMParser);const n=JT.parseFromString(t,"text/html").querySelector("svg");if(n)return Ja.set(t,n.outerHTML),n.outerHTML;throw new Error("Could not parse svg from ".concat(t))}function r4(t,o){const n=fetch(t).then(s=>s.text().then(l=>{l&&o!==!1&&(l=t4(l));const c=l||"";return Ja.set(t,c),c}).catch(()=>Iv(t))).catch(()=>Iv(t));return BD.set(t,n),n}const l4=":host{display:inline-block;width:1em;height:1em;contain:strict;fill:currentColor;box-sizing:content-box !important}:host .ionicon{stroke:currentColor}.ionicon-fill-none{fill:none}.ionicon-stroke-width{stroke-width:var(--ionicon-stroke-width, 32px)}.icon-inner,.ionicon,svg{display:block;height:100%;width:100%}@supports (background: -webkit-named-image(i)){:host(.icon-rtl) .icon-inner{transform:scaleX(-1)}}@supports not selector(:dir(rtl)) and selector(:host-context([dir='rtl'])){:host(.icon-rtl) .icon-inner{transform:scaleX(-1)}}:host(.flip-rtl):host-context([dir='rtl']) .icon-inner{transform:scaleX(-1)}@supports selector(:dir(rtl)){:host(.flip-rtl:dir(rtl)) .icon-inner{transform:scaleX(-1)}:host(.flip-rtl:dir(ltr)) .icon-inner{transform:scaleX(1)}}:host(.icon-small){font-size:1.125rem !important}:host(.icon-large){font-size:2rem !important}:host(.ion-color){color:var(--ion-color-base) !important}:host(.ion-color-primary){--ion-color-base:var(--ion-color-primary, #3880ff)}:host(.ion-color-secondary){--ion-color-base:var(--ion-color-secondary, #0cd1e8)}:host(.ion-color-tertiary){--ion-color-base:var(--ion-color-tertiary, #f4a942)}:host(.ion-color-success){--ion-color-base:var(--ion-color-success, #10dc60)}:host(.ion-color-warning){--ion-color-base:var(--ion-color-warning, #ffce00)}:host(.ion-color-danger){--ion-color-base:var(--ion-color-danger, #f14141)}:host(.ion-color-light){--ion-color-base:var(--ion-color-light, #f4f5f8)}:host(.ion-color-medium){--ion-color-base:var(--ion-color-medium, #989aa2)}:host(.ion-color-dark){--ion-color-base:var(--ion-color-dark, #222428)}",a4=KW(class extends mW{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.iconName=null,this.inheritedAttributes={},this.didLoadIcon=!1,this.isVisible=!1,this.mode=c4(),this.lazy=!1,this.sanitize=!0}componentWillLoad(){this.inheritedAttributes=QW(this.el,["aria-label"])}connectedCallback(){this.waitUntilVisible(this.el,"50px",()=>{this.isVisible=!0,this.loadIcon()})}componentDidLoad(){this.didLoadIcon||this.loadIcon()}disconnectedCallback(){this.io&&(this.io.disconnect(),this.io=void 0)}waitUntilVisible(o,n,s){if(!!!(this.lazy&&typeof window<"u"&&window.IntersectionObserver))return s();const c=this.io=new window.IntersectionObserver(d=>{d[0].isIntersecting&&(c.disconnect(),this.io=void 0,s())},{rootMargin:n});c.observe(o)}loadIcon(){if(this.isVisible){const o=JW(this);o&&(Ja.has(o)?this.svgContent=Ja.get(o):n4(o,this.sanitize).then(()=>this.svgContent=Ja.get(o)),this.didLoadIcon=!0)}this.iconName=xD(this.name,this.icon,this.mode,this.ios,this.md)}render(){const{flipRtl:o,iconName:n,inheritedAttributes:s,el:l}=this,c=this.mode||"md",d=n?(n.includes("arrow")||n.includes("chevron"))&&o!==!1:!1,h=o||d;return Cf(OD,Object.assign({key:"0578c899781ca145dd8205acd9670af39b57cf2e",role:"img",class:Object.assign(Object.assign({[c]:!0},u4(this.color)),{["icon-".concat(this.size)]:!!this.size,"flip-rtl":h,"icon-rtl":h&&e4(l)})},s),this.svgContent?Cf("div",{class:"icon-inner",innerHTML:this.svgContent}):Cf("div",{class:"icon-inner"}))}static get assetsDirs(){return["svg"]}get el(){return this}static get watchers(){return{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}}static get style(){return l4}},[1,"ion-icon",{mode:[1025],color:[1],ios:[1],md:[1],flipRtl:[4,"flip-rtl"],name:[513],src:[1],icon:[8],size:[1],lazy:[4],sanitize:[4],svgContent:[32],isVisible:[32]},void 0,{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}]),c4=()=>typeof document<"u"&&document.documentElement.getAttribute("mode")||"md",u4=t=>t?{"ion-color":!0,["ion-color-".concat(t)]:!0}:null;function d4(){if(typeof customElements>"u")return;["ion-icon"].forEach(o=>{switch(o){case"ion-icon":customElements.get(o)||customElements.define(o,a4);break}})}const h4=d4,rS=ue.createContext({onIonViewWillEnter:()=>{},ionViewWillEnter:()=>{},onIonViewDidEnter:()=>{},ionViewDidEnter:()=>{},onIonViewWillLeave:()=>{},ionViewWillLeave:()=>{},onIonViewDidLeave:()=>{},ionViewDidLeave:()=>{},cleanupIonViewWillEnter:()=>{},cleanupIonViewDidEnter:()=>{},cleanupIonViewWillLeave:()=>{},cleanupIonViewDidLeave:()=>{}}),p4=class{constructor(){this.ionViewWillEnterCallbacks=[],this.ionViewDidEnterCallbacks=[],this.ionViewWillLeaveCallbacks=[],this.ionViewDidLeaveCallbacks=[],this.ionViewWillEnterDestructorCallbacks=[],this.ionViewDidEnterDestructorCallbacks=[],this.ionViewWillLeaveDestructorCallbacks=[],this.ionViewDidLeaveDestructorCallbacks=[]}onIonViewWillEnter(t){if(t.id){const o=this.ionViewWillEnterCallbacks.findIndex(n=>n.id===t.id);o>-1?this.ionViewWillEnterCallbacks[o]=t:this.ionViewWillEnterCallbacks.push(t)}else this.ionViewWillEnterCallbacks.push(t)}teardownCallback(t,o){const n=o.filter(s=>s.id===t.id);n.length!==0&&(n.forEach(s=>{s&&typeof s.destructor=="function"&&s.destructor()}),o=o.filter(s=>s.id!==t.id))}cleanupIonViewWillEnter(t){this.teardownCallback(t,this.ionViewWillEnterDestructorCallbacks)}cleanupIonViewDidEnter(t){this.teardownCallback(t,this.ionViewDidEnterDestructorCallbacks)}cleanupIonViewWillLeave(t){this.teardownCallback(t,this.ionViewWillLeaveDestructorCallbacks)}cleanupIonViewDidLeave(t){this.teardownCallback(t,this.ionViewDidLeaveDestructorCallbacks)}ionViewWillEnter(){this.ionViewWillEnterCallbacks.forEach(t=>{const o=t();t.id&&this.ionViewWillEnterDestructorCallbacks.push({id:t.id,destructor:o})})}onIonViewDidEnter(t){if(t.id){const o=this.ionViewDidEnterCallbacks.findIndex(n=>n.id===t.id);o>-1?this.ionViewDidEnterCallbacks[o]=t:this.ionViewDidEnterCallbacks.push(t)}else this.ionViewDidEnterCallbacks.push(t)}ionViewDidEnter(){this.ionViewDidEnterCallbacks.forEach(t=>{const o=t();t.id&&this.ionViewDidEnterDestructorCallbacks.push({id:t.id,destructor:o})})}onIonViewWillLeave(t){if(t.id){const o=this.ionViewWillLeaveCallbacks.findIndex(n=>n.id===t.id);o>-1?this.ionViewWillLeaveCallbacks[o]=t:this.ionViewWillLeaveCallbacks.push(t)}else this.ionViewWillLeaveCallbacks.push(t)}ionViewWillLeave(){this.ionViewWillLeaveCallbacks.forEach(t=>{const o=t();t.id&&this.ionViewWillLeaveDestructorCallbacks.push({id:t.id,destructor:o})})}onIonViewDidLeave(t){if(t.id){const o=this.ionViewDidLeaveCallbacks.findIndex(n=>n.id===t.id);o>-1?this.ionViewDidLeaveCallbacks[o]=t:this.ionViewDidLeaveCallbacks.push(t)}else this.ionViewDidLeaveCallbacks.push(t)}ionViewDidLeave(){this.ionViewDidLeaveCallbacks.forEach(t=>{const o=t();t.id&&this.ionViewDidLeaveDestructorCallbacks.push({id:t.id,destructor:o})}),this.componentCanBeDestroyed()}onComponentCanBeDestroyed(t){this.componentCanBeDestroyedCallback=t}componentCanBeDestroyed(){this.componentCanBeDestroyedCallback&&this.componentCanBeDestroyedCallback()}},mn=ue.createContext({getIonRedirect:()=>{},getIonRoute:()=>{},getPageManager:()=>{},getStackManager:()=>{},goBack:t=>{typeof window<"u"&&(typeof t=="string"?window.location.pathname=t:window.history.back())},navigate:t=>{typeof window<"u"&&(window.location.pathname=t)},hasIonicRouter:()=>!1,routeInfo:void 0,setCurrentTab:()=>{},changeTab:(t,o)=>{typeof window<"u"&&(window.location.pathname=o)},resetTab:(t,o)=>{typeof window<"u"&&(window.location.pathname=o)}}),lS=t=>t.toLowerCase().split("-").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(""),hm=t=>t.replace(/([A-Z])/g,o=>"-".concat(o[0].toLowerCase())),aS=(t,o,n={})=>{if(t instanceof Element){const s=f4(t.classList,o,n);s!==""&&(t.className=s),Object.keys(o).forEach(l=>{if(!(l==="children"||l==="style"||l==="ref"||l==="class"||l==="className"||l==="forwardedRef"))if(l.indexOf("on")===0&&l[2]===l[2].toUpperCase()){const c=l.substring(2),d=c[0].toLowerCase()+c.substring(1);Xd(d)||m4(t,d,o[l])}else t[l]=o[l],typeof o[l]==="string"&&t.setAttribute(hm(l),o[l])})}},f4=(t,o,n)=>{const s=o.className||o.class,l=n.className||n.class,c=ZT(t),d=ZT(s?s.split(" "):[]),h=ZT(l?l.split(" "):[]),p=[];return c.forEach(g=>{d.has(g)?(p.push(g),d.delete(g)):h.has(g)||p.push(g)}),d.forEach(g=>p.push(g)),p.join(" ")},g4=t=>{switch(t){case"doubleclick":return"dblclick"}return t};/**
 * Checks if an event is supported in the current execution environment.
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */const Xd=t=>{if(typeof document>"u")return!0;{const o="on"+g4(t);let n=o in document;if(!n){const s=document.createElement("div");s.setAttribute(o,"return;"),n=typeof s[o]=="function"}return n}},m4=(t,o,n)=>{const s=t.__events||(t.__events={}),l=s[o];l&&t.removeEventListener(o,l),t.addEventListener(o,s[o]=function(d){n&&n.call(this,d)})},ZT=t=>{const o=new Map;return t.forEach(n=>o.set(n,n)),o},$4=(t,o)=>{typeof t=="function"?t(o):t!=null&&(t.current=o)},pm=(...t)=>o=>{t.forEach(n=>{$4(n,o)})},_4=(t,o)=>{const n=(s,l)=>A.jsx(t,{...s,forwardedRef:l});return n.displayName=o,ue.forwardRef(n)},b4=(t,o)=>{o!==void 0&&typeof customElements<"u"&&!customElements.get(t)&&customElements.define(t,o)},fi=(t,o,n,s)=>{s!==void 0&&s();const l=lS(t),c=class extends ue.Component{constructor(d){super(d),this.setComponentElRef=h=>{this.componentEl=h}}componentDidMount(){this.componentDidUpdate(this.props)}componentDidUpdate(d){aS(this.componentEl,this.props,d)}render(){const{children:d,forwardedRef:h,style:p,className:g,ref:$,...b}=this.props,v={...Object.keys(b).reduce((I,k)=>{const G=b[k];if(k.indexOf("on")===0&&k[2]===k[2].toUpperCase()){const R=k.substring(2).toLowerCase();typeof document<"u"&&Xd(R)&&(I[k]=G)}else{const R=typeof G;(R==="string"||R==="boolean"||R==="number")&&(I[hm(k)]=G)}return I},{}),ref:pm(h,this.setComponentElRef),style:p};return re.createElement(t,v,d)}static get displayName(){return l}};return _4(c,l)},T4=fi("ion-badge",void 0,void 0,GG),E4=fi("ion-chip",void 0,void 0,ZG),v4=fi("ion-content",void 0,void 0,rV),y4=fi("ion-fab",void 0,void 0,BV),S4=fi("ion-fab-list",void 0,void 0,GV),I4=fi("ion-tab",void 0,void 0,Sz),Al=(t,o)=>{const n=(s,l)=>A.jsx(t,{...s,forwardedRef:l});return n.displayName=o,ue.forwardRef(n)},cS=()=>{if(typeof window<"u"){const t=window.Ionic;if(t&&t.config)return t.config}return null},uS=(t,o)=>{b4(t,o);const n=lS(t),s=class extends ue.Component{constructor(l){super(l),this.handleClick=c=>{const{routerLink:d,routerDirection:h,routerOptions:p,routerAnimation:g}=this.props;d!==void 0&&(c.preventDefault(),this.context.navigate(d,h,void 0,g,p))},this.ref=ue.createRef(),this.stableMergedRefs=pm(this.ref,this.props.forwardedRef)}componentDidMount(){this.componentDidUpdate(this.props)}componentDidUpdate(l){const c=this.ref.current;aS(c,this.props,l)}render(){const{children:l,forwardedRef:c,style:d,className:h,ref:p,...g}=this.props,b={...Object.keys(g).reduce((T,v)=>{if(v.indexOf("on")===0&&v[2]===v[2].toUpperCase()){const I=v.substring(2).toLowerCase();Xd(I)&&(T[v]=g[v])}else["string","boolean","number"].includes(typeof g[v])&&(T[hm(v)]=g[v]);return T},{}),ref:this.stableMergedRefs,style:d};if(this.props.routerLink&&!this.props.href&&(b.href=this.props.routerLink),b.onClick){const T=b.onClick;b.onClick=v=>{T(v),v.defaultPrevented||this.handleClick(v)}}else b.onClick=this.handleClick;return re.createElement(t,b,l)}static get displayName(){return n}static get contextType(){return mn}};return Al(s,n)},li=uS("ion-button",Iz),O4=uS("ion-card",wz),js=uS("ion-fab-button",Nz),R4=(t,o)=>{t instanceof Element&&Object.keys(o).forEach(n=>{if(n.indexOf("on")===0&&n[2]===n[2].toUpperCase()){const s=n.substring(2),l=s[0].toLowerCase()+s.substring(1);Xd(l)||C4(t,l)}})},C4=(t,o)=>{const n=t.__events||(t.__events={}),s=n[o];s&&(t.removeEventListener(o,s),n[o]=void 0)},UD=(t,o,n)=>{o&&o();const s=lS(t),l=class extends ue.Component{constructor(c){super(c),this.handleIonMount=()=>{this.setState({isOpen:!0})},this.handleWillPresent=d=>{this.setState({isOpen:!0}),this.props.onWillPresent&&this.props.onWillPresent(d)},this.handleDidDismiss=d=>{const h=this.wrapperRef.current,p=this.ref.current;h&&p&&(p.append(h),this.setState({isOpen:!1})),this.props.onDidDismiss&&this.props.onDidDismiss(d)},this.ref=ue.createRef(),this.stableMergedRefs=pm(this.ref,this.props.forwardedRef),this.state={isOpen:!1},this.wrapperRef=ue.createRef()}componentDidMount(){var c,d,h;this.componentDidUpdate(this.props),(c=this.ref.current)==null||c.addEventListener("ionMount",this.handleIonMount),(d=this.ref.current)==null||d.addEventListener("willPresent",this.handleWillPresent),(h=this.ref.current)==null||h.addEventListener("didDismiss",this.handleDidDismiss)}componentDidUpdate(c){const d=this.ref.current,{onDidDismiss:h,onWillPresent:p,...g}=this.props;aS(d,g,c)}componentWillUnmount(){const c=this.ref.current;c&&this.state.isOpen&&(c.removeEventListener("didDismiss",this.handleDidDismiss),c.remove(),R4(c,this.props))}render(){const{children:c,forwardedRef:d,style:h,className:p,ref:g,...$}=this.props,T={...Object.keys($).reduce((I,k)=>{if(k.indexOf("on")===0&&k[2]===k[2].toUpperCase()){const G=k.substring(2).toLowerCase();Xd(G)&&(I[k]=$[k])}else["string","boolean","number"].includes(typeof $[k])&&(I[hm(k)]=$[k]);return I},{}),ref:this.stableMergedRefs,style:h},v=()=>n?"".concat(mk," ion-page"):mk;return re.createElement("template",{},re.createElement(t,T,this.state.isOpen||this.props.keepContentsMounted?re.createElement("div",{ref:this.wrapperRef,className:v()},c):null))}static get displayName(){return s}};return Al(l,s)},mk="ion-delegate-host",HD=UD("ion-modal",Mz,!0),w4=UD("ion-popover",xz),A4=ue.createContext({addOverlay:()=>{},removeOverlay:()=>{}}),L4=({onAddOverlay:t,onRemoveOverlay:o})=>{const[n,s]=re.useState({}),l=re.useRef({});re.useEffect(()=>{t(c),o(d)},[]);const c=(p,g,$)=>{const b={...l.current};b[p]={component:g,containerElement:$},l.current=b,s(b)},d=p=>{const g={...l.current};delete g[p],l.current=g,s(g)},h=Object.keys(n);return A.jsx(A.Fragment,{children:h.map(p=>{const g=n[p];return gP.createPortal(g.component,g.containerElement,"overlay-".concat(p))})})},k4=fi("ion-tab-button",void 0,void 0,rW),N4=fi("ion-tab-bar",void 0,void 0,tW),$k=fi("ion-tabs",void 0,void 0,uW),M4=fi("ion-back-button",void 0,void 0,Xz),Ov=fi("ion-router-outlet",void 0,void 0,qz),x4=fi("ion-app",void 0,void 0,Fz),D4=fi("ion-icon",void 0,void 0,h4);class FD extends ue.Component{constructor(o){super(o),this.ionContext={addOverlay:(n,s,l)=>{this.addOverlayCallback&&this.addOverlayCallback(n,s,l)},removeOverlay:n=>{this.removeOverlayCallback&&this.removeOverlayCallback(n)}}}render(){return A.jsxs(A4.Provider,{value:this.ionContext,children:[A.jsx(x4,{...this.props,children:this.props.children}),A.jsx(L4,{onAddOverlay:o=>{this.addOverlayCallback=o},onRemoveOverlay:o=>{this.removeOverlayCallback=o}})]})}}FD.displayName="IonApp";const dS=ue.createContext({registerIonPage:()=>{},isInOutlet:()=>!1});class hS extends ue.PureComponent{constructor(o){super(o),this.ionPageElementRef=ue.createRef(),this.stableMergedRefs=pm(this.ionPageElementRef,this.props.forwardedRef),this.ionViewWillEnterHandler=this.ionViewWillEnterHandler.bind(this),this.ionViewDidEnterHandler=this.ionViewDidEnterHandler.bind(this),this.ionViewWillLeaveHandler=this.ionViewWillLeaveHandler.bind(this),this.ionViewDidLeaveHandler=this.ionViewDidLeaveHandler.bind(this)}componentDidMount(){this.ionPageElementRef.current&&(this.context.isInOutlet()&&this.ionPageElementRef.current.classList.add("ion-page-invisible"),this.context.registerIonPage(this.ionPageElementRef.current,this.props.routeInfo),this.ionPageElementRef.current.addEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionPageElementRef.current.addEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionPageElementRef.current.addEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler),this.ionPageElementRef.current.addEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler))}componentWillUnmount(){this.ionPageElementRef.current&&(this.ionPageElementRef.current.removeEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionPageElementRef.current.removeEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionPageElementRef.current.removeEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler))}ionViewWillEnterHandler(){this.ionLifeCycleContext.ionViewWillEnter()}ionViewDidEnterHandler(){this.ionLifeCycleContext.ionViewDidEnter()}ionViewWillLeaveHandler(){this.ionLifeCycleContext.ionViewWillLeave()}ionViewDidLeaveHandler(){this.ionLifeCycleContext.ionViewDidLeave()}render(){const{className:o,children:n,routeInfo:s,forwardedRef:l,...c}=this.props;return A.jsx(rS.Consumer,{children:d=>(this.ionLifeCycleContext=d,A.jsx("div",{className:o?"".concat(o," ion-page"):"ion-page",ref:this.stableMergedRefs,...c,children:n}))})}static get contextType(){return dS}}class P4 extends ue.Component{constructor(o){super(o)}render(){const{className:o,children:n,forwardedRef:s,...l}=this.props;return this.context.hasIonicRouter()?A.jsx(hS,{className:o?"".concat(o):"",routeInfo:this.context.routeInfo,forwardedRef:s,...l,children:n}):A.jsx("div",{className:o?"ion-page ".concat(o):"ion-page",ref:s,...l,children:n})}static get displayName(){return"IonPage"}static get contextType(){return mn}}const B4=Al(P4,"IonPage"),_k={main:0},Rd=(t="main")=>{var n;const o=((n=_k[t])!=null?n:0)+1;return _k[t]=o,o.toString()},U4=(t,o)=>{const n=new WeakMap,s="react-delegate-".concat(Rd());let l=0;return{attachViewToDom:async(h,p,g,$)=>{const b=document.createElement("div");$&&b.classList.add(...$),h.appendChild(b);const T=p(g),v="".concat(s,"-").concat(l++),I=Nv.createPortal(T,b,v);return n.set(b,I),t(I),Promise.resolve(b)},removeViewFromDom:(h,p)=>{const g=n.get(p);return g&&o(g),p.remove(),Promise.resolve()}}},H4=fi("ion-nav",void 0,void 0,ZV),F4=({children:t,forwardedRef:o,...n})=>{const[s,l]=re.useState([]),c=p=>l(g=>[...g,p]),d=p=>l(g=>g.filter($=>$!==p)),h=re.useMemo(()=>U4(c,d),[]);return A.jsx(H4,{delegate:h,ref:o,...n,children:s})};Al(F4,"IonNav");const GD=ue.createContext({activeTab:void 0,selectTab:()=>!1,hasRouterOutlet:!1,tabBarProps:{ref:ue.createRef()}}),G4=typeof HTMLElement<"u"?HTMLElement:class{};class V4 extends ue.Component{constructor(o){super(o),this.outletIsReady=!1,this.ionViewWillEnterHandler=this.ionViewWillEnterHandler.bind(this),this.ionViewDidEnterHandler=this.ionViewDidEnterHandler.bind(this),this.ionViewWillLeaveHandler=this.ionViewWillLeaveHandler.bind(this),this.ionViewDidLeaveHandler=this.ionViewDidLeaveHandler.bind(this)}componentDidMount(){this.ionRouterOutlet&&(this.outletIsReady||ac(this.ionRouterOutlet,()=>{this.outletIsReady=!0,this.context.registerIonPage(this.ionRouterOutlet,this.props.routeInfo)}),this.ionRouterOutlet.addEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionRouterOutlet.addEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionRouterOutlet.addEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler),this.ionRouterOutlet.addEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler))}componentWillUnmount(){this.ionRouterOutlet&&(this.ionRouterOutlet.removeEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionRouterOutlet.removeEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionRouterOutlet.removeEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler),this.ionRouterOutlet.removeEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler))}ionViewWillEnterHandler(){this.ionLifeCycleContext.ionViewWillEnter()}ionViewDidEnterHandler(){this.ionLifeCycleContext.ionViewDidEnter()}ionViewWillLeaveHandler(){this.ionLifeCycleContext.ionViewWillLeave()}ionViewDidLeaveHandler(){this.ionLifeCycleContext.ionViewDidLeave()}render(){const{StackManager:o,children:n,routeInfo:s,...l}=this.props;return A.jsx(rS.Consumer,{children:c=>(this.ionLifeCycleContext=c,A.jsx(o,{routeInfo:s,children:A.jsx(Ov,{setRef:d=>this.ionRouterOutlet=d,...l,children:n})}))})}static get contextType(){return dS}}class z4 extends ue.Component{constructor(o){super(o)}render(){const o=this.context.getStackManager(),{children:n,forwardedRef:s,...l}=this.props;return this.context.hasIonicRouter()?l.ionPage?A.jsx(V4,{StackManager:o,routeInfo:this.context.routeInfo,...l,children:n}):A.jsx(o,{routeInfo:this.context.routeInfo,children:A.jsx(Ov,{...l,forwardedRef:s,children:n})}):A.jsx(Ov,{ref:s,...this.props,children:this.props.children})}static get contextType(){return mn}}const Pu=Al(z4,"IonRouterOutlet");class W4 extends G4{constructor(){super()}}typeof window<"u"&&window.customElements&&(window.customElements.get("ion-tabs")||window.customElements.define("ion-tabs",W4));class eq extends ue.Component{shouldComponentUpdate(){return!0}constructor(o){super(o),this.routerOutletRef=ue.createRef(),this.tabBarRef=ue.createRef(),this.ionTabContextState={activeTab:void 0,selectTab:()=>!1,hasRouterOutlet:!1,tabBarProps:{ref:this.tabBarRef}}}componentDidMount(){this.tabBarRef.current&&(this.ionTabContextState.activeTab=this.tabBarRef.current.state.activeTab,this.tabBarRef.current.setActiveTabOnContext=o=>{this.ionTabContextState.activeTab=o},this.ionTabContextState.selectTab=this.tabBarRef.current.selectTab)}renderTabsInner(o,n){return A.jsx($k,{...this.props,children:ue.Children.map(o,s=>ue.isValidElement(s)&&(s.type===Pu||s.type.isRouterOutlet||s.type===re.Fragment&&s.props.children[0].type===Pu)?n:s)})}render(){let o,n=!1;const{className:s,onIonTabsDidChange:l,onIonTabsWillChange:c,...d}=this.props,h=typeof this.props.children=="function"?this.props.children(this.ionTabContextState):this.props.children;if(ue.Children.forEach(h,p=>{if(p==null||typeof p!="object"||!p.hasOwnProperty("type"))return;p.type===Pu||p.type.isRouterOutlet?o=ue.cloneElement(p):p.type===re.Fragment&&p.props.children[0].type===Pu?o=ue.cloneElement(p.props.children[0]):p.type===I4&&(n=!0),this.ionTabContextState.hasRouterOutlet=!!o;let g={...this.ionTabContextState.tabBarProps};l!==void 0&&(g={...g,onIonTabsDidChange:l}),c!==void 0&&(g={...g,onIonTabsWillChange:c}),this.ionTabContextState.tabBarProps=g}),!o&&!n)throw new Error("IonTabs must contain an IonRouterOutlet or an IonTab");if(o&&n)throw new Error("IonTabs cannot contain an IonRouterOutlet and an IonTab at the same time");return n?A.jsx($k,{...this.props}):A.jsx(GD.Provider,{value:this.ionTabContextState,children:this.context.hasIonicRouter()?A.jsx(hS,{className:s?"".concat(s):"",routeInfo:this.context.routeInfo,...d,children:this.renderTabsInner(h,o)}):this.renderTabsInner(h,o)})}static get contextType(){return mn}}class QT extends ue.Component{shouldComponentUpdate(){return!0}constructor(o){super(o),this.handleIonTabButtonClick=this.handleIonTabButtonClick.bind(this)}handleIonTabButtonClick(){this.props.onClick&&this.props.onClick(new CustomEvent("ionTabButtonClick",{detail:{tab:this.props.tab,href:this.props.href,routeOptions:this.props.routerOptions}}))}render(){const{onClick:o,...n}=this.props;return A.jsx(k4,{onIonTabButtonClick:this.handleIonTabButtonClick,...n})}static get displayName(){return"IonTabButton"}}const bk=(t,o)=>{if(o===void 0)return!1;const n=o.endsWith("/")&&o!=="/"?o.slice(0,-1):o;return t===n||t.startsWith(n+"/")};class X4 extends ue.PureComponent{constructor(o){super(o),this.setActiveTabOnContext=s=>{};const n={};ue.Children.forEach(o.children,s=>{var l,c,d,h;s!=null&&typeof s=="object"&&s.props&&(s.type===QT||s.type.isTabButton)&&(n[s.props.tab]={originalHref:s.props.href,currentHref:s.props.href,originalRouteOptions:s.props.href===((l=o.routeInfo)==null?void 0:l.pathname)?(c=o.routeInfo)==null?void 0:c.routeOptions:void 0,currentRouteOptions:s.props.href===((d=o.routeInfo)==null?void 0:d.pathname)?(h=o.routeInfo)==null?void 0:h.routeOptions:void 0})}),this.state={tabs:n},this.onTabButtonClick=this.onTabButtonClick.bind(this),this.renderTabButton=this.renderTabButton.bind(this),this.setActiveTabOnContext=this.setActiveTabOnContext.bind(this),this.selectTab=this.selectTab.bind(this)}componentDidMount(){const o=this.state.tabs,s=Object.keys(o).find(l=>{const c=o[l].originalHref;return bk(this.props.routeInfo.pathname,c)});s&&this.setState({activeTab:s})}componentDidUpdate(){this.state.activeTab&&this.setActiveTabOnContext(this.state.activeTab)}selectTab(o){const n=this.state.tabs[o];return n?(this.onTabButtonClick(new CustomEvent("ionTabButtonClick",{detail:{href:n.currentHref,tab:o,selected:o===this.state.activeTab,routeOptions:void 0}})),!0):!1}static getDerivedStateFromProps(o,n){var h,p,g;const s={...n.tabs},c=Object.keys(n.tabs).find($=>{const b=n.tabs[$].originalHref;return bk(o.routeInfo.pathname,b)});ue.Children.forEach(o.children,$=>{if($!=null&&typeof $=="object"&&$.props&&($.type===QT||$.type.isTabButton)){const b=s[$.props.tab];(!b||b.originalHref!==$.props.href)&&(s[$.props.tab]={originalHref:$.props.href,currentHref:$.props.href,originalRouteOptions:$.props.routeOptions,currentRouteOptions:$.props.routeOptions})}});const{activeTab:d}=n;if(c&&d){const $=n.tabs[d].currentHref,b=n.tabs[d].currentRouteOptions;(c!==d||$!==((h=o.routeInfo)==null?void 0:h.pathname)||b!==((p=o.routeInfo)==null?void 0:p.routeOptions))&&(s[c]={originalHref:s[c].originalHref,currentHref:o.routeInfo.pathname+(o.routeInfo.search||""),originalRouteOptions:s[c].originalRouteOptions,currentRouteOptions:(g=o.routeInfo)==null?void 0:g.routeOptions},o.routeInfo.routeAction==="pop"&&c!==d&&(s[d]={originalHref:s[d].originalHref,currentHref:s[d].originalHref,originalRouteOptions:s[d].originalRouteOptions,currentRouteOptions:s[d].currentRouteOptions}))}return c&&o.onSetCurrentTab(c,o.routeInfo),{activeTab:c,tabs:s}}onTabButtonClick(o,n){var p;const s=this.state.tabs[o.detail.tab],l=s.originalHref,c=(p=this.props.tabsContext)==null?void 0:p.hasRouterOutlet,d=c?o.detail.href:"",{activeTab:h}=this.state;n&&n(o),h===o.detail.tab?l!==d&&this.context.resetTab(o.detail.tab,l,s.originalRouteOptions):(this.props.onIonTabsWillChange&&this.props.onIonTabsWillChange(new CustomEvent("ionTabWillChange",{detail:{tab:o.detail.tab}})),this.props.onIonTabsDidChange&&this.props.onIonTabsDidChange(new CustomEvent("ionTabDidChange",{detail:{tab:o.detail.tab}})),c&&(this.setActiveTabOnContext(o.detail.tab),this.context.changeTab(o.detail.tab,d,o.detail.routeOptions)))}renderTabButton(o){return n=>{var s,l;if(n!=null&&n.props&&(n.type===QT||n.type.isTabButton)){const c=n.props.tab===o?(s=this.props.routeInfo)==null?void 0:s.pathname:this.state.tabs[n.props.tab].currentHref,d=n.props.tab===o?(l=this.props.routeInfo)==null?void 0:l.routeOptions:this.state.tabs[n.props.tab].currentRouteOptions;return ue.cloneElement(n,{href:c,routeOptions:d,onClick:h=>this.onTabButtonClick(h,n.props.onClick)})}return null}}render(){const{activeTab:o}=this.state;return A.jsx(N4,{...this.props,selectedTab:o,children:ue.Children.map(this.props.children,this.renderTabButton(o))})}static get contextType(){return mn}}const Y4=ue.memo(({forwardedRef:t,...o})=>{const n=re.useContext(mn),s=re.useContext(GD),l=t||s.tabBarProps.ref,c={...s.tabBarProps,ref:l};return A.jsx(X4,{ref:l,...o,routeInfo:o.routeInfo||n.routeInfo||{pathname:window.location.pathname},onSetCurrentTab:n.setCurrentTab,tabsContext:{...s,tabBarProps:c},children:o.children})});Al(Y4,"IonTabBar");class tq extends ue.Component{constructor(){super(...arguments),this.clickButton=o=>{if(o.target&&o.target.closest("ion-nav")!==null)return;const{defaultHref:n,routerAnimation:s}=this.props;this.context.hasIonicRouter()?(o.stopPropagation(),this.context.goBack(n,s)):n!==void 0&&(window.location.href=n)}}render(){return A.jsx(M4,{onClick:this.clickButton,...this.props})}static get displayName(){return"IonBackButton"}static get contextType(){return mn}shouldComponentUpdate(){return!0}}class j4 extends ue.PureComponent{constructor(o){super(o),this.props.name&&console.warn('In Ionic React, you import icons from "ionicons/icons" and set the icon you imported to the "icon" property. Setting the "name" property has no effect.')}render(){var g,$;const{icon:o,ios:n,md:s,mode:l,...c}=this.props;let d;const h=cS(),p=l||(h==null?void 0:h.get("mode"));return n||s?p==="ios"?d=(g=n!=null?n:s)!=null?g:o:d=($=s!=null?s:n)!=null?$:o:d=o,A.jsx(D4,{ref:this.props.forwardedRef,icon:d,...c,children:this.props.children})}static get contextType(){return mn}}const ct=Al(j4,"IonIcon");class pS extends ue.PureComponent{render(){const o=this.context.getIonRoute();return!this.context.hasIonicRouter()||!pS?(console.error("You either do not have an Ionic Router package, or your router does not support using <IonRoute>"),null):A.jsx(o,{...this.props})}static get contextType(){return mn}}class VD extends ue.PureComponent{render(){const o=this.context.getIonRedirect();return!this.context.hasIonicRouter()||!VD?(console.error("You either do not have an Ionic Router package, or your router does not support using <IonRedirect>"),null):A.jsx(o,{...this.props})}static get contextType(){return mn}}const K4=ue.createContext({routeInfo:void 0,push:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},back:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},canGoBack:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},nativeBack:()=>{throw new Error("An Ionic Router is required for IonRouterContext")}});class oq extends ue.PureComponent{constructor(o){super(o),this.nodes=new Map,this.animation=xe(o.id)}setupAnimation(o){const n=this.animation;this.nodes.size>0&&n.addElement(Array.from(this.nodes.values())),Tk(n,o),Ek(n,o)}componentDidMount(){const o=this.props;this.setupAnimation(o)}componentDidUpdate(o){const n=this.animation,s=this.props;Tk(n,s,o),q4(n,s,o),Ek(n,s,o)}render(){const{children:o}=this.props;return A.jsx(A.Fragment,{children:ue.Children.map(o,(n,s)=>ue.cloneElement(n,{ref:l=>this.nodes.set(s,l)}))})}}const Tk=(t,o={},n={})=>{const s=["children","progressStart","progressStep","progressEnd","pause","stop","destroy","play","from","to","fromTo","onFinish"];for(const p in o)o.hasOwnProperty(p)&&!s.includes(p)&&o[p]!==n[p]&&t[p](o[p]);const l=o.from;l&&l!==n.from&&(Array.isArray(l)?l:[l]).forEach(g=>t.from(g.property,g.value));const c=o.to;c&&c!==n.to&&(Array.isArray(c)?c:[c]).forEach(g=>t.to(g.property,g.value));const d=o.fromTo;d&&d!==n.fromTo&&(Array.isArray(d)?d:[d]).forEach(g=>t.fromTo(g.property,g.fromValue,g.toValue));const h=o.onFinish;h&&h!==n.onFinish&&(Array.isArray(h)?h:[h]).forEach(g=>t.onFinish(g.callback,g.opts))},q4=(t,o={},n={})=>{var d,h,p,g,$;const{progressStart:s,progressStep:l,progressEnd:c}=o;s&&(((d=n.progressStart)==null?void 0:d.forceLinearEasing)!==(s==null?void 0:s.forceLinearEasing)||((h=n.progressStart)==null?void 0:h.step)!==(s==null?void 0:s.step))&&t.progressStart(s.forceLinearEasing,s.step),l&&((p=n.progressStep)==null?void 0:p.step)!==(l==null?void 0:l.step)&&t.progressStep(l.step),c&&(((g=n.progressEnd)==null?void 0:g.playTo)!==(c==null?void 0:c.playTo)||(($=n.progressEnd)==null?void 0:$.step)!==(c==null?void 0:c.step)||(n==null?void 0:n.dur)!==(c==null?void 0:c.dur))&&t.progressEnd(c.playTo,c.step,c.dur)},Ek=(t,o={},n={})=>{!n.play&&o.play&&t.play(),!n.pause&&o.pause&&t.pause(),!n.stop&&o.stop&&t.stop(),!n.destroy&&o.destroy&&t.destroy()},J4=(t={})=>{typeof document<"u"&&document.documentElement.classList.add("ion-ce"),eG({...t})},zD=ue.createContext({addViewItem:()=>{},canGoBack:()=>{},clearOutlet:()=>{},createViewItem:()=>{},findViewItemByPathname:()=>{},findLeavingViewItemByRouteInfo:()=>{},findViewItemByRouteInfo:()=>{},getChildrenToRender:()=>{},goBack:()=>{},unMountViewItem:()=>{}});class vk extends ue.Component{constructor(o){super(o),this.ionLifeCycleContext=new p4,this._isMounted=!1,this.ionLifeCycleContext.onComponentCanBeDestroyed(()=>{this.props.mount||this._isMounted&&this.setState({show:!1},()=>this.props.removeView())}),this.state={show:!0}}componentDidMount(){this._isMounted=!0}componentWillUnmount(){this._isMounted=!1}render(){const{show:o}=this.state;return A.jsx(rS.Provider,{value:this.ionLifeCycleContext,children:o&&this.props.children})}}class Z4{constructor(){this.locationHistory=[],this.tabHistory={}}add(o){o.routeAction==="push"||o.routeAction==null?this._add(o):o.routeAction==="pop"?this._pop(o):o.routeAction==="replace"&&this._replace(o),o.routeDirection==="root"&&(this._clear(),this._add(o))}clearTabStack(o){const n=this._getRouteInfosByKey(o);n&&(n.forEach(s=>{this.locationHistory=this.locationHistory.filter(l=>l.id!==s.id)}),this.tabHistory[o]=[])}update(o){const n=this.locationHistory.findIndex(l=>l.id===o.id);n>-1&&this.locationHistory.splice(n,1,o);const s=this.tabHistory[o.tab||""];if(s){const l=s.findIndex(c=>c.id===o.id);l>-1?s.splice(l,1,o):s.push(o)}else o.tab&&(this.tabHistory[o.tab]=[o])}_add(o){const n=this._getRouteInfosByKey(o.tab);n&&(this._areRoutesEqual(n[n.length-1],o)&&n.pop(),n.push(o)),this.locationHistory.push(o)}_areRoutesEqual(o,n){return!o||!n?!1:o.pathname===n.pathname&&o.search===n.search}_pop(o){const n=this._getRouteInfosByKey(o.tab);n&&(n.pop(),n.pop(),n.push(o)),this.locationHistory.pop(),this.locationHistory.pop(),this.locationHistory.push(o)}_replace(o){const n=this._getRouteInfosByKey(o.tab);n&&n.pop(),this.locationHistory.pop(),this._add(o)}_clear(){Object.keys(this.tabHistory).forEach(n=>this.tabHistory[n]=[]),this.locationHistory=[]}_getRouteInfosByKey(o){let n;return o&&(n=this.tabHistory[o],n||(n=this.tabHistory[o]=[])),n}getFirstRouteInfoForTab(o){const n=this._getRouteInfosByKey(o);if(n)return n[0]}getCurrentRouteInfoForTab(o){const n=this._getRouteInfosByKey(o);if(n)return n[n.length-1]}findLastLocation(o){const n=this._getRouteInfosByKey(o.tab);if(n)for(let s=n.length-2;s>=0;s--){const l=n[s];if(l&&l.pathname===o.pushedByRoute)return l}for(let s=this.locationHistory.length-2;s>=0;s--){const l=this.locationHistory[s];if(l&&l.pathname===o.pushedByRoute)return l}}previous(){return this.locationHistory[this.locationHistory.length-2]||this.locationHistory[this.locationHistory.length-1]}current(){return this.locationHistory[this.locationHistory.length-1]}canGoBack(){return this.locationHistory.length>1}}class Q4 extends ue.PureComponent{constructor(o){super(o),this.ionRouterContextValue={push:(n,s,l,c,d)=>{this.navigate(n,s,l,d,c)},back:n=>{this.goBack(void 0,n)},canGoBack:()=>this.props.locationHistory.canGoBack(),nativeBack:()=>this.props.onNativeBack(),routeInfo:this.props.routeInfo},this.state={goBack:this.goBack.bind(this),hasIonicRouter:()=>!0,navigate:this.navigate.bind(this),getIonRedirect:this.getIonRedirect.bind(this),getIonRoute:this.getIonRoute.bind(this),getStackManager:this.getStackManager.bind(this),getPageManager:this.getPageManager.bind(this),routeInfo:this.props.routeInfo,setCurrentTab:this.props.onSetCurrentTab,changeTab:this.props.onChangeTab,resetTab:this.props.onResetTab}}componentDidMount(){typeof document<"u"&&(this.handleHardwareBackButton=this.handleHardwareBackButton.bind(this),document.addEventListener("ionBackButton",this.handleHardwareBackButton))}componentWillUnmount(){typeof document<"u"&&document.removeEventListener("ionBackButton",this.handleHardwareBackButton)}handleHardwareBackButton(o){o.detail.register(0,n=>{this.nativeGoBack(),n()})}goBack(o,n){this.props.onNavigateBack(o,n)}nativeGoBack(){this.props.onNativeBack()}navigate(o,n="forward",s="push",l,c,d){this.props.onNavigate(o,s,n,l,c,d)}getPageManager(){return hS}getIonRedirect(){return this.props.ionRedirect}getIonRoute(){return this.props.ionRoute}getStackManager(){return this.props.stackManager}render(){return A.jsx(mn.Provider,{value:{...this.state,routeInfo:this.props.routeInfo},children:A.jsx(K4.Provider,{value:{...this.ionRouterContextValue,routeInfo:this.props.routeInfo},children:this.props.children})})}}class eX{constructor(){this.viewStacks={},this.add=this.add.bind(this),this.clear=this.clear.bind(this),this.getViewItemsForOutlet=this.getViewItemsForOutlet.bind(this),this.remove=this.remove.bind(this)}add(o){const{outletId:n}=o;this.viewStacks[n]?this.viewStacks[n].push(o):this.viewStacks[n]=[o]}clear(o){return setTimeout(()=>{delete this.viewStacks[o]},500)}getViewItemsForOutlet(o){return this.viewStacks[o]||[]}remove(o){const{outletId:n}=o,s=this.viewStacks[n];if(s){const l=s.find(c=>c.id===o.id);l&&(l.mount=!1,this.viewStacks[n]=s.filter(c=>c.id!==l.id))}}getStackIds(){return Object.keys(this.viewStacks)}getAllViewItems(){const o=this.getStackIds(),n=[];return o.forEach(s=>{n.push(...this.viewStacks[s])}),n}}function Cd(t,o){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&o.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(t);l<s.length;l++)o.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(t,s[l])&&(n[s[l]]=t[s[l]]);return n}class tX extends ue.PureComponent{render(){return ue.createElement(ev,Object.assign({path:this.props.path,exact:this.props.exact,render:this.props.render},this.props.computedMatch!==void 0?{computedMatch:this.props.computedMatch}:{}))}}const wd=({pathname:t,componentProps:o})=>{const{exact:n,component:s}=o,l=o.path||o.from,d=By(t,{exact:n,path:l,component:s});return d||!1};class oX extends eX{constructor(){super(),this.createViewItem=this.createViewItem.bind(this),this.findViewItemByRouteInfo=this.findViewItemByRouteInfo.bind(this),this.findLeavingViewItemByRouteInfo=this.findLeavingViewItemByRouteInfo.bind(this),this.getChildrenToRender=this.getChildrenToRender.bind(this),this.findViewItemByPathname=this.findViewItemByPathname.bind(this)}createViewItem(o,n,s,l){const c={id:Rd("viewItem"),outletId:o,ionPageElement:l,reactElement:n,mount:!0,ionRoute:!1};return n.type===pS&&(c.ionRoute=!0,c.disableIonPageManagement=n.props.disableIonPageManagement),c.routeData={match:wd({pathname:s.pathname,componentProps:n.props}),childProps:n.props},c}getChildrenToRender(o,n,s){const l=this.getViewItemsForOutlet(o);return ue.Children.forEach(n.props.children,d=>{const h=l.find(p=>yk(d,p.routeData.childProps.path||p.routeData.childProps.from));h&&(h.reactElement=d)}),l.map(d=>{let h;if(d.ionRoute&&!d.disableIonPageManagement)h=ue.createElement(vk,{key:"view-".concat(d.id),mount:d.mount,removeView:()=>this.remove(d)},ue.cloneElement(d.reactElement,{computedMatch:d.routeData.match}));else{const p=yk(d.reactElement,s.pathname);h=ue.createElement(vk,{key:"view-".concat(d.id),mount:d.mount,removeView:()=>this.remove(d)},ue.cloneElement(d.reactElement,{computedMatch:d.routeData.match})),!p&&d.routeData.match&&(d.routeData.match=void 0,d.mount=!1)}return h})}findViewItemByRouteInfo(o,n,s){const{viewItem:l,match:c}=this.findViewItemByPath(o.pathname,n);return(s===void 0||s===!0)&&l&&c&&(l.routeData.match=c),l}findLeavingViewItemByRouteInfo(o,n,s=!0){const{viewItem:l}=this.findViewItemByPath(o.lastPathname,n,s);return l}findViewItemByPathname(o,n){const{viewItem:s}=this.findViewItemByPath(o,n);return s}findViewItemByPath(o,n,s){let l,c,d;if(n)d=this.getViewItemsForOutlet(n),d.some(h),l||d.some(p);else{const g=this.getAllViewItems();g.some(h),l||g.some(p)}return{viewItem:l,match:c};function h(g){var $,b;if(s&&!g.ionRoute)return!1;if(c=wd({pathname:o,componentProps:g.routeData.childProps}),c){const T=c.path.includes(":");if(!T||T&&c.url===((b=($=g.routeData)===null||$===void 0?void 0:$.match)===null||b===void 0?void 0:b.url))return l=g,!0}return!1}function p(g){return!g.routeData.childProps.path&&!g.routeData.childProps.from?(c={path:o,url:o,isExact:!0,params:{}},l=g,!0):!1}}}function yk(t,o){return wd({pathname:o,componentProps:t.props})}function iX(t){let o;if(typeof t=="string"?o=t:o=t.outerHTML,document){const n=document.createElement("div");n.innerHTML=o,n.style.zIndex="";const s=n.getElementsByTagName("ion-back-button");return s[0]&&s[0].remove(),n.firstChild}}const Sk=t=>!t.classList.contains("ion-page-invisible")&&!t.classList.contains("ion-page-hidden");class nX extends ue.PureComponent{constructor(o){super(o),this.stackContextValue={registerIonPage:this.registerIonPage.bind(this),isInOutlet:()=>!0},this.pendingPageTransition=!1,this.registerIonPage=this.registerIonPage.bind(this),this.transitionPage=this.transitionPage.bind(this),this.handlePageTransition=this.handlePageTransition.bind(this),this.id=Rd("routerOutlet"),this.prevProps=void 0,this.skipTransition=!1}componentDidMount(){this.clearOutletTimeout&&clearTimeout(this.clearOutletTimeout),this.routerOutletElement&&(this.setupRouterOutlet(this.routerOutletElement),this.handlePageTransition(this.props.routeInfo))}componentDidUpdate(o){const{pathname:n}=this.props.routeInfo,{pathname:s}=o.routeInfo;n!==s?(this.prevProps=o,this.handlePageTransition(this.props.routeInfo)):this.pendingPageTransition&&(this.handlePageTransition(this.props.routeInfo),this.pendingPageTransition=!1)}componentWillUnmount(){this.clearOutletTimeout=this.context.clearOutlet(this.id)}async handlePageTransition(o){var n,s;if(!this.routerOutletElement||!this.routerOutletElement.commit)this.pendingPageTransition=!0;else{let l=this.context.findViewItemByRouteInfo(o,this.id),c=this.context.findLeavingViewItemByRouteInfo(o,this.id);!c&&o.prevRouteLastPathname&&(c=this.context.findViewItemByPathname(o.prevRouteLastPathname,this.id)),c&&(o.routeAction==="replace"?c.mount=!1:o.routeAction==="push"&&o.routeDirection==="forward"?!((n=o.routeOptions)===null||n===void 0)&&n.unmount&&(c.mount=!1):o.routeDirection!=="none"&&l!==c&&(c.mount=!1));const d=sX((s=this.ionRouterOutlet)===null||s===void 0?void 0:s.props.children,o);if(l?l.reactElement=d:d&&(l=this.context.createViewItem(this.id,d,o),this.context.addViewItem(l)),l&&l.ionPageElement){if(l===c&&l.routeData.match.url!==o.pathname||(!c&&this.props.routeInfo.prevRouteLastPathname&&(c=this.context.findViewItemByPathname(this.props.routeInfo.prevRouteLastPathname,this.id)),Sk(l.ionPageElement)&&c!==void 0&&!Sk(c.ionPageElement)))return;this.transitionPage(o,l,c)}else c&&!d&&!l&&c.ionPageElement&&(c.ionPageElement.classList.add("ion-page-hidden"),c.ionPageElement.setAttribute("aria-hidden","true"));this.forceUpdate()}}registerIonPage(o,n){const s=this.context.findViewItemByRouteInfo(n,this.id);if(s){const l=s.ionPageElement;if(s.ionPageElement=o,s.ionRoute=!0,l===o)return}this.handlePageTransition(n)}async setupRouterOutlet(o){const n=()=>{const c=cS();if(!(c&&c.get("swipeBackEnabled",o.mode==="ios")))return!1;const{routeInfo:h}=this.props,p=this.prevProps&&this.prevProps.routeInfo.pathname===h.pushedByRoute?this.prevProps.routeInfo:{pathname:h.pushedByRoute||""},g=this.context.findViewItemByRouteInfo(p,this.id,!1);return!!g&&g.mount&&g.routeData.match.path!==h.pathname},s=async()=>{const{routeInfo:c}=this.props,d=this.prevProps&&this.prevProps.routeInfo.pathname===c.pushedByRoute?this.prevProps.routeInfo:{pathname:c.pushedByRoute||""},h=this.context.findViewItemByRouteInfo(d,this.id,!1),p=this.context.findViewItemByRouteInfo(c,this.id,!1);return h&&p&&await this.transitionPage(c,h,p,"back",!0),Promise.resolve()},l=c=>{if(c)this.skipTransition=!0,this.context.goBack();else{const{routeInfo:d}=this.props,h=this.prevProps&&this.prevProps.routeInfo.pathname===d.pushedByRoute?this.prevProps.routeInfo:{pathname:d.pushedByRoute||""},p=this.context.findViewItemByRouteInfo(h,this.id,!1),g=this.context.findViewItemByRouteInfo(d,this.id,!1);if(p!==g&&(p==null?void 0:p.ionPageElement)!==void 0){const{ionPageElement:$}=p;$.setAttribute("aria-hidden","true"),$.classList.add("ion-page-hidden")}}};o.swipeHandler={canStart:n,onStart:s,onEnd:l}}async transitionPage(o,n,s,l,c=!1){const d=async($,b)=>{const T=this.skipTransition;T?this.skipTransition=!1:($.classList.add("ion-page"),$.classList.add("ion-page-invisible")),await h.commit($,b,{duration:T||g===void 0?0:void 0,direction:g,showGoBack:!!o.pushedByRoute,progressAnimation:c,animationBuilder:o.routeAnimation})},h=this.routerOutletElement,p=o.routeDirection==="none"||o.routeDirection==="root"?void 0:o.routeDirection,g=l!=null?l:p;if(n&&n.ionPageElement&&this.routerOutletElement)if(s&&s.ionPageElement&&n===s)if(rX(s.reactElement,o.pathname,!0)){const b=iX(s.ionPageElement.outerHTML);b&&(this.routerOutletElement.appendChild(b),await d(n.ionPageElement,b),this.routerOutletElement.removeChild(b))}else await d(n.ionPageElement,void 0);else await d(n.ionPageElement,s==null?void 0:s.ionPageElement),s&&s.ionPageElement&&!c&&(s.ionPageElement.classList.add("ion-page-hidden"),s.ionPageElement.setAttribute("aria-hidden","true"))}render(){const{children:o}=this.props,n=ue.Children.only(o);this.ionRouterOutlet=n;const s=this.context.getChildrenToRender(this.id,this.ionRouterOutlet,this.props.routeInfo,()=>{this.forceUpdate()});return ue.createElement(dS.Provider,{value:this.stackContextValue},ue.cloneElement(n,{ref:l=>{n.props.setRef&&n.props.setRef(l),n.props.forwardedRef&&(n.props.forwardedRef.current=l),this.routerOutletElement=l;const{ref:c}=n;typeof c=="function"&&c(l)}},s))}static get contextType(){return zD}}function sX(t,o){let n;return ue.Children.forEach(t,s=>{wd({pathname:o.pathname,componentProps:s.props})&&(n=s)}),n||(ue.Children.forEach(t,s=>{s.props.path||s.props.from||(n=s)}),n)}function rX(t,o,n){return wd({pathname:o,componentProps:Object.assign(Object.assign({},t.props),{exact:n})})}class lX extends ue.PureComponent{constructor(o){super(o),this.exitViewFromOtherOutletHandlers=[],this.locationHistory=new Z4,this.viewStack=new oX,this.routeMangerContextState={canGoBack:()=>this.locationHistory.canGoBack(),clearOutlet:this.viewStack.clear,findViewItemByPathname:this.viewStack.findViewItemByPathname,getChildrenToRender:this.viewStack.getChildrenToRender,goBack:()=>this.handleNavigateBack(),createViewItem:this.viewStack.createViewItem,findViewItemByRouteInfo:this.viewStack.findViewItemByRouteInfo,findLeavingViewItemByRouteInfo:this.viewStack.findLeavingViewItemByRouteInfo,addViewItem:this.viewStack.add,unMountViewItem:this.viewStack.remove};const n={id:Rd("routeInfo"),pathname:this.props.location.pathname,search:this.props.location.search};this.locationHistory.add(n),this.handleChangeTab=this.handleChangeTab.bind(this),this.handleResetTab=this.handleResetTab.bind(this),this.handleNativeBack=this.handleNativeBack.bind(this),this.handleNavigate=this.handleNavigate.bind(this),this.handleNavigateBack=this.handleNavigateBack.bind(this),this.props.registerHistoryListener(this.handleHistoryChange.bind(this)),this.handleSetCurrentTab=this.handleSetCurrentTab.bind(this),this.state={routeInfo:n}}handleChangeTab(o,n,s){if(!n)return;const l=this.locationHistory.getCurrentRouteInfoForTab(o),[c,d]=n.split("?");l?(this.incomingRouteParams=Object.assign(Object.assign({},l),{routeAction:"push",routeDirection:"none"}),l.pathname===c?(this.incomingRouteParams.routeOptions=s,this.props.history.push(l.pathname+(l.search||""))):(this.incomingRouteParams.pathname=c,this.incomingRouteParams.search=d?"?"+d:void 0,this.incomingRouteParams.routeOptions=s,this.props.history.push(c+(d?"?"+d:"")))):this.handleNavigate(c,"push","none",void 0,s,o)}handleHistoryChange(o,n){var s,l,c;let d;if(this.incomingRouteParams?this.incomingRouteParams.routeAction==="replace"?d=this.locationHistory.previous():d=this.locationHistory.current():d=this.locationHistory.current(),d.pathname+d.search!==o.pathname){if(!this.incomingRouteParams){if(n==="REPLACE"&&(this.incomingRouteParams={routeAction:"replace",routeDirection:"none",tab:this.currentTab}),n==="POP"){const g=this.locationHistory.current();if(g&&g.pushedByRoute){const $=this.locationHistory.findLastLocation(g);this.incomingRouteParams=Object.assign(Object.assign({},$),{routeAction:"pop",routeDirection:"back"})}else this.incomingRouteParams={routeAction:"pop",routeDirection:"none",tab:this.currentTab}}this.incomingRouteParams||(this.incomingRouteParams={routeAction:"push",routeDirection:((s=o.state)===null||s===void 0?void 0:s.direction)||"forward",routeOptions:(l=o.state)===null||l===void 0?void 0:l.routerOptions,tab:this.currentTab})}let p;if(!((c=this.incomingRouteParams)===null||c===void 0)&&c.id)p=Object.assign(Object.assign({},this.incomingRouteParams),{lastPathname:d.pathname}),this.locationHistory.add(p);else{const g=this.incomingRouteParams.routeAction==="push"&&this.incomingRouteParams.routeDirection==="forward";if(p=Object.assign(Object.assign({id:Rd("routeInfo")},this.incomingRouteParams),{lastPathname:d.pathname,pathname:o.pathname,search:o.search,params:this.props.match.params,prevRouteLastPathname:d.lastPathname}),g)p.tab=d.tab,p.pushedByRoute=d.pathname;else if(p.routeAction==="pop"){const $=this.locationHistory.findLastLocation(p);p.pushedByRoute=$==null?void 0:$.pushedByRoute}else if(p.routeAction==="push"&&p.tab!==d.tab){const $=this.locationHistory.getCurrentRouteInfoForTab(p.tab);p.pushedByRoute=$==null?void 0:$.pushedByRoute}else if(p.routeAction==="replace"){const $=this.locationHistory.current(),b=$==null?void 0:$.pushedByRoute,T=b!==void 0&&b!==p.pathname?b:p.pushedByRoute;p.lastPathname=($==null?void 0:$.pathname)||p.lastPathname,p.prevRouteLastPathname=$==null?void 0:$.lastPathname,p.pushedByRoute=T,p.routeDirection=p.routeDirection||($==null?void 0:$.routeDirection),p.routeAnimation=p.routeAnimation||($==null?void 0:$.routeAnimation)}this.locationHistory.add(p)}this.setState({routeInfo:p})}this.incomingRouteParams=void 0}handleNativeBack(){const o=this.props.history;(o.goBack||o.back)()}handleNavigate(o,n,s,l,c,d){this.incomingRouteParams=Object.assign(this.incomingRouteParams||{},{routeAction:n,routeDirection:s,routeOptions:c,routeAnimation:l,tab:d}),n==="push"?this.props.history.push(o):this.props.history.replace(o)}handleNavigateBack(o="/",n){const s=cS();o=o||s&&s.get("backButtonDefaultHref");const l=this.locationHistory.current();if(l&&l.pushedByRoute){const c=this.locationHistory.findLastLocation(l);if(c){const d=n||l.routeAnimation;if(this.incomingRouteParams=Object.assign(Object.assign({},c),{routeAction:"pop",routeDirection:"back",routeAnimation:d}),l.lastPathname===l.pushedByRoute||c.pathname===l.pushedByRoute&&l.tab===""&&c.tab===""){const h=this.props.history;(h.goBack||h.back)()}else this.handleNavigate(c.pathname+(c.search||""),"pop","back",d)}else this.handleNavigate(o,"pop","back",n)}else this.handleNavigate(o,"pop","back",n)}handleResetTab(o,n,s){const l=this.locationHistory.getFirstRouteInfoForTab(o);if(l){const c=Object.assign({},l);c.pathname=n,c.routeOptions=s,this.incomingRouteParams=Object.assign(Object.assign({},c),{routeAction:"pop",routeDirection:"back"}),this.props.history.push(c.pathname+(c.search||""))}}handleSetCurrentTab(o){this.currentTab=o;const n=Object.assign({},this.locationHistory.current());n.tab!==o&&(n.tab=o,this.locationHistory.update(n))}render(){return ue.createElement(zD.Provider,{value:this.routeMangerContextState},ue.createElement(Q4,{ionRoute:tX,ionRedirect:{},stackManager:nX,routeInfo:this.state.routeInfo,onNativeBack:this.handleNativeBack,onNavigateBack:this.handleNavigateBack,onNavigate:this.handleNavigate,onSetCurrentTab:this.handleSetCurrentTab,onChangeTab:this.handleChangeTab,onResetTab:this.handleResetTab,locationHistory:this.locationHistory},this.props.children))}}const fm=iF(lX);fm.displayName="IonRouter";class aX extends ue.Component{constructor(o){super(o);const{history:n}=o,s=Cd(o,["history"]);this.history=n||sH(s),this.history.listen(this.handleHistoryChange.bind(this)),this.registerHistoryListener=this.registerHistoryListener.bind(this)}handleHistoryChange(o,n){const s=o.location||o,l=o.action||n;this.historyListenHandler&&this.historyListenHandler(s,l)}registerHistoryListener(o){this.historyListenHandler=o}render(){const o=this.props,{children:n}=o,s=Cd(o,["children"]);return ue.createElement(Gd,Object.assign({history:this.history},s),ue.createElement(fm,{registerHistoryListener:this.registerHistoryListener},n))}}class iq extends ue.Component{constructor(o){super(o),this.history=o.history,this.history.listen(this.handleHistoryChange.bind(this)),this.registerHistoryListener=this.registerHistoryListener.bind(this)}handleHistoryChange(o,n){const s=o.location||o,l=o.action||n;this.historyListenHandler&&this.historyListenHandler(s,l)}registerHistoryListener(o){this.historyListenHandler=o}render(){const o=this.props,{children:n}=o,s=Cd(o,["children"]);return ue.createElement(Gd,Object.assign({},s),ue.createElement(fm,{registerHistoryListener:this.registerHistoryListener},n))}}class nq extends ue.Component{constructor(o){super(o);const{history:n}=o,s=Cd(o,["history"]);this.history=n||aH(s),this.history.listen(this.handleHistoryChange.bind(this)),this.registerHistoryListener=this.registerHistoryListener.bind(this)}handleHistoryChange(o,n){const s=o.location||o,l=o.action||n;this.historyListenHandler&&this.historyListenHandler(s,l)}registerHistoryListener(o){this.historyListenHandler=o}render(){const o=this.props,{children:n}=o,s=Cd(o,["children"]);return ue.createElement(Gd,Object.assign({history:this.history},s),ue.createElement(fm,{registerHistoryListener:this.registerHistoryListener},n))}}const cX="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path d='M250.26 166.05L256 288l5.73-121.95a5.74 5.74 0 00-5.79-6h0a5.74 5.74 0 00-5.68 6z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M256 367.91a20 20 0 1120-20 20 20 0 01-20 20z'/></svg>",uX="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M268 112l144 144-144 144M392 256H100' class='ionicon-fill-none'/></svg>",dX="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><rect x='112' y='48' width='288' height='416' rx='32' ry='32' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M160.01 112H352v64H160.01z' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='168' cy='248' r='24'/><circle cx='256' cy='248' r='24'/><circle cx='344' cy='248' r='24'/><circle cx='168' cy='328' r='24'/><circle cx='256' cy='328' r='24'/><circle cx='168' cy='408' r='24'/><circle cx='256' cy='408' r='24'/><rect x='320' y='304' width='48' height='128' rx='24' ry='24'/></svg>",hX="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm108.25 138.29l-134.4 160a16 16 0 01-12 5.71h-.27a16 16 0 01-11.89-5.3l-57.6-64a16 16 0 1123.78-21.4l45.29 50.32 122.59-145.91a16 16 0 0124.5 20.58z'/></svg>",WD="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M352 176L217.6 336 160 272' class='ionicon-fill-none ionicon-stroke-width'/></svg>",pX="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48C141.13 48 48 141.13 48 256s93.13 208 208 208 208-93.13 208-208S370.87 48 256 48zm107.31 259.31a16 16 0 01-22.62 0L256 222.63l-84.69 84.68a16 16 0 01-22.62-22.62l96-96a16 16 0 0122.62 0l96 96a16 16 0 010 22.62z'/></svg>",fS="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M320 320L192 192M192 320l128-128' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Ik="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M160 368L32 256l128-112M352 368l128-112-128-112M304 96l-96 320' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Ok="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M320 176v-40a40 40 0 00-40-40H88a40 40 0 00-40 40v240a40 40 0 0040 40h192a40 40 0 0040-40v-40M384 176l80 80-80 80M191 256h273' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",fX="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='160' cy='96' r='48' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='160' cy='416' r='48' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M160 368V144' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='352' cy='160' r='48' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M352 208c0 128-192 48-192 160' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",gX="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 80a176 176 0 10176 176A176 176 0 00256 80z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path d='M200 202.29s.84-17.5 19.57-32.57C230.68 160.77 244 158.18 256 158c10.93-.14 20.69 1.67 26.53 4.45 10 4.76 29.47 16.38 29.47 41.09 0 26-17 37.81-36.37 50.8S251 281.43 251 296' stroke-linecap='round' stroke-miterlimit='10' stroke-width='28' class='ionicon-fill-none'/><circle cx='250' cy='348' r='20'/></svg>",mX="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M80 212v236a16 16 0 0016 16h96V328a24 24 0 0124-24h80a24 24 0 0124 24v136h96a16 16 0 0016-16V212' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M480 256L266.89 52c-5-5.28-16.69-5.34-21.78 0L32 256M400 179V64h-48v69' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",$X="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M248 64C146.39 64 64 146.39 64 248s82.39 184 184 184 184-82.39 184-184S349.61 64 248 64z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M220 220h32v116' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-miterlimit='10' d='M208 340h88' class='ionicon-fill-none ionicon-stroke-width'/><path d='M248 130a26 26 0 1026 26 26 26 0 00-26-26z'/></svg>",_X="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M160 144h288M160 256h288M160 368h288' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='80' cy='144' r='16' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='80' cy='256' r='16' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='80' cy='368' r='16' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",bX="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-miterlimit='10' d='M208 192v128M304 192v128' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Rk="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path d='M216.32 334.44l114.45-69.14a10.89 10.89 0 000-18.6l-114.45-69.14a10.78 10.78 0 00-16.32 9.31v138.26a10.78 10.78 0 0016.32 9.31z'/></svg>",TX="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M435.25 48h-122.9a14.46 14.46 0 00-10.2 4.2L56.45 297.9a28.85 28.85 0 000 40.7l117 117a28.85 28.85 0 0040.7 0L459.75 210a14.46 14.46 0 004.2-10.2v-123a28.66 28.66 0 00-28.7-28.8z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M384 160a32 32 0 1132-32 32 32 0 01-32 32z'/></svg>",EX="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M320 146s24.36-12-64-12a160 160 0 10160 160' stroke-linecap='round' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M256 58l80 80-80 80' class='ionicon-fill-none ionicon-stroke-width'/></svg>",XD="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M320 146s24.36-12-64-12a160 160 0 10160 160' stroke-linecap='round' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M256 58l80 80-80 80' class='ionicon-fill-none ionicon-stroke-width'/></svg>",vX="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><rect x='32' y='48' width='448' height='416' rx='48' ry='48' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M96 112l80 64-80 64M192 240h64' class='ionicon-fill-none ionicon-stroke-width'/></svg>",yX="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M32 415.5l120-320 120 320M230 303.5H74M326 239.5c12.19-28.69 41-48 74-48h0c46 0 80 32 80 80v144' class='ionicon-fill-none ionicon-stroke-width'/><path d='M320 358.5c0 36 26.86 58 60 58 54 0 100-27 100-106v-15c-20 0-58 1-92 5-32.77 3.86-68 19-68 58z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Ck="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48C141.13 48 48 141.13 48 256s93.13 208 208 208 208-93.13 208-208S370.87 48 256 48zm96 240h-96a16 16 0 01-16-16V128a16 16 0 0132 0v128h80a16 16 0 010 32z'/></svg>";var YD={exports:{}},eE={exports:{}},wk;function gS(){return wk||(wk=1,function(t,o){(function(n,s){t.exports=s()})(nr,function(){var n={},s,l,c,d,h,p,g,$,b,T,v,I,k,G,R,S,w,L,H,Y,K,j,P,J,ie,ce,me,ve,Te,ee,he,pe,ae,V,Se,le,Ee,$e,Re,ke,Ye,we,ot,ge,ro,q,fe,Co,De,Po,Xe,Xo,Bo,bt,wo,Tt,tn,Yo,M,Uo,gi,et,$t,Lt,it,lo,_,O,D,B,de,Ze,jo,ii,Ne,m,y,N,U,te,ye,Me,fo,$n,Ni,go,Kt,Ec,vc,yc,Ll,yr,kl,Sc,Ic,ws,As,Oc,Sr,mm,Z,Oe,Pe,Et,mo,Ko,_n,Yd,$m,_m,jd,Kd,qd,Rc,$S,Nl,Cc,Jd,_S,bS,TS,bn,qt,wc,bm,Tn,Ls,ES,Tm,Zd,Em,vS,vm,Ac,yS,Qd,SS,eh,IS,OS,RS,Ml,CS,ym,$o,th,Sm,oh,ih,wS,Im,Om,AS,nh,Ir,sh,LS,Rm,Cm,kS,NS,Or,MS,Lc,xl,Dl,Mi,xS,DS,PS,BS,US,HS,FS,wm,ks,Pl,Am,GS,VS,zS,WS,XS,YS,jS,KS,qS,Lm,JS,Rr,rh,ZS,Bl,lh,km,Nm,ah,ch,Mm,QS,xm,Dm,Pm,Bm,Um,Hm,Fm,eI,kc,Gm,uh,dh,En,Vm,zm,Nc,Wm,Xm,tI,hh,Ym,oI,iI,nI,sI,rI,Ul,jm,Km,Mc,qm,lI,aI,Jm,Zm,Wn,Qm,e$,cI,uI,dI,hI,t$,pI,o$,fI,Cr,xc,ph,fh,wr,i$,gh,n$,Bt,gI,Hl,Fl,mI,s$,mh,Gl,r$,Ar,Dc,l$,a$,$I,_I,bI,c$,TI,u$,Vl,EI,vI,yI,SI,Pc,d$,h$,$h,_h,II,Bc,p$,Uc,OI,RI,Ns,f$,vn,CI,wI,g$,AI,Lr,m$,LI,kI,NI,MI,xI,$$,DI,PI,bh,BI,UI,_$,yn,HI,FI,zl,GI,b$,Th,VI,zI,WI,T$,Eh,E$,vh,XI,YI,jI,KI,Ae,ni,_o,kt,Sn,Wl,Le,Ut,qI,JI,ZI,v$,QI,yh,y$,S$,I$,O$,Xl,eO,tO,oO,Yl,R$,iO,Sh,xi,C$,jl,on,w$,nO,Kl,sO,Ms,Ih,Hc,A$,rO,L$,lO,Oh,k$,N$,M$,aO,x$,cO,Rh,uO,dO,Fc,hO,D$,Ch,wh,Ah,Lh,P$,pO,B$,kh,Nh,fO,Mh,gO,U$,mO,xs,H$,Gc,F$,G$,xh,V$,z$,W$,X$,Y$,j$,K$,q$,J$,$O,_O,bO,TO,EO,vO,yO,SO,IO,Z$,Q$,e_,t_,o_,i_,n_,Dh,Vc,s_,OO,r_,l_,a_,c_,u_,d_,h_,p_,f_,g_,RO,CO,m_,wO,AO,LO,kO,X;s=function(e,i,r,a){if(!(e instanceof oe)&&typeof e!="string"||"".concat(e).trim()==="")throw Error('Invalid type "'+e+'". The type must be a non-empty string or a Blockly.registry.Type.');if(e="".concat(e).toLowerCase(),typeof i!="string"||i.trim()==="")throw Error('Invalid name "'+i+'". The name must be a non-empty string.');const u=i.toLowerCase();if(!r)throw Error("Can not register a null value");let f=Ds[e],E=Ph[e];if(f||(f=Ds[e]=Object.create(null),E=Ph[e]=Object.create(null)),l(e,r),!a&&f[u]&&f[u]!==r)throw Error('Name "'+u+'" with type "'+e+'" already registered.');f[u]=r,E[u]=i},l=function(e,i){switch(e){case String(oe.FIELD):if(typeof i.fromJson!="function")throw Error('Type "'+e+'" must have a fromJson function')}},c=function(e,i){e="".concat(e).toLowerCase(),i=i.toLowerCase();const r=Ds[e];r&&r[i]?(delete Ds[e][i],delete Ph[e][i]):console.warn("Unable to unregister ["+i+"]["+e+"] from the registry.")},d=function(e,i,r){e="".concat(e).toLowerCase(),i=i.toLowerCase();const a=Ds[e];if(!a||!a[i]){if(i="Unable to find ["+i+"]["+e+"] in the registry.",r)throw Error(i+" You must require or register a "+e+" plugin.");return console.warn(i),null}return a[i]},h=function(e,i){return e="".concat(e).toLowerCase(),i=i.toLowerCase(),(e=Ds[e])?!!e[i]:!1},p=function(e,i,r){return d(e,i,r)},g=function(e,i,r){return d(e,i,r)},$=function(e,i,r){e="".concat(e).toLowerCase();var a=Ds[e];if(!a){if(a="Unable to find [".concat(e,"] in the registry."),r)throw Error("".concat(a," You must require or register a ").concat(e," plugin."));return console.warn(a),null}if(!i)return a;e=Ph[e],r=Object.create(null);for(const u of Object.keys(a))r[e[u]]=a[u];return r},b=function(e,i,r){return i=i.plugins[String(e)]||mi,typeof i=="function"?i:p(e,i,r)},T=function(e,i){v(),Uh=setTimeout(function(){i&&i.handleRightClick(e)},ZD)},v=function(){Uh&&(clearTimeout(Uh),Uh=0)},I=function(){Bh=null},k=function(e){return!e.type.startsWith("pointer")||e instanceof PointerEvent&&R(e)},G=function(e){return"".concat(e.pointerId)},R=function(e){const i=G(e);return Bh?Bh===i:e.type==="pointerdown"?(Bh=i,!0):!1},S=function(e,i,r,a,u){function f(C){(u||k(C))&&(r?a.call(r,C):a(C))}const E=[];if(i in kr)for(let C=0;C<kr[i].length;C++){const Q=kr[i][C];e.addEventListener(Q,f,!1),E.push([e,Q,f])}else e.addEventListener(i,f,!1),E.push([e,i,f]);return E},w=function(e,i,r,a){function u(E){r?a.call(r,E):a(E)}const f=[];if(i in kr)for(let E=0;E<kr[i].length;E++){const C=kr[i][E];e.addEventListener(C,u,!1),f.push([e,C,u])}else e.addEventListener(i,u,!1),f.push([e,i,u]);return f},L=function(e){const i=e[e.length-1][2];for(;e.length;){const[r,a,u]=e.pop();r.removeEventListener(a,u,!1)}return i},H=function(e){if(e.target instanceof HTMLElement){if(e.target.isContentEditable||e.target.getAttribute("data-is-text-input")==="true")return!0;if(e.target instanceof HTMLInputElement)return e=e.target,e.type==="text"||e.type==="number"||e.type==="email"||e.type==="password"||e.type==="search"||e.type==="tel"||e.type==="url";if(e.target instanceof HTMLTextAreaElement)return!0}return!1},Y=function(e){return e.ctrlKey&&T_?!0:e.button===2},K=function(e,i,r){const a=i.createSVGPoint();return a.x=e.clientX,a.y=e.clientY,r||(r=i.getScreenCTM().inverse()),a.matrixTransform(r)},j=function(e){switch(e.deltaMode){default:return{x:e.deltaX,y:e.deltaY};case 1:return{x:e.deltaX*zO,y:e.deltaY*zO};case 2:return{x:e.deltaX*WO,y:e.deltaY*WO}}},P=function(){return"blockly-"+(t1++).toString(36)},J=function(){return jO.genUid()},ie=function(e){return e.type===z.BLOCK_CREATE},ce=function(e){return e.type===z.BLOCK_DELETE},me=function(e){return e.type===z.BLOCK_CHANGE},ve=function(e){return e.type===z.BLOCK_FIELD_INTERMEDIATE_CHANGE},Te=function(e){return e.type===z.BLOCK_MOVE},ee=function(e){return e.type===z.CLICK},he=function(e){return e.type===z.BUBBLE_OPEN},pe=function(e){return e.type===z.VIEWPORT_CHANGE},n.setRecordUndo$$module$build$src$core$events$utils=function(e){zc=e},ae=function(){return zc},V=function(e){qO.fireInternal(e)},Se=function(e){if(ke()){if(!jn.length)try{requestAnimationFrame(()=>{setTimeout(le,0)})}catch(i){setTimeout(le,0)}Ee(e)}},le=function(){const e=$e(jn);jn.length=0;for(const i of e){if(!i.workspaceId)continue;let r;(r=$t(i.workspaceId))==null||r.fireChangeListener(i)}},Ee=function(e){if(me(e)&&e.element==="mutation"){let i;for(i=jn.length;i>0;i--){const r=jn[i-1];if(r.group!==e.group||r.workspaceId!==e.workspaceId||!Te(r)||r.newParentId!==e.blockId)break}jn.splice(i,0,e)}else jn.push(e)},$e=function(e){const i=[];for(const r of e)if(e=i[i.length-1],!r.isNull())if(e&&e.workspaceId===r.workspaceId&&e.group===r.group)if(Te(r)&&Te(e)&&r.blockId===e.blockId){if(e.newParentId=r.newParentId,e.newInputName=r.newInputName,e.newCoordinate=r.newCoordinate,e.reason||r.reason){let a,u;e.reason=Array.from(new Set(((a=e.reason)!=null?a:[]).concat((u=r.reason)!=null?u:[])))}}else me(r)&&me(e)&&r.blockId===e.blockId&&r.element===e.element&&r.name===e.name?e.newValue=r.newValue:pe(r)&&pe(e)?(e.viewTop=r.viewTop,e.viewLeft=r.viewLeft,e.scale=r.scale,e.oldScale=r.oldScale):ee(r)&&he(e)||i.push(r);else i.push(r);return e=i.filter(r=>!r.isNull())},Re=function(){for(let e=0,i;i=jn[e];e++)i.recordUndo=!1},n.disable$$module$build$src$core$events$utils=function(){v_++},n.enable$$module$build$src$core$events$utils=function(){v_--},ke=function(){return v_===0},n.getGroup$$module$build$src$core$events$utils=function(){return KO},n.setGroup$$module$build$src$core$events$utils=function(e){qO.setGroupInternal(e)},Ye=function(e){KO=typeof e=="boolean"?e?J():"":e},we=function(e){const i=[];e=e.getDescendants(!1);for(let r=0,a;a=e[r];r++)i[r]=a.id;return i},ot=function(e,i){const r=ge(e.type);if(!r)throw Error("Unknown event type.");return r.fromJson(e,i)},ge=function(e){const i=p(oe.EVENT,e);if(!i)throw Error("Event type ".concat(e," not found in registry."));return i},ro=function(e){if((Te(e)||ie(e))&&e.workspaceId){var i=$t(e.workspaceId);if(!e.blockId)throw Error("Encountered a blockEvent without a proper blockId");if(e=i.getBlockById(e.blockId)){const r=zc;try{zc=!1;const a=e.getParent();if(a&&!a.hasDisabledReason(y_)){const u=e.getDescendants(!1);for(let f=0,E;E=u[f];f++)E.setDisabledReason(!1,y_)}else if((e.outputConnection||e.previousConnection)&&!i.isDragging())do e.setDisabledReason(!0,y_),e=e.getNextBlock();while(e)}finally{zc=r}}}},q=function(e,i,r){e=document.createElementNS(Wc,"".concat(e));for(const a in i)e.setAttribute(a,"".concat(i[a]));return r&&r.appendChild(e),e},fe=function(e,i){return i=i.split(" "),i.every(r=>e.classList.contains(r))?!1:(e.classList.add(...i),!0)},Co=function(e,i){e.classList.remove(...i.split(" "))},De=function(e,i){return i=i.split(" "),i.every(r=>!e.classList.contains(r))?!1:(e.classList.remove(...i),!0)},Po=function(e,i){return e.classList.contains(i)},Xe=function(e){return e&&e.parentNode?e.parentNode.removeChild(e):null},Xo=function(e,i){const r=i.nextSibling;if(i=i.parentNode,!i)throw Error("Reference node has no parent.");r?i.insertBefore(e,r):i.appendChild(e)},Bo=function(e,i){e.style.transform=i,e.style["-webkit-transform"]=i},bt=function(){S_++,nn||(nn=Object.create(null))},wo=function(){S_--,S_||(nn=null)},Tt=function(e){const i=e.textContent+"\n"+e.className.baseVal;var r;return nn&&(r=nn[i])||(r=window.getComputedStyle(e),r=Yo(e,r.fontSize,r.fontWeight,r.fontFamily),nn&&(nn[i]=r)),r},tn=function(e,i,r,a){return Yo(e,i+"pt",r,a)},Yo=function(e,i,r,a){const u=e.textContent;e=u+"\n"+e.className.baseVal;var f;return nn&&(f=nn[e])||(Xc||(f=document.createElement("canvas"),f.className="blocklyComputeCanvas",document.body.appendChild(f),Xc=f.getContext("2d")),u&&Xc?(Xc.font=r+" "+i+" "+a,f=Xc.measureText(u).width):f=0,nn&&(nn[e]=f)),f},M=function(e,i,r,a){const u=document.createElement("span");u.style.font=r+" "+i+" "+a,u.textContent=e,e=document.createElement("div"),e.style.width="1px",e.style.height="0",i=document.createElement("div"),i.style.display="flex",i.style.position="fixed",i.style.top="0",i.style.left="0",i.appendChild(u),i.appendChild(e),document.body.appendChild(i),r={height:0,baseline:0};try{i.style.alignItems="baseline",r.baseline=e.offsetTop-u.offsetTop,i.style.alignItems="flex-end",r.height=e.offsetTop-u.offsetTop}finally{document.body.removeChild(i)}return r},n.getFocusManager$$module$build$src$core$focus_manager=function(){return Ao.getFocusManager()},Uo=function(e){return e&&typeof e.getFocusableElement=="function"&&typeof e.getFocusableTree=="function"&&typeof e.onNodeFocus=="function"&&typeof e.onNodeBlur=="function"&&typeof e.canBeFocused=="function"},gi=function(e){return Uo(e)&&typeof e.id=="string"&&typeof e.workspace=="object"&&typeof e.select=="function"&&typeof e.unselect=="function"},et=function(e,i){for(const r in i)i[r]!==null&&Array.isArray(i[r])?e[r]=et(e[r]||[],i[r]):e[r]=i[r]!==null&&typeof i[r]=="object"?et(e[r]||Object.create(null),i[r]):i[r];return e},$t=function(e){return Yc[e]||null},Lt=function(){const e=[];for(const i in Yc)e.push(Yc[i]);return e},it=function(e){Yc[e.id]=e},lo=function(e){delete Yc[e.id]},_=function(){return ZO},O=function(e){ZO=e},D=function(){const e=n.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode();return e&&gi(e)?e:null},B=function(e){n.getFocusManager$$module$build$src$core$focus_manager().focusNode(e)},de=function(e){const i=D();let r,a,u,f;const E=new(ge(z.SELECTED))((r=i==null?void 0:i.id)!=null?r:null,(a=e==null?void 0:e.id)!=null?a:null,(f=(u=e==null?void 0:e.workspace.id)!=null?u:i==null?void 0:i.workspace.id)!=null?f:"");V(E)},Ze=function(){return QO},jo=function(e){QO=e},ii=function(e){for(;e.options.parentWorkspace;)e=e.options.parentWorkspace;const i=e.getParentSvg(),r=e.getCachedParentSvgSize();var a=i.parentElement;if(a instanceof HTMLElement){var u=a.offsetWidth;a=a.offsetHeight,r.width!==u&&(i.setAttribute("width",u+"px"),e.setCachedParentSvgSize(u,null)),r.height!==a&&(i.setAttribute("height",a+"px"),e.setCachedParentSvgSize(null,a)),e.resize()}},Ne=function(e,i){const r=Object.create(null),a=e.getDescendants(!0);i&&(e=e.getNextBlock())&&(e=a.indexOf(e),a.splice(e,a.length-e));for(let u=0,f;f=a[u];u++)r[f.type]?r[f.type]++:r[f.type]=1;return r},m=function(e){return function(){this.jsonInit(e)}},y=function(e){eR.defineBlocksWithJsonArrayInternal(e)},N=function(e){n.defineBlocks$$module$build$src$core$common(n.createBlockDefinitionsFromJsonArray$$module$build$src$core$common(e))},n.createBlockDefinitionsFromJsonArray$$module$build$src$core$common=function(e){const i={};for(let r=0;r<e.length;r++){const a=e[r];if(!a){console.warn("Block definition #".concat(r," in JSON array is ").concat(a,". Skipping"));continue}const u=a.type;u?i[u]={init:m(a)}:console.warn("Block definition #".concat(r," in JSON array is missing a type attribute. ")+"Skipping.")}return i},n.defineBlocks$$module$build$src$core$common=function(e){for(const i of Object.keys(e)){const r=e[i];i in St&&console.warn('Block definition "'.concat(i,'" overwrites previous definition.')),St[i]=r}},U=function(e){let i=_();const r=n.getFocusManager$$module$build$src$core$focus_manager().getFocusedTree();for(const a of Lt())if(r===a){i=a;break}!H(e)&&i&&(!i.rendered||i.isFlyout||i.isVisible())&&dt.registry.onKeyDown(i,e)},te=function(e,i){return i=e.indexOf(i),i===-1?!1:(e.splice(i,1),!0)},ye=function(e){if(R_)throw Error("CSS already injected");C_+="\n"+e},Me=function(e,i){R_||(R_=!0,e&&(e=i.replace(/[\\/]$/,""),i=C_.replace(/<<<PATH>>>/g,e),C_="",e=document.createElement("style"),e.id="blockly-common-style",i=document.createTextNode(i),e.appendChild(i),document.head.insertBefore(e,document.head.firstChild)))},fo=function(e){return oR.getSizeInternal(e)},$n=function(e){if(go(e,"display")!=="none")return Ni(e);const i=e.style,r=i.display,a=i.visibility,u=i.position;i.visibility="hidden",i.position="absolute",i.display="inline";const f=e.offsetWidth;return e=e.offsetHeight,i.display=r,i.position=u,i.visibility=a,new Ue(f,e)},Ni=function(e){return new Ue(e.offsetWidth,e.offsetHeight)},go=function(e,i){return e=window.getComputedStyle(e),e[i]||e.getPropertyValue(i)},Kt=function(e){const i=new ne(0,0);e=e.getBoundingClientRect();var r=document.documentElement;return r=new ne(window.pageXOffset||r.scrollLeft,window.pageYOffset||r.scrollTop),i.x=e.left+r.x,i.y=e.top+r.y,i},Ec=function(){const e=document.body,i=document.documentElement;return new ne(e.scrollLeft||i.scrollLeft,e.scrollTop||i.scrollTop)},vc=function(e){const i=parseFloat(go(e,"borderLeftWidth")),r=parseFloat(go(e,"borderRightWidth")),a=parseFloat(go(e,"borderTopWidth"));return e=parseFloat(go(e,"borderBottomWidth")),new Be(a,e,i,r)},yc=function(e,i,r){e=Ll(e,i,r),i.scrollLeft=e.x,i.scrollTop=e.y},Ll=function(e,i,r){var a=Kt(e),u=Kt(i),f=vc(i);const E=a.x-u.x-f.left;return a=a.y-u.y-f.top,u=Ni(e),e=i.clientWidth-u.width,u=i.clientHeight-u.height,f=i.scrollLeft,i=i.scrollTop,r?(f+=E-e/2,i+=a-u/2):(f+=Math.min(E,Math.max(E-e,0)),i+=Math.min(a,Math.max(a-u,0))),new ne(f,i)},yr=function(e){const i=new ne(0,0);var r=e.x&&e.getAttribute("x");const a=e.y&&e.getAttribute("y");return r&&(i.x=parseInt(r)),a&&(i.y=parseInt(a)),(r=(r=e.getAttribute("transform"))&&r.match(iR))&&(i.x+=Number(r[1]),r[3]&&(i.y+=Number(r[3]))),(e=e.getAttribute("style"))&&e.includes("translate")&&(e=e.match(nR))&&(i.x+=Number(e[1]),e[3]&&(i.y+=Number(e[3]))),i},kl=function(e){let i=0,r=0;for(;e;){const a=yr(e);if(i+=a.x,r+=a.y,(" "+(e.getAttribute("class")||"")+" ").includes(" injectionDiv "))break;e=e.parentNode}return new ne(i,r)},Sc=function(){const e=Ec();return new Be(e.y,document.documentElement.clientHeight+e.y,e.x,document.documentElement.clientWidth+e.x)},Ic=function(){const e=document.documentElement,i=window;return new ne(i.pageXOffset||e.scrollLeft,i.pageYOffset||e.scrollTop)},ws=function(e,i){var r=i.x;i=i.y;const a=e.getInjectionDiv().getBoundingClientRect();return r=new ne(r-a.left,i-a.top),i=e.getOriginOffsetInPixels(),ne.difference(r,i).scale(1/e.scale)},As=function(e,i){var r=i.scale(e.scale);i=r.x,r=r.y;const a=e.getInjectionDiv().getBoundingClientRect();return e=e.getOriginOffsetInPixels(),new ne(i+a.left+e.x,r+a.top+e.y)},Oc=function(e){({document:zh=zh,DOMParser:Kc=Kc,XMLSerializer:qc=qc}=e),Vh=new Kc,A_=new qc},n.createElement$$module$build$src$core$utils$xml=function(e){return zh.createElementNS(sR,e)},n.createTextNode$$module$build$src$core$utils$xml=function(e){return zh.createTextNode(e)},n.textToDom$$module$build$src$core$utils$xml=function(e){let i=Vh.parseFromString(e,"text/xml");if(i&&i.documentElement&&!i.getElementsByTagName("parsererror").length)return i.documentElement;if((i=Vh.parseFromString(e,"text/html"))&&i.body.firstChild&&i.body.firstChild.nodeName.toLowerCase()==="xml")return i.body.firstChild;throw Error("DOMParser was unable to parse: ".concat(e))},Sr=function(e){return mm(A_.serializeToString(e))},mm=function(e){return e.replace(n1,i=>"&#".concat(i.charCodeAt(0),";"))},Z=function(e){return e?((e instanceof Element||typeof e=="string")&&(e=_m(e),e=_n(e)),Oe(e),e):null},Oe=function(e){const i=e.kind;if(e=e.contents,i&&i!==rR&&i!==L_)throw Error("Invalid toolbox kind "+i+". Please supply either "+rR+" or "+L_);if(!e)throw Error("Toolbox must have a contents attribute.")},Pe=function(e){return e?e.contents?e.contents:Array.isArray(e)&&e.length>0&&!e[0].nodeType?e:Yd(e):[]},Et=function(e){return lR.hasCategoriesInternal(e)},mo=function(e){if(!e)return!1;const i=e.kind;return i?i===L_:!!e.contents.filter(r=>r.kind.toUpperCase()==="CATEGORY").length},Ko=function(e){return e&&e.contents?!!e.contents.filter(function(i){return i.kind.toUpperCase()==="CATEGORY"}).length:!1},_n=function(e){const i={contents:Yd(e)};return e instanceof Node&&$m(e,i),i},Yd=function(e){const i=[];let r=e.childNodes;r||(r=e);for(let a=0,u;u=r[a];a++){if(!u.tagName)continue;e={};const f=u.tagName.toUpperCase();e.kind=f,f==="BLOCK"?e.blockxml=u:u.childNodes&&u.childNodes.length>0&&(e.contents=Yd(u)),$m(u,e),i.push(e)}return i},$m=function(e,i){for(let r=0;r<e.attributes.length;r++){const a=e.attributes[r];a.nodeName.includes("css-")?(i.cssconfig=i.cssconfig||{},i.cssconfig[a.nodeName.replace("css-","")]=a.value):i[a.nodeName]=a.value}},_m=function(e){let i=null;if(e)if(typeof e=="string"){if(i=n.textToDom$$module$build$src$core$utils$xml(e),i.nodeName.toLowerCase()!=="xml")throw TypeError("Toolbox should be an <xml> document.")}else e instanceof Element&&(i=e);return i},jd=function(e,i,r,a,u,f){const E=f.scrollbar&&f.scrollbar.canScrollVertically();return e.horizontal===Zl.LEFT?(r=u.absoluteMetrics.left+r,E&&f.RTL&&(r+=Ht.scrollbarThickness)):(r=u.absoluteMetrics.left+u.viewMetrics.width-i.width-r,E&&!f.RTL&&(r-=Ht.scrollbarThickness)),e.vertical===Jn.TOP?e=u.absoluteMetrics.top+a:(e=u.absoluteMetrics.top+u.viewMetrics.height-i.height-a,f.scrollbar&&f.scrollbar.canScrollHorizontally()&&(e-=Ht.scrollbarThickness)),new Be(e,e+i.height,r,r+i.width)},Kd=function(e,i){return{horizontal:i.toolboxMetrics.position===He.LEFT||e.horizontalLayout&&!e.RTL?Zl.RIGHT:Zl.LEFT,vertical:i.toolboxMetrics.position===He.BOTTOM?Jn.TOP:Jn.BOTTOM}},qd=function(e,i,r,a){const u=e.left,f=e.right-e.left,E=e.bottom-e.top;for(let C=0;C<a.length;C++){const Q=a[C];e.intersects(Q)&&(e=r===Us.UP?Q.top-E-i:Q.bottom+i,e=new Be(e,e+E,u,u+f),C=-1)}return e},Rc=function(e,i){s(oe.SERIALIZER,e,i)},$S=function(e){c(oe.SERIALIZER,e)},Nl=function(e,{addCoordinates:i=!1,saveIds:r=!0}={}){const a=e.workspace,u=Object.create(null);return u.height=e.getSize().height,u.width=e.getSize().width,r&&(u.id=e.id),i&&(i=e.getRelativeToSurfaceXY(),u.x=a.RTL?a.getWidth()-i.x:i.x,u.y=i.y),e.getText()&&(u.text=e.getText()),e.isCollapsed()&&(u.collapsed=!0),e.isOwnEditable()||(u.editable=!1),e.isOwnMovable()||(u.movable=!1),e.isOwnDeletable()||(u.deletable=!1),u},Cc=function(e,i,{recordUndo:r=!1}={}){const a=ae();if(n.setRecordUndo$$module$build$src$core$events$utils(r),r=i.newComment(e.id),e.text!==void 0&&r.setText(e.text),e.x!==void 0||e.y!==void 0){const f=r.getRelativeToSurfaceXY();let E,C=(E=e.x)!=null?E:f.x;C=i.RTL?i.getWidth()-C:C;var u;i=(u=e.y)!=null?u:f.y,r.moveTo(new ne(C,i))}if(e.width!==void 0||e.height){u=r.getSize();let f,E;r.setSize(new Ue((f=e.width)!=null?f:u.width,(E=e.height)!=null?E:u.height))}return e.collapsed!==void 0&&r.setCollapsed(e.collapsed),e.editable!==void 0&&r.setEditable(e.editable),e.movable!==void 0&&r.setMovable(e.movable),e.deletable!==void 0&&r.setDeletable(e.deletable),n.setRecordUndo$$module$build$src$core$events$utils(a),r},Jd=function(e,i){s(oe.PASTER,e,i)},_S=function(e){c(oe.PASTER,e)},bS=function(e){const i=e.workspace,r=e.getRelativeToSurfaceXY(),a=new ne(0,0),u=i.getTopComments(!1).filter(f=>f.id!==e.id).map(f=>f.getRelativeToSurfaceXY());for(;TS(ne.sum(r,a),u);)a.translate(i.RTL?-30:30,30);e.moveTo(ne.sum(r,a))},TS=function(e,i){return i.some(r=>Math.abs(r.x-e.x)<=1&&Math.abs(r.y-e.y)<=1)},bn=function(e,i){e.setAttribute(l1,i)},qt=function(e,i,r){Array.isArray(r)&&(r=r.join(" ")),e.setAttribute(r1+i,"".concat(r))},wc=function(e){return e&&typeof e.saveState=="function"&&typeof e.loadState=="function"},bm=function(e){return Tm(e),ES()?(Zd(),Promise.resolve()):(Ql||(Ql=new Promise(i=>{B_=i,gR=window.requestAnimationFrame(()=>{Zd(),i()})})),Ql)},Tn=function(){return Ql||Promise.resolve()},Ls=function(e){e||window.cancelAnimationFrame(gR),Zd(e),!e&&B_&&B_()},ES=function(){return HO},Tm=function(e){D_.add(e),P_.set(e,n.getGroup$$module$build$src$core$events$utils());const i=e.getParent();i?Tm(i):Kh.add(e)},Zd=function(e){const i=e?new Set([e]):new Set([...Kh].map(f=>f.workspace)),r=[...Kh].filter(vS).filter(f=>i.has(f.workspace));for(var a of r)vm(a);for(const f of i)f.resizeContents();for(var u of r)a=u.getRelativeToSurfaceXY(),u.updateComponentLocations(a);for(const f of r)u=n.getGroup$$module$build$src$core$events$utils(),(a=P_.get(f))&&n.setGroup$$module$build$src$core$events$utils(a),f.bumpNeighbours(),n.setGroup$$module$build$src$core$events$utils(u);for(const f of r)Em(f);e||(Ql=null)},Em=function(e){Kh.delete(e),D_.delete(e),P_.delete(e);for(const i of e.getChildren(!1))Em(i)},vS=function(e){return!e.isDisposed()&&!e.getParent()},vm=function(e){if(D_.has(e)&&e.initialized){for(const i of e.getChildren(!1))vm(i);e.renderEfficiently()}},Ac=function(e,i){TR(e,i)},yS=function(e=bR){TR=e},Qd=function(e,i){vR(e,i)},SS=function(e=ER){vR=e},eh=function(e,i,r){SR(e,i,r)},IS=function(e=yR){SR=e},OS=function(e,i){OR(e,i)},RS=function(e=IR){OR=e},Ml=function(e){return e&&typeof e.getProcedureDef=="function"},CS=function(e){return e&&typeof e.getProcedureCall=="function"&&typeof e.renameProcedure=="function"},ym=function(e){return e.getVariableModel!==void 0},$o=function(e,i,r,a){e=e+" was deprecated in "+i+" and will be deleted in "+r+".",a&&(e+="\nUse "+a+" instead."),RR.has(e)||(RR.add(e),console.warn(e))},n.allUsedVarModels$$module$build$src$core$variables=function(e){e=e.getAllBlocks(!1);const i=new Set;for(let r=0;r<e.length;r++){const a=e[r].getVarModels();if(a)for(let u=0;u<a.length;u++){const f=a[u];f.getId()&&i.add(f)}}return Array.from(i.values())},n.allDeveloperVariables$$module$build$src$core$variables=function(e){e=e.getAllBlocks(!1);const i=new Set;for(let a=0,u;u=e[a];a++){var r=u.getDeveloperVariables;if(r){r=r();for(let f=0;f<r.length;f++)i.add(r[f])}}return Array.from(i.values())},th=function(e){return Sm(e,!1)},Sm=function(e,i=!0){return St.variables_set||St.variables_get||console.warn("There are no variable blocks, but there is a variable category."),i?($o("The XML return value of Blockly.Variables.flyoutCategory()","v12","v13","the same method, but handle a return type of FlyoutItemInfo[] (JSON) instead."),wS(e)):(e.registerButtonCallback("CREATE_VARIABLE",function(r){Ir(r.getTargetWorkspace())}),[{kind:"button",text:"%{BKY_NEW_VARIABLE}",callbackkey:"CREATE_VARIABLE"},...ih(e,e.getVariableMap().getVariablesOfType(""),!0)])},oh=function(e){return{VAR:{name:e.getName(),type:e.getType()}}},ih=function(e,i,r,a="variables_get",u="variables_set"){r&&(r=St.math_change),e=[];const f=i.slice(-1)[0];return f&&(St[u]&&e.push({kind:"block",type:u,gap:r?8:24,fields:oh(f)}),r&&e.push({kind:"block",type:"math_change",gap:St[a]?20:8,fields:oh(f),inputs:{DELTA:{shadow:{type:"math_number",fields:{NUM:1}}}}})),St[a]&&e.push(...i.sort(xl).map(E=>({kind:"block",type:a,gap:8,fields:oh(E)}))),e},wS=function(e){let i=[];const r=document.createElement("button");return r.setAttribute("text","%{BKY_NEW_VARIABLE}"),r.setAttribute("callbackKey","CREATE_VARIABLE"),e.registerButtonCallback("CREATE_VARIABLE",function(a){Ir(a.getTargetWorkspace())}),i.push(r),e=Im(e),i=i.concat(e)},Im=function(e){e=e.getVariableMap().getVariablesOfType("");const i=[];if(e.length>0){var r=e[e.length-1];if(St.variables_set){var a=n.createElement$$module$build$src$core$utils$xml("block");a.setAttribute("type","variables_set"),a.setAttribute("gap",St.math_change?"8":"24"),a.appendChild(Or(r)),i.push(a)}if(St.math_change&&(a=n.createElement$$module$build$src$core$utils$xml("block"),a.setAttribute("type","math_change"),a.setAttribute("gap",St.variables_get?"20":"8"),a.appendChild(Or(r)),r=n.textToDom$$module$build$src$core$utils$xml('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>'),a.appendChild(r),i.push(a)),St.variables_get){e.sort(xl);for(let u=0,f;f=e[u];u++)r=n.createElement$$module$build$src$core$utils$xml("block"),r.setAttribute("type","variables_get"),r.setAttribute("gap","8"),r.appendChild(Or(f)),i.push(r)}}return i},Om=function(e){return wR.generateUniqueNameInternal(e)},AS=function(e){return nh(F_.charAt(0),e.getVariableMap().getAllVariables().map(i=>i.getName()))},nh=function(e,i){if(!i.length)return e;const r=F_;let a="",u=r.indexOf(e);for(;;){let f=!1;for(let E=0;E<i.length;E++)if(i[E].toLowerCase()===e){f=!0;break}if(!f)break;u++,u===r.length&&(u=0,a="".concat(Number(a)+1)),e=r.charAt(u)+a}return e},Ir=function(e,i,r){function a(f){sh(n.Msg$$module$build$src$core$msg.NEW_VARIABLE_TITLE,f,function(E){if(E){var C=Rm(E,e);if(C){if(C.getType()===u)var Q=n.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS.replace("%1",C.getName());else Q=n.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE,Q=Q.replace("%1",C.getName()).replace("%2",C.getType());Ac(Q,function(){a(E)})}else e.getVariableMap().createVariable(E,u),i&&i(E)}else i&&i(null)})}const u=r||"";a("")},n.renameVariable$$module$build$src$core$variables=function(e,i,r){function a(u){const f=n.Msg$$module$build$src$core$msg.RENAME_VARIABLE_TITLE.replace("%1",i.getName());sh(f,u,function(E){if(E){var C=LS(E,i.getType(),e),Q=Cm(i.getName(),E,e);if(C||Q){var Ce="";C?Ce=n.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",C.getName()).replace("%2",C.getType()):Q&&(Ce=n.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS_FOR_A_PARAMETER.replace("%1",E).replace("%2",Q)),Ac(Ce,function(){a(E)})}else e.getVariableMap().renameVariable(i,E),r&&r(E)}else r&&r(null)})}a("")},sh=function(e,i,r){eh(e,i,function(a){a&&(a=a.replace(/[\s\xa0]+/g," ").trim(),a===n.Msg$$module$build$src$core$msg.RENAME_VARIABLE||a===n.Msg$$module$build$src$core$msg.NEW_VARIABLE)&&(a=null),r(a)})},LS=function(e,i,r){r=r.getVariableMap().getAllVariables(),e=e.toLowerCase();for(let a=0,u;u=r[a];a++)if(u.getName().toLowerCase()===e&&u.getType()!==i)return u;return null},Rm=function(e,i){i=i.getVariableMap().getAllVariables(),e=e.toLowerCase();for(let r=0,a;a=i[r];r++)if(a.getName().toLowerCase()===e)return a;return null},Cm=function(e,i,r){return r.getProcedureMap().getProcedures().length?kS(e,i,r):NS(e,i,r)},kS=function(e,i,r){e=e.toLowerCase(),i=i.toLowerCase(),r=r.getProcedureMap().getProcedures();for(const u of r){var a=u.getParameters().filter(ym).map(f=>f.getVariableModel().getName());if(a&&(r=a.some(f=>f.toLowerCase()===e),a=a.some(f=>f.toLowerCase()===i),r&&a))return u.getName()}return null},NS=function(e,i,r){e=e.toLowerCase(),i=i.toLowerCase(),r=r.getAllBlocks(!1);for(const u of r){if(!Ml(u))continue;r=u.getProcedureDef();var a=r[1];const f=a.some(E=>E.toLowerCase()===e);if(a=a.some(E=>E.toLowerCase()===i),f&&a)return r[0]}return null},Or=function(e){const i=n.createElement$$module$build$src$core$utils$xml("field");return i.setAttribute("name","VAR"),i.setAttribute("id",e.getId()),i.setAttribute("variabletype",e.getType()),e=n.createTextNode$$module$build$src$core$utils$xml(e.getName()),i.appendChild(e),i},n.getOrCreateVariablePackage$$module$build$src$core$variables=function(e,i,r,a){let u=n.getVariable$$module$build$src$core$variables(e,i,r,a);return u||(u=MS(e,i,r,a)),u},n.getVariable$$module$build$src$core$variables=function(e,i,r,a){const u=e.getPotentialVariableMap();let f=null;if(i&&(f=e.getVariableById(i),!f&&u&&(f=u.getVariableById(i)),f))return f;if(r){if(a===void 0)throw Error("Tried to look up a variable by name without a type");f=e.getVariable(r,a),!f&&u&&(f=u.getVariable(r,a))}return f},MS=function(e,i,r,a){const u=e.getVariableMap(),f=e.getPotentialVariableMap();return r||(r=Om(e.isFlyout?e.targetWorkspace:e)),f?f.createVariable(r,a,i!=null?i:void 0):u.createVariable(r,a,i)},Lc=function(e,i){e=e.getAllVariables();const r=[];if(i.length!==e.length)for(let a=0;a<e.length;a++){const u=e[a];i.includes(u)||r.push(u)}return r},xl=function(e,i){return e.getName().localeCompare(i.getName(),void 0,{sensitivity:"base"})},Dl=function(e,i){const r=[];e=e.getAllBlocks(!1);for(let a=0;a<e.length;a++){const u=e[a].getVarModels();if(u)for(let f=0;f<u.length;f++)u[f].getId()===i&&r.push(e[a])}return r},n.deleteVariable$$module$build$src$core$variables=function(e,i,r){var a=i.getName();const u=Dl(e,i.getId());for(let f=u.length-1;f>=0;f--){const E=u[f];if(E.type==="procedures_defnoreturn"||E.type==="procedures_defreturn"){r=String(E.getFieldValue("NAME")),a=n.Msg$$module$build$src$core$msg.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",a).replace("%2",r),Ac(a);return}E===r&&u.splice(f,1)}r&&u.length||u.length>1?(a=n.Msg$$module$build$src$core$msg.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(u.length+(r&&!r.workspace.isFlyout?1:0))).replace("%2",a),Qd(a,f=>{f&&i&&e.getVariableMap().deleteVariable(i)})):e.getVariableMap().deleteVariable(i)},Mi=function(e,{addCoordinates:i=!1,addInputBlocks:r=!0,addNextBlocks:a=!0,doFullSerialization:u=!0,saveIds:f=!0}={}){if(e.isInsertionMarker())return null;const E={type:e.type,id:f?e.id:void 0};return i&&DS(e,E),xS(e,E),PS(e,E,u),BS(e,E,u),US(e,E,u),r&&HS(e,E,u,f),a&&FS(e,E,u,f),E},xS=function(e,i){e.isCollapsed()&&(i.collapsed=!0),e.isEnabled()||(i.disabledReasons=Array.from(e.getDisabledReasons())),e.isOwnDeletable()||(i.deletable=!1),e.isOwnMovable()||(i.movable=!1),e.isOwnEditable()||(i.editable=!1),e.inputsInline!==void 0&&e.inputsInline!==e.inputsInlineDefault&&(i.inline=e.inputsInline),e.data&&(i.data=e.data)},DS=function(e,i){const r=e.workspace;e=e.getRelativeToSurfaceXY(),i.x=Math.round(r.RTL?r.getWidth()-e.x:e.x),i.y=Math.round(e.y)},PS=function(e,i,r){e.saveExtraState?(e=e.saveExtraState(r),e!==null&&(i.extraState=e)):e.mutationToDom&&(e=e.mutationToDom(),e!==null&&(i.extraState=vn(e).replace(' xmlns="https://developers.google.com/blockly/xml"',"")))},BS=function(e,i,r){const a=Object.create(null);for(const u of e.getIcons())wc(u)&&(e=u.saveState(r))&&(a[u.getType().toString()]=e);Object.keys(a).length&&(i.icons=a)},US=function(e,i,r){const a=Object.create(null);for(const u of e.getFields())u.isSerializable()&&(a[u.name]=u.saveState(r));Object.keys(a).length&&(i.fields=a)},HS=function(e,i,r,a){const u=Object.create(null);for(let f=0;f<e.inputList.length;f++){const E=e.inputList[f];if(!E.connection)continue;const C=wm(E.connection,r,a);C&&(u[E.name]=C)}Object.keys(u).length&&(i.inputs=u)},FS=function(e,i,r,a){e.nextConnection&&(e=wm(e.nextConnection,r,a))&&(i.next=e)},wm=function(e,i,r){const a=e.getShadowState(!0);if(e=e.targetBlock(),!a&&!e)return null;const u=Object.create(null);return a&&(u.shadow=a),e&&!e.isShadow()&&(u.block=Mi(e,{doFullSerialization:i,saveIds:r})),u},ks=function(e,i,{recordUndo:r=!1}={}){return e=Pl(e,i,{recordUndo:r}),i.rendered&&Ls(),e},Pl=function(e,i,{parentConnection:r,isShadow:a=!1,recordUndo:u=!1}={}){const f=ae();n.setRecordUndo$$module$build$src$core$events$utils(u),(u=n.getGroup$$module$build$src$core$events$utils())||n.setGroup$$module$build$src$core$events$utils(!0),n.disable$$module$build$src$core$events$utils();const E=i.getAllVariables();let C;try{C=Am(e,i,{parentConnection:r,isShadow:a})}finally{n.enable$$module$build$src$core$events$utils()}if(GS(i,E),ke()&&V(new(ge(z.BLOCK_CREATE))(C)),n.setGroup$$module$build$src$core$events$utils(u),n.setRecordUndo$$module$build$src$core$events$utils(f),i.rendered){const Q=C;setTimeout(()=>{Q.disposed||Q.setConnectionTracking(!0)},1)}return C},Am=function(e,i,{parentConnection:r,isShadow:a=!1}={}){if(!e.type)throw new AR(e);const u=i.newBlock(e.type,e.id);return u.setShadow(a),VS(u,e),zS(u,e),WS(u,e),XS(r,u,e),YS(u,e),jS(u,e),KS(u,e),qS(u,e),JS(u,i.rendered),u},GS=function(e,i){if(ke())for(e=Lc(e,i),i=0;i<e.length;i++){const r=e[i];V(new(ge(z.VAR_CREATE))(r))}},VS=function(e,i){let r=i.x===void 0?0:i.x;i=i.y===void 0?0:i.y;const a=e.workspace;r=a.RTL?a.getWidth()-r:r,e.moveBy(r,i)},zS=function(e,i){if(i.collapsed&&e.setCollapsed(!0),i.deletable===!1&&e.setDeletable(!1),i.movable===!1&&e.setMovable(!1),i.editable===!1&&e.setEditable(!1),i.enabled===!1&&e.setDisabledReason(!0,Di),Array.isArray(i.disabledReasons))for(const r of i.disabledReasons)e.setDisabledReason(!0,r);i.inline!==void 0&&e.setInputsInline(i.inline),i.data!==void 0&&(e.data=i.data)},WS=function(e,i){i.extraState&&(e.loadExtraState?e.loadExtraState(i.extraState):e.domToMutation&&e.domToMutation(n.textToDom$$module$build$src$core$utils$xml(i.extraState)))},XS=function(e,i,r){if(e){if(e.getSourceBlock().isShadow()&&!i.isShadow())throw new kR(r);if(e.type===n.inputTypes$$module$build$src$core$inputs$input_types.VALUE){var a=i.outputConnection;if(!a)throw new eu("output",i,r)}else if(a=i.previousConnection,!a)throw new eu("previous",i,r);if(!e.connect(a)){const u=i.workspace.connectionChecker;throw new LR(u.getErrorMessage(u.canConnectWithReason(a,e,!1),a,e),e.type===n.inputTypes$$module$build$src$core$inputs$input_types.VALUE?"output connection":"previous connection",i,r)}}},YS=function(e,i){if(i.icons){var r=Object.keys(i.icons);for(const u of r){r=i.icons[u];var a=e.getIcon(u);if(!a){if(a=p(oe.ICON,u,!1),!a)throw new NR(u,e,i);a=new a(e),e.addIcon(a)}wc(a)&&a.loadState(r)}}},jS=function(e,i){if(i.fields){var r=Object.keys(i.fields);for(let a=0;a<r.length;a++){const u=r[a],f=i.fields[u],E=e.getField(u);E?E.loadState(f):console.warn("Ignoring non-existant field ".concat(u," in block ").concat(e.type))}}},KS=function(e,i){if(i.inputs){var r=Object.keys(i.inputs);for(let a=0;a<r.length;a++){const u=r[a],f=e.getInput(u);if(!f||!f.connection)throw new eu(u,e,i);Lm(f.connection,i.inputs[u])}}},qS=function(e,i){if(i.next){if(!e.nextConnection)throw new eu("next",e,i);Lm(e.nextConnection,i.next)}},Lm=function(e,i){i.shadow&&e.setShadowState(i.shadow),i.block&&Am(i.block,e.getSourceBlock().workspace,{parentConnection:e})},JS=function(e,i){if(i){e.setConnectionTracking(!1),e.initSvg(),e.queueRender();for(const r of e.getIcons())r.onLocationChange(e.getRelativeToSurfaceXY())}else e.initModel()},Rr=function(e){return typeof e.bubbleIsVisible=="function"&&typeof e.setBubbleVisible=="function"&&typeof e.getBubble=="function"},rh=function(e){return e*Math.PI/180},ZS=function(e){return e*180/Math.PI},Bl=function(e,i,r){if(r<e){const a=r;r=e,e=a}return Math.max(e,Math.min(i,r))},lh=function(){document.querySelector(".blocklyDropDownDiv")||(Nt=document.createElement("div"),Nt.className="blocklyDropDownDiv",Nt.tabIndex=-1,(Ze()||document.body).appendChild(Nt),ou=document.createElement("div"),ou.className="blocklyDropDownContent",Nt.appendChild(ou),tp=S(ou,"keydown",null,U),Gr=document.createElement("div"),Gr.className="blocklyDropDownArrow",Nt.appendChild(Gr),Nt.style.opacity="0",Nt.style.transition="transform "+Qh+"s, opacity "+Qh+"s")},km=function(e){z_=e},Nm=function(){return Hs},ah=function(){return ou},ch=function(){tp&&(L(tp),tp=null),Nt.remove(),lh()},Mm=function(e,i){Nt.style.backgroundColor=e,Nt.style.borderColor=i},QS=function(e,i,r,a,u=!0){return Bm(Dm(i),e,u,r,a)},xm=function(e,i,r,a=!0){return UR=!0,Bm(Pm(e),e,a,i,r)},Dm=function(e){var i=e.getSvgRoot();const r=e.workspace.scale,a=e.height*r;return e=e.width*r,i=Kt(i),new Be(i.y,i.y+a,i.x,i.x+e)},Pm=function(e){return e=e.getScaledBBox(),new Be(e.top,e.bottom,e.left,e.right)},Bm=function(e,i,r,a,u){const f=e.left+(e.right-e.left)/2,E=e.bottom;e=e.top,u&&(e+=u),u=i.getSourceBlock();let C=u.workspace;for(;C.options.parentWorkspace;)C=C.options.parentWorkspace;return km(C.getParentSvg().parentNode),Um(i,u.RTL,f,E,f,e,r,a)},Um=function(e,i,r,a,u,f,E,C){return Hs=e,Fr=C||null,Nt.style.direction=i?"rtl":"ltr",e=_(),PR=e.getRenderer().getClassName(),BR=e.getTheme().getClassName(),fe(Nt,PR),fe(Nt,BR),r=Vm(r,a,u,f),E&&(ep=n.getFocusManager$$module$build$src$core$focus_manager().takeEphemeralFocus(Nt)),r},Hm=function(e,i,r,a){return e=kc(e,r.left,r.right,a.width),{initialX:e.divX,initialY:i,finalX:e.divX,finalY:i+G_,arrowX:e.arrowX,arrowY:-9,arrowAtTop:!0,arrowVisible:!0}},Fm=function(e,i,r,a){return e=kc(e,r.left,r.right,a.width),{initialX:e.divX,initialY:i-a.height,finalX:e.divX,finalY:i-a.height-G_,arrowX:e.arrowX,arrowY:a.height-xR*2-Zh/2,arrowAtTop:!1,arrowVisible:!0}},eI=function(e,i,r){return e=kc(e,i.left,i.right,r.width),{initialX:e.divX,initialY:0,finalX:e.divX,finalY:0,arrowAtTop:null,arrowX:null,arrowY:null,arrowVisible:!1}},kc=function(e,i,r,a){return i=Bl(i,e-a/2,r-a),e=e-Zh/2-i,r=DR,e=Bl(r,e,a-r-Zh),{arrowX:e,divX:i}},Gm=function(){return!!Hs},uh=function(e,i){return Hs===e?(i?En():dh(),!0):!1},dh=function(){Nt.style.transform="translate(0, 0)",Nt.style.opacity="0",V_=setTimeout(function(){En()},Qh*1e3),Fr&&(Fr(),Fr=null)},En=function(){Gm()&&(V_&&clearTimeout(V_),Fr&&(Fr(),Fr=null),ch(),Hs=null,_().markFocused(),ep&&(ep(),ep=null))},Vm=function(e,i,r,a){e=W_.getPositionMetrics(e,i,r,a),e.arrowVisible?(i=e.arrowX,r=e.arrowY,a=e.arrowAtTop?45:225,Gr.style.display="",Gr.style.transform="translate(".concat(i,"px, ").concat(r,"px) rotate(").concat(a,"deg)"),Gr.setAttribute("class","blocklyDropDownArrow")):Gr.style.display="none",i=Math.floor(e.initialX),r=Math.floor(e.initialY),a=Math.floor(e.finalX);const u=Math.floor(e.finalY);return Nt.style.left=i+"px",Nt.style.top=r+"px",Nt.style.display="block",Nt.style.opacity="1",Nt.style.transform="translate("+(a-i)+"px,"+(u-r)+"px)",!!e.arrowAtTop},zm=function(){if(Hs){var e=Hs.getSourceBlock();e=UR?Pm(Hs):Dm(e);const i=e.left+(e.right-e.left)/2;Vm(i,e.bottom,i,e.top)}else dh()},Nc=function(e){return e.length?e.reduce(function(i,r){return i.length<r.length?i:r}).length:0},Wm=function(e,i){if(!e.length)return 0;if(e.length===1)return e[0].length;let r=0;i=i||Nc(e);let a;for(a=0;a<i;a++){for(var u=e[0][a],f=1;f<e.length;f++)if(u!==e[f][a])return r;u===" "&&(r=a+1)}for(u=1;u<e.length;u++)if((f=e[u][a])&&f!==" ")return r;return i},Xm=function(e,i){if(!e.length)return 0;if(e.length===1)return e[0].length;let r=0;i=i||Nc(e);let a;for(a=0;a<i;a++){for(var u=e[0].substr(-a-1,1),f=1;f<e.length;f++)if(u!==e[f].substr(-a-1,1))return r;u===" "&&(r=a+1)}for(u=1;u<e.length;u++)if((f=e[u].charAt(e[u].length-a-1))&&f!==" ")return r;return i},n.wrap$$module$build$src$core$utils$string=function(e,i){e=e.split("\n");for(let r=0;r<e.length;r++)e[r]=tI(e[r],i);return e.join("\n")},tI=function(e,i){if(e.length<=i)return e;const r=e.trim().split(/\s+/);for(var a=0;a<r.length;a++)r[a].length>i&&(i=r[a].length);var u=-1/0;let f,E=1;do{a=u,f=e,e=[],u=r.length/E;let C=1;for(let Q=0;Q<r.length-1;Q++)C<(Q+1.5)/u?(C++,e[Q]=!0):e[Q]=!1;e=Ym(r,e,i),u=hh(r,e,i),e=oI(r,e),E++}while(u>a);return f},hh=function(e,i,r){const a=[0],u=[];for(var f=0;f<e.length;f++)a[a.length-1]+=e[f].length,i[f]===!0?(a.push(0),u.push(e[f].charAt(e[f].length-1))):i[f]===!1&&a[a.length-1]++;for(e=Math.max(...a),i=0,f=0;f<a.length;f++)i-=Math.pow(Math.abs(r-a[f]),1.5)*2,i-=Math.pow(e-a[f],1.5),".?!".includes(u[f])?i+=r/3:",;)]}".includes(u[f])&&(i+=r/4);return a.length>1&&a[a.length-1]<=a[a.length-2]&&(i+=.5),i},Ym=function(e,i,r){let a=hh(e,i,r),u;for(let f=0;f<i.length-1;f++){if(i[f]===i[f+1])continue;const E=[].concat(i);E[f]=!E[f],E[f+1]=!E[f+1];const C=hh(e,E,r);C>a&&(a=C,u=E)}return u?Ym(e,u,r):i},oI=function(e,i){const r=[];for(let a=0;a<e.length;a++)r.push(e[a]),i[a]!==void 0&&r.push(i[a]?"\n":" ");return r.join("")},n.isNumber$$module$build$src$core$utils$string=function(e){return/^\s*-?\d+(\.\d+)?\s*$/.test(e)},iI=function(e){op=e},nI=function(){return op},sI=function(){return iu},rI=function(){return to},Ul=function(e){if(e=jm(e)){for(e=e.tooltip;typeof e=="function";)e=e();if(typeof e!="string")throw Error("Tooltip function must return a string.");return e}return""},jm=function(e){for(;e&&e.tooltip;){if(typeof e.tooltip=="string"||typeof e.tooltip=="function")return e;e=e.tooltip}return null},Km=function(){document.querySelector(".blocklyTooltipDiv")||(to=document.createElement("div"),to.className="blocklyTooltipDiv",(Ze()||document.body).appendChild(to))},Mc=function(e){e.mouseOverWrapper_=w(e,"pointerover",null,lI),e.mouseOutWrapper_=w(e,"pointerout",null,aI),e.addEventListener("pointermove",Jm,!1)},qm=function(e){e&&(L(e.mouseOverWrapper_),L(e.mouseOutWrapper_),e.removeEventListener("pointermove",Jm))},lI=function(e){oa||(e=jm(e.currentTarget),Pi!==e&&(Wn(),nu=null,Pi=e),clearTimeout(FR))},aI=function(e){oa||(FR=setTimeout(function(){nu=Pi=null,Wn()},1),clearTimeout(Vr),Vr=0)},Jm=function(e){if(Pi&&Pi.tooltip&&!oa)if(iu){const i=X_-e.pageX;e=Y_-e.pageY,Math.sqrt(i*i+e*e)>GR&&Wn()}else nu!==Pi&&(clearTimeout(Vr),X_=e.pageX,Y_=e.pageY,Vr=setTimeout(hI,VR))},Zm=function(){nu=Pi=null,Wn()},Wn=function(){iu&&(iu=!1,to&&(to.style.display="none")),Vr&&(clearTimeout(Vr),Vr=0)},Qm=function(){Wn(),oa=!0},e$=function(){oa=!1},cI=function(){to&&Pi&&(typeof op=="function"?op(to,Pi):uI())},uI=function(){var e=Ul(Pi);e=n.wrap$$module$build$src$core$utils$string(e,HR),e=e.split("\n");for(let i=0;i<e.length;i++){const r=document.createElement("div");r.appendChild(document.createTextNode(e[i])),to.appendChild(r)}},dI=function(e){const i=document.documentElement.clientWidth,r=document.documentElement.clientHeight;let a=X_;a=e?a-(j_+to.offsetWidth):a+j_;let u=Y_+K_;return u+to.offsetHeight>r+window.scrollY&&(u-=to.offsetHeight+2*K_),e?a=Math.max(ip-window.scrollX,a):a+to.offsetWidth>i+window.scrollX-2*ip&&(a=i-to.offsetWidth-2*ip),{x:a,y:u}},hI=function(){if(!oa&&(nu=Pi,to)){to.textContent="",cI();var e=Pi.RTL;to.style.direction=e?"rtl":"ltr",to.style.display="block",iu=!0;var{x:i,y:r}=dI(e);to.style.left=i+"px",to.style.top=r+"px"}},t$=function(){return q_},pI=function(e){q_=e},o$=function(){return J_},fI=function(e){J_=e},Cr=function(e){e="".concat(e).toLowerCase().trim();var i=zR[e];if(i||(i=e.substring(0,2)==="0x"?"#"+e.substring(2):e,i=i[0]==="#"?i:"#"+i,/^#[0-9a-f]{6}$/.test(i)))return i;if(/^#[0-9a-f]{3}$/.test(i))return["#",i[1],i[1],i[2],i[2],i[3],i[3]].join("");var r=e.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return r&&(e=Number(r[1]),i=Number(r[2]),r=Number(r[3]),e>=0&&e<256&&i>=0&&i<256&&r>=0&&r<256)?xc(e,i,r):null},xc=function(e,i,r){return i=e<<16|i<<8|r,e<16?"#"+(16777216|i).toString(16).substr(1):"#"+i.toString(16)},ph=function(e){return e=Cr(e),e?(e=parseInt(e.substr(1),16),[e>>16,e>>8&255,e&255]):[0,0,0]},fh=function(e,i,r){let a=0,u=0,f=0;if(i===0)f=u=a=r;else{const E=Math.floor(e/60),C=e/60-E;e=r*(1-i);const Q=r*(1-i*C);switch(i=r*(1-i*(1-C)),E){case 1:a=Q,u=r,f=e;break;case 2:a=e,u=r,f=i;break;case 3:a=e,u=Q,f=r;break;case 4:a=i,u=e,f=r;break;case 5:a=r,u=e,f=Q;break;case 6:case 0:a=r,u=i,f=e}}return xc(Math.floor(a),Math.floor(u),Math.floor(f))},wr=function(e,i,r){return e=Cr(e),!e||(i=Cr(i),!i)?null:(e=ph(e),i=ph(i),xc(Math.round(i[0]+r*(e[0]-i[0])),Math.round(i[1]+r*(e[1]-i[1])),Math.round(i[2]+r*(e[2]-i[2]))))},i$=function(e){return fh(e,q_,J_*255)},gh=function(e,i,r){const a=[];var u=e.split("");u.push("");var f=0;e=[];let E=null;for(let Ce=0;Ce<u.length;Ce++){var C=u[Ce];if(f===0)if(C==="%")(f=e.join(""))&&a.push(f),e.length=0,f=1;else if(r&&C==="\n"){const wt=e.join("");wt&&a.push(wt),e.length=0,a.push(C)}else e.push(C);else if(f===1)C==="%"?(e.push(C),f=0):i&&"0"<=C&&C<="9"?(f=2,E=C,(C=e.join(""))&&a.push(C),e.length=0):C==="{"?f=3:(e.push("%",C),f=0);else if(f===2)if("0"<=C&&C<="9")E+=C;else{var Q=void 0;a.push(parseInt((Q=E)!=null?Q:"",10)),Ce--,f=0}else f===3&&(C===""?(e.splice(0,0,"%{"),Ce--,f=0):C!=="}"?e.push(C):(f=e.join(""),/[A-Z]\w*/i.test(f)?(C=f.toUpperCase(),(C=C.startsWith("BKY_")?C.substring(4):null)&&C in n.Msg$$module$build$src$core$msg?(f=n.Msg$$module$build$src$core$msg[C],typeof f=="string"?Array.prototype.push.apply(a,gh(f,i,r)):i?a.push("".concat(f)):a.push(f)):a.push("%{"+f+"}")):a.push("%{"+f+"}"),f=e.length=0))}for((i=e.join(""))&&a.push(i),Q=[],e.length=0,u=0;u<a.length;u++)typeof a[u]!="string"||r&&a[u]==="\n"?((i=e.join(""))&&Q.push(i),e.length=0,Q.push(a[u])):e.push(a[u]);return(i=e.join(""))&&Q.push(i),e.length=0,Q},n$=function(e){return gh(e,!0,!0)},Bt=function(e){return typeof e!="string"?e:(e=gh(e,!1,!1),e.length?String(e[0]):"")},gI=function(e){let i=!0;const r=n.Msg$$module$build$src$core$msg,a=e.match(/%{BKY_[A-Z]\w*}/gi);if(a)for(let u=0;u<a.length;u++){const f=a[u].toUpperCase();r[f.slice(6,-1)]===void 0&&(console.warn("No message string for "+a[u]+" in "+e),i=!1)}return i},Hl=function(e){const i=typeof e=="string"?Bt(e):e;var r=Number(i);if(!isNaN(r)&&0<=r&&r<=360)return{hue:r,hex:fh(r,t$(),o$()*255)};if(r=Cr(i))return{hue:null,hex:r};throw r='Invalid colour: "'+i+'"',e!==i&&(r+=' (from "'+e+'")'),Error(r)},Fl=function(){return Ti},mI=function(e){if(Ti=e,e===null){let i;(i=document.querySelector("."+Z_))==null||i.remove()}},s$=function(){const e=Ze()||document.body,i=document.querySelector("div."+Z_);i?Ti=i:(Ti=document.createElement("div"),Ti.className=Z_,Ti.tabIndex=-1),S(Ti,"keydown",null,U),e.appendChild(Ti)},mh=function(e,i,r,a,u=!0){if(Gl(),ia=e,np=r,r=Ti){if(r.style.direction=i?"rtl":"ltr",r.style.display="block",!a&&e instanceof lt){let C;a=(C=e.getSourceBlock())==null?void 0:C.workspace}var f;WR=(f=a)!=null?f:null;var E;e=(E=a)!=null?E:_(),na=e.getRenderer().getClassName(),sa=e.getTheme().getClassName(),na&&fe(r,na),sa&&fe(r,sa),u&&(sp=n.getFocusManager$$module$build$src$core$focus_manager().takeEphemeralFocus(r))}},Gl=function(){if(r$()){ia=null;var e=Ti;e&&(e.style.display="none",e.style.left="",e.style.top="",np&&(np(),np=null),e.textContent="",na&&(De(e,na),na=""),sa&&(De(e,sa),sa=""),_().markFocused(),sp&&(sp(),sp=null))}},r$=function(){return!!ia},Ar=function(e){ia===e&&Gl()},Dc=function(e){let i=WR===null,r=e;for(;!i&&r;){if(r===e){i=!0;break}r=e.options.parentWorkspace}i&&Gl()},l$=function(e,i,r){Ti.style.left=e+"px",Ti.style.top=i+"px",Ti.style.height=r+"px"},a$=function(e,i,r,a){const u=_I(e,i,r);e=$I(e,i,r,a),u<0?l$(e,0,r.height+u):l$(e,u,r.height)},$I=function(e,i,r,a){return a?Math.min(Math.max(i.right-r.width,e.left),e.right-r.width):Math.max(Math.min(i.left,e.right-r.width),e.left)},_I=function(e,i,r){return i.bottom+r.height>=e.bottom?i.top-r.height:i.bottom},bI=function(e){return!(e==null||!e.repositionForWindowResize)},c$=function(){bI(ia)&&ia.repositionForWindowResize()||Gl()},TI=function(){return rp},u$=function(e){rp=e},Vl=function(e,i,r,a,u){if(mh(XR,r,d$,a),i.length){u||(e instanceof PointerEvent?u=new ne(e.clientX,e.clientY):(console.warn("Context menu opened with keyboard but no location given"),u=new ne(0,0)));var f=EI(i,r,e,u);lp=f,vI(f,r,u),setTimeout(function(){f.focus()},1),rp=null}else Pc()},EI=function(e,i,r,a){const u=new x_;u.setRole(_i.MENU);for(let f=0;f<e.length;f++){const E=e[f];if(E.separator){u.addChild(new fR);continue}const C=new Yh(E.text);C.setRightToLeft(i),C.setRole(_i.MENUITEM),u.addChild(C),C.setEnabled(E.enabled),E.enabled&&C.onAction(function(Q,Ce){Pc(),requestAnimationFrame(()=>{setTimeout(()=>{E.callback(E.scope,r,Ce,a)},0)})},{})}return u},vI=function(e,i,r){const a=Sc();r=new Be(r.y+a.top,r.y+a.top,r.x+a.left,r.x+a.left),yI(e);const u=e.getSize();i&&(r.left+=u.width,r.right+=u.width,a.left+=u.width,a.right+=u.width),a$(a,r,u,i),e.focus()},yI=function(e){var i=Fl();if(!i)throw Error("Attempting to create a context menu when widget div is null");i=e.render(i),fe(i,"blocklyContextMenu"),S(i,"contextmenu",null,SI),e.focus()},SI=function(e){e.preventDefault(),e.stopPropagation()},Pc=function(){Ar(XR),rp=null},d$=function(){lp&&(lp.dispose(),lp=null)},n.callbackFactory$$module$build$src$core$contextmenu=function(e,i){return()=>{n.disable$$module$build$src$core$events$utils();let r;try{r=i instanceof Element?Lr(i,e.workspace):Pl(i,e.workspace);const a=e.getRelativeToSurfaceXY();a.x=e.RTL?a.x-n.config$$module$build$src$core$config.snapRadius:a.x+n.config$$module$build$src$core$config.snapRadius,a.y+=n.config$$module$build$src$core$config.snapRadius*2,r.moveBy(a.x,a.y)}finally{n.enable$$module$build$src$core$events$utils()}return ke()&&!r.isShadow()&&V(new(ge(z.BLOCK_CREATE))(r)),n.getFocusManager$$module$build$src$core$focus_manager().focusNode(r),r}},h$=function(e,i){return i=K(i,e.getParentSvg(),e.getInverseScreenCTM()),i.x/=e.scale,i.y/=e.scale,i},$h=function(e,i,r){i=h$(e,i),jR.set(e,ne.difference(r,i))},_h=function(e,i){if(i=h$(e,i),e=jR.get(e),!e)throw Error("Drag not initialized");return ne.sum(e,i)},II=function(e,i=!1){const r=n.createElement$$module$build$src$core$utils$xml("xml");var a=p$(n.allUsedVarModels$$module$build$src$core$variables(e));a.hasChildNodes()&&r.appendChild(a);for(const u of e.getTopComments())r.appendChild(Bc(u,i));for(e=e.getTopBlocks(!0),a=0;a<e.length;a++)r.appendChild(Uc(e[a],i));return r},Bc=function(e,i=!1){const r=n.createElement$$module$build$src$core$utils$xml("comment");i||r.setAttribute("id",e.id),i=e.workspace;const a=e.getRelativeToSurfaceXY().clone();return a.x=i.RTL?i.getWidth()-a.x:a.x,r.setAttribute("x","".concat(a.x)),r.setAttribute("y","".concat(a.y)),r.setAttribute("w","".concat(e.getSize().width)),r.setAttribute("h","".concat(e.getSize().height)),e.getText()&&(r.textContent=e.getText()),e.isCollapsed()&&r.setAttribute("collapsed","true"),e.isOwnEditable()||r.setAttribute("editable","false"),e.isOwnMovable()||r.setAttribute("movable","false"),e.isOwnDeletable()||r.setAttribute("deletable","false"),r},p$=function(e){const i=n.createElement$$module$build$src$core$utils$xml("variables");for(let r=0;r<e.length;r++){const a=e[r],u=n.createElement$$module$build$src$core$utils$xml("variable");u.appendChild(n.createTextNode$$module$build$src$core$utils$xml(a.getName())),a.getType()&&u.setAttribute("type",a.getType()),u.id=a.getId(),i.appendChild(u)}return i},Uc=function(e,i){if(e.isInsertionMarker()&&(e=e.getChildren(!1)[0],!e))return new DocumentFragment;let r=0;if(e.workspace.RTL&&(r=e.workspace.getWidth()),i=Ns(e,i),_$(i)){const a=e.getRelativeToSurfaceXY();i.setAttribute("x",String(Math.round(e.workspace.RTL?r-a.x:a.x))),i.setAttribute("y",String(Math.round(a.y)))}return i},OI=function(e){if(e.isSerializable()){const i=n.createElement$$module$build$src$core$utils$xml("field");return i.setAttribute("name",e.name||""),e.toXml(i)}return null},RI=function(e,i){for(const r of e.getFields())(e=OI(r))&&i.appendChild(e)},Ns=function(e,i){if(e.isInsertionMarker())return(i=e.getChildren(!1)[0])?Ns(i):new DocumentFragment;const r=n.createElement$$module$build$src$core$utils$xml(e.isShadow()?"shadow":"block");if(r.setAttribute("type",e.type),i||(r.id=e.id),e.mutationToDom){var a=e.mutationToDom();a&&(a.hasChildNodes()||a.hasAttributes())&&r.appendChild(a)}if(RI(e,r),a=e.getCommentText()){var u=e.getIcon(eo.COMMENT),f=u.getBubbleSize(),E=u.bubbleIsVisible();u=u.getBubbleLocation();var C=n.createElement$$module$build$src$core$utils$xml("comment");C.appendChild(n.createTextNode$$module$build$src$core$utils$xml(a)),C.setAttribute("pinned","".concat(E)),C.setAttribute("h","".concat(f.height)),C.setAttribute("w","".concat(f.width)),u&&(C.setAttribute("x","".concat(e.workspace.RTL?e.workspace.getWidth()-(u.x+f.width):u.x)),C.setAttribute("y","".concat(u.y))),r.appendChild(C)}for(e.data&&(a=n.createElement$$module$build$src$core$utils$xml("data"),a.appendChild(n.createTextNode$$module$build$src$core$utils$xml(e.data)),r.appendChild(a)),a=0;a<e.inputList.length;a++){f=e.inputList[a];var Q=void 0;E=!0,f.type!==n.inputTypes$$module$build$src$core$inputs$input_types.DUMMY&&f.type!==n.inputTypes$$module$build$src$core$inputs$input_types.END_ROW&&(u=f.connection.targetBlock(),f.type===n.inputTypes$$module$build$src$core$inputs$input_types.VALUE?Q=n.createElement$$module$build$src$core$utils$xml("value"):f.type===n.inputTypes$$module$build$src$core$inputs$input_types.STATEMENT&&(Q=n.createElement$$module$build$src$core$utils$xml("statement")),C=f.connection.getShadowDom(),!C||u&&u.isShadow()||Q.appendChild(f$(C,i)),u&&(u=Ns(u,i),u.nodeType===Kn.ELEMENT_NODE&&(Q.appendChild(u),E=!1)),Q.setAttribute("name",f.name),E||r.appendChild(Q))}e.inputsInline!==void 0&&e.inputsInline!==e.inputsInlineDefault&&r.setAttribute("inline",String(e.inputsInline)),e.isCollapsed()&&r.setAttribute("collapsed","true"),e.isEnabled()||r.setAttribute("disabled-reasons",Array.from(e.getDisabledReasons()).map(encodeURIComponent).join(",")),e.isOwnDeletable()||r.setAttribute("deletable","false"),e.isOwnMovable()||r.setAttribute("movable","false"),e.isOwnEditable()||r.setAttribute("editable","false"),Q=e.getNextBlock();let Ce;return Q&&(a=Ns(Q,i),a.nodeType===Kn.ELEMENT_NODE&&(Ce=n.createElement$$module$build$src$core$utils$xml("next"),Ce.appendChild(a),r.appendChild(Ce))),e=e.nextConnection&&e.nextConnection.getShadowDom(),!e||Q&&Q.isShadow()||Ce.appendChild(f$(e,i)),r},f$=function(e,i){let r=e=e.cloneNode(!0),a;for(;r;)if(i&&r.nodeName==="shadow"&&r.removeAttribute("id"),r.firstChild)r=r.firstChild;else{for(;r&&!r.nextSibling;){a=r,r=r.parentNode;let u;a.nodeType===Kn.TEXT_NODE&&a.data.trim()===""&&((u=r)==null?void 0:u.firstChild)!==a&&Xe(a)}r&&(a=r,r=r.nextSibling,a.nodeType===Kn.TEXT_NODE&&a.data.trim()===""&&Xe(a))}return e},vn=function(e){return Sr(e).replace(/<(\w+)([^<]*)\/>/g,"<$1$2></$1>")},CI=function(e){e=vn(e).split("<");let i="";for(let r=1;r<e.length;r++){const a=e[r];a[0]==="/"&&(i=i.substring(2)),e[r]=i+"<"+a,a[0]!=="/"&&a.slice(-2)!=="/>"&&(i+="  ")}return e=e.join("\n"),e=e.replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>"),e.replace(/^\n/,"")},wI=function(e,i){return i.setResizesEnabled(!1),i.clear(),e=n.domToWorkspace$$module$build$src$core$xml(e,i),i.setResizesEnabled(!0),e},n.domToWorkspace$$module$build$src$core$xml=function(e,i){let r=0;i.RTL&&(r=i.getWidth());const a=[];bt();const u=n.getGroup$$module$build$src$core$events$utils();u||n.setGroup$$module$build$src$core$events$utils(!0),i.setResizesEnabled&&i.setResizesEnabled(!1);let f=!0;try{for(let E=0,C;C=e.childNodes[E];E++){const Q=C.nodeName.toLowerCase(),Ce=C;if(Q==="block"||Q==="shadow"&&!ae()){const wt=Lr(Ce,i);a.push(wt.id);let pt;const ko=parseInt((pt=Ce.getAttribute("x"))!=null?pt:"10",10);let is;const xn=parseInt((is=Ce.getAttribute("y"))!=null?is:"10",10);isNaN(ko)||isNaN(xn)||wt.moveBy(i.RTL?r-ko:ko,xn,["create"]),f=!1}else{if(Q==="shadow")throw TypeError("Shadow block cannot be a top-level block.");if(Q==="comment")g$(Ce,i);else if(Q==="variables"){if(f)m$(Ce,i);else throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");f=!1}}}}finally{n.setGroup$$module$build$src$core$events$utils(u),i.setResizesEnabled&&i.setResizesEnabled(!0),i.rendered&&Ls(),wo()}return V(new(ge(z.FINISHED_LOADING))(i)),a},g$=function(e,i){var r;const a=(r=e.getAttribute("id"))!=null?r:void 0;r=i.rendered?new Qn(i,a):new dp(i,a);var u;r.setText((u=e.textContent)!=null?u:"");var f;u=parseInt((f=e.getAttribute("x"))!=null?f:"",10);let E;f=parseInt((E=e.getAttribute("y"))!=null?E:"",10),isNaN(u)||isNaN(f)||(u=i.RTL?i.getWidth()-u:u,r.moveTo(new ne(u,f)));var C;i=parseInt((C=e.getAttribute("w"))!=null?C:"",10);let Q;return C=parseInt((Q=e.getAttribute("h"))!=null?Q:"",10),isNaN(i)||isNaN(C)||r.setSize(new Ue(i,C)),e.getAttribute("collapsed")==="true"&&r.setCollapsed(!0),e.getAttribute("editable")==="false"&&r.setEditable(!1),e.getAttribute("movable")==="false"&&r.setMovable(!1),e.getAttribute("deletable")==="false"&&r.setDeletable(!1),r},AI=function(e,i){if(!i.getBlocksBoundingBox)return n.domToWorkspace$$module$build$src$core$xml(e,i);var r=i.getBlocksBoundingBox();if(e=n.domToWorkspace$$module$build$src$core$xml(e,i),r&&r.top!==r.bottom){var a=r.bottom;r=i.RTL?r.right:r.left;var u=1/0;let f=-1/0,E=1/0;for(let C=0;C<e.length;C++){const Q=i.getBlockById(e[C]).getRelativeToSurfaceXY();Q.y<E&&(E=Q.y),Q.x<u&&(u=Q.x),Q.x>f&&(f=Q.x)}for(a=a-E+10,r=i.RTL?r-f:r-u,u=0;u<e.length;u++)i.getBlockById(e[u]).moveBy(r,a,["create"])}return e},n.domToBlock$$module$build$src$core$xml=function(e,i){return e=Lr(e,i),i.rendered&&Ls(),e},Lr=function(e,i){n.disable$$module$build$src$core$events$utils();var r=i.getAllVariables();let a;try{if(a=bh(e,i),i.rendered){const u=a,f=a.getDescendants(!1);u.setConnectionTracking(!1);for(let E=f.length-1;E>=0;E--)f[E].initSvg();for(let E=f.length-1;E>=0;E--)f[E].queueRender();setTimeout(function(){u.disposed||u.setConnectionTracking(!0)},1),i.resizeContents()}else{const u=a.getDescendants(!1);for(let f=u.length-1;f>=0;f--)u[f].initModel()}}finally{n.enable$$module$build$src$core$events$utils()}if(ke()){for(e=Lc(i,r),i=0;i<e.length;i++)r=e[i],V(new(ge(z.VAR_CREATE))(r));V(new(ge(z.BLOCK_CREATE))(a))}return a},m$=function(e,i){for(let a=0;a<e.children.length;a++){var r=e.children[a];const u=r.getAttribute("type"),f=r.getAttribute("id");if(r=r.textContent,!r)break;let E;i.getVariableMap().createVariable(r,(E=u)!=null?E:void 0,f)}},LI=function(e){const i={mutation:[],comment:[],data:[],field:[],input:[],next:[]};for(let r=0;r<e.children.length;r++){const a=e.children[r];if(a.nodeType!==Kn.TEXT_NODE)switch(a.nodeName.toLowerCase()){case"mutation":i.mutation.push(a);break;case"comment":i.comment.push(a);break;case"data":i.data.push(a);break;case"title":case"field":i.field.push(a);break;case"value":case"statement":i.input.push(a);break;case"next":i.next.push(a);break;default:console.warn("Ignoring unknown tag: "+a.nodeName)}}return i},kI=function(e,i){let r=!1;for(let a=0;a<e.length;a++){const u=e[a];i.domToMutation&&(i.domToMutation(u),i.initSvg&&(r=!0))}return r},NI=function(e,i){for(let r=0;r<e.length;r++){const a=e[r],u=a.textContent,f=a.getAttribute("pinned")==="true";let E;const C=parseInt((E=a.getAttribute("w"))!=null?E:"50",10);let Q;const Ce=parseInt((Q=a.getAttribute("h"))!=null?Q:"50",10);let wt,pt=parseInt((wt=a.getAttribute("x"))!=null?wt:"",10),ko;const is=parseInt((ko=a.getAttribute("y"))!=null?ko:"",10);i.setCommentText(u);const xn=i.getIcon(eo.COMMENT);isNaN(C)||isNaN(Ce)||xn.setBubbleSize(new Ue(C,Ce)),xn.setBubbleVisible(f),setTimeout(()=>{isNaN(pt)||isNaN(is)||(pt=i.workspace.RTL?i.workspace.getWidth()-(pt+C):pt,xn.setBubbleLocation(new ne(pt,is))),xn.setBubbleVisible(f)},1)}},MI=function(e,i){for(let r=0;r<e.length;r++)i.data=e[r].textContent},xI=function(e,i){for(let r=0;r<e.length;r++){const a=e[r],u=a.getAttribute("name");u?BI(i,u,a):console.warn("Ignoring unnamed field in block ".concat(i.type))}},$$=function(e){let i=null,r=null;for(let a=0;a<e.childNodes.length;a++){const u=e.childNodes[a];_$(u)&&(u.nodeName.toLowerCase()==="block"?i=u:u.nodeName.toLowerCase()==="shadow"&&(r=u))}return{childBlockElement:i,childShadowElement:r}},DI=function(e,i,r,a){for(let f=0;f<e.length;f++){var u=e[f];const E=u.getAttribute("name"),C=E?r.getInput(E):null;if(!C){console.warn("Ignoring non-existent input "+E+" in block "+a);break}if(u=$$(u),u.childBlockElement){if(!C.connection)throw TypeError("Input connection does not exist.");bh(u.childBlockElement,i,C.connection,!1)}if(u.childShadowElement){let Q;(Q=C.connection)==null||Q.setShadowDom(u.childShadowElement)}}},PI=function(e,i,r){for(let a=0;a<e.length;a++){const u=$$(e[a]);if(u.childBlockElement){if(!r.nextConnection)throw TypeError("Next statement does not exist.");if(r.nextConnection.isConnected())throw TypeError("Next statement is already connected.");bh(u.childBlockElement,i,r.nextConnection,!0)}u.childShadowElement&&r.nextConnection&&r.nextConnection.setShadowDom(u.childShadowElement)}},bh=function(e,i,r,a){var u;const f=e.getAttribute("type");if(!f)throw TypeError("Block type unspecified: "+e.outerHTML);var E=(u=e.getAttribute("id"))!=null?u:void 0;u=i.newBlock(f,E),E=LI(e);const C=kI(E.mutation,u);if(NI(E.comment,u),MI(E.data,u),r)if(a)if(u.previousConnection)r.connect(u.previousConnection);else throw TypeError("Next block does not have previous statement.");else if(u.outputConnection)r.connect(u.outputConnection);else if(u.previousConnection)r.connect(u.previousConnection);else throw TypeError("Child block does not have output or previous statement.");if(xI(E.field,u),DI(E.input,i,u,f),PI(E.next,i,u),C&&u.initSvg(),(i=e.getAttribute("inline"))&&u.setInputsInline(i==="true"),(i=e.getAttribute("disabled"))&&u.setDisabledReason(i==="true"||i==="disabled",Di),i=e.getAttribute("disabled-reasons"),i!==null)for(var Q of i.split(","))u.setDisabledReason(!0,decodeURIComponent(Q));if((Q=e.getAttribute("deletable"))&&u.setDeletable(Q==="true"),(Q=e.getAttribute("movable"))&&u.setMovable(Q==="true"),(Q=e.getAttribute("editable"))&&u.setEditable(Q==="true"),(Q=e.getAttribute("collapsed"))&&u.setCollapsed(Q==="true"),e.nodeName.toLowerCase()==="shadow"){for(e=u.getChildren(!1),Q=0;Q<e.length;Q++)if(!e[Q].isShadow())throw TypeError("Shadow block not allowed non-shadow child.");u.setShadow(!0)}return u},BI=function(e,i,r){const a=e.getField(i);a?a.fromXml(r):console.warn("Ignoring non-existent field "+i+" in block "+e.type)},UI=function(e){for(let i=0;i<e.childNodes.length;i++){const r=e.childNodes[i];if(r.nodeName.toLowerCase()==="next"){e.removeChild(r);break}}},_$=function(e){return e.nodeType===Kn.ELEMENT_NODE},yn=function(e,i){s(oe.FIELD,e,i,!0)},HI=function(e){c(oe.FIELD,e)},n.fromJson$$module$build$src$core$field_registry=function(e){return QR.fromJsonInternal(e)},FI=function(e){const i=g(oe.FIELD,e.type);return i?i.fromJson(e):(console.warn("Blockly could not create a field of type "+e.type+". The field is probably not being registered. This could be because the file is not loaded, the field does not register itself (Issue #1584), or the registration is not being reached."),null)},zl=function(e){return e&&typeof e=="object"&&"src"in e&&typeof e.src=="string"&&"alt"in e&&typeof e.alt=="string"&&"width"in e&&typeof e.width=="number"&&"height"in e&&typeof e.height=="number"},n.register$$module$build$src$core$extensions=function(e,i){if(typeof e!="string"||e.trim()==="")throw Error('Error: Invalid extension name "'+e+'"');if(ra[e])throw Error('Error: Extension "'+e+'" is already registered.');if(typeof i!="function")throw Error('Error: Extension "'+e+'" must be a function');ra[e]=i},n.registerMixin$$module$build$src$core$extensions=function(e,i){if(!i||typeof i!="object")throw Error('Error: Mixin "'+e+'" must be a object');n.register$$module$build$src$core$extensions(e,function(){this.mixin(i)})},n.registerMutator$$module$build$src$core$extensions=function(e,i,r,a){const u='Error when registering mutator "'+e+'": ';E$(u,i);const f=T$(i,u);if(r&&typeof r!="function")throw Error(u+'Extension "'+e+'" is not a function');n.register$$module$build$src$core$extensions(e,function(){f&&this.setMutator(new n.MutatorIcon$$module$build$src$core$icons$mutator_icon(a||[],this)),this.mixin(i),r&&r.apply(this)})},GI=function(e){b$(e)?delete ra[e]:console.warn('No extension mapping for name "'+e+'" found to unregister')},b$=function(e){return!!ra[e]},Th=function(e,i,r){const a=ra[e];if(typeof a!="function")throw Error('Error: Extension "'+e+'" not found.');let u;if(r?VI(e,i):u=vh(i),a.apply(i),r)E$('Error after applying mutator "'+e+'": ',i);else if(!XI(u,i))throw Error('Error when applying extension "'+e+'": mutation properties changed when applying a non-mutator extension.')},VI=function(e,i){if(vh(i).length)throw Error('Error: tried to apply mutation "'+e+'" to a block that already has mutator functions.  Block id: '+i.id)},zI=function(e,i){return Eh(e.mutationToDom,e.domToMutation,i+" mutationToDom/domToMutation")},WI=function(e,i){return Eh(e.saveExtraState,e.loadExtraState,i+" saveExtraState/loadExtraState")},T$=function(e,i){return Eh(e.compose,e.decompose,i+" compose/decompose")},Eh=function(e,i,r){if(e&&i){if(typeof e!="function"||typeof i!="function")throw Error(r+" must be a function");return!0}if(!e&&!i)return!1;throw Error(r+"Must have both or neither functions")},E$=function(e,i){const r=zI(i,e),a=WI(i,e);if(!r&&!a)throw Error(e+"Mutations must contain either XML hooks, or JSON hooks, or both");T$(i,e)},vh=function(e){const i=[];return e.domToMutation!==void 0&&i.push(e.domToMutation),e.mutationToDom!==void 0&&i.push(e.mutationToDom),e.saveExtraState!==void 0&&i.push(e.saveExtraState),e.loadExtraState!==void 0&&i.push(e.loadExtraState),e.compose!==void 0&&i.push(e.compose),e.decompose!==void 0&&i.push(e.decompose),i},XI=function(e,i){if(i=vh(i),i.length!==e.length)return!1;for(let r=0;r<i.length;r++)if(e[r]!==i[r])return!1;return!0},YI=function(e){if(typeof document!="object")throw Error("runAfterPageLoad() requires browser document.");if(document.readyState==="complete")e();else{const i=setInterval(function(){document.readyState==="complete"&&(clearInterval(i),e())},10)}},n.buildTooltipForDropdown$$module$build$src$core$extensions=function(e,i){const r=[];return function(){r.includes(this.type)||(jI(this,e,i),r.push(this.type)),this.setTooltip((function(){const a=String(this.getFieldValue(e));return Bt(i[a])}).bind(this))}},jI=function(e,i,r){var a=e.getField(i);if(a instanceof Lo&&!a.isOptionListDynamic()){a=a.getOptions();for(const u of a)u!==Lo.SEPARATOR&&([,a]=u,r[a]===void 0&&console.warn("No tooltip mapping for value ".concat(a," of field ")+"".concat(i," of block type ").concat(e.type,".")))}},n.buildTooltipWithFieldText$$module$build$src$core$extensions=function(e,i){return function(){this.setTooltip((function(){const r=this.getField(i);return Bt(e).replace("%1",r?r.getText():"")}).bind(this))}},KI=function(){const e=this.tooltip;this.setTooltip((function(){const i=this.getParent();return i&&i.getInputsInline()&&i.tooltip||e}).bind(this))},Ae=function(e,i){return" "+e+","+i+" "},ni=function(e,i){return" "+e+i.join("")},_o=function(e,i){return" M "+e+","+i+" "},kt=function(e,i){return" m "+e+","+i+" "},Sn=function(e,i){return" l "+e+","+i+" "},Wl=function(e){return" l"+e.join("")},Le=function(e,i){return" "+e+" "+i+" "},Ut=function(e,i,r,a){return e+" "+r+" "+r+" "+i+a},qI=function(e,i){if(!e||!i)throw Error("Cannot connect null connections.");e.targetConnection=i,i.targetConnection=e},JI=function(e,i){let r=null;i=i.outputConnection;const a=i==null?void 0:i.getConnectionChecker();for(let u=0,f;f=e.inputList[u];u++){const E=f.connection;let C;if(E&&((C=a)!=null&&C.canConnect(i,E,!1))){if(r)return null;r=E}}return r},ZI=function(e,i){let r;for(;r=JI(e,i);)if(e=r.targetBlock(),!e||e.isShadow())return r;return null},v$=function(e){return Uo(e)&&typeof e.getType=="function"&&typeof e.initView=="function"&&typeof e.dispose=="function"&&typeof e.getWeight=="function"&&typeof e.getSize=="function"&&typeof e.applyColour=="function"&&typeof e.hideForInsertionMarker=="function"&&typeof e.updateEditable=="function"&&typeof e.updateCollapsed=="function"&&typeof e.isShownWhenCollapsed=="function"&&typeof e.setOffsetInBlock=="function"&&typeof e.onLocationChange=="function"&&typeof e.onClick=="function"},QI=function(e){return v$(e)&&Rr(e)&&wc(e)&&typeof e.setText=="function"&&typeof e.getText=="function"&&typeof e.setBubbleSize=="function"&&typeof e.getBubbleSize=="function"&&typeof e.setBubbleLocation=="function"&&typeof e.getBubbleLocation=="function"&&e.getType()===eo.COMMENT},yh=function(e){if(!(e.getDescendants(!1).length>100)){var i=e.workspace,r=e.getSvgRoot();i.getAudioManager().play("delete");var a=e.getRelativeToSurfaceXY(),u=r.cloneNode(!0);u.setAttribute("transform","translate("+a.x+","+a.y+")");var f;(f=i.getLayerManager())==null||f.appendToAnimationLayer({getSvgRoot:()=>u}),y$(u,{x:a.x,y:a.y,width:e.width,height:e.height},i.RTL,new Date)}},y$=function(e,i,r,a){const u=(new Date().getTime()-a.getTime())/150;u>1?Xe(e):(e.setAttribute("transform","translate("+(i.x+(r?-1:1)*i.width/2*u)+","+(i.y+i.height/2*u)+") scale("+(1-u)+")"),setTimeout(y$,10,e,i,r,a))},S$=function(e){var i=e.workspace;const r=i.scale;if(i.getAudioManager().play("click"),!(r<1)){var a=i.getSvgXY(e.getSvgRoot());e.outputConnection?(a.x+=(e.RTL?3:-3)*r,a.y+=13*r):e.previousConnection&&(a.x+=(e.RTL?-23:23)*r,a.y+=3*r);var u=q(F.CIRCLE,{cx:a.x,cy:a.y,r:0,fill:"none",stroke:"#888","stroke-width":10},i.getParentSvg());e=q(F.ANIMATE,{id:"animationCircle",begin:"indefinite",attributeName:"r",dur:"150ms",from:0,to:25*r},u),i=q(F.ANIMATE,{id:"animationOpacity",begin:"indefinite",attributeName:"opacity",dur:"150ms",from:1,to:0},u),e.beginElement(),i.beginElement(),setTimeout(()=>void Xe(u),150)}},I$=function(e){if(Xl(),e.workspace.getAudioManager().play("disconnect"),!(e.workspace.scale<1)){var i=e.getHeightWidth().height;i=Math.atan(10/i)/Math.PI*180,e.RTL||(i*=-1),au=e,O$(e,i,new Date,0)}},O$=function(e,i,r,a){const u=[.66,1,.66,0,-.66,-1,-.66,0];let f="";r.getTime()+200>new Date().getTime()&&(f="skewX(".concat(Math.round(u[a%u.length]*i),")"),$p=setTimeout(O$,15,e,i,r,a+1)),e.getSvgRoot().setAttribute("transform","".concat(e.getTranslation()," ").concat(f))},Xl=function(){au&&($p&&(clearTimeout($p),$p=null),au.getSvgRoot().setAttribute("transform",au.getTranslation()),au=null)},eO=function(e,i){e.workspace.RTL&&(i.x=e.workspace.getWidth()-i.x);const r=e.workspace,a=n.config$$module$build$src$core$config.snapRadius,u=ne.difference(i,e.getRelativeToSurfaceXY()),f=new ne(0,0),E=r.getAllBlocks(!1).filter(C=>C.id!=e.id).map(C=>C.getRelativeToSurfaceXY());for(;tO(ne.sum(i,f),E)||oO(e,ne.sum(u,f),a);)r.RTL?f.translate(-a,a*2):f.translate(a,a*2);e.moveTo(ne.sum(i,f))},tO=function(e,i){return i.some(r=>Math.abs(r.x-e.x)<=1&&Math.abs(r.y-e.y)<=1)},oO=function(e,i,r){return e.getConnections_(!1).some(a=>!!a.closest(r,i).connection)},Yl=function(e,i,r){const a=r.getBoundingRectangle(),u=a.right-a.left,f=Bl(i.top,a.top,i.top+i.height-(a.bottom-a.top))-a.top;let E=i.left;return i=i.left+i.width-u,e.RTL?E=Math.min(i,E):i=Math.max(E,i),(e=Bl(E,a.left,i)-a.left)||f?(r.moveBy(e,f,["inbounds"]),!0):!1},R$=function(e){return i=>{var r=e.getMetricsManager();if(r.hasFixedEdges()&&!e.isDragging()){var a;if(XO.includes((a=i.type)!=null?a:"")){a=r.getScrollMetrics(!0);const u=iO(e,i);u&&(r=n.getGroup$$module$build$src$core$events$utils()||!1,n.setGroup$$module$build$src$core$events$utils(i.group),Yl(e,a,u)&&!i.group&&console.warn("Moved object in bounds but there was no event group. This may break undo."),n.setGroup$$module$build$src$core$events$utils(r))}else pe(i)&&i.scale&&i.oldScale&&i.scale>i.oldScale&&Sh(e)}}},iO=function(e,i){let r=null;switch(i.type){case z.BLOCK_CREATE:case z.BLOCK_MOVE:(r=e.getBlockById(i.blockId))&&(r=r.getRootBlock());break;case z.COMMENT_CREATE:case z.COMMENT_MOVE:case z.COMMENT_RESIZE:r=e.getCommentById(i.commentId)}return r},Sh=function(e){var i=e.getMetricsManager();if(i.hasFixedEdges()&&!e.isDragging()){i=i.getScrollMetrics(!0);var r=e.getTopBoundedElements();for(let a=0,u;u=r[a];a++)Yl(e,i,u)}},xi=function(e){return e&&typeof e.isDeletable=="function"&&typeof e.dispose=="function"&&typeof e.setDeleteStyle=="function"},C$=function(e,i){const r=e.getIcons();for(const a of e.inputList){if(!a.isVisible())continue;r.push(...a.fieldRow);let u;if((u=a.connection)!=null&&u.targetBlock())if(e=a.connection.targetBlock(),a.connection.type!==Ie.NEXT_STATEMENT||i)r.push(e);else{let f;(e=(f=e.lastConnectionInStack(!1))==null?void 0:f.getSourceBlock())&&r.push(e)}else{let f;((f=a.connection)==null?void 0:f.type)===Ie.INPUT_VALUE&&r.push(a.connection)}}return r},jl=function(e,i){const r=e.workspace.getTopBoundedElements(!0).filter(u=>Uo(u));e=r.indexOf(e instanceof ht?e.getRootBlock():e)+i;let a=null;if(e>=0&&e<r.length?a=r[e]:e<0?a=r[r.length-1]:e>=r.length&&(a=r[0]),i<0&&a instanceof ht){let u,f;return(f=(u=a.lastConnectionInStack(!1))==null?void 0:u.getSourceBlock())!=null?f:a}return a},on=function(e,i){var r;let a;const u=e instanceof ht?(a=(r=e.outputConnection)==null?void 0:r.targetBlock())!=null?a:e.getSurroundParent():e.getSourceBlock();return!(u instanceof ht)||(r=C$(u,i>0),e=r.indexOf(e),e===-1)?null:(i=e+i,i>=0&&i<r.length?r[i]:null)},w$=function(e,i){s(oe.ICON,e.toString(),i)},nO=function(e){c(oe.ICON,e)},Kl=function(e){return e&&typeof e.getRelativeToSurfaceXY=="function"&&typeof e.isMovable=="function"&&typeof e.startDrag=="function"&&typeof e.drag=="function"&&typeof e.endDrag=="function"&&typeof e.revertDrag=="function"},sO=function(e){return e&&typeof e.autoHide=="function"},Ms=function(e){return typeof e.getProcedureModel=="function"&&typeof e.doProcedureUpdate=="function"&&typeof e.isProcedureDef=="function"},Ih=function(e){return e&&typeof e.startPublishing=="function"&&typeof e.stopPublishing=="function"},Hc=function(e){const i=e.getProcedureMap().getProcedures().filter(a=>!a.getReturnTypes()).map(a=>[a.getName(),a.getParameters().map(u=>u.getName()),!1]);e.getBlocksByType("procedures_defnoreturn",!1).forEach(a=>{!Ms(a)&&Ml(a)&&i.push(a.getProcedureDef())});const r=e.getProcedureMap().getProcedures().filter(a=>!!a.getReturnTypes()).map(a=>[a.getName(),a.getParameters().map(u=>u.getName()),!0]);return e.getBlocksByType("procedures_defreturn",!1).forEach(a=>{!Ms(a)&&Ml(a)&&r.push(a.getProcedureDef())}),i.sort(A$),r.sort(A$),[i,r]},A$=function(e,i){return e[0].localeCompare(i[0],void 0,{sensitivity:"base"})},n.findLegalName$$module$build$src$core$procedures=function(e,i){if(i.isInFlyout)return e;for(e=e||n.Msg$$module$build$src$core$msg.UNNAMED_KEY||"unnamed";!rO(e,i.workspace,i);){const r=e.match(/^(.*?)(\d+)$/);e=r?r[1]+(parseInt(r[2])+1):e+"2"}return e},rO=function(e,i,r){return!L$(e,i,r)},L$=function(e,i,r){for(const a of i.getAllBlocks(!1))if(a!==r&&Ml(a)&&n.Names$$module$build$src$core$names.equals(a.getProcedureDef()[0],e))return!0;r=r&&Ms(r)?r==null?void 0:r.getProcedureModel():void 0;for(const a of i.getProcedureMap().getProcedures())if(a!==r&&n.Names$$module$build$src$core$names.equals(a.getName(),e))return!0;return!1},n.rename$$module$build$src$core$procedures=function(e){var i=this.getSourceBlock();if(!i)throw new Vt;e=e.trim();const r=n.findLegalName$$module$build$src$core$procedures(e,i);Ms(i)&&!i.isInsertionMarker()&&i.getProcedureModel().setName(r);const a=this.getValue();if(a!==e&&a!==r)for(e=i.workspace.getAllBlocks(!1),i=0;i<e.length;i++){const u=e[i];u.renameProcedure&&u.renameProcedure(a,r)}return r},lO=function(e){function i(f,E){for(let Q=0;Q<f.length;Q++){var C=f[Q][0];const Ce=f[Q][1],wt=n.createElement$$module$build$src$core$utils$xml("block");wt.setAttribute("type",E),wt.setAttribute("gap","16");const pt=n.createElement$$module$build$src$core$utils$xml("mutation");for(pt.setAttribute("name",C),wt.appendChild(pt),C=0;C<Ce.length;C++){const ko=n.createElement$$module$build$src$core$utils$xml("arg");ko.setAttribute("name",Ce[C]),pt.appendChild(ko)}r.push(wt)}}const r=[];if(St.procedures_defnoreturn){var a=n.createElement$$module$build$src$core$utils$xml("block");a.setAttribute("type","procedures_defnoreturn"),a.setAttribute("gap","16");var u=n.createElement$$module$build$src$core$utils$xml("field");u.setAttribute("name","NAME"),u.appendChild(n.createTextNode$$module$build$src$core$utils$xml(n.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_PROCEDURE)),a.appendChild(u),r.push(a)}return St.procedures_defreturn&&(a=n.createElement$$module$build$src$core$utils$xml("block"),a.setAttribute("type","procedures_defreturn"),a.setAttribute("gap","16"),u=n.createElement$$module$build$src$core$utils$xml("field"),u.setAttribute("name","NAME"),u.appendChild(n.createTextNode$$module$build$src$core$utils$xml(n.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_PROCEDURE)),a.appendChild(u),r.push(a)),St.procedures_ifreturn&&(a=n.createElement$$module$build$src$core$utils$xml("block"),a.setAttribute("type","procedures_ifreturn"),a.setAttribute("gap","16"),r.push(a)),r.length&&r[r.length-1].setAttribute("gap","24"),e=Hc(e),i(e[0],"procedures_callnoreturn"),i(e[1],"procedures_callreturn"),r},Oh=function(e){return k$(e,!1)},k$=function(e,i=!0){function r(u,f){for(const[E,C]of u)a.push({kind:"block",type:f,gap:16,extraState:{name:E,params:C}})}if(i)return $o("The XML return value of Blockly.Procedures.flyoutCategory()","v12","v13","the same method, but handle a return type of FlyoutItemInfo[] (JSON) instead."),lO(e);const a=[];return St.procedures_defnoreturn&&a.push({kind:"block",type:"procedures_defnoreturn",gap:16,fields:{NAME:n.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_PROCEDURE}}),St.procedures_defreturn&&a.push({kind:"block",type:"procedures_defreturn",gap:16,fields:{NAME:n.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_PROCEDURE}}),St.procedures_ifreturn&&a.push({kind:"block",type:"procedures_ifreturn",gap:16}),a.length&&(a[a.length-1].gap=24),e=Hc(e),r(e[0],"procedures_callnoreturn"),r(e[1],"procedures_callreturn"),a},N$=function(e){var i=[],r=e.getBlocksByType("procedures_mutatorarg",!1);for(let f=0,E;E=r[f];f++)i.push(E.getFieldValue("NAME"));r=n.createElement$$module$build$src$core$utils$xml("xml");const a=n.createElement$$module$build$src$core$utils$xml("block");a.setAttribute("type","procedures_mutatorarg");const u=n.createElement$$module$build$src$core$utils$xml("field");u.setAttribute("name","NAME"),i=nh(n.DEFAULT_ARG$$module$build$src$core$procedures,i),i=n.createTextNode$$module$build$src$core$utils$xml(i),u.appendChild(i),a.appendChild(u),r.appendChild(a),e.updateToolbox(r)},M$=function(e){if(he(e)&&e.bubbleType==="mutator"&&e.isOpen&&e.blockId){e=$t(e.workspaceId).getBlockById(e.blockId);var i=e.type;(i==="procedures_defnoreturn"||i==="procedures_defreturn")&&(e=e.getIcon(n.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE).getWorkspace(),N$(e),e.addChangeListener(aO))}},aO=function(e){(ie(e)||ce(e)||me(e)||ve(e))&&(e=$t(e.workspaceId),N$(e))},x$=function(e,i){return i.getAllBlocks(!1).filter(r=>cO(r,e)||CS(r)&&n.Names$$module$build$src$core$names.equals(r.getProcedureCall(),e))},cO=function(e,i){return Ms(e)&&!e.isProcedureDef()&&e.getProcedureModel()&&n.Names$$module$build$src$core$names.equals(e.getProcedureModel().getName(),i)},n.mutateCallers$$module$build$src$core$procedures=function(e){const i=ae();var r=e.getProcedureDef()[0];const a=e.mutationToDom(!0);e=x$(r,e.workspace);for(let f=0,E;E=e[f];f++){r=(r=E.mutationToDom())&&Sr(r),E.domToMutation&&E.domToMutation(a);var u=E.mutationToDom();u=u&&Sr(u),r!==u&&(n.setRecordUndo$$module$build$src$core$events$utils(!1),V(new(ge(z.BLOCK_CHANGE))(E,"mutation",null,r,u)),n.setRecordUndo$$module$build$src$core$events$utils(i))}},n.getDefinition$$module$build$src$core$procedures=function(e,i){for(const r of i.getAllBlocks(!1))if(Ms(r)&&r.isProcedureDef()&&n.Names$$module$build$src$core$names.equals(r.getProcedureModel().getName(),e)||Ml(r)&&n.Names$$module$build$src$core$names.equals(r.getProcedureDef()[0],e))return r;return null},Rh=function(e){return e.isDynamic},uO=function(e){return e.pathDown!==void 0&&e.pathUp!==void 0},dO=function(e){return e.pathLeft!==void 0&&e.pathRight!==void 0},Fc=function(e,i){s(oe.RENDERER,e,i)},hO=function(e){c(oe.RENDERER,e)},D$=function(e,i,r){return e=new(p(oe.RENDERER,e))(e),e.init(i,r),e},Ch=function(e){Ir(e.getTargetWorkspace(),void 0,"String")},wh=function(e){Ir(e.getTargetWorkspace(),void 0,"Number")},Ah=function(e){Ir(e.getTargetWorkspace(),void 0,"Colour")},Lh=function(e){return P$(e,!1)},P$=function(e,i=!0){return St.variables_set_dynamic||St.variables_get_dynamic||console.warn("There are no dynamic variable blocks, but there is a dynamic variable category."),i?($o("The XML return value of Blockly.VariablesDynamic.flyoutCategory()","v12","v13","the same method, but handle a return type of FlyoutItemInfo[] (JSON) instead."),pO(e)):(e.registerButtonCallback("CREATE_VARIABLE_STRING",Ch),e.registerButtonCallback("CREATE_VARIABLE_NUMBER",wh),e.registerButtonCallback("CREATE_VARIABLE_COLOUR",Ah),[{kind:"button",text:n.Msg$$module$build$src$core$msg.NEW_STRING_VARIABLE,callbackkey:"CREATE_VARIABLE_STRING"},{kind:"button",text:n.Msg$$module$build$src$core$msg.NEW_NUMBER_VARIABLE,callbackkey:"CREATE_VARIABLE_NUMBER"},{kind:"button",text:n.Msg$$module$build$src$core$msg.NEW_COLOUR_VARIABLE,callbackkey:"CREATE_VARIABLE_COLOUR"},...ih(e,e.getVariableMap().getAllVariables(),!1,"variables_get_dynamic","variables_set_dynamic")])},pO=function(e){let i=[],r=document.createElement("button");return r.setAttribute("text",n.Msg$$module$build$src$core$msg.NEW_STRING_VARIABLE),r.setAttribute("callbackKey","CREATE_VARIABLE_STRING"),i.push(r),r=document.createElement("button"),r.setAttribute("text",n.Msg$$module$build$src$core$msg.NEW_NUMBER_VARIABLE),r.setAttribute("callbackKey","CREATE_VARIABLE_NUMBER"),i.push(r),r=document.createElement("button"),r.setAttribute("text",n.Msg$$module$build$src$core$msg.NEW_COLOUR_VARIABLE),r.setAttribute("callbackKey","CREATE_VARIABLE_COLOUR"),i.push(r),e.registerButtonCallback("CREATE_VARIABLE_STRING",Ch),e.registerButtonCallback("CREATE_VARIABLE_NUMBER",wh),e.registerButtonCallback("CREATE_VARIABLE_COLOUR",Ah),e=B$(e),i=i.concat(e)},B$=function(e){e=e.getVariableMap().getAllVariables();const i=[];if(e.length>0){if(St.variables_set_dynamic){var r=e[e.length-1];const a=n.createElement$$module$build$src$core$utils$xml("block");a.setAttribute("type","variables_set_dynamic"),a.setAttribute("gap","24"),a.appendChild(Or(r)),i.push(a)}if(St.variables_get_dynamic){e.sort(xl);for(let a=0,u;u=e[a];a++)r=n.createElement$$module$build$src$core$utils$xml("block"),r.setAttribute("type","variables_get_dynamic"),r.setAttribute("gap","8"),r.appendChild(Or(u)),i.push(r)}}return i},kh=function(e,i){const r=e.toCopyData();return gu=r,mu=gi(e)&&e.workspace instanceof Vo?e.workspace:null,Np=i,r},Nh=function(){return gu},fO=function(e){gu=e},Mh=function(){return mu},gO=function(e){mu=e},U$=function(){return Np},mO=function(e){Np=e},xs=function(e,i,r){return e&&i?H$(e,i,r):gu&&mu?H$(gu,mu,Np):null},H$=function(e,i,r){let a;i=i.isMutator?i:(a=i.options.parentWorkspace)!=null?a:i;let u,f;return(f=(u=g(oe.PASTER,e.paster,!1))==null?void 0:u.paste(e,i,r))!=null?f:null},Gc=function(e){return e&&typeof e.toCopyData=="function"},F$=function(){dt.registry.register({name:An.ESCAPE,preconditionFn(e){return!e.isReadOnly()},callback(e){return e.hideChaff(),!0},keyCodes:[at.ESC]})},G$=function(){dt.registry.register({name:An.DELETE,preconditionFn(e,i){return i=i.focusedNode,!e.isReadOnly()&&i!=null&&xi(i)&&i.isDeletable()&&!e.isDragging()&&!n.getFocusManager$$module$build$src$core$focus_manager().ephemeralFocusTaken()},callback(e,i,r,a){return i.preventDefault(),e=a.focusedNode,e instanceof ht?e.checkAndDelete():xi(e)&&e.isDeletable()&&(n.setGroup$$module$build$src$core$events$utils(!0),e.dispose(),n.setGroup$$module$build$src$core$events$utils(!1)),!0},keyCodes:[at.DELETE,at.BACKSPACE]})},xh=function(e){return Gc(e)&&xi(e)&&Kl(e)?e.isCopyable?e.isCopyable():e instanceof ht||e instanceof Qn?e.isOwnDeletable()&&e.isOwnMovable():e.isDeletable()&&e.isMovable():!1},V$=function(e){return xh(e)&&xi(e)&&e.isDeletable()},z$=function(){const e=dt.registry.createSerializedKey(at.C,[at.CTRL]),i=dt.registry.createSerializedKey(at.C,[at.META]);dt.registry.register({name:An.COPY,preconditionFn(r,a){return a=a.focusedNode,r=r.isFlyout?r.targetWorkspace:r,!!a&&!!r&&!r.isDragging()&&!n.getFocusManager$$module$build$src$core$focus_manager().ephemeralFocusTaken()&&xh(a)},callback(r,a,u,f){return a.preventDefault(),a=f.focusedNode,!a||!Gc(a)||!xh(a)||(r=r.isFlyout?r.targetWorkspace:r,!r)?!1:(a.workspace.isFlyout||r.hideChaff(),r=Kl(a)&&a.workspace==r?a.getRelativeToSurfaceXY():void 0,!!kh(a,r))},keyCodes:[e,i]})},W$=function(){const e=dt.registry.createSerializedKey(at.X,[at.CTRL]),i=dt.registry.createSerializedKey(at.X,[at.META]);dt.registry.register({name:An.CUT,preconditionFn(r,a){return a=a.focusedNode,!!a&&!r.isReadOnly()&&!r.isDragging()&&!n.getFocusManager$$module$build$src$core$focus_manager().ephemeralFocusTaken()&&V$(a)},callback(r,a,u,f){return r=f.focusedNode,!r||!V$(r)||!Gc(r)?!1:(a=Kl(r)?r.getRelativeToSurfaceXY():void 0,a=kh(r,a),r instanceof ht?r.checkAndDelete():xi(r)&&r.dispose(),!!a)},keyCodes:[e,i]})},X$=function(){const e=dt.registry.createSerializedKey(at.V,[at.CTRL]),i=dt.registry.createSerializedKey(at.V,[at.META]);dt.registry.register({name:An.PASTE,preconditionFn(){var r=Mh();return!r||!r.rendered?!1:(r=r.isFlyout?r.targetWorkspace:r,!!Nh()&&!!r&&!r.isReadOnly()&&!r.isDragging()&&!n.getFocusManager$$module$build$src$core$focus_manager().ephemeralFocusTaken())},callback(r,a){if(r=Nh(),!r)return!1;var u=Mh();if(!u||(u=u.isFlyout?u.targetWorkspace:u,!u||u.isReadOnly()))return!1;if(a instanceof PointerEvent)return a=ws(u,new ne(a.clientX,a.clientY)),!!xs(r,u,a);if(a=U$(),!a)return!!xs(r,u);const{left:f,top:E,width:C,height:Q}=u.getMetricsManager().getViewMetrics(!0);return new Be(E,E+Q,f,f+C).contains(a.x,a.y)?!!xs(r,u):(a=new ne(f+C/2,E+Q/2),!!xs(r,u,a))},keyCodes:[e,i]})},Y$=function(){const e=dt.registry.createSerializedKey(at.Z,[at.CTRL]),i=dt.registry.createSerializedKey(at.Z,[at.META]);dt.registry.register({name:An.UNDO,preconditionFn(r){return!r.isReadOnly()&&!r.isDragging()&&!n.getFocusManager$$module$build$src$core$focus_manager().ephemeralFocusTaken()},callback(r,a){return r.hideChaff(),r.undo(!1),a.preventDefault(),!0},keyCodes:[e,i]})},j$=function(){const e=dt.registry.createSerializedKey(at.Z,[at.CTRL,at.SHIFT]),i=dt.registry.createSerializedKey(at.Z,[at.META,at.SHIFT]),r=dt.registry.createSerializedKey(at.Y,[at.CTRL]);dt.registry.register({name:An.REDO,preconditionFn(a){return!a.isDragging()&&!a.isReadOnly()&&!n.getFocusManager$$module$build$src$core$focus_manager().ephemeralFocusTaken()},callback(a,u){return a.hideChaff(),a.undo(!0),u.preventDefault(),!0},keyCodes:[e,i,r]})},K$=function(){F$(),G$(),z$(),W$(),X$(),Y$(),j$()},q$=function(e){const i=e.saveState();return e.getParameters().length&&(i.parameters=e.getParameters().map(r=>r.saveState())),i},J$=function(e,i,r,a){if(e=e.loadState(r,a),!r.parameters)return e;for(const[u,f]of r.parameters.entries())e.insertParameter(i.loadState(f,a),u);return e},$O=function(e){const i=Object.create(null),r=$(oe.SERIALIZER,!0);for(const a in r){let u;const f=(u=r[a])==null?void 0:u.save(e);f&&(i[a]=f)}return i},_O=function(e,i,{recordUndo:r=!1}={}){var a=$(oe.SERIALIZER,!0);if(a){a=Object.entries(a).sort((f,E)=>E[1].priority-f[1].priority);var u=ae();n.setRecordUndo$$module$build$src$core$events$utils(r),(r=n.getGroup$$module$build$src$core$events$utils())||n.setGroup$$module$build$src$core$events$utils(!0),bt(),i instanceof Vo&&i.setResizesEnabled(!1);for(const[,f]of a.reverse()){let E;(E=f)==null||E.clear(i)}for(const[f,E]of a.reverse())if(e[f]){let C;(C=E)==null||C.load(e[f],i)}i instanceof Vo&&i.setResizesEnabled(!0),wo(),V(new(ge(z.FINISHED_LOADING))(i)),n.setGroup$$module$build$src$core$events$utils(r),n.setRecordUndo$$module$build$src$core$events$utils(u)}},bO=function(e,i){let r=null;r=typeof e=="string"?document.getElementById(e)||document.querySelector(e):e;var a;if(!document.contains(r)&&document!==((a=r)==null?void 0:a.ownerDocument))throw Error("Error: container is not in current document");e=new On(i||{}),a=document.createElement("div"),fe(a,"injectionDiv"),i!=null&&i.rtl&&fe(a,"blocklyRTL"),r.appendChild(a),i=TO(a,e);const u=EO(a,i,e);return vO(u),O(u),ii(u),a.addEventListener("focusin",function(){O(u)}),S(a,"keydown",null,U),u},TO=function(e,i){e.setAttribute("dir","LTR"),Me(i.hasCss,i.pathToMedia);const r=q(F.SVG,{xmlns:Wc,"xmlns:html":Mr,"xmlns:xlink":$i,version:"1.1",class:"blocklySvg"},e),a=q(F.DEFS,{},r),u=String(Math.random()).substring(2);return i.gridPattern=fb.createDom(u,i.gridOptions,a,e),r},EO=function(e,i,r){r.parentWorkspace=null,r=new Vo(r);const a=r.options;r.scale=a.zoomOptions.startScale,i.appendChild(r.createDom("blocklyMainBackground",e));var u=r.getRenderer().getClassName();return u&&fe(e,u),(u=r.getTheme().getClassName())&&fe(e,u),!a.hasCategories&&a.languageTree&&(e=r.addFlyout(F.SVG),Xo(e,i)),a.hasTrashcan&&r.addTrashcan(),a.zoomOptions&&a.zoomOptions.controls&&r.addZoomControls(),r.getThemeManager().subscribe(i,"workspaceBackgroundColour","background-color"),r.translate(0,0),r.addChangeListener(R$(r)),ii(r),s$(),lh(),Km(),r},vO=function(e){const i=e.options;var r=e.getParentSvg();if(S(r.parentNode,"contextmenu",null,function(a){H(a)||a.preventDefault()}),r=S(window,"resize",null,function(){Wn(),e.hideComponents(!0),zm(),c$(),ii(e),Sh(e)}),e.setResizeHandlerWrapper(r),yO(),i.languageTree){r=e.getToolbox();const a=e.getFlyout(!0);r?r.init():a&&(a.init(e),a.show(i.languageTree),typeof a.scrollToStart=="function"&&a.scrollToStart())}i.hasTrashcan&&e.trashcan.init(),i.zoomOptions&&i.zoomOptions.controls&&e.zoomControls_.init(),i.moveOptions&&i.moveOptions.scrollbars?(e.scrollbar=new pb(e,i.moveOptions.scrollbars===!0||!!i.moveOptions.scrollbars.horizontal,i.moveOptions.scrollbars===!0||!!i.moveOptions.scrollbars.vertical,"blocklyMainWorkspaceScrollbar"),e.scrollbar.resize()):e.setMetrics({x:.5,y:.5}),i.hasSounds&&SO(i.pathToMedia,e)},yO=function(){JC||(S(document,"scroll",null,function(){const e=Lt();for(let i=0,r;r=e[i];i++)r instanceof Vo&&r.updateInverseScreenCTM()}),w(document,"touchend",null,v),w(document,"touchcancel",null,v)),JC=!0},SO=function(e,i){function r(){for(;u.length;){const f=u.pop();f&&L(f)}a.preload()}const a=i.getAudioManager();a.load([e+"click.mp3",e+"click.wav",e+"click.ogg"],"click"),a.load([e+"disconnect.wav",e+"disconnect.mp3",e+"disconnect.ogg"],"disconnect"),a.load([e+"delete.mp3",e+"delete.ogg",e+"delete.wav"],"delete");const u=[];u.push(S(document,"pointermove",null,r,!0)),u.push(S(document,"touchstart",null,r,!0))},IO=function(e){if(!e||!e.isSimpleReporter())return!1;let i;return(i=e.getFields().next().value)==null?void 0:i.isFullBlockField()},Z$=function(){Ge.registry.register({displayText(){return n.Msg$$module$build$src$core$msg.UNDO},preconditionFn(e){return e.workspace.getUndoStack().length>0?"enabled":"disabled"},callback(e){e.workspace.undo(!1)},scopeType:Ge.ScopeType.WORKSPACE,id:"undoWorkspace",weight:1})},Q$=function(){Ge.registry.register({displayText(){return n.Msg$$module$build$src$core$msg.REDO},preconditionFn(e){return e.workspace.getRedoStack().length>0?"enabled":"disabled"},callback(e){e.workspace.undo(!0)},scopeType:Ge.ScopeType.WORKSPACE,id:"redoWorkspace",weight:2})},e_=function(){Ge.registry.register({displayText(){return n.Msg$$module$build$src$core$msg.CLEAN_UP},preconditionFn(e){return e.workspace.isMovable()?e.workspace.getTopBlocks(!1).length>1?"enabled":"disabled":"hidden"},callback(e){e.workspace.cleanUp()},scopeType:Ge.ScopeType.WORKSPACE,id:"cleanWorkspace",weight:3})},t_=function(e,i){function r(f){u--,f.setCollapsed(e),u===0&&n.setGroup$$module$build$src$core$events$utils(!1)}let a=0,u=0;n.setGroup$$module$build$src$core$events$utils(!0);for(let f=0;f<i.length;f++){let E=i[f];for(;E;)u++,setTimeout(r.bind(null,E),a),E=E.getNextBlock(),a+=10}},o_=function(){Ge.registry.register({displayText(){return n.Msg$$module$build$src$core$msg.COLLAPSE_ALL},preconditionFn(e){if(e.workspace.options.collapse){e=e.workspace.getTopBlocks(!1);for(let i=0;i<e.length;i++){let r=e[i];for(;r;){if(!r.isCollapsed())return"enabled";r=r.getNextBlock()}}return"disabled"}return"hidden"},callback(e){t_(!0,e.workspace.getTopBlocks(!0))},scopeType:Ge.ScopeType.WORKSPACE,id:"collapseWorkspace",weight:4})},i_=function(){Ge.registry.register({displayText(){return n.Msg$$module$build$src$core$msg.EXPAND_ALL},preconditionFn(e){if(e.workspace.options.collapse){e=e.workspace.getTopBlocks(!1);for(let i=0;i<e.length;i++){let r=e[i];for(;r;){if(r.isCollapsed())return"enabled";r=r.getNextBlock()}}return"disabled"}return"hidden"},callback(e){t_(!1,e.workspace.getTopBlocks(!0))},scopeType:Ge.ScopeType.WORKSPACE,id:"expandWorkspace",weight:5})},n_=function(e,i){if(e.isDeletable())Array.prototype.push.apply(i,e.getDescendants(!1));else{e=e.getChildren(!1);for(let r=0;r<e.length;r++)n_(e[r],i)}},Dh=function(e){const i=[];e=e.getTopBlocks(!0);for(let r=0;r<e.length;r++)n_(e[r],i);return i},Vc=function(e,i){i?n.setGroup$$module$build$src$core$events$utils(i):(n.setGroup$$module$build$src$core$events$utils(!0),i=n.getGroup$$module$build$src$core$events$utils());const r=e.shift();r&&(r.isDeadOrDying()?Vc(e,i):(r.dispose(!1,!0),setTimeout(Vc,10,e,i))),n.setGroup$$module$build$src$core$events$utils(!1)},s_=function(){Ge.registry.register({displayText(e){return e.workspace?(e=Dh(e.workspace).length,e===1?n.Msg$$module$build$src$core$msg.DELETE_BLOCK:n.Msg$$module$build$src$core$msg.DELETE_X_BLOCKS.replace("%1","".concat(e))):""},preconditionFn(e){return e.workspace&&Dh(e.workspace).length>0?"enabled":"disabled"},callback(e){if(e.workspace){e.workspace.cancelCurrentGesture();var i=Dh(e.workspace);i.length<2?Vc(i):Qd(n.Msg$$module$build$src$core$msg.DELETE_ALL_BLOCKS.replace("%1",String(i.length)),function(r){r&&Vc(i)})}},scopeType:Ge.ScopeType.WORKSPACE,id:"workspaceDelete",weight:6})},OO=function(){Z$(),Q$(),e_(),o_(),i_(),s_()},r_=function(){Ge.registry.register({displayText(){return n.Msg$$module$build$src$core$msg.DUPLICATE_BLOCK},preconditionFn(e){return e=e.block,!e.isInFlyout&&e.isDeletable()&&e.isMovable()?e.isDuplicatable()?"enabled":"disabled":"hidden"},callback(e){if(e.block){var i=e.block.toCopyData();i&&xs(i,e.block.workspace)}},scopeType:Ge.ScopeType.BLOCK,id:"blockDuplicate",weight:1})},l_=function(){Ge.registry.register({displayText(e){return e.block.hasIcon(ln.TYPE)?n.Msg$$module$build$src$core$msg.REMOVE_COMMENT:n.Msg$$module$build$src$core$msg.ADD_COMMENT},preconditionFn(e){return e=e.block,!e||e.isInFlyout||!e.workspace.options.comments||e.isCollapsed()||!e.isEditable()||!e.hasIcon(ln.TYPE)&&IO(e)?"hidden":"enabled"},callback(e){(e=e.block)&&e.hasIcon(ln.TYPE)?e.setCommentText(null):e.setCommentText("")},scopeType:Ge.ScopeType.BLOCK,id:"blockComment",weight:2})},a_=function(){Ge.registry.register({displayText(e){return e.block.getInputsInline()?n.Msg$$module$build$src$core$msg.EXTERNAL_INPUTS:n.Msg$$module$build$src$core$msg.INLINE_INPUTS},preconditionFn(e){if(e=e.block,!e.isInFlyout&&e.isMovable()&&!e.isCollapsed()){for(let i=1;i<e.inputList.length;i++)if(!(e.inputList[i-1]instanceof Dp||e.inputList[i]instanceof Dp))return"enabled"}return"hidden"},callback(e){e.block.setInputsInline(!e.block.getInputsInline())},scopeType:Ge.ScopeType.BLOCK,id:"blockInline",weight:3})},c_=function(){Ge.registry.register({displayText(e){return e.block.isCollapsed()?n.Msg$$module$build$src$core$msg.EXPAND_BLOCK:n.Msg$$module$build$src$core$msg.COLLAPSE_BLOCK},preconditionFn(e){return e=e.block,!e.isInFlyout&&e.isMovable()&&e.workspace.options.collapse?"enabled":"hidden"},callback(e){e.block.setCollapsed(!e.block.isCollapsed())},scopeType:Ge.ScopeType.BLOCK,id:"blockCollapseExpand",weight:4})},u_=function(){Ge.registry.register({displayText(e){return e.block.hasDisabledReason(Di)?n.Msg$$module$build$src$core$msg.ENABLE_BLOCK:n.Msg$$module$build$src$core$msg.DISABLE_BLOCK},preconditionFn(e){if(e=e.block,!e.isInFlyout&&e.workspace.options.disable&&e.isEditable()){var i=e.getDisabledReasons();return i=i.size>(i.has(Di)?1:0),e.getInheritedDisabled()||i?"disabled":"enabled"}return"hidden"},callback(e){e=e.block;const i=n.getGroup$$module$build$src$core$events$utils();i||n.setGroup$$module$build$src$core$events$utils(!0),e.setDisabledReason(!e.hasDisabledReason(Di),Di),n.setGroup$$module$build$src$core$events$utils(i)},scopeType:Ge.ScopeType.BLOCK,id:"blockDisable",weight:5})},d_=function(){Ge.registry.register({displayText(e){var i=e.block;return e=i.getDescendants(!1).length,(i=i.getNextBlock())&&(e-=i.getDescendants(!1).length),e===1?n.Msg$$module$build$src$core$msg.DELETE_BLOCK:n.Msg$$module$build$src$core$msg.DELETE_X_BLOCKS.replace("%1","".concat(e))},preconditionFn(e){return!e.block.isInFlyout&&e.block.isDeletable()?"enabled":"hidden"},callback(e){e.block&&e.block.checkAndDelete()},scopeType:Ge.ScopeType.BLOCK,id:"blockDelete",weight:6})},h_=function(){Ge.registry.register({displayText(){return n.Msg$$module$build$src$core$msg.HELP},preconditionFn(e){return e=e.block,(typeof e.helpUrl=="function"?e.helpUrl():e.helpUrl)?"enabled":"hidden"},callback(e){e.block.showHelp()},scopeType:Ge.ScopeType.BLOCK,id:"blockHelp",weight:7})},p_=function(){Ge.registry.register({displayText:()=>n.Msg$$module$build$src$core$msg.REMOVE_COMMENT,preconditionFn(e){let i;return(i=e.comment)!=null&&i.isDeletable()?"enabled":"hidden"},callback(e){n.setGroup$$module$build$src$core$events$utils(!0);let i;(i=e.comment)==null||i.dispose(),n.setGroup$$module$build$src$core$events$utils(!1)},scopeType:Ge.ScopeType.COMMENT,id:"commentDelete",weight:6})},f_=function(){Ge.registry.register({displayText:()=>n.Msg$$module$build$src$core$msg.DUPLICATE_COMMENT,preconditionFn(e){let i;return(i=e.comment)!=null&&i.isMovable()?"enabled":"hidden"},callback(e){if(e.comment){var i=e.comment.toCopyData();i&&xs(i,e.comment.workspace)}},scopeType:Ge.ScopeType.COMMENT,id:"commentDuplicate",weight:1})},g_=function(){Ge.registry.register({displayText:()=>n.Msg$$module$build$src$core$msg.ADD_COMMENT,preconditionFn:e=>{let i;return(i=e.workspace)!=null&&i.isMutator?"hidden":"enabled"},callback:(e,i,r,a)=>{(e=e.workspace)&&(n.setGroup$$module$build$src$core$events$utils(!0),i=new Qn(e),i.setPlaceholderText(n.Msg$$module$build$src$core$msg.WORKSPACE_COMMENT_DEFAULT_TEXT),i.moveTo(ws(e,new ne(a.x,a.y))),n.getFocusManager$$module$build$src$core$focus_manager().focusNode(i),n.setGroup$$module$build$src$core$events$utils(!1))},scopeType:Ge.ScopeType.WORKSPACE,id:"commentCreate",weight:8})},RO=function(){r_(),l_(),a_(),c_(),u_(),d_(),h_()},CO=function(){f_(),p_(),g_()},m_=function(){OO(),RO()},wO=function(e){return e&&typeof e.paste=="function"},AO=function(e){return e&&typeof e.getSvgRoot=="function"},LO=function(e){return e.isSelectable()},kO=function(e){_().hideChaff(e)},X=X||{},X.scope={},X.ASSUME_ES5=!1,X.ASSUME_ES6=!1,X.ASSUME_ES2020=!1,X.ASSUME_NO_NATIVE_MAP=!1,X.ASSUME_NO_NATIVE_SET=!1,X.ISOLATE_POLYFILLS=!1,X.FORCE_POLYFILL_PROMISE=!1,X.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1,X.INSTRUMENT_ASYNC_CONTEXT=!0,X.objectCreate=X.ASSUME_ES5||typeof Object.create=="function"?Object.create:function(e){var i=function(){};return i.prototype=e,new i},X.defineProperty=X.ASSUME_ES5||typeof Object.defineProperties=="function"?Object.defineProperty:function(e,i,r){return e==Array.prototype||e==Object.prototype||(e[i]=r.value),e},X.getGlobal=function(e){e=[typeof globalThis=="object"&&globalThis,e,typeof window=="object"&&window,typeof self=="object"&&self,typeof nr=="object"&&nr];for(var i=0;i<e.length;++i){var r=e[i];if(r&&r.Math==Math)return r}throw Error("Cannot find global object")},X.global=X.ASSUME_ES2020?globalThis:X.getGlobal(this),X.IS_SYMBOL_NATIVE=typeof Symbol=="function"&&typeof Symbol("x")=="symbol",X.TRUST_ES6_POLYFILLS=!X.ISOLATE_POLYFILLS||X.IS_SYMBOL_NATIVE,X.polyfills={},X.propertyToPolyfillSymbol={},X.POLYFILL_PREFIX="$jscp$",X.polyfill=function(e,i,r,a){i&&(X.ISOLATE_POLYFILLS?X.polyfillIsolated(e,i,r,a):X.polyfillUnisolated(e,i,r,a))},X.polyfillUnisolated=function(e,i,r,a){for(r=X.global,e=e.split("."),a=0;a<e.length-1;a++){var u=e[a];if(!(u in r))return;r=r[u]}e=e[e.length-1],a=r[e],i=i(a),i!=a&&i!=null&&X.defineProperty(r,e,{configurable:!0,writable:!0,value:i})},X.polyfillIsolated=function(e,i,r,a){var u=e.split(".");e=u.length===1,a=u[0],a=!e&&a in X.polyfills?X.polyfills:X.global;for(var f=0;f<u.length-1;f++){var E=u[f];if(!(E in a))return;a=a[E]}u=u[u.length-1],r=X.IS_SYMBOL_NATIVE&&r==="es6"?a[u]:null,i=i(r),i!=null&&(e?X.defineProperty(X.polyfills,u,{configurable:!0,writable:!0,value:i}):i!==r&&(X.propertyToPolyfillSymbol[u]===void 0&&(r=Math.random()*1e9>>>0,X.propertyToPolyfillSymbol[u]=X.IS_SYMBOL_NATIVE?X.global.Symbol(u):X.POLYFILL_PREFIX+r+"$"+u),X.defineProperty(a,X.propertyToPolyfillSymbol[u],{configurable:!0,writable:!0,value:i})))},X.getConstructImplementation=function(){function e(){function r(){}return Reflect.construct(r,[],function(){}),new r instanceof r}if(X.TRUST_ES6_POLYFILLS&&typeof Reflect<"u"&&Reflect.construct){if(e())return Reflect.construct;var i=Reflect.construct;return function(r,a,u){return r=i(r,a),u&&Reflect.setPrototypeOf(r,u.prototype),r}}return function(r,a,u){return u===void 0&&(u=r),u=X.objectCreate(u.prototype||Object.prototype),Function.prototype.apply.call(r,u,a)||u}},X.construct={valueOf:X.getConstructImplementation}.valueOf(),X.underscoreProtoCanBeSet=function(){var e={a:!0},i={};try{return i.__proto__=e,i.a}catch(r){}return!1},X.setPrototypeOf=X.ASSUME_ES6||X.TRUST_ES6_POLYFILLS&&typeof Object.setPrototypeOf=="function"?Object.setPrototypeOf:X.underscoreProtoCanBeSet()?function(e,i){if(e.__proto__=i,e.__proto__!==i)throw new TypeError(e+" is not extensible");return e}:null,X.inherits=function(e,i){if(e.prototype=X.objectCreate(i.prototype),e.prototype.constructor=e,X.ASSUME_ES6||X.setPrototypeOf){var r=X.setPrototypeOf;r(e,i)}else for(r in i)if(r!="prototype")if(Object.defineProperties){var a=Object.getOwnPropertyDescriptor(i,r);a&&Object.defineProperty(e,r,a)}else e[r]=i[r];e.superClass_=i.prototype},X.arrayIteratorImpl=function(e){var i=0;return function(){return i<e.length?{done:!1,value:e[i++]}:{done:!0}}},X.arrayIterator=function(e){return{next:X.arrayIteratorImpl(e)}},X.makeIterator=function(e){var i=typeof Symbol<"u"&&Symbol.iterator&&e[Symbol.iterator];if(i)return i.call(e);if(typeof e.length=="number")return X.arrayIterator(e);throw Error(String(e)+" is not an iterable or ArrayLike")},X.arrayFromIterator=function(e){for(var i,r=[];!(i=e.next()).done;)r.push(i.value);return r},X.arrayFromIterable=function(e){return e instanceof Array?e:X.arrayFromIterator(X.makeIterator(e))},X.generator={},X.generator.ensureIteratorResultIsObject_=function(e){if(!(e instanceof Object))throw new TypeError("Iterator result "+e+" is not an object")},X.generator.Context=function(){this.isRunning_=!1,this.yieldAllIterator_=null,this.yieldResult=void 0,this.nextAddress=1,this.finallyAddress_=this.catchAddress_=0,this.finallyContexts_=this.abruptCompletion_=null},X.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0},X.generator.Context.prototype.stop_=function(){this.isRunning_=!1},X.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_},X.generator.Context.prototype.next_=function(e){this.yieldResult=e},X.generator.Context.prototype.throw_=function(e){this.abruptCompletion_={exception:e,isException:!0},this.jumpToErrorHandler_()},X.generator.Context.prototype.return=function(e){this.abruptCompletion_={return:e},this.nextAddress=this.finallyAddress_},X.generator.Context.prototype.jumpThroughFinallyBlocks=function(e){this.abruptCompletion_={jumpTo:e},this.nextAddress=this.finallyAddress_},X.generator.Context.prototype.yield=function(e,i){return this.nextAddress=i,{value:e}},X.generator.Context.prototype.yieldAll=function(e,i){e=X.makeIterator(e);var r=e.next();if(X.generator.ensureIteratorResultIsObject_(r),r.done)this.yieldResult=r.value,this.nextAddress=i;else return this.yieldAllIterator_=e,this.yield(r.value,i)},X.generator.Context.prototype.jumpTo=function(e){this.nextAddress=e},X.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0},X.generator.Context.prototype.setCatchFinallyBlocks=function(e,i){this.catchAddress_=e,i!=null&&(this.finallyAddress_=i)},X.generator.Context.prototype.setFinallyBlock=function(e){this.catchAddress_=0,this.finallyAddress_=e||0},X.generator.Context.prototype.leaveTryBlock=function(e,i){this.nextAddress=e,this.catchAddress_=i||0},X.generator.Context.prototype.enterCatchBlock=function(e){return this.catchAddress_=e||0,e=this.abruptCompletion_.exception,this.abruptCompletion_=null,e},X.generator.Context.prototype.enterFinallyBlock=function(e,i,r){r?this.finallyContexts_[r]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_],this.catchAddress_=e||0,this.finallyAddress_=i||0},X.generator.Context.prototype.leaveFinallyBlock=function(e,i){if(i=this.finallyContexts_.splice(i||0)[0],i=this.abruptCompletion_=this.abruptCompletion_||i){if(i.isException)return this.jumpToErrorHandler_();i.jumpTo!=null&&this.finallyAddress_<i.jumpTo?(this.nextAddress=i.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=e},X.generator.Context.prototype.forIn=function(e){return new X.generator.Context.PropertyIterator(e)},X.generator.Context.PropertyIterator=function(e){this.object_=e,this.properties_=[];for(var i in e)this.properties_.push(i);this.properties_.reverse()},X.generator.Context.PropertyIterator.prototype.getNext=function(){for(;this.properties_.length>0;){var e=this.properties_.pop();if(e in this.object_)return e}return null},X.generator.Engine_=function(e){this.context_=new X.generator.Context,this.program_=e},X.generator.Engine_.prototype.next_=function(e){return this.context_.start_(),this.context_.yieldAllIterator_?this.yieldAllStep_(this.context_.yieldAllIterator_.next,e,this.context_.next_):(this.context_.next_(e),this.nextStep_())},X.generator.Engine_.prototype.return_=function(e){this.context_.start_();var i=this.context_.yieldAllIterator_;return i?this.yieldAllStep_("return"in i?i.return:function(r){return{value:r,done:!0}},e,this.context_.return):(this.context_.return(e),this.nextStep_())},X.generator.Engine_.prototype.throw_=function(e){return this.context_.start_(),this.context_.yieldAllIterator_?this.yieldAllStep_(this.context_.yieldAllIterator_.throw,e,this.context_.next_):(this.context_.throw_(e),this.nextStep_())},X.generator.Engine_.prototype.yieldAllStep_=function(e,i,r){try{var a=e.call(this.context_.yieldAllIterator_,i);if(X.generator.ensureIteratorResultIsObject_(a),!a.done)return this.context_.stop_(),a;var u=a.value}catch(f){return this.context_.yieldAllIterator_=null,this.context_.throw_(f),this.nextStep_()}return this.context_.yieldAllIterator_=null,r.call(this.context_,u),this.nextStep_()},X.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var e=this.program_(this.context_);if(e)return this.context_.stop_(),{value:e.value,done:!1}}catch(i){this.context_.yieldResult=void 0,this.context_.throw_(i)}if(this.context_.stop_(),this.context_.abruptCompletion_){if(e=this.context_.abruptCompletion_,this.context_.abruptCompletion_=null,e.isException)throw e.exception;return{value:e.return,done:!0}}return{value:void 0,done:!0}},X.generator.Generator_=function(e){this.next=function(i){return e.next_(i)},this.throw=function(i){return e.throw_(i)},this.return=function(i){return e.return_(i)},this[Symbol.iterator]=function(){return this}},X.generator.createGenerator=function(e,i){return i=new X.generator.Generator_(new X.generator.Engine_(i)),X.setPrototypeOf&&e.prototype&&X.setPrototypeOf(i,e.prototype),i},X.asyncExecutePromiseGenerator=function(e){function i(a){return e.next(a)}function r(a){return e.throw(a)}return new Promise(function(a,u){function f(E){E.done?a(E.value):Promise.resolve(E.value).then(i,r).then(f,u)}f(e.next())})},X.asyncExecutePromiseGeneratorFunction=function(e){return X.asyncExecutePromiseGenerator(e())},X.asyncExecutePromiseGeneratorProgram=function(e){return X.asyncExecutePromiseGenerator(new X.generator.Generator_(new X.generator.Engine_(e)))},X.polyfill("globalThis",function(e){return e||X.global},"es_2020","es3"),X.polyfill("Array.prototype.includes",function(e){return e||function(i,r){var a=this;a instanceof String&&(a=String(a));var u=a.length;for(r=r||0,r<0&&(r=Math.max(r+u,0));r<u;r++){var f=a[r];if(f===i||Object.is(f,i))return!0}return!1}},"es7","es3"),X.checkEs6ConformanceViaProxy=function(){try{var e={},i=Object.create(new X.global.Proxy(e,{get:function(r,a,u){return r==e&&a=="q"&&u==i}}));return i.q===!0}catch(r){return!1}},X.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1,X.ES6_CONFORMANCE=X.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&X.checkEs6ConformanceViaProxy(),X.initSymbol=function(){},X.iteratorPrototype=function(e){return e={next:e},e[Symbol.iterator]=function(){return this},e},X.owns=function(e,i){return Object.prototype.hasOwnProperty.call(e,i)},X.MapEntry=function(){},X.polyfill("Set.prototype.difference",function(e){return e||function(i){X.checkIsSetInstance(this),X.checkIsSetLike(i);var r=X.getSmallerAndLargerSets(this,i);i=new Set(this);var a=r.smallerSetIterator;r=r.largerSet;for(var u=a.next();!u.done;)r.has(u.value)&&i.delete(u.value),u=a.next();return i}},"es_next","es6"),X.checkIsSetLike=function(e){if(typeof e!="object"||e===null||typeof e.size!="number"||e.size<0||typeof e.keys!="function"||typeof e.has!="function")throw new TypeError("Argument must be set-like")},X.checkIsValidIterator=function(e){if(typeof e!="object"||e===null||typeof e.next!="function")throw new TypeError("Invalid iterator.");return e},X.getSmallerAndLargerSets=function(e,i){return e.size<=i.size?{smallerSetIterator:e.keys(),largerSet:i}:{smallerSetIterator:X.checkIsValidIterator(i.keys()),largerSet:e}},X.checkIsSetInstance=function(e){if(!(e instanceof Set))throw new TypeError("Method must be called on an instance of Set.")},X.iteratorFromArray=function(e,i){if(X.ASSUME_ES6)return e[Symbol.iterator]();e instanceof String&&(e+="");var r=0,a=!1,u={next:function(){if(!a&&r<e.length){var f=r++;return{value:i(f,e[f]),done:!1}}return a=!0,{done:!0,value:void 0}}};return u[Symbol.iterator]=function(){return u},u},X.polyfill("Array.prototype.values",function(e){return e||function(){return X.iteratorFromArray(this,function(i,r){return r})}},"es8","es3"),X.polyfill("Array.prototype.flatMap",function(e){return e||function(i,r){var a=[];return Array.prototype.forEach.call(this,function(u,f){u=i.call(r,u,f,this),Array.isArray(u)?a.push.apply(a,u):a.push(u)}),a}},"es9","es5"),X.polyfill("Array.prototype.flat",function(e){return e||function(i){i=i===void 0?1:i;var r=[];return Array.prototype.forEach.call(this,function(a){Array.isArray(a)&&i>0?(a=Array.prototype.flat.call(a,i-1),r.push.apply(r,a)):r.push(a)}),r}},"es9","es5"),X.polyfill("Object.entries",function(e){return e||function(i){var r=[],a;for(a in i)X.owns(i,a)&&r.push([a,i[a]]);return r}},"es8","es3"),X.polyfill("Object.values",function(e){return e||function(i){var r=[],a;for(a in i)X.owns(i,a)&&r.push(i[a]);return r}},"es8","es3");var Ds=Object.create(null),JD={typeMap:Ds},Ph=Object.create(null),mi="default",oe=class{constructor(e){this.name=e}toString(){return this.name}};oe.CONNECTION_CHECKER=new oe("connectionChecker"),oe.CONNECTION_PREVIEWER=new oe("connectionPreviewer"),oe.CURSOR=new oe("cursor"),oe.EVENT=new oe("event"),oe.FIELD=new oe("field"),oe.INPUT=new oe("input"),oe.RENDERER=new oe("renderer"),oe.TOOLBOX=new oe("toolbox"),oe.THEME=new oe("theme"),oe.TOOLBOX_ITEM=new oe("toolboxItem"),oe.FLYOUTS_VERTICAL_TOOLBOX=new oe("flyoutsVerticalToolbox"),oe.FLYOUTS_HORIZONTAL_TOOLBOX=new oe("flyoutsHorizontalToolbox"),oe.FLYOUT_INFLATER=new oe("flyoutInflater"),oe.METRICS_MANAGER=new oe("metricsManager"),oe.BLOCK_DRAGGER=new oe("blockDragger"),oe.SERIALIZER=new oe("serializer"),oe.ICON=new oe("icon"),oe.PASTER=new oe("paster"),oe.VARIABLE_MODEL=new oe("variableModel"),oe.VARIABLE_MAP=new oe("variableMap");var Xn={DEFAULT:mi,TEST_ONLY:JD};Xn.Type=oe,Xn.getAllItems=$,Xn.getClass=p,Xn.getClassFromOptions=b,Xn.getObject=g,Xn.hasItem=h,Xn.register=s,Xn.unregister=c;var St=Object.create(null),ZD=750,NO="ontouchstart"in globalThis||!!(globalThis.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!globalThis.navigator||!globalThis.navigator.maxTouchPoints&&!globalThis.navigator.msMaxTouchPoints),Bh=null,kr={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]},Uh=0,Nr={TOUCH_ENABLED:NO,TOUCH_MAP:kr};Nr.checkTouchIdentifier=R,Nr.clearTouchIdentifier=I,Nr.getTouchIdentifierFromEvent=G,Nr.longStart=T,Nr.longStop=v,Nr.shouldHandleEvent=k;var $_,MO,xO,DO,Hh,Fh,__,PO,BO,UO;(function(e){function i(a){return r.includes(a.toUpperCase())}$_=e;const r=$_.toUpperCase();MO=i("JavaFX"),xO=i("WebKit"),DO=i("Gecko")&&!xO,Hh=i("Android"),e=globalThis.navigator&&globalThis.navigator.maxTouchPoints,Fh=i("iPad")||i("Macintosh")&&e>0,__=i("iPhone")&&!Fh,PO=i("Macintosh"),BO=Fh||Hh&&!i("Mobile")||i("Silk"),UO=!BO&&(__||Hh)})(globalThis.navigator&&globalThis.navigator.userAgent||"");var QD=$_,HO=MO,FO=DO,b_=Hh,Gh=Fh,GO=__,T_=PO,VO=UO,e1={ANDROID:b_,GECKO:FO,IPAD:Gh,IPHONE:GO,JavaFx:HO,MAC:T_,MOBILE:VO,raw:QD},zO=40,WO=125,Yn={};Yn.bind=w,Yn.conditionalBind=S,Yn.getScrollDeltaPixels=j,Yn.isRightButton=Y,Yn.isTargetInput=H,Yn.mouseToSvg=K,Yn.unbind=L;var z;(function(e){e.BLOCK_CREATE="create",e.BLOCK_DELETE="delete",e.BLOCK_CHANGE="change",e.BLOCK_FIELD_INTERMEDIATE_CHANGE="block_field_intermediate_change",e.BLOCK_MOVE="move",e.VAR_CREATE="var_create",e.VAR_DELETE="var_delete",e.VAR_RENAME="var_rename",e.VAR_TYPE_CHANGE="var_type_change",e.UI="ui",e.BLOCK_DRAG="drag",e.SELECTED="selected",e.CLICK="click",e.MARKER_MOVE="marker_move",e.BUBBLE_OPEN="bubble_open",e.TRASHCAN_OPEN="trashcan_open",e.TOOLBOX_ITEM_SELECT="toolbox_item_select",e.THEME_CHANGE="theme_change",e.VIEWPORT_CHANGE="viewport_change",e.COMMENT_CREATE="comment_create",e.COMMENT_DELETE="comment_delete",e.COMMENT_CHANGE="comment_change",e.COMMENT_MOVE="comment_move",e.COMMENT_RESIZE="comment_resize",e.COMMENT_DRAG="comment_drag",e.COMMENT_COLLAPSE="comment_collapse",e.FINISHED_LOADING="finished_loading"})(z||(z={}));var XO=[z.BLOCK_CREATE,z.BLOCK_MOVE,z.COMMENT_CREATE,z.COMMENT_MOVE],YO="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",jO={genUid:()=>{const e=YO.length,i=[];for(let r=0;r<20;r++)i[r]=YO.charAt(Math.random()*e);return i.join("")}},t1=0,E_={TEST_ONLY:jO};E_.genUid=J,E_.getNextUniqueId=P;var KO="",zc=!0,v_=0,y_="ORPHANED_BLOCK",jn=[],qO={FIRE_QUEUE:jn,enqueueEvent:Ee,fireNow:le,fireInternal:Se,setGroupInternal:Ye};n.disable$$module$build$src$core$events$utils,n.enable$$module$build$src$core$events$utils,n.getGroup$$module$build$src$core$events$utils,n.setGroup$$module$build$src$core$events$utils,n.setRecordUndo$$module$build$src$core$events$utils;var Wc="http://www.w3.org/2000/svg",Mr="http://www.w3.org/1999/xhtml",$i="http://www.w3.org/1999/xlink",Kn;(function(e){e[e.ELEMENT_NODE=1]="ELEMENT_NODE",e[e.TEXT_NODE=3]="TEXT_NODE",e[e.COMMENT_NODE=8]="COMMENT_NODE"})(Kn||(Kn={}));var nn=null,S_=0,Xc=null,bo={HTML_NS:Mr};bo.NodeType=Kn,bo.SVG_NS=Wc,bo.XLINK_NS=$i,bo.addClass=fe,bo.createSvgElement=q,bo.getFastTextWidth=tn,bo.getFastTextWidthWithSizeString=Yo,bo.getTextWidth=Tt,bo.hasClass=Po,bo.insertAfter=Xo,bo.measureFontMetrics=M,bo.removeClass=De,bo.removeClasses=Co,bo.removeNode=Xe,bo.setCssTransform=Bo,bo.startTextWidthCache=bt,bo.stopTextWidthCache=wo;var To=class{static findFocusedNode(e){var i=e.getRootFocusableNode();if(!i.canBeFocused())return null;var r=i.getFocusableElement();return Po(r,To.ACTIVE_CLASS_NAME)||Po(r,To.PASSIVE_CSS_CLASS_NAME)||(i=r.querySelector(this.ACTIVE_FOCUS_NODE_CSS_SELECTOR),(i instanceof HTMLElement||i instanceof SVGElement)&&(i=To.findFocusableNodeFor(i,e)))?i:(r=r.querySelector(this.PASSIVE_FOCUS_NODE_CSS_SELECTOR),(r instanceof HTMLElement||r instanceof SVGElement)&&(e=To.findFocusableNodeFor(r,e))?e:null)}static findFocusableNodeFor(e,i){if(!e.id||e.id==="null"||i.getNestedTrees().map(u=>To.findFocusableNodeFor(e,u)).findIndex(u=>!!u)!==-1)return null;var r=i.getRootFocusableNode();if(r.canBeFocused()&&e===r.getFocusableElement())return r;var a;return(r=(a=i.lookUpFocusableNode(e.id))!=null?a:null)?r:(a=e.parentElement,!r&&a?To.findFocusableNodeFor(a,i):null)}};To.ACTIVE_CLASS_NAME="blocklyActiveFocus",To.PASSIVE_CSS_CLASS_NAME="blocklyPassiveFocus",To.ACTIVE_FOCUS_NODE_CSS_SELECTOR=".".concat(To.ACTIVE_CLASS_NAME),To.PASSIVE_FOCUS_NODE_CSS_SELECTOR=".".concat(To.PASSIVE_CSS_CLASS_NAME);var o1=class{constructor(e,i){this.tree=e,this.rootShouldBeAutoTabbable=i}},Ao=class{constructor(e){this.previouslyFocusedNode=this.focusedNode=null,this.registeredTrees=[],this.isUpdatingFocusedNode=this.recentlyLostAllFocus=this.lockFocusStateChanges=this.currentlyHoldsEphemeralFocus=!1;const i=r=>{if(!this.isUpdatingFocusedNode){this.recentlyLostAllFocus=!r;var a=null;if(r instanceof HTMLElement||r instanceof SVGElement){for(var u of this.registeredTrees)if(a=To.findFocusableNodeFor(r,u.tree))break}if(a&&a.canBeFocused()){r=a.getFocusableTree();let f;u=(f=this.focusedNode)==null?void 0:f.getFocusableTree(),a===r.getRootFocusableNode()&&r!==u?this.focusTree(r):this.focusNode(a)}else this.defocusCurrentFocusedNode()}};e("focusin",r=>{r instanceof FocusEvent&&i(document.activeElement)}),e("focusout",r=>{r instanceof FocusEvent&&i(r.relatedTarget)})}registerTree(e,i=!1){if(this.ensureManagerIsUnlocked(),this.isRegistered(e))throw Error("Attempted to re-register already registered tree: ".concat(e,"."));this.registeredTrees.push(new o1(e,i));const r=e.getRootFocusableNode().getFocusableElement();if(!r.id||r.id==="null")throw Error("Attempting to register a tree with a root element that has an "+"invalid ID: ".concat(e,"."));i&&(r.tabIndex=0)}isRegistered(e){return!!this.lookUpRegistration(e)}lookUpRegistration(e){let i;return(i=this.registeredTrees.find(r=>r.tree===e))!=null?i:null}unregisterTree(e){if(this.ensureManagerIsUnlocked(),!this.isRegistered(e))throw Error("Attempted to unregister not registered tree: ".concat(e,"."));var i=this.registeredTrees.findIndex(u=>u.tree===e);const r=this.registeredTrees[i];this.registeredTrees.splice(i,1),i=To.findFocusedNode(e);const a=e.getRootFocusableNode();i&&this.removeHighlight(i),this.focusedNode!==i&&this.focusedNode!==a||this.updateFocusedNode(null),this.removeHighlight(a),r.rootShouldBeAutoTabbable&&e.getRootFocusableNode().getFocusableElement().removeAttribute("tabindex")}getFocusedTree(){let e,i;return(i=(e=this.focusedNode)==null?void 0:e.getFocusableTree())!=null?i:null}getFocusedNode(){return this.focusedNode}focusTree(e){if(this.ensureManagerIsUnlocked(),!this.isRegistered(e))throw Error("Attempted to focus unregistered tree: ".concat(e,"."));const i=To.findFocusedNode(e),r=e.getRestoredFocusableNode(i);e=e.getRootFocusableNode();let a;this.focusNode((a=r!=null?r:i)!=null?a:e)}focusNode(e){this.ensureManagerIsUnlocked();const i=!this.currentlyHoldsEphemeralFocus;i&&(this.isUpdatingFocusedNode=!0);var r,a=((r=this.focusedNode)==null?void 0:r.getFocusableElement())!==document.activeElement;if(this.focusedNode!==e||a)if(e.canBeFocused()){if(r=e.getFocusableTree(),!this.isRegistered(r))throw Error("Attempted to focus unregistered node: ".concat(e,"."));a=e.getFocusableElement(),a.id&&a.id!=="null"||console.warn("Trying to focus a node that has an invalid ID.");var u=To.findFocusableNodeFor(a,r);a=To.findFocusedNode(r);var f=e;if(u!==e){f=r.getRestoredFocusableNode(a),e=r.getRootFocusableNode();var E;f=(E=f!=null?f:a)!=null?E:e}e=this.focusedNode,E=e==null?void 0:e.getFocusableTree(),e&&this.passivelyFocusNode(e,r),r=r.getRootFocusableNode(),a&&this.removeHighlight(a),r!==f&&this.removeHighlight(r),this.currentlyHoldsEphemeralFocus||this.activelyFocusNode(f,E!=null?E:null),this.updateFocusedNode(f)}else console.warn("Trying to focus a node that can't be focused.");i&&(this.isUpdatingFocusedNode=!1)}takeEphemeralFocus(e){if(this.ensureManagerIsUnlocked(),this.currentlyHoldsEphemeralFocus)throw Error("Attempted to take ephemeral focus when it's already held, "+"with new element: ".concat(e,"."));this.currentlyHoldsEphemeralFocus=!0,this.focusedNode&&this.passivelyFocusNode(this.focusedNode,null),e.focus({preventScroll:!0});let i=!1;return()=>{if(i)throw Error("Attempted to finish ephemeral focus twice for element: "+"".concat(e,"."));if(i=!0,this.currentlyHoldsEphemeralFocus=!1,this.focusedNode){this.activelyFocusNode(this.focusedNode,null);const r=this.focusedNode;setTimeout(()=>{!this.focusedNode&&this.previouslyFocusedNode===r&&this.recentlyLostAllFocus&&this.focusNode(r)},0)}}}ephemeralFocusTaken(){return this.currentlyHoldsEphemeralFocus}ensureManagerIsUnlocked(){if(this.lockFocusStateChanges)throw Error("FocusManager state changes cannot happen in a tree/node focus/blur callback.")}updateFocusedNode(e){this.previouslyFocusedNode=this.focusedNode,this.focusedNode=e}defocusCurrentFocusedNode(){this.focusedNode&&!this.currentlyHoldsEphemeralFocus&&(this.passivelyFocusNode(this.focusedNode,null),this.updateFocusedNode(null))}activelyFocusNode(e,i){this.lockFocusStateChanges=!0;const r=e.getFocusableTree(),a=e.getFocusableElement();let u;const f=(u=this.lookUpRegistration(r))==null?void 0:u.rootShouldBeAutoTabbable;r!==i&&(r.onTreeFocus(e,i),f&&(r.getRootFocusableNode().getFocusableElement().tabIndex=-1)),e.onNodeFocus(),this.lockFocusStateChanges=!1,f&&e===r.getRootFocusableNode()||a.hasAttribute("tabindex")||(a.tabIndex=-1),this.setNodeToVisualActiveFocus(e),a.focus({preventScroll:!0})}passivelyFocusNode(e,i){this.lockFocusStateChanges=!0;const r=e.getFocusableTree();if(r!==i){r.onTreeBlur(i);let a;(a=this.lookUpRegistration(r))!=null&&a.rootShouldBeAutoTabbable&&(r.getRootFocusableNode().getFocusableElement().tabIndex=0)}e.onNodeBlur(),this.lockFocusStateChanges=!1,r!==i&&this.setNodeToVisualPassiveFocus(e)}setNodeToVisualActiveFocus(e){e=e.getFocusableElement(),fe(e,Ao.ACTIVE_FOCUS_NODE_CSS_CLASS_NAME),De(e,Ao.PASSIVE_FOCUS_NODE_CSS_CLASS_NAME)}setNodeToVisualPassiveFocus(e){e=e.getFocusableElement(),De(e,Ao.ACTIVE_FOCUS_NODE_CSS_CLASS_NAME),fe(e,Ao.PASSIVE_FOCUS_NODE_CSS_CLASS_NAME)}removeHighlight(e){e=e.getFocusableElement(),De(e,Ao.ACTIVE_FOCUS_NODE_CSS_CLASS_NAME),De(e,Ao.PASSIVE_FOCUS_NODE_CSS_CLASS_NAME)}static getFocusManager(){return Ao.focusManager||(Ao.focusManager=new Ao(document.addEventListener)),Ao.focusManager}};Ao.ACTIVE_FOCUS_NODE_CSS_CLASS_NAME="blocklyActiveFocus",Ao.PASSIVE_FOCUS_NODE_CSS_CLASS_NAME="blocklyPassiveFocus",Ao.focusManager=null,n.getFocusManager$$module$build$src$core$focus_manager;var JO={};JO.deepMerge=et;var dt=class{constructor(){this.shortcuts=new Map,this.keyMap=new Map,this.reset()}reset(){this.shortcuts.clear(),this.keyMap.clear()}register(e,i){if(this.shortcuts.get(e.name)&&!i)throw Error('Shortcut named "'.concat(e.name,'" already exists.'));if(this.shortcuts.set(e.name,e),i=e.keyCodes,i!=null&&i.length)for(const r of i)this.addKeyMapping(r,e.name,!!e.allowCollision)}unregister(e){return this.shortcuts.get(e)?(this.removeAllKeyMappings(e),this.shortcuts.delete(e),!0):(console.warn('Keyboard shortcut named "'.concat(e,'" not found.')),!1)}addKeyMapping(e,i,r){e="".concat(e);const a=this.keyMap.get(e);if(a&&!r)throw Error('Shortcut named "'.concat(i,'" collides with shortcuts "').concat(a,'"'));a&&r?a.unshift(i):this.keyMap.set(e,[i])}removeKeyMapping(e,i,r){const a=this.keyMap.get(e);if(!a)return r||console.warn('No keyboard shortcut named "'.concat(i,'" registered with key code "').concat(e,'"')),!1;const u=a.indexOf(i);return u>-1?(a.splice(u,1),a.length===0&&this.keyMap.delete(e),!0):(r||console.warn('No keyboard shortcut named "'.concat(i,'" registered with key code "').concat(e,'"')),!1)}removeAllKeyMappings(e){for(const i of this.keyMap.keys())this.removeKeyMapping(i,e,!0)}setKeyMap(e){this.keyMap.clear();for(const i in e)this.keyMap.set(i,e[i])}getKeyMap(){const e=Object.create(null);for(const[i,r]of this.keyMap)e[i]=r;return e}getRegistry(){const e=Object.create(null);for(const[i,r]of this.shortcuts)e[i]=r;return et(Object.create(null),e)}onKeyDown(e,i){var r=this.serializeKeyEvent(i);if(r=this.getShortcutNamesByKeyCode(r),!r)return!1;for(const a of r){r=this.shortcuts.get(a);let u;if(!r||r.preconditionFn&&!r.preconditionFn(e,{focusedNode:(u=n.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode())!=null?u:void 0}))continue;let f,E,C;if((E=(f=r).callback)!=null&&E.call(f,e,i,r,{focusedNode:(C=n.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode())!=null?C:void 0}))return!0}return!1}getShortcutNamesByKeyCode(e){let i;return((i=this.keyMap.get(e))==null?void 0:i.slice())||[]}getKeyCodesByShortcutName(e){const i=[];for(const[r,a]of this.keyMap)a.indexOf(e)>-1&&i.push(r);return i}serializeKeyEvent(e){let i="";for(const r in dt.modifierKeys)e.getModifierState(r)&&(i!==""&&(i+="+"),i+=r);return i!==""&&e.keyCode?i+="+"+e.keyCode:e.keyCode&&(i=String(e.keyCode)),i}checkModifiers(e){for(const i of e)if(!(i in dt.modifierKeys))throw Error(i+" is not a valid modifier key.")}createSerializedKey(e,i){let r="";if(i){this.checkModifiers(i);for(const a in dt.modifierKeys)i.includes(dt.modifierKeys[a])&&(r!==""&&(r+="+"),r+=a)}return r!==""&&e?r+="+"+e:e&&(r="".concat(e)),r}};dt.registry=new dt,function(e){e=e.modifierKeys||(e.modifierKeys={}),e[e.Shift=16]="Shift",e[e.Control=17]="Control",e[e.Alt=18]="Alt",e[e.Meta=91]="Meta"}(dt||(dt={}));var Yc=Object.create(null),ZO,QO,jc=[],eR={defineBlocksWithJsonArrayInternal:N},ao={TEST_ONLY:eR};ao.createBlockDefinitionsFromJsonArray=n.createBlockDefinitionsFromJsonArray$$module$build$src$core$common,ao.defineBlocks=n.defineBlocks$$module$build$src$core$common,ao.defineBlocksWithJsonArray=y,ao.draggingConnections=jc,ao.fireSelectedEvent=de,ao.getAllWorkspaces=Lt,ao.getBlockTypeCounts=Ne,ao.getMainWorkspace=_,ao.getParentContainer=Ze,ao.getSelected=D,ao.getWorkspaceById=$t,ao.globalShortcutHandler=U,ao.registerWorkspace=it,ao.setMainWorkspace=O,ao.setParentContainer=jo,ao.setSelected=B,ao.svgResize=ii,ao.unregisterWorkpace=lo;var ql=class{constructor(){this.workspaceId=void 0,this.isUiEvent=!1,this.type="",this.group=n.getGroup$$module$build$src$core$events$utils(),this.recordUndo=ae()}toJson(){return{type:this.type,group:this.group}}static fromJson(e,i,r){return r.isBlank=!1,r.group=e.group||"",r.workspaceId=i.id,r}isNull(){return!1}run(e){}getEventWorkspace_(){let e;if(this.workspaceId&&(e=$t(this.workspaceId)),!e)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return e}},In=class extends ql{constructor(e){super(),this.recordUndo=!1,this.isUiEvent=!0,this.isBlank=typeof e>"u",this.workspaceId=e||""}},I_=class extends In{constructor(e,i,r){i=e?e.workspace.id:i,i===null&&(i=void 0),super(i),this.type=z.CLICK,this.blockId=e?e.id:void 0,this.targetType=r}toJson(){const e=super.toJson();if(!this.targetType)throw Error("The click target type is undefined. Either pass a block to the constructor, or call fromJson");return e.targetType=this.targetType,e.blockId=this.blockId,e}static fromJson(e,i,r){return i=super.fromJson(e,i,r!=null?r:new I_),i.targetType=e.targetType,i.blockId=e.blockId,i}},O_;(function(e){e.BLOCK="block",e.WORKSPACE="workspace",e.ZOOM_CONTROLS="zoom_controls"})(O_||(O_={})),s(oe.EVENT,z.CLICK,I_);var tR={};tR.removeElem=te;var qn=class{constructor(e){this.name=e}toString(){return this.name}};qn.POSITIONABLE=new qn("positionable"),qn.DRAG_TARGET=new qn("drag_target"),qn.DELETE_AREA=new qn("delete_area"),qn.AUTOHIDEABLE=new qn("autohideable");var It=class{constructor(){this.componentData=new Map,this.capabilityToComponentIds=new Map}addComponent(e,i){const r=e.component.id;if(!i&&this.componentData.has(r)){var a;throw Error('Plugin "'+r+'" with capabilities "'+((a=this.componentData.get(r))==null?void 0:a.capabilities)+'" already added.')}for(this.componentData.set(r,e),i=[],a=0;a<e.capabilities.length;a++){const u=String(e.capabilities[a]).toLowerCase();if(i.push(u),this.capabilityToComponentIds.has(u)){let f;(f=this.capabilityToComponentIds.get(u))==null||f.push(r)}else this.capabilityToComponentIds.set(u,[r])}this.componentData.get(r).capabilities=i}removeComponent(e){const i=this.componentData.get(e);if(i){for(let r=0;r<i.capabilities.length;r++){const a=String(i.capabilities[r]).toLowerCase();te(this.capabilityToComponentIds.get(a),e)}this.componentData.delete(e)}}addCapability(e,i){if(!this.getComponent(e))throw Error('Cannot add capability, "'+i+'". Plugin "'+e+'" has not been added to the ComponentManager');if(this.hasCapability(e,i))console.warn('Plugin "'+e+'already has capability "'+i+'"');else{i="".concat(i).toLowerCase();var r;(r=this.componentData.get(e))==null||r.capabilities.push(i);var a;(a=this.capabilityToComponentIds.get(i))==null||a.push(e)}}removeCapability(e,i){if(!this.getComponent(e))throw Error('Cannot remove capability, "'+i+'". Plugin "'+e+'" has not been added to the ComponentManager');this.hasCapability(e,i)?(i="".concat(i).toLowerCase(),te(this.componentData.get(e).capabilities,i),te(this.capabilityToComponentIds.get(i),e)):console.warn('Plugin "'+e+"doesn't have capability \""+i+'" to remove')}hasCapability(e,i){return i="".concat(i).toLowerCase(),this.componentData.has(e)&&this.componentData.get(e).capabilities.includes(i)}getComponent(e){let i;return(i=this.componentData.get(e))==null?void 0:i.component}getComponents(e,i){if(e="".concat(e).toLowerCase(),e=this.capabilityToComponentIds.get(e),!e)return[];const r=[];if(i){const a=[];e.forEach(u=>{a.push(this.componentData.get(u))}),a.sort(function(u,f){return u.weight-f.weight}),a.forEach(function(u){r.push(u.component)})}else e.forEach(a=>{r.push(this.componentData.get(a).component)});return r}};It.Capability=qn,function(e){e=e.ComponentWeight||(e.ComponentWeight={}),e[e.TOOLBOX_WEIGHT=0]="TOOLBOX_WEIGHT",e[e.FLYOUT_WEIGHT=1]="FLYOUT_WEIGHT",e[e.TRASHCAN_WEIGHT=2]="TRASHCAN_WEIGHT",e[e.ZOOM_CONTROLS_WEIGHT=3]="ZOOM_CONTROLS_WEIGHT"}(It||(It={})),It.ComponentWeight;var R_=!1,C_='\n.blocklySvg {\n  background-color: #fff;\n  outline: none;\n  overflow: hidden;  /* IE overflows by default. */\n  position: absolute;\n  display: block;\n}\n\n.blocklyWidgetDiv {\n  display: none;\n  position: absolute;\n  z-index: 99999;  /* big value for bootstrap3 compatibility */\n}\n\n.injectionDiv {\n  height: 100%;\n  position: relative;\n  overflow: hidden;  /* So blocks in drag surface disappear at edges */\n  touch-action: none;\n  user-select: none;\n  -webkit-user-select: none;\n}\n\n.blocklyBlockCanvas.blocklyCanvasTransitioning,\n.blocklyBubbleCanvas.blocklyCanvasTransitioning {\n  transition: transform .5s;\n}\n\n.blocklyEmboss {\n  filter: var(--blocklyEmbossFilter);\n}\n\n.blocklyTooltipDiv {\n  background-color: #ffffc7;\n  border: 1px solid #ddc;\n  box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);\n  color: #000;\n  display: none;\n  font: 9pt sans-serif;\n  opacity: .9;\n  padding: 2px;\n  position: absolute;\n  z-index: 100000;  /* big value for bootstrap3 compatibility */\n}\n\n.blocklyDropDownDiv {\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: 1000;\n  display: none;\n  border: 1px solid;\n  border-color: #dadce0;\n  background-color: #fff;\n  border-radius: 2px;\n  padding: 4px;\n  box-shadow: 0 0 3px 1px rgba(0,0,0,.3);\n}\n\n.blocklyDropDownDiv:focus {\n  box-shadow: 0 0 6px 1px rgba(0,0,0,.3);\n}\n\n.blocklyDropDownContent {\n  max-height: 300px;  /* @todo: spec for maximum height. */\n}\n\n.blocklyDropDownArrow {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 16px;\n  height: 16px;\n  z-index: -1;\n  background-color: inherit;\n  border-color: inherit;\n  border-top: 1px solid;\n  border-left: 1px solid;\n  border-top-left-radius: 4px;\n  border-color: inherit;\n}\n\n.blocklyHighlighted>.blocklyPath {\n  filter: var(--blocklyEmbossFilter);\n}\n\n.blocklyHighlightedConnectionPath {\n  fill: none;\n  stroke: #fc3;\n  stroke-width: 4px;\n}\n\n.blocklyPathLight {\n  fill: none;\n  stroke-linecap: round;\n  stroke-width: 1;\n}\n\n.blocklySelected>.blocklyPathLight {\n  display: none;\n}\n\n.blocklyDraggable {\n  cursor: grab;\n  cursor: -webkit-grab;\n}\n\n.blocklyDragging {\n  cursor: grabbing;\n  cursor: -webkit-grabbing;\n  /* Drag surface disables events to not block the toolbox, so we have to\n   * reenable them here for the cursor values to work. */\n  pointer-events: auto;\n}\n\n  /* Changes cursor on mouse down. Not effective in Firefox because of\n     https://bugzilla.mozilla.org/show_bug.cgi?id=771241 */\n.blocklyDraggable:active {\n  cursor: grabbing;\n  cursor: -webkit-grabbing;\n}\n\n.blocklyDragging.blocklyDraggingDelete,\n.blocklyDragging.blocklyDraggingDelete .blocklyField {\n  cursor: url("<<<PATH>>>/handdelete.cur"), auto;\n}\n\n.blocklyDragging>.blocklyPath,\n.blocklyDragging>.blocklyPathLight {\n  fill-opacity: .8;\n  stroke-opacity: .8;\n}\n\n.blocklyDragging>.blocklyPathDark {\n  display: none;\n}\n\n.blocklyDisabledPattern>.blocklyPath {\n  fill: var(--blocklyDisabledPattern);\n  fill-opacity: .5;\n  stroke-opacity: .5;\n}\n\n.blocklyDisabled>.blocklyPathLight,\n.blocklyDisabled>.blocklyPathDark {\n  display: none;\n}\n\n.blocklyInsertionMarker>.blocklyPath,\n.blocklyInsertionMarker>.blocklyPathLight,\n.blocklyInsertionMarker>.blocklyPathDark {\n  fill-opacity: .2;\n  stroke: none;\n}\n\n.blocklyNonEditableField>text {\n  pointer-events: none;\n}\n\n.blocklyFlyout {\n  position: absolute;\n  z-index: 20;\n}\n\n.blocklyText text {\n  cursor: default;\n}\n\n/*\n  Don\'t allow users to select text.  It gets annoying when trying to\n  drag a block and selected text moves instead.\n*/\n.blocklySvg text {\n  user-select: none;\n  -ms-user-select: none;\n  -webkit-user-select: none;\n  cursor: inherit;\n}\n\n.blocklyIconGroup {\n  cursor: default;\n}\n\n.blocklyIconGroup:not(:hover):not(:focus),\n.blocklyIconGroupReadonly {\n  opacity: .6;\n}\n\n.blocklyIconShape {\n  fill: #00f;\n  stroke: #fff;\n  stroke-width: 1px;\n}\n\n.blocklyIconSymbol {\n  fill: #fff;\n}\n\n.blocklyMinimalBody {\n  margin: 0;\n  padding: 0;\n  height: 100%;\n}\n\n.blocklyHtmlInput {\n  border: none;\n  border-radius: 4px;\n  height: 100%;\n  margin: 0;\n  outline: none;\n  padding: 0;\n  width: 100%;\n  text-align: center;\n  display: block;\n  box-sizing: border-box;\n}\n\n/* Remove the increase and decrease arrows on the field number editor */\ninput.blocklyHtmlInput[type=number]::-webkit-inner-spin-button,\ninput.blocklyHtmlInput[type=number]::-webkit-outer-spin-button {\n  -webkit-appearance: none;\n  margin: 0;\n}\n\ninput[type=number] {\n  -moz-appearance: textfield;\n}\n\n.blocklyMainBackground {\n  stroke-width: 1;\n  stroke: #c6c6c6;  /* Equates to #ddd due to border being off-pixel. */\n}\n\n.blocklyMutatorBackground {\n  fill: #fff;\n  stroke: #ddd;\n  stroke-width: 1;\n}\n\n.blocklyFlyoutBackground {\n  fill: #ddd;\n  fill-opacity: .8;\n}\n\n.blocklyMainWorkspaceScrollbar {\n  z-index: 20;\n}\n\n.blocklyFlyoutScrollbar {\n  z-index: 30;\n}\n\n.blocklyScrollbarHorizontal,\n.blocklyScrollbarVertical {\n  position: absolute;\n  outline: none;\n}\n\n.blocklyScrollbarBackground {\n  opacity: 0;\n  pointer-events: none;\n}\n\n.blocklyScrollbarHandle {\n  fill: #ccc;\n}\n\n.blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,\n.blocklyScrollbarHandle:hover {\n  fill: #bbb;\n}\n\n/* Darken flyout scrollbars due to being on a grey background. */\n/* By contrast, workspace scrollbars are on a white background. */\n.blocklyFlyout .blocklyScrollbarHandle {\n  fill: #bbb;\n}\n\n.blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,\n.blocklyFlyout .blocklyScrollbarHandle:hover {\n  fill: #aaa;\n}\n\n.blocklyInvalidInput {\n  background: #faa;\n}\n\n.blocklyVerticalMarker {\n  stroke-width: 3px;\n  fill: rgba(255,255,255,.5);\n  pointer-events: none;\n}\n\n.blocklyComputeCanvas {\n  position: absolute;\n  width: 0;\n  height: 0;\n}\n\n.blocklyNoPointerEvents {\n  pointer-events: none;\n}\n\n.blocklyContextMenu {\n  border-radius: 4px;\n  max-height: 100%;\n}\n\n.blocklyDropdownMenu {\n  border-radius: 2px;\n  padding: 0 !important;\n}\n\n.blocklyDropdownMenu .blocklyMenuItem {\n  /* 28px on the left for icon or checkbox. */\n  padding-left: 28px;\n}\n\n/* BiDi override for the resting state. */\n.blocklyDropdownMenu .blocklyMenuItemRtl {\n  /* Flip left/right padding for BiDi. */\n  padding-left: 5px;\n  padding-right: 28px;\n}\n\n.blocklyWidgetDiv .blocklyMenu {\n  user-select: none;\n  -ms-user-select: none;\n  -webkit-user-select: none;\n  background: #fff;\n  border: 1px solid transparent;\n  box-shadow: 0 0 3px 1px rgba(0,0,0,.3);\n  font: normal 13px Arial, sans-serif;\n  margin: 0;\n  outline: none;\n  padding: 4px 0;\n  position: absolute;\n  overflow-y: auto;\n  overflow-x: hidden;\n  max-height: 100%;\n  z-index: 20000;  /* Arbitrary, but some apps depend on it... */\n}\n\n.blocklyWidgetDiv .blocklyMenu:focus {\n  box-shadow: 0 0 6px 1px rgba(0,0,0,.3);\n}\n\n.blocklyDropDownDiv .blocklyMenu {\n  user-select: none;\n  -ms-user-select: none;\n  -webkit-user-select: none;\n  background: inherit;  /* Compatibility with gapi, reset from goog-menu */\n  border: inherit;  /* Compatibility with gapi, reset from goog-menu */\n  font: normal 13px "Helvetica Neue", Helvetica, sans-serif;\n  outline: none;\n  overflow-y: auto;\n  overflow-x: hidden;\n  max-height: 100%;\n  z-index: 20000;  /* Arbitrary, but some apps depend on it... */\n}\n\n/* State: resting. */\n.blocklyMenuItem {\n  border: none;\n  color: #000;\n  cursor: pointer;\n  list-style: none;\n  margin: 0;\n  /* 7em on the right for shortcut. */\n  min-width: 7em;\n  padding: 6px 15px;\n  white-space: nowrap;\n}\n\n/* State: disabled. */\n.blocklyMenuItemDisabled {\n  color: #ccc;\n  cursor: inherit;\n}\n\n/* State: hover. */\n.blocklyMenuItemHighlight {\n  background-color: rgba(0,0,0,.1);\n}\n\n/* State: selected/checked. */\n.blocklyMenuItemCheckbox {\n  height: 16px;\n  position: absolute;\n  width: 16px;\n}\n\n.blocklyMenuItemSelected .blocklyMenuItemCheckbox {\n  background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;\n  float: left;\n  margin-left: -24px;\n  position: static;  /* Scroll with the menu. */\n}\n\n.blocklyMenuItemRtl .blocklyMenuItemCheckbox {\n  float: right;\n  margin-right: -24px;\n}\n\n.blocklyMenuSeparator {\n  background-color: #ccc;\n  height: 1px;\n  border: 0;\n  margin-left: 4px;\n  margin-right: 4px;\n}\n\n.blocklyBlockDragSurface, .blocklyAnimationLayer {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  overflow: visible !important;\n  z-index: 80;\n  pointer-events: none;\n}\n\n.blocklyField {\n  cursor: default;\n}\n\n.blocklyInputField {\n  cursor: text;\n}\n\n.blocklyDragging .blocklyField,\n.blocklyDragging .blocklyIconGroup {\n  cursor: grabbing;\n}\n\n.blocklyActiveFocus:is(\n  .blocklyFlyout,\n  .blocklyWorkspace,\n  .blocklyField,\n  .blocklyPath,\n  .blocklyHighlightedConnectionPath,\n  .blocklyComment,\n  .blocklyBubble,\n  .blocklyIconGroup,\n  .blocklyTextarea\n) {\n  outline: none;\n}\n',w_={};w_.inject=Me,w_.register=ye;var ne=class{constructor(e,i){this.x=e,this.y=i}clone(){return new ne(this.x,this.y)}scale(e){return this.x*=e,this.y*=e,this}translate(e,i){return this.x+=e,this.y+=i,this}static equals(e,i){return e===i?!0:e&&i?e.x===i.x&&e.y===i.y:!1}static distance(e,i){const r=e.x-i.x;return e=e.y-i.y,Math.sqrt(r*r+e*e)}static magnitude(e){return Math.sqrt(e.x*e.x+e.y*e.y)}static difference(e,i){return new ne(e.x-i.x,e.y-i.y)}static sum(e,i){return new ne(e.x+i.x,e.y+i.y)}},F=class{constructor(e){this.tagName=e}toString(){return this.tagName}};F.ANIMATE=new F("animate"),F.CIRCLE=new F("circle"),F.CLIPPATH=new F("clipPath"),F.DEFS=new F("defs"),F.FECOMPOSITE=new F("feComposite"),F.FECOMPONENTTRANSFER=new F("feComponentTransfer"),F.FEFLOOD=new F("feFlood"),F.FEFUNCA=new F("feFuncA"),F.FEGAUSSIANBLUR=new F("feGaussianBlur"),F.FEPOINTLIGHT=new F("fePointLight"),F.FESPECULARLIGHTING=new F("feSpecularLighting"),F.FILTER=new F("filter"),F.FOREIGNOBJECT=new F("foreignObject"),F.G=new F("g"),F.IMAGE=new F("image"),F.LINE=new F("line"),F.PATH=new F("path"),F.PATTERN=new F("pattern"),F.POLYGON=new F("polygon"),F.RECT=new F("rect"),F.SVG=new F("svg"),F.TEXT=new F("text"),F.TSPAN=new F("tspan");var Be=class{constructor(e,i,r,a){this.top=e,this.bottom=i,this.left=r,this.right=a}static from(e){return new Be(e.y,e.y+e.height,e.x,e.x+e.width)}clone(){return new Be(this.top,this.bottom,this.left,this.right)}getHeight(){return this.bottom-this.top}getWidth(){return this.right-this.left}getOrigin(){return new ne(this.left,this.top)}contains(e,i){return e>=this.left&&e<=this.right&&i>=this.top&&i<=this.bottom}intersects(e){return this.left<=e.right&&this.right>=e.left&&this.bottom>=e.top&&this.top<=e.bottom}static equals(e,i){return e===i?!0:e&&i?e.top===i.top&&e.bottom===i.bottom&&e.left===i.left&&e.right===i.right:!1}static createFromPoint(e,i,r){const a=e.x;return e=e.y,new Be(e,e+r,a,a+i)}},Ue=class{constructor(e,i){this.width=e,this.height=i}static equals(e,i){return e===i?!0:e&&i?e.width===i.width&&e.height===i.height:!1}static max(e,i){return new Ue(Math.max(e.width,i.width),Math.max(e.height,i.height))}static min(e,i){return new Ue(Math.min(e.width,i.width),Math.min(e.height,i.height))}},oR={getSizeInternal:$n},Ps={TEST_ONLY:oR};Ps.getBorderBox=vc,Ps.getComputedStyle=go,Ps.getContainerOffsetToScrollInto=Ll,Ps.getPageOffset=Kt,Ps.getSize=fo,Ps.getViewportPageOffset=Ec,Ps.scrollIntoContainerView=yc;var iR=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/,nR=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/,i1={XY_REGEX:iR,XY_STYLE_REGEX:nR},xr={TEST_ONLY:i1};xr.getDocumentScroll=Ic,xr.getInjectionDivXY=kl,xr.getRelativeXY=yr,xr.getViewportBBox=Sc,xr.screenToWsCoordinates=ws,xr.wsToScreenCoordinates=As;var Ht=class{constructor(e,i,r,a,u){this.workspace=e,this.horizontal=i,this.oldHostMetrics=null,this.ratio=1,this.origin=new ne(0,0),this.startDragHandle=this.handlePosition=this.handleLength=this.scrollbarLength=this.startDragMouse=0,this.containerVisible=this.isHandleVisible=!0,this.position=new ne(0,0),this.onMouseMoveWrapper_=this.onMouseUpWrapper_=null,this.pair=r||!1,this.margin=u!==void 0?u:Ht.DEFAULT_SCROLLBAR_MARGIN,e="blocklyScrollbar"+(this.horizontal?"Horizontal":"Vertical"),a&&(e+=" "+a),this.outerSvg=q(F.SVG,{class:e}),a=q(F.G,{},this.outerSvg),this.svgBackground=q(F.RECT,{class:"blocklyScrollbarBackground"},a),e=Math.floor((Ht.scrollbarThickness-5)/2),this.svgHandle=q(F.RECT,{class:"blocklyScrollbarHandle",rx:e,ry:e},a),this.workspace.getThemeManager().subscribe(this.svgHandle,"scrollbarColour","fill"),this.workspace.getThemeManager().subscribe(this.svgHandle,"scrollbarOpacity","fill-opacity"),Xo(this.outerSvg,this.workspace.getParentSvg()),this.setInitialThickness(),i?(this.lengthAttribute_="width",this.positionAttribute_="x"):(this.lengthAttribute_="height",this.positionAttribute_="y"),this.onMouseDownBarWrapper_=S(this.svgBackground,"pointerdown",this,this.onMouseDownBar),this.onMouseDownHandleWrapper_=S(this.svgHandle,"pointerdown",this,this.onMouseDownHandle)}setInitialThickness(){const e=Ht.scrollbarThickness;this.horizontal?(this.svgBackground.setAttribute("height",String(e)),this.outerSvg.setAttribute("height",String(e)),this.svgHandle.setAttribute("height",String(e-5)),this.svgHandle.setAttribute("y","2.5")):(this.svgBackground.setAttribute("width",String(e)),this.outerSvg.setAttribute("width",String(e)),this.svgHandle.setAttribute("width",String(e-5)),this.svgHandle.setAttribute("x","2.5"))}dispose(){this.cleanUp(),L(this.onMouseDownBarWrapper_),L(this.onMouseDownHandleWrapper_),Xe(this.outerSvg),this.workspace.getThemeManager().unsubscribe(this.svgHandle)}constrainHandleLength(e){return e=e<=0||isNaN(e)?0:Math.min(e,this.scrollbarLength)}setHandleLength(e){this.handleLength=e,this.svgHandle.setAttribute(this.lengthAttribute_,String(this.handleLength))}constrainHandlePosition(e){return e=e<=0||isNaN(e)?0:Math.min(e,this.scrollbarLength-this.handleLength)}setHandlePosition(e){this.handlePosition=e,this.svgHandle.setAttribute(this.positionAttribute_,String(this.handlePosition))}setScrollbarLength(e){this.scrollbarLength=e,this.outerSvg.setAttribute(this.lengthAttribute_,String(this.scrollbarLength)),this.svgBackground.setAttribute(this.lengthAttribute_,String(this.scrollbarLength))}setPosition(e,i){this.position.x=e,this.position.y=i,Bo(this.outerSvg,"translate("+(this.position.x+this.origin.x)+"px,"+(this.position.y+this.origin.y)+"px)")}resize(e){!e&&(e=this.workspace.getMetrics(),!e)||this.oldHostMetrics&&Ht.metricsAreEquivalent(e,this.oldHostMetrics)||(this.horizontal?this.resizeHorizontal(e):this.resizeVertical(e),this.oldHostMetrics=e,this.updateMetrics())}requiresViewResize(e){return this.oldHostMetrics?this.oldHostMetrics.viewWidth!==e.viewWidth||this.oldHostMetrics.viewHeight!==e.viewHeight||this.oldHostMetrics.absoluteLeft!==e.absoluteLeft||this.oldHostMetrics.absoluteTop!==e.absoluteTop:!0}resizeHorizontal(e){this.requiresViewResize(e)?this.resizeViewHorizontal(e):this.resizeContentHorizontal(e)}resizeViewHorizontal(e){var i=e.viewWidth-this.margin*2;this.pair&&(i-=Ht.scrollbarThickness),this.setScrollbarLength(Math.max(0,i)),i=e.absoluteLeft+this.margin,this.pair&&this.workspace.RTL&&(i+=Ht.scrollbarThickness),this.setPosition(i,e.absoluteTop+e.viewHeight-Ht.scrollbarThickness-this.margin),this.resizeContentHorizontal(e)}resizeContentHorizontal(e){if(e.viewWidth>=e.scrollWidth)this.setHandleLength(this.scrollbarLength),this.setHandlePosition(0),this.pair||this.setVisible(!1);else{this.pair||this.setVisible(!0);var i=this.scrollbarLength*e.viewWidth/e.scrollWidth;i=this.constrainHandleLength(i),this.setHandleLength(i),i=e.scrollWidth-e.viewWidth;var r=this.scrollbarLength-this.handleLength;e=(e.viewLeft-e.scrollLeft)/i*r,e=this.constrainHandlePosition(e),this.setHandlePosition(e),this.ratio=r/i}}resizeVertical(e){this.requiresViewResize(e)?this.resizeViewVertical(e):this.resizeContentVertical(e)}resizeViewVertical(e){let i=e.viewHeight-this.margin*2;this.pair&&(i-=Ht.scrollbarThickness),this.setScrollbarLength(Math.max(0,i)),this.setPosition(this.workspace.RTL?e.absoluteLeft+this.margin:e.absoluteLeft+e.viewWidth-Ht.scrollbarThickness-this.margin,e.absoluteTop+this.margin),this.resizeContentVertical(e)}resizeContentVertical(e){if(e.viewHeight>=e.scrollHeight)this.setHandleLength(this.scrollbarLength),this.setHandlePosition(0),this.pair||this.setVisible(!1);else{this.pair||this.setVisible(!0);var i=this.scrollbarLength*e.viewHeight/e.scrollHeight;i=this.constrainHandleLength(i),this.setHandleLength(i),i=e.scrollHeight-e.viewHeight;var r=this.scrollbarLength-this.handleLength;e=(e.viewTop-e.scrollTop)/i*r,e=this.constrainHandlePosition(e),this.setHandlePosition(e),this.ratio=r/i}}isVisible(){return this.isHandleVisible}setContainerVisible(e){const i=e!==this.containerVisible;this.containerVisible=e,i&&this.updateDisplay_()}setVisible(e){if(this.pair)throw Error("Unable to toggle visibility of paired scrollbars.");this.setVisibleInternal(e)}setVisibleInternal(e){const i=e!==this.isVisible();this.isHandleVisible=e,i&&this.updateDisplay_()}updateDisplay_(){this.containerVisible&&this.isVisible()?this.outerSvg.setAttribute("display","block"):this.outerSvg.setAttribute("display","none")}onMouseDownBar(e){if(this.workspace.markFocused(),I(),this.cleanUp(),Y(e))e.stopPropagation();else{var i=K(e,this.workspace.getParentSvg(),this.workspace.getInverseScreenCTM());i=this.horizontal?i.x:i.y;var r=kl(this.svgHandle);r=this.horizontal?r.x:r.y;var a=this.handlePosition,u=this.handleLength*.95;i<=r?a-=u:i>=r+this.handleLength&&(a+=u),this.setHandlePosition(this.constrainHandlePosition(a)),this.updateMetrics(),e.stopPropagation(),e.preventDefault()}}onMouseDownHandle(e){this.workspace.markFocused(),this.cleanUp(),Y(e)?e.stopPropagation():(this.startDragHandle=this.handlePosition,this.startDragMouse=this.horizontal?e.clientX:e.clientY,this.onMouseUpWrapper_=S(document,"pointerup",this,this.onMouseUpHandle),this.onMouseMoveWrapper_=S(document,"pointermove",this,this.onMouseMoveHandle),e.stopPropagation(),e.preventDefault())}onMouseMoveHandle(e){this.setHandlePosition(this.constrainHandlePosition(this.startDragHandle+((this.horizontal?e.clientX:e.clientY)-this.startDragMouse))),this.updateMetrics()}onMouseUpHandle(){I(),this.cleanUp()}cleanUp(){this.workspace.hideChaff(!0),this.onMouseUpWrapper_&&(L(this.onMouseUpWrapper_),this.onMouseUpWrapper_=null),this.onMouseMoveWrapper_&&(L(this.onMouseMoveWrapper_),this.onMouseMoveWrapper_=null)}getRatio_(){let e=this.handlePosition/(this.scrollbarLength-this.handleLength);return isNaN(e)&&(e=0),e}updateMetrics(){const e=this.getRatio_();this.horizontal?this.workspace.setMetrics({x:e}):this.workspace.setMetrics({y:e})}set(e,i){this.setHandlePosition(this.constrainHandlePosition(e*this.ratio)),(i||i===void 0)&&this.updateMetrics()}setOrigin(e,i){this.origin=new ne(e,i)}static metricsAreEquivalent(e,i){return e.viewWidth===i.viewWidth&&e.viewHeight===i.viewHeight&&e.viewLeft===i.viewLeft&&e.viewTop===i.viewTop&&e.absoluteTop===i.absoluteTop&&e.absoluteLeft===i.absoluteLeft&&e.scrollWidth===i.scrollWidth&&e.scrollHeight===i.scrollHeight&&e.scrollLeft===i.scrollLeft&&e.scrollTop===i.scrollTop}};Ht.scrollbarThickness=NO?25:15,Ht.DEFAULT_SCROLLBAR_MARGIN=.5;var Vh={parseFromString:function(){throw Error("DOMParser was not found in the global scope and was not properly injected using injectDependencies")}},A_={serializeToString:function(){throw Error("XMLSerializer was not foundin the global scope and was not properly injected using injectDependencies")}},{document:zh,DOMParser:Kc,XMLSerializer:qc}=globalThis;Kc&&(Vh=new Kc),qc&&(A_=new qc);var sR="https://developers.google.com/blockly/xml",n1=/[\x00-\x09\x0B\x0C\x0E-\x1F]/g,Jl={NAME_SPACE:sR};Jl.createElement=n.createElement$$module$build$src$core$utils$xml,Jl.createTextNode=n.createTextNode$$module$build$src$core$utils$xml,Jl.domToText=Sr,Jl.injectDependencies=Oc,Jl.textToDom=n.textToDom$$module$build$src$core$utils$xml;var L_="categoryToolbox",rR="flyoutToolbox",He;(function(e){e[e.TOP=0]="TOP",e[e.BOTTOM=1]="BOTTOM",e[e.LEFT=2]="LEFT",e[e.RIGHT=3]="RIGHT"})(He||(He={}));var lR={hasCategoriesInternal:mo},Bs={};Bs.Position=He,Bs.TEST_ONLY=lR,Bs.convertFlyoutDefToJsonArray=Pe,Bs.convertToolboxDefToJson=Z,Bs.hasCategories=Et,Bs.isCategoryCollapsible=Ko,Bs.parseToolboxTree=_m;var Jn;(function(e){e[e.TOP=0]="TOP",e[e.BOTTOM=1]="BOTTOM"})(Jn||(Jn={}));var Zl;(function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT"})(Zl||(Zl={}));var Us;(function(e){e[e.UP=0]="UP",e[e.DOWN=1]="DOWN"})(Us||(Us={}));var Dr={};Dr.bumpDirection=Us,Dr.bumpPositionRect=qd,Dr.getCornerOppositeToolbox=Kd,Dr.getStartPositionRect=jd,Dr.horizontalPosition=Zl,Dr.verticalPosition=Jn;var qo={width:96,height:124,url:"sprites.png"},aR=class{constructor(e){this.workspace=e,this.id="zoomControls",this.boundEvents=[],this.zoomResetGroup=this.zoomOutGroup=this.zoomInGroup=null,this.HEIGHT=this.WIDTH=32,this.SMALL_SPACING=2,this.LARGE_SPACING=11,this.MARGIN_HORIZONTAL=this.MARGIN_VERTICAL=20,this.svgGroup=null,this.top=this.left=0,this.initialized=!1}createDom(){this.svgGroup=q(F.G,{});const e=String(Math.random()).substring(2);return this.createZoomOutSvg(e),this.createZoomInSvg(e),this.workspace.isMovable()&&this.createZoomResetSvg(e),this.svgGroup}init(){this.workspace.getComponentManager().addComponent({component:this,weight:It.ComponentWeight.ZOOM_CONTROLS_WEIGHT,capabilities:[It.Capability.POSITIONABLE]}),this.initialized=!0}dispose(){this.workspace.getComponentManager().removeComponent("zoomControls"),this.svgGroup&&Xe(this.svgGroup);for(const e of this.boundEvents)L(e);this.boundEvents.length=0}getBoundingRectangle(){let e=this.SMALL_SPACING+2*this.HEIGHT;return this.zoomResetGroup&&(e+=this.LARGE_SPACING+this.HEIGHT),new Be(this.top,this.top+e,this.left,this.left+this.WIDTH)}position(e,i){if(this.initialized){var r=Kd(this.workspace,e),a=this.SMALL_SPACING+2*this.HEIGHT;if(this.zoomResetGroup&&(a+=this.LARGE_SPACING+this.HEIGHT),e=jd(r,new Ue(this.WIDTH,a),this.MARGIN_HORIZONTAL,this.MARGIN_VERTICAL,e,this.workspace),r=r.vertical,i=qd(e,this.MARGIN_VERTICAL,r===Jn.TOP?Us.DOWN:Us.UP,i),r===Jn.TOP){var u=this.SMALL_SPACING+this.HEIGHT,f;(f=this.zoomInGroup)==null||f.setAttribute("transform","translate(0, "+u+")"),this.zoomResetGroup&&this.zoomResetGroup.setAttribute("transform","translate(0, "+(u+this.LARGE_SPACING+this.HEIGHT)+")")}else{f=this.zoomResetGroup?this.LARGE_SPACING+this.HEIGHT:0;let C;(C=this.zoomInGroup)==null||C.setAttribute("transform","translate(0, "+f+")"),f=f+this.SMALL_SPACING+this.HEIGHT,(u=this.zoomOutGroup)==null||u.setAttribute("transform","translate(0, "+f+")")}this.top=i.top,this.left=i.left;var E;(E=this.svgGroup)==null||E.setAttribute("transform","translate("+this.left+","+this.top+")")}}createZoomOutSvg(e){this.zoomOutGroup=q(F.G,{class:"blocklyZoom blocklyZoomOut"},this.svgGroup);const i=q(F.CLIPPATH,{id:"blocklyZoomoutClipPath"+e},this.zoomOutGroup);q(F.RECT,{width:32,height:32},i),q(F.IMAGE,{width:qo.width,height:qo.height,x:-64,y:-92,"clip-path":"url(#blocklyZoomoutClipPath"+e+")"},this.zoomOutGroup).setAttributeNS($i,"xlink:href",this.workspace.options.pathToMedia+qo.url),this.boundEvents.push(S(this.zoomOutGroup,"pointerdown",null,this.zoom.bind(this,-1)))}createZoomInSvg(e){this.zoomInGroup=q(F.G,{class:"blocklyZoom blocklyZoomIn"},this.svgGroup);const i=q(F.CLIPPATH,{id:"blocklyZoominClipPath"+e},this.zoomInGroup);q(F.RECT,{width:32,height:32},i),q(F.IMAGE,{width:qo.width,height:qo.height,x:-32,y:-92,"clip-path":"url(#blocklyZoominClipPath"+e+")"},this.zoomInGroup).setAttributeNS($i,"xlink:href",this.workspace.options.pathToMedia+qo.url),this.boundEvents.push(S(this.zoomInGroup,"pointerdown",null,this.zoom.bind(this,1)))}zoom(e,i){this.workspace.markFocused(),this.workspace.zoomCenter(e),this.fireZoomEvent(),I(),i.stopPropagation(),i.preventDefault()}createZoomResetSvg(e){this.zoomResetGroup=q(F.G,{class:"blocklyZoom blocklyZoomReset"},this.svgGroup);const i=q(F.CLIPPATH,{id:"blocklyZoomresetClipPath"+e},this.zoomResetGroup);q(F.RECT,{width:32,height:32},i),q(F.IMAGE,{width:qo.width,height:qo.height,y:-92,"clip-path":"url(#blocklyZoomresetClipPath"+e+")"},this.zoomResetGroup).setAttributeNS($i,"xlink:href",this.workspace.options.pathToMedia+qo.url),this.boundEvents.push(S(this.zoomResetGroup,"pointerdown",null,this.resetZoom.bind(this)))}resetZoom(e){this.workspace.markFocused();const i=Math.log(this.workspace.options.zoomOptions.startScale/this.workspace.scale)/Math.log(this.workspace.options.zoomOptions.scaleSpeed);this.workspace.beginCanvasTransition(),this.workspace.zoomCenter(i),this.workspace.scrollCenter(),setTimeout(this.workspace.endCanvasTransition.bind(this.workspace),500),this.fireZoomEvent(),I(),e.stopPropagation(),e.preventDefault()}fireZoomEvent(){const e=new(ge(z.CLICK))(null,this.workspace.id,"zoom_controls");V(e)}};ye("\n.blocklyZoom>image, .blocklyZoom>svg>image {\n  opacity: .4;\n}\n\n.blocklyZoom>image:hover, .blocklyZoom>svg>image:hover {\n  opacity: .6;\n}\n\n.blocklyZoom>image:active, .blocklyZoom>svg>image:active {\n  opacity: .8;\n}\n");var cR=100,uR=75,dR=50,hR=25,s1={BLOCKS:dR,PROCEDURES:uR,VARIABLES:cR,WORKSPACE_COMMENTS:hR},k_={};k_.register=Rc,k_.unregister=$S;var pR=class{constructor(){this.priority=hR}save(e){const i=[];for(const r of e.getTopComments())(e=Nl(r,{addCoordinates:!0,saveIds:!0}))&&i.push(e);return i.length?i:null}load(e,i){for(const r of e)Cc(r,i,{recordUndo:ae()})}clear(e){for(const i of e.getTopComments())i.dispose()}};Rc("workspaceComments",new pR);var Wh={};Wh.WorkspaceCommentSerializer=pR,Wh.append=Cc,Wh.save=Nl;var N_={};N_.register=Jd,N_.unregister=_S;var Xh=class{paste(e,i,r){e=e.commentState,r&&(e.x=r.x,e.y=r.y),n.disable$$module$build$src$core$events$utils();let a;try{a=Cc(e,i),bS(a)}finally{n.enable$$module$build$src$core$events$utils()}return a?(ke()&&V(new(ge(z.COMMENT_CREATE))(a)),n.getFocusManager$$module$build$src$core$focus_manager().focusNode(a),a):null}};Xh.TYPE="workspace-comment",Jd(Xh.TYPE,new Xh);var M_;M_=28,n.config$$module$build$src$core$config={dragRadius:5,flyoutDragRadius:10,snapRadius:M_,connectingSnapRadius:M_,currentConnectionPreference:8,bumpDelay:250},n.config$$module$build$src$core$config;var r1="aria-",l1="role",_i;(function(e){e.GRID="grid",e.GRIDCELL="gridcell",e.GROUP="group",e.LISTBOX="listbox",e.MENU="menu",e.MENUITEM="menuitem",e.MENUITEMCHECKBOX="menuitemcheckbox",e.OPTION="option",e.PRESENTATION="presentation",e.ROW="row",e.TREE="tree",e.TREEITEM="treeitem",e.SEPARATOR="separator",e.STATUS="status"})(_i||(_i={}));var Ft;(function(e){e.ACTIVEDESCENDANT="activedescendant",e.COLCOUNT="colcount",e.DISABLED="disabled",e.EXPANDED="expanded",e.INVALID="invalid",e.LABEL="label",e.LABELLEDBY="labelledby",e.LEVEL="level",e.ORIENTATION="orientation",e.POSINSET="posinset",e.ROWCOUNT="rowcount",e.SELECTED="selected",e.SETSIZE="setsize",e.VALUEMAX="valuemax",e.VALUEMIN="valuemin",e.LIVE="live",e.HIDDEN="hidden"})(Ft||(Ft={}));var Jc={};Jc.Role=_i,Jc.State=Ft,Jc.setRole=bn,Jc.setState=qt;var Yh=class{constructor(e,i){this.content=e,this.opt_value=i,this.enabled=!0,this.element=null,this.rightToLeft=!1,this.roleName=null,this.highlight=this.checked=this.checkable=!1,this.actionHandler=null}createDom(){const e=document.createElement("div");e.id=P(),this.element=e,e.className="blocklyMenuItem "+(this.enabled?"":"blocklyMenuItemDisabled ")+(this.checked?"blocklyMenuItemSelected ":"")+(this.highlight?"blocklyMenuItemHighlight ":"")+(this.rightToLeft?"blocklyMenuItemRtl ":"");const i=document.createElement("div");if(i.className="blocklyMenuItemContent",this.checkable){var r=document.createElement("div");r.className="blocklyMenuItemCheckbox ",i.appendChild(r)}return r=this.content,typeof this.content=="string"&&(r=document.createTextNode(this.content)),i.appendChild(r),e.appendChild(i),this.roleName&&bn(e,this.roleName),qt(e,Ft.SELECTED,this.checkable&&this.checked||!1),qt(e,Ft.DISABLED,!this.enabled),e}dispose(){this.element=null}getElement(){return this.element}getId(){return this.element.id}getValue(){let e;return(e=this.opt_value)!=null?e:null}setRightToLeft(e){this.rightToLeft=e}setRole(e){this.roleName=e}setCheckable(e){this.checkable=e}setChecked(e){this.checked=e}setHighlighted(e){this.highlight=e;const i=this.getElement();i&&this.isEnabled()&&(e?fe(i,"blocklyMenuItemHighlight"):De(i,"blocklyMenuItemHighlight"))}isEnabled(){return this.enabled}setEnabled(e){this.enabled=e}performAction(e){this.isEnabled()&&this.actionHandler&&this.actionHandler(this,e)}onAction(e,i){this.actionHandler=e.bind(i)}},x_=class{constructor(){this.menuItems=[],this.roleName=this.element=this.onKeyDownHandler=this.pointerLeaveHandler=this.pointerEnterHandler=this.clickHandler=this.pointerMoveHandler=this.highlightedItem=this.openingCoords=null}addChild(e){this.menuItems.push(e)}render(e){const i=document.createElement("div");i.className="blocklyMenu",i.tabIndex=0,this.roleName&&bn(i,this.roleName),this.element=i;for(let r=0,a;a=this.menuItems[r];r++)i.appendChild(a.createDom());return this.pointerMoveHandler=S(i,"pointermove",this,this.handlePointerMove,!0),this.clickHandler=S(i,"pointerup",this,this.handleClick,!0),this.pointerEnterHandler=S(i,"pointerenter",this,this.handlePointerEnter,!0),this.pointerLeaveHandler=S(i,"pointerleave",this,this.handlePointerLeave,!0),this.onKeyDownHandler=S(i,"keydown",this,this.handleKeyEvent),e.appendChild(i),i}getElement(){return this.element}focus(){const e=this.getElement();e&&e.focus({preventScroll:!0})}blur(){const e=this.getElement();e&&e.blur()}setRole(e){this.roleName=e}dispose(){this.pointerMoveHandler&&(L(this.pointerMoveHandler),this.pointerMoveHandler=null),this.clickHandler&&(L(this.clickHandler),this.clickHandler=null),this.pointerEnterHandler&&(L(this.pointerEnterHandler),this.pointerEnterHandler=null),this.pointerLeaveHandler&&(L(this.pointerLeaveHandler),this.pointerLeaveHandler=null),this.onKeyDownHandler&&(L(this.onKeyDownHandler),this.onKeyDownHandler=null);for(let e=0,i;i=this.menuItems[e];e++)i.dispose();this.element=null}getMenuItem(e){const i=this.getElement();for(;e&&e!==i;){if(e.classList.contains("blocklyMenuItem")){const r=this.getMenuItems();for(let a=0,u;u=r[a];a++)if(u.getElement()===e)return u}e=e.parentElement}return null}setHighlighted(e){var i=this.highlightedItem;if(i&&(i.setHighlighted(!1),this.highlightedItem=null),e){e.setHighlighted(!0),this.highlightedItem=e,i=this.getElement();const r=e.getElement();i&&r&&(yc(r,i),qt(i,Ft.ACTIVEDESCENDANT,e.getId()))}}highlightNext(){const e=this.highlightedItem?this.menuItems.indexOf(this.highlightedItem):-1;this.highlightHelper(e,1)}highlightPrevious(){const e=this.highlightedItem?this.menuItems.indexOf(this.highlightedItem):-1;this.highlightHelper(e<0?this.menuItems.length:e,-1)}highlightFirst(){this.highlightHelper(-1,1)}highlightLast(){this.highlightHelper(this.menuItems.length,-1)}highlightHelper(e,i){e+=i;let r;const a=this.getMenuItems();for(;r=a[e];){if(r.isEnabled()){this.setHighlighted(r);break}e+=i}}handlePointerMove(e){Math.max(Math.abs(e.movementX),Math.abs(e.movementY))!==0&&(e=this.getMenuItem(e.target))&&(e.isEnabled()?this.highlightedItem!==e&&this.setHighlighted(e):this.setHighlighted(null))}handleClick(e){var i=this.openingCoords;if(this.openingCoords=null,i&&typeof e.clientX=="number"){const r=new ne(e.clientX,e.clientY);if(ne.distance(i,r)<1)return}(i=this.getMenuItem(e.target))&&i.performAction(e)}handlePointerEnter(e){this.focus()}handlePointerLeave(e){this.getElement()&&this.setHighlighted(null)}handleKeyEvent(e){if(this.menuItems.length&&!(e.shiftKey||e.ctrlKey||e.metaKey||e.altKey)){var i=this.highlightedItem;switch(e.key){case"Enter":case" ":i&&i.performAction(e);break;case"ArrowUp":this.highlightPrevious();break;case"ArrowDown":this.highlightNext();break;case"PageUp":case"Home":this.highlightFirst();break;case"PageDown":case"End":this.highlightLast();break;default:return}e.preventDefault(),e.stopPropagation()}}getSize(){const e=this.getElement(),i=fo(e);return i.height=e.scrollHeight,i}getMenuItems(){return this.menuItems.filter(e=>e instanceof Yh)}},fR=class{constructor(){this.element=null}createDom(){return this.element=document.createElement("hr"),this.element.className="blocklyMenuSeparator",bn(this.element,_i.SEPARATOR),this.element}dispose(){let e;(e=this.element)==null||e.remove(),this.element=null}},Zc="_TEMP_COLLAPSED_INPUT",jh="_TEMP_COLLAPSED_FIELD",Di="MANUALLY_DISABLED",a1={COLLAPSED_FIELD_NAME:jh,COLLAPSED_INPUT_NAME:Zc,MANUALLY_DISABLED:Di};(function(e){e[e.VALUE=1]="VALUE",e[e.STATEMENT=3]="STATEMENT",e[e.DUMMY=5]="DUMMY",e[e.CUSTOM=6]="CUSTOM",e[e.END_ROW=7]="END_ROW"})(n.inputTypes$$module$build$src$core$inputs$input_types||(n.inputTypes$$module$build$src$core$inputs$input_types={})),n.inputTypes$$module$build$src$core$inputs$input_types;var Kh=new Set,D_=new WeakSet,P_=new WeakMap,Ql=null,B_=null,gR=0,qh={};qh.finishQueuedRenders=Tn,qh.queueRender=bm,qh.triggerQueuedRenders=Ls;var U_,mR;n.Msg$$module$build$src$core$msg=Object.create(null),U_=function(e){Object.keys(e).forEach(function(i){n.Msg$$module$build$src$core$msg[i]=e[i]})},mR={Msg:n.Msg$$module$build$src$core$msg,setLocale:U_};var Qc="blocklyToast",$R="blocklyToastMessage",_R="blocklyToastCloseButton",Pr=class{static show(e,i){if(i.oncePerSession&&i.id){if(this.shownIds.has(i.id))return;this.shownIds.add(i.id)}this.hide(e);const r=this.createDom(e,i);requestAnimationFrame(()=>{r.style.bottom="2rem"})}static createDom(e,i){const{message:r,duration:a=5,assertiveness:u=Pr.Assertiveness.POLITE}=i,f=document.createElement("div");e.getInjectionDiv().appendChild(f),f.dataset.toastId=i.id,f.className=Qc,bn(f,_i.STATUS),qt(f,Ft.LIVE,u),i=f.appendChild(document.createElement("div")),i.className=$R,i.innerText=r,i=f.appendChild(document.createElement("button")),i.className=_R,qt(i,Ft.LABEL,n.Msg$$module$build$src$core$msg.CLOSE);var E=q(F.SVG,{width:24,height:24,viewBox:"0 0 24 24",fill:"none"},i);qt(E,Ft.HIDDEN,!0),q(F.RECT,{x:19.7782,y:2.80762,width:2,height:24,transform:"rotate(45, 19.7782, 2.80762)",fill:"black"},E),q(F.RECT,{x:2.80762,y:4.22183,width:2,height:24,transform:"rotate(-45, 2.80762, 4.22183)",fill:"black"},E),i.addEventListener("click",()=>{f.remove(),e.markFocused()});let C;return i=()=>{C=setTimeout(()=>f.remove(),a*1e3)},E=()=>clearTimeout(C),f.addEventListener("focusin",E),f.addEventListener("focusout",i),f.addEventListener("mouseenter",E),f.addEventListener("mousemove",E),f.addEventListener("mouseleave",i),i(),f}static hide(e,i){e=e.getInjectionDiv().querySelector(".".concat(Qc)),e instanceof HTMLElement&&(!i||i===e.dataset.toastId)&&e.remove()}};Pr.shownIds=new Set,function(e){e=e.Assertiveness||(e.Assertiveness={}),e.ASSERTIVE="assertive",e.POLITE="polite"}(Pr||(Pr={})),ye("\n.".concat(Qc," {\n  font-size: 1.2rem;\n  position: absolute;\n  bottom: -10rem;\n  right: 2rem;\n  padding: 1rem;\n  color: black;\n  background-color: white;\n  border: 2px solid black;\n  border-radius: 0.4rem;\n  z-index: 999;\n  display: flex;\n  align-items: center;\n  gap: 0.8rem;\n  line-height: 1.5;\n  transition: bottom 0.3s ease-out;\n}\n\n.").concat(Qc," .").concat($R," {\n  maxWidth: 18rem;\n}\n\n.").concat(Qc," .").concat(_R," {\n  margin: 0;\n  padding: 0.2rem;\n  background-color: transparent;\n  color: black;\n  border: none;\n  cursor: pointer;\n}\n"));var bR=function(e,i){window.alert(e),i&&i()},TR=bR,ER=function(e,i){i(window.confirm(e))},vR=ER,yR=function(e,i,r){r(window.prompt(e,i))},SR=yR,IR=Pr.show.bind(Pr),OR=IR,Zn={};Zn.alert=Ac,Zn.confirm=Qd,Zn.prompt=eh,Zn.setAlert=yS,Zn.setConfirm=SS,Zn.setPrompt=IS,Zn.setToast=RS,Zn.toast=OS;var RR=new Set,CR={};CR.warn=$o;var H_="VARIABLE",F_="ijkmnopqrstuvwxyzabcdefgh",wR={generateUniqueNameInternal:AS},Gt={CATEGORY_NAME:H_,TEST_ONLY:wR,VAR_LETTER_OPTIONS:F_};Gt.allDeveloperVariables=n.allDeveloperVariables$$module$build$src$core$variables,Gt.allUsedVarModels=n.allUsedVarModels$$module$build$src$core$variables,Gt.compareByName=xl,Gt.createVariableButtonHandler=Ir,Gt.deleteVariable=n.deleteVariable$$module$build$src$core$variables,Gt.flyoutCategory=Sm,Gt.flyoutCategoryBlocks=Im,Gt.generateUniqueName=Om,Gt.generateUniqueNameFromOptions=nh,Gt.generateVariableFieldDom=Or,Gt.getAddedVariables=Lc,Gt.getOrCreateVariablePackage=n.getOrCreateVariablePackage$$module$build$src$core$variables,Gt.getVariable=n.getVariable$$module$build$src$core$variables,Gt.getVariableUsesById=Dl,Gt.internalFlyoutCategory=th,Gt.jsonFlyoutCategoryBlocks=ih,Gt.nameUsedWithAnyType=Rm,Gt.nameUsedWithConflictingParam=Cm,Gt.promptName=sh,Gt.renameVariable=n.renameVariable$$module$build$src$core$variables;var ea=class extends Error{},AR=class extends ea{constructor(e){super("Expected to find a 'type' property, defining the block type"),this.state=e}},eu=class extends ea{constructor(e,i,r){super("The block ".concat(i.toDevString()," is missing a(n) ").concat(e,"\nconnection")),this.block=i,this.state=r}},LR=class extends ea{constructor(e,i,r,a){super("The block ".concat(r.toDevString()," could not connect its\n").concat(i," to its parent, because: ").concat(e)),this.childBlock=r,this.childState=a}},kR=class extends ea{constructor(e){super("Encountered a real block which is defined as a child of a shadow\nblock. It is an invariant of Blockly that shadow blocks only have shadow\nchildren"),this.state=e}},NR=class extends ea{constructor(e,i,r){super("Cannot add an icon of type '".concat(e,"' to the block ")+"".concat(i.toDevString(),", because there is no icon registered with ")+"type '".concat(e,"'. Make sure that all of your icons have been ")+"registered."),this.block=i,this.state=r}},Br={};Br.BadConnectionCheck=LR,Br.DeserializationError=ea,Br.MissingBlockType=AR,Br.MissingConnection=eu,Br.RealChildOfShadow=kR,Br.UnregisteredIcon=NR;var MR=class{constructor(){this.priority=dR}save(e){const i=[];for(const r of e.getTopBlocks(!1))(e=Mi(r,{addCoordinates:!0,doFullSerialization:!1}))&&i.push(e);return i.length?{languageVersion:0,blocks:i}:null}load(e,i){e=e.blocks;for(const r of e)ks(r,i,{recordUndo:ae()})}clear(e){for(const i of e.getTopBlocks(!1))i.dispose(!1)}};Rc("blocks",new MR);var tu={};tu.BlockSerializer=MR,tu.append=ks,tu.appendInternal=Pl,tu.save=Mi;var eo=class{constructor(e){this.name=e}toString(){return this.name}equals(e){return this.name===e.toString()}};eo.MUTATOR=new eo("mutator"),eo.WARNING=new eo("warning"),eo.COMMENT=new eo("comment");var Ur=class extends ql{constructor(e){super(),this.isBlank=!e,e&&(this.blockId=e.id,this.workspaceId=e.workspace.id)}toJson(){const e=super.toJson();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");return e.blockId=this.blockId,e}static fromJson(e,i,r){return i=super.fromJson(e,i,r!=null?r:new Ur),i.blockId=e.blockId,i}},Hr=class extends Ur{constructor(e,i,r,a,u){super(e),this.type=z.BLOCK_CHANGE,e&&(this.element=i,this.name=r||void 0,this.oldValue=a,this.newValue=u)}toJson(){const e=super.toJson();if(!this.element)throw Error("The changed element is undefined. Either pass an element to the constructor, or call fromJson");return e.element=this.element,e.name=this.name,e.oldValue=this.oldValue,e.newValue=this.newValue,this.disabledReason&&(e.disabledReason=this.disabledReason),e}static fromJson(e,i,r){return i=super.fromJson(e,i,r!=null?r:new Hr),i.element=e.element,i.name=e.name,i.oldValue=e.oldValue,i.newValue=e.newValue,e.disabledReason!==void 0&&(i.disabledReason=e.disabledReason),i}setDisabledReason(e){if(this.element!=="disabled")throw Error('Cannot set the disabled reason for a BlockChange event if the element is not "disabled".');this.disabledReason=e}isNull(){return this.oldValue===this.newValue}run(e){var i=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");if(i=i.getBlockById(this.blockId),!i)throw Error("The associated block is undefined. Either pass a block to the constructor, or call fromJson");const r=i.getIcon(eo.MUTATOR);switch(r&&Rr(r)&&r.bubbleIsVisible()&&r.setBubbleVisible(!1),e=e?this.newValue:this.oldValue,this.element){case"field":(i=i.getField(this.name))?i.setValue(e):console.warn("Can't set non-existent field: "+this.name);break;case"comment":i.setCommentText(e||null);break;case"collapsed":i.setCollapsed(!!e);break;case"disabled":var a;i.setDisabledReason(!!e,(a=this.disabledReason)!=null?a:Di);break;case"inline":i.setInputsInline(!!e);break;case"mutation":a=Hr.getExtraBlockState_(i),i.loadExtraState?i.loadExtraState(JSON.parse(e||"{}")):i.domToMutation&&i.domToMutation(n.textToDom$$module$build$src$core$utils$xml(e||"<mutation/>")),V(new Hr(i,"mutation",null,a,e));break;default:console.warn("Unknown change type: "+this.element)}}static getExtraBlockState_(e){return e.saveExtraState?(e=e.saveExtraState(!0))?JSON.stringify(e):"":e.mutationToDom&&(e=e.mutationToDom())?vn(e):""}};s(oe.EVENT,z.BLOCK_CHANGE,Hr);var Jh={};Jh.clamp=Bl,Jh.toDegrees=ZS,Jh.toRadians=rh;var Zh=16,xR=1,DR=12,G_=16,Qh=.25,V_=null,Fr=null,PR="",BR="",Nt,ou,Gr,z_=null,Hs=null,UR=null,ep=null,tp=null,W_={getBoundsInfo:function(){const e=Kt(z_),i=fo(z_);return{left:e.x,right:e.x+i.width,top:e.y,bottom:e.y+i.height,width:i.width,height:i.height}},getPositionMetrics:function(e,i,r,a){const u=W_.getBoundsInfo(),f=fo(Nt);return i+f.height<u.bottom?Hm(e,i,u,f):a-f.height>u.top?Fm(r,a,u,f):i+f.height<document.documentElement.clientHeight?Hm(e,i,u,f):a-f.height>document.documentElement.clientTop?Fm(r,a,u,f):eI(e,u,f)}},Ho={ANIMATION_TIME:Qh,ARROW_HORIZONTAL_PADDING:DR,ARROW_SIZE:Zh,BORDER_SIZE:xR,PADDING_Y:G_,TEST_ONLY:W_};Ho.clearContent=ch,Ho.createDom=lh,Ho.getContentDiv=ah,Ho.getOwner=Nm,Ho.getPositionX=kc,Ho.hide=dh,Ho.hideIfOwner=uh,Ho.hideWithoutAnimation=En,Ho.isVisible=Gm,Ho.repositionForWindowResize=zm,Ho.setBoundsElement=km,Ho.setColour=Mm,Ho.show=Um,Ho.showPositionedByBlock=QS,Ho.showPositionedByField=xm;var ta={};ta.commonWordPrefix=Wm,ta.commonWordSuffix=Xm,ta.isNumber=n.isNumber$$module$build$src$core$utils$string,ta.shortestStringLength=Nc,ta.wrap=n.wrap$$module$build$src$core$utils$string;var op=void 0,iu=!1,oa=!1,HR=50,FR=0,Vr=0,X_=0,Y_=0,Pi=null,nu=null,j_=0,K_=10,GR=10,VR=750,ip=5,to=null,bi={HOVER_MS:VR,LIMIT:HR,MARGINS:ip,OFFSET_X:j_,OFFSET_Y:K_,RADIUS_OK:GR};bi.bindMouseEvents=Mc,bi.block=Qm,bi.createDom=Km,bi.dispose=Zm,bi.getCustomTooltip=nI,bi.getDiv=rI,bi.getTooltipOfObject=Ul,bi.hide=Wn,bi.isVisible=sI,bi.setCustomTooltip=iI,bi.unbindMouseEvents=qm,bi.unblock=e$;var q_=.45,J_=.65,zR={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"},Bi={};Bi.blend=wr,Bi.getHsvSaturation=t$,Bi.getHsvValue=o$,Bi.hexToRgb=ph,Bi.hsvToHex=fh,Bi.hueToHex=i$,Bi.names=zR,Bi.parse=Cr,Bi.rgbToHex=xc,Bi.setHsvSaturation=pI,Bi.setHsvValue=fI;var su={};su.checkMessageReferences=gI,su.parseBlockColour=Hl,su.replaceMessageReferences=Bt,su.tokenizeInterpolation=n$;var lt=class{get size_(){return this.size}set size_(e){this.size=e}constructor(e,i,r){this.DEFAULT_VALUE=null,this.name=void 0,this.tooltip=this.validator_=null,this.size=new Ue(0,0),this.constants_=this.mouseDownWrapper=this.textContent_=this.textElement_=this.borderRect_=this.fieldGroup_=null,this.disposed=!1,this.maxDisplayLength=50,this.sourceBlock_=null,this.enabled_=this.visible_=this.isDirty_=!0,this.suffixField=this.prefixField=this.clickTarget_=null,this.EDITABLE=!0,this.SERIALIZABLE=!1,this.id_=null,this.value_="DEFAULT_VALUE"in new.target.prototype?new.target.prototype.DEFAULT_VALUE:this.DEFAULT_VALUE,this.size_=new Ue(0,0),e!==lt.SKIP_SETUP&&(r&&this.configure_(r),this.setValue(e),i&&this.setValidator(i))}configure_(e){e.tooltip&&this.setTooltip(Bt(e.tooltip))}setSourceBlock(e){if(this.sourceBlock_)throw Error("Field already bound to a block");if(this.sourceBlock_=e,e.id.includes("_field"))throw Error("Field ID indicator is contained in block ID. This may cause "+"problems with focus: ".concat(e.id,"."));this.id_="".concat(e.id,"_field_").concat(P())}getConstants(){return!this.constants_&&this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()&&this.sourceBlock_.workspace.rendered&&(this.constants_=this.sourceBlock_.workspace.getRenderer().getConstants()),this.constants_}getSourceBlock(){return this.sourceBlock_}init(){if(!this.fieldGroup_){var e=this.id_;if(!e)throw Error("Expected ID to be defined prior to init.");this.fieldGroup_=q(F.G,{id:e}),this.isVisible()||(this.fieldGroup_.style.display="none"),this.sourceBlock_.getSvgRoot().appendChild(this.fieldGroup_),this.initView(),this.updateEditable(),this.setTooltip(this.tooltip),this.bindEvents_(),this.initModel(),this.applyColour()}}initView(){this.createBorderRect_(),this.createTextElement_(),this.fieldGroup_&&fe(this.fieldGroup_,"blocklyField")}initModel(){}isFullBlockField(){return!this.borderRect_}createBorderRect_(){this.borderRect_=q(F.RECT,{rx:this.getConstants().FIELD_BORDER_RECT_RADIUS,ry:this.getConstants().FIELD_BORDER_RECT_RADIUS,x:0,y:0,height:this.size_.height,width:this.size_.width,class:"blocklyFieldRect"},this.fieldGroup_)}createTextElement_(){this.textElement_=q(F.TEXT,{class:"blocklyText blocklyFieldText"},this.fieldGroup_),this.getConstants().FIELD_TEXT_BASELINE_CENTER&&this.textElement_.setAttribute("dominant-baseline","central"),this.textContent_=document.createTextNode(""),this.textElement_.appendChild(this.textContent_)}bindEvents_(){const e=this.getClickTarget_();if(!e)throw Error("A click target has not been set.");Mc(e),this.mouseDownWrapper=S(e,"pointerdown",this,this.onMouseDown_)}fromXml(e){this.setValue(e.textContent)}toXml(e){return e.textContent=this.getValue(),e}saveState(e){return e=this.saveLegacyState(lt),e!==null?e:this.getValue()}loadState(e){this.loadLegacyState(lt,e)||this.setValue(e)}saveLegacyState(e){return e.prototype.saveState===this.saveState&&e.prototype.toXml!==this.toXml?(e=n.createElement$$module$build$src$core$utils$xml("field"),e.setAttribute("name",this.name||""),Sr(this.toXml(e)).replace(' xmlns="https://developers.google.com/blockly/xml"',"")):null}loadLegacyState(e,i){return e.prototype.loadState===this.loadState&&e.prototype.fromXml!==this.fromXml?(this.fromXml(n.textToDom$$module$build$src$core$utils$xml(i)),!0):!1}dispose(){uh(this),Ar(this);let e;(e=this.getSourceBlock())!=null&&e.isDeadOrDying()||Xe(this.fieldGroup_),this.disposed=!0}updateEditable(){const e=this.fieldGroup_,i=this.getSourceBlock();this.EDITABLE&&e&&i&&(this.enabled_&&i.isEditable()?(fe(e,"blocklyEditableField"),De(e,"blocklyNonEditableField")):(fe(e,"blocklyNonEditableField"),De(e,"blocklyEditableField")))}setEnabled(e){this.enabled_=e,this.updateEditable()}isEnabled(){return this.enabled_}isClickable(){return this.enabled_&&!!this.sourceBlock_&&this.sourceBlock_.isEditable()&&this.showEditor_!==lt.prototype.showEditor_}isClickableInFlyout(e){return!e}isCurrentlyEditable(){return this.enabled_&&this.EDITABLE&&!!this.sourceBlock_&&this.sourceBlock_.isEditable()}isSerializable(){let e=!1;return this.name&&(this.SERIALIZABLE?e=!0:this.EDITABLE&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),e=!0)),e}isVisible(){return this.visible_}setVisible(e){if(this.visible_!==e){this.visible_=e;var i=this.fieldGroup_;i&&(i.style.display=e?"block":"none")}}setValidator(e){this.validator_=e}getValidator(){return this.validator_}getSvgRoot(){return this.fieldGroup_}getBorderRect(){if(!this.borderRect_)throw Error("The border rectangle is ".concat(this.borderRect_,"."));return this.borderRect_}getTextElement(){if(!this.textElement_)throw Error("The text element is ".concat(this.textElement_,"."));return this.textElement_}getTextContent(){if(!this.textContent_)throw Error("The text content is ".concat(this.textContent_,"."));return this.textContent_}applyColour(){}render_(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_()),this.updateSize_()}showEditor(e){this.isClickable()&&this.showEditor_(e)}showEditor_(e){}repositionForWindowResize(){return!1}updateSize_(e){const i=this.getConstants();e=e!==void 0?e:this.isFullBlockField()?0:this.getConstants().FIELD_BORDER_RECT_X_PADDING;let r=e*2,a=i.FIELD_TEXT_HEIGHT,u=0;this.textElement_&&(u=Tt(this.textElement_),r+=u),this.isFullBlockField()||(a=Math.max(a,i.FIELD_BORDER_RECT_HEIGHT)),this.size_=new Ue(r,a),this.positionTextElement_(e,u),this.positionBorderRect_()}positionTextElement_(e,i){if(this.textElement_){var r=this.getConstants(),a=this.size_.height/2,u;this.textElement_.setAttribute("x",String((u=this.getSourceBlock())!=null&&u.RTL?this.size_.width-i-e:e)),this.textElement_.setAttribute("y",String(r.FIELD_TEXT_BASELINE_CENTER?a:a-r.FIELD_TEXT_HEIGHT/2+r.FIELD_TEXT_BASELINE))}}positionBorderRect_(){this.borderRect_&&(this.borderRect_.setAttribute("width",String(this.size_.width)),this.borderRect_.setAttribute("height",String(this.size_.height)),this.borderRect_.setAttribute("rx",String(this.getConstants().FIELD_BORDER_RECT_RADIUS)),this.borderRect_.setAttribute("ry",String(this.getConstants().FIELD_BORDER_RECT_RADIUS)))}getSize(){return this.isVisible()?(this.isDirty_&&(this.render_(),this.isDirty_=!1),this.size_):new Ue(0,0)}getScaledBBox(){let e;var i=this.getSourceBlock();if(!i)throw new Vt;if(this.isFullBlockField()){var r=this.sourceBlock_.getHeightWidth();const a=i.workspace.scale;e=this.getAbsoluteXY_(),i=(r.width+1)*a,r=(r.height+1)*a,FO?(e.x+=1.5*a,e.y+=1.5*a):(e.x-=.5*a,e.y-=.5*a)}else r=this.borderRect_.getBoundingClientRect(),e=Kt(this.borderRect_),i=r.width,r=r.height;return new Be(e.y,e.y+r,e.x,e.x+i)}onLocationChange(e){}getDisplayText_(){let e=this.getText();return e.length>this.maxDisplayLength&&(e=e.substring(0,this.maxDisplayLength-2)+""),e=e.replace(/\s/g,lt.NBSP),this.sourceBlock_&&this.sourceBlock_.RTL&&(e+=""),e}getText(){const e=this.getText_();return String(e!==null?e:this.getValue())}getText_(){return null}markDirty(){this.isDirty_=!0,this.constants_=null}forceRerender(){this.isDirty_=!0,this.sourceBlock_&&this.sourceBlock_.rendered&&this.sourceBlock_.queueRender()}setValue(e,i=!0){if(e!==null){var r=n.getGroup$$module$build$src$core$events$utils();r||n.setGroup$$module$build$src$core$events$utils(!0);try{const Q=this.doClassValidation_(e),Ce=this.processValidation(e,Q,i);if(!(Ce instanceof Error)){var a,u=(a=this.getValidator())==null?void 0:a.call(this,Ce),f=this.processValidation(Ce,u,i);if(!(f instanceof Error)){var E=this.sourceBlock_;if(!E||!E.disposed){var C=this.getValue();C===f?this.doValueUpdate_(f):(this.doValueUpdate_(f),i&&E&&ke()&&V(new(ge(z.BLOCK_CHANGE))(E,"field",this.name||null,C,f)),this.isDirty_&&this.forceRerender())}}}}finally{n.setGroup$$module$build$src$core$events$utils(r)}}}processValidation(e,i,r){return i===null?(this.doValueInvalid_(e,r),this.isDirty_&&this.forceRerender(),Error()):i===void 0?e:i}getValue(){return this.value_}doClassValidation_(e){return e==null?null:e}doValueUpdate_(e){this.value_=e,this.isDirty_=!0}doValueInvalid_(e,i){}onMouseDown_(e){this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()&&(e=this.sourceBlock_.workspace.getGesture(e))&&e.setStartField(this)}setTooltip(e){e||e===""||(e=this.sourceBlock_);const i=this.getClickTarget_();i?i.tooltip=e:this.tooltip=e}getTooltip(){const e=this.getClickTarget_();return Ul(e||{tooltip:this.tooltip})}getClickTarget_(){return this.clickTarget_||this.getSvgRoot()}getAbsoluteXY_(){return Kt(this.getClickTarget_())}referencesVariables(){return!1}refreshVariableName(){}getParentInput(){let e=null;const i=this.getSourceBlock();if(!i)throw new Vt;const r=i.inputList;for(let a=0;a<i.inputList.length;a++){const u=r[a],f=u.fieldRow;for(let E=0;E<f.length;E++)if(f[E]===this){e=u;break}}return e}getFlipRtl(){return!1}onShortcut(e){return!1}getFocusableElement(){if(!this.fieldGroup_)throw Error("This field currently has no representative DOM element.");return this.fieldGroup_}getFocusableTree(){const e=this.getSourceBlock();if(!e)throw new Vt;return e.workspace}onNodeFocus(){const e=this.getSourceBlock();e.workspace.scrollBoundsIntoView(e.getBoundingRectangleWithoutChildren())}onNodeBlur(){}canBeFocused(){return!0}static fromJson(e){throw Error("Attempted to instantiate a field from the registry that hasn't defined a 'fromJson' method.")}};lt.NBSP="",lt.SKIP_SETUP=Symbol("SKIP_SETUP");var Vt=class extends Error{constructor(){super("The field has not yet been attached to its input. Call appendField to attach it.")}},ia=null,WR=null,np=null,Z_="blocklyWidgetDiv",na="",sa="",Ti,sp=null,sn={};sn.createDom=s$,sn.getDiv=Fl,sn.hide=Gl,sn.hideIfOwner=Ar,sn.hideIfOwnerIsInWorkspace=Dc,sn.isVisible=r$,sn.positionWithAnchor=a$,sn.repositionForWindowResize=c$,sn.show=mh,sn.testOnly_setDiv=mI;var rp=null,XR={},lp=null,zr={};zr.callbackFactory=n.callbackFactory$$module$build$src$core$contextmenu,zr.dispose=d$,zr.getCurrentBlock=TI,zr.hide=Pc,zr.setCurrentBlock=u$,zr.show=Vl;var Ge=class{constructor(){this.registeredItems=new Map,this.reset()}reset(){this.registeredItems.clear()}register(e){if(this.registeredItems.has(e.id))throw Error('Menu item with ID "'+e.id+'" is already registered.');this.registeredItems.set(e.id,e)}unregister(e){if(!this.registeredItems.has(e))throw Error('Menu item with ID "'+e+'" not found.');this.registeredItems.delete(e)}getItem(e){let i;return(i=this.registeredItems.get(e))!=null?i:null}getContextMenuOptions(e,i){const r=[];for(const a of this.registeredItems.values()){if(a.scopeType&&(a.scopeType===Q_.BLOCK&&!e.block||a.scopeType===Q_.COMMENT&&!e.comment||a.scopeType===Q_.WORKSPACE&&!e.workspace))continue;let u;if(u={scope:e,weight:a.weight},a.separator)u=Object.assign({},u,{separator:!0});else{const f=a.preconditionFn(e,i);if(f==="hidden")continue;const E=typeof a.displayText=="function"?a.displayText(e):a.displayText;u=Object.assign({},u,{text:E,callback:a.callback,enabled:f==="enabled"})}r.push(u)}return r.sort(function(a,u){return a.weight-u.weight}),r}};(function(e){var i=e.ScopeType||(e.ScopeType={});i.BLOCK="block",i.WORKSPACE="workspace",i.COMMENT="comment",e.registry=new e})(Ge||(Ge={}));var Q_=Ge.ScopeType,Fs=50,ap=100,c1={BLOCK:Fs,BUBBLE:ap},YR=class{constructor(e){this.comment=e,this.startLoc=null,this.workspace=e.workspace}isMovable(){return this.comment.isOwnMovable()&&!this.comment.isDeadOrDying()&&!this.workspace.isReadOnly()}startDrag(){this.fireDragStartEvent(),this.startLoc=this.comment.getRelativeToSurfaceXY(),this.workspace.setResizesEnabled(!1);let e;(e=this.workspace.getLayerManager())==null||e.moveToDragLayer(this.comment),this.comment.setDragging(!0)}drag(e){this.comment.moveDuringDrag(e)}endDrag(){this.fireDragEndEvent(),this.fireMoveEvent();let e;(e=this.workspace.getLayerManager())==null||e.moveOffDragLayer(this.comment,Fs),this.comment.setDragging(!1),this.comment.snapToGrid(),this.workspace.setResizesEnabled(!0)}fireDragStartEvent(){const e=new(ge(z.COMMENT_DRAG))(this.comment,!0);V(e)}fireDragEndEvent(){const e=new(ge(z.COMMENT_DRAG))(this.comment,!1);V(e)}fireMoveEvent(){if(!this.comment.isDeadOrDying()){var e=new(ge(z.COMMENT_MOVE))(this.comment);e.setReason(["drag"]),e.oldCoordinate_=this.startLoc,e.recordNew(),V(e)}}revertDrag(){this.startLoc&&this.comment.moveDuringDrag(this.startLoc)}},jR=new WeakMap,cp=class{constructor(e,i,r,a){this.id=e,this.workspace=i,this.container=r,this.commentView=a}isVisible(){return this.icon.checkVisibility()}getCommentView(){return this.commentView}getSize(e=!1){var i=this.icon.getBBox();return i=Be.from(i),e&&(e=this.getMargin(),i.left-=e,i.top-=e,i.bottom+=e,i.right+=e),i}getMargin(){return(this.container.getBBox().height-this.icon.getBBox().height)/2}getFocusableElement(){return this.icon}getFocusableTree(){return this.workspace}onNodeFocus(){const e=this.getCommentView();var i=e.getRelativeToSurfaceXY();const r=e.getSize();i=new Be(i.y,i.y+r.height,i.x,i.x+r.width),e.workspace.scrollBoundsIntoView(i)}onNodeBlur(){}canBeFocused(){return this.isVisible()}},KR="_collapse_bar_button",qR=class extends cp{constructor(e,i,r,a){super(e,i,r,a),this.id=e,this.workspace=i,this.container=r,this.commentView=a,this.icon=q(F.IMAGE,{class:"blocklyFoldoutIcon",href:"".concat(this.workspace.options.pathToMedia,"foldout-icon.svg"),id:"".concat(this.id).concat(KR)},this.container),this.bindId=S(this.icon,"pointerdown",this,this.performAction.bind(this))}dispose(){L(this.bindId)}reposition(){const e=this.getMargin();this.icon.setAttribute("y","".concat(e)),this.icon.setAttribute("x","".concat(e))}performAction(e){I(),this.getCommentView().bringToFront(),e&&e instanceof PointerEvent&&Y(e)?e.stopPropagation():(this.getCommentView().setCollapsed(!this.getCommentView().isCollapsed()),this.workspace.hideChaff(),e==null||e.stopPropagation())}},eb="_comment_textarea_",up=class{constructor(e,i,r){this.workspace=e,this.onFinishEditing=r,this.textChangeListeners=[],this.text="",this.foreignObject=q(F.FOREIGNOBJECT,{class:"blocklyCommentForeignObject"}),e=document.createElementNS(Mr,"body"),e.setAttribute("xmlns",Mr),e.className="blocklyMinimalBody",this.textArea=document.createElementNS(Mr,"textarea"),this.textArea.setAttribute("tabindex","-1"),this.textArea.setAttribute("dir",this.workspace.RTL?"RTL":"LTR"),fe(this.textArea,"blocklyCommentText"),fe(this.textArea,"blocklyTextarea"),fe(this.textArea,"blocklyText"),e.appendChild(this.textArea),this.foreignObject.appendChild(e),i&&(this.id=i+eb,this.textArea.setAttribute("id",this.id)),S(this.textArea,"change",this,this.onTextChange),S(this.textArea,"pointerdown",this,a=>{a.stopPropagation(),n.getFocusManager$$module$build$src$core$focus_manager().focusNode(this),I()}),S(this.textArea,"wheel",this,a=>{a.stopPropagation()}),S(this.textArea,"keydown",this,this.handleKeyDown)}getDom(){return this.foreignObject}getText(){return this.text}setText(e){this.textArea.value=e,this.onTextChange()}onTextChange(){const e=this.text;this.text=this.textArea.value;for(let i=this.textChangeListeners.length-1;i>=0;i--)this.textChangeListeners[i](e,this.text)}handleKeyDown(e){(e.key==="Escape"||e.key==="Enter"&&(e.ctrlKey||e.metaKey))&&(this.onFinishEditing&&this.onFinishEditing(),e.stopPropagation())}addTextChangeListener(e){this.textChangeListeners.push(e)}removeTextChangeListener(e){this.textChangeListeners.splice(this.textChangeListeners.indexOf(e),1)}setPlaceholderText(e){this.textArea.placeholder=e}setEditable(e){e?this.textArea.removeAttribute("readonly"):this.textArea.setAttribute("readonly","true")}updateSize(e,i){this.foreignObject.setAttribute("height","".concat(e.height-i.height)),this.foreignObject.setAttribute("width","".concat(e.width)),this.foreignObject.setAttribute("y","".concat(i.height)),this.workspace.RTL&&this.foreignObject.setAttribute("x","".concat(-e.width))}getFocusableElement(){return this.textArea}getFocusableTree(){return this.workspace}onNodeFocus(){const e=Be.from(this.foreignObject.getBoundingClientRect());this.workspace.scrollBoundsIntoView(Be.createFromPoint(ws(this.workspace,e.getOrigin()),e.getWidth(),e.getHeight()))}onNodeBlur(){}canBeFocused(){return!!this.id}},JR="_delete_bar_button",ZR=class extends cp{constructor(e,i,r,a){super(e,i,r,a),this.id=e,this.workspace=i,this.container=r,this.commentView=a,this.icon=q(F.IMAGE,{class:"blocklyDeleteIcon",href:"".concat(this.workspace.options.pathToMedia,"delete-icon.svg"),id:"".concat(this.id).concat(JR)},r),this.bindId=S(this.icon,"pointerdown",this,this.performAction.bind(this))}dispose(){L(this.bindId)}reposition(){const e=this.getMargin();this.icon.setAttribute("x","0");const i=this.container.getBBox();this.icon.setAttribute("y","".concat(e)),this.icon.setAttribute("x","".concat(i.width-this.getSize(!0).getWidth()))}performAction(e){I(),e&&e instanceof PointerEvent&&Y(e)?e.stopPropagation():(this.getCommentView().dispose(),e==null||e.stopPropagation(),n.getFocusManager$$module$build$src$core$focus_manager().focusNode(this.workspace))}},ru=class{constructor(e,i){this.workspace=e,this.commentId=i,this.collapsed=!1,this.editable=!0,this.location=new ne(0,0),this.sizeChangeListeners=[],this.disposeListeners=[],this.collapseChangeListeners=[],this.resizePointerMoveListener=this.resizePointerUpListener=null,this.disposed=this.disposing=!1,this.svgRoot=q(F.G,{class:"blocklyComment blocklyEditable blocklyDraggable"}),this.highlightRect=this.createHighlightRect(this.svgRoot),{topBarGroup:this.topBarGroup,topBarBackground:this.topBarBackground,deleteButton:this.deleteButton,foldoutButton:this.foldoutButton,textPreview:this.textPreview,textPreviewNode:this.textPreviewNode}=this.createTopBar(this.svgRoot),this.commentEditor=this.createTextArea(),this.resizeHandle=this.createResizeHandle(this.svgRoot,e);let r;(r=e.getLayerManager())==null||r.append(this,Fs),this.size=ru.defaultCommentSize,this.setSizeWithoutFiringEvents(this.size),this.moveTo(new ne(0,0))}createHighlightRect(e){return q(F.RECT,{class:"blocklyCommentHighlight"},e)}createTopBar(e){e=q(F.G,{class:"blocklyCommentTopbar"},e);const i=q(F.RECT,{class:"blocklyCommentTopbarBackground"},e),r=new ZR(this.commentId,this.workspace,e,this),a=new qR(this.commentId,this.workspace,e,this);this.addDisposeListener(()=>{r.dispose(),a.dispose()});const u=q(F.TEXT,{class:"blocklyCommentPreview blocklyCommentText blocklyText"},e),f=document.createTextNode("");return u.appendChild(f),{topBarGroup:e,topBarBackground:i,deleteButton:r,foldoutButton:a,textPreview:u,textPreviewNode:f}}createTextArea(){const e=new up(this.workspace,this.commentId,()=>this.svgRoot.focus());return this.svgRoot.appendChild(e.getDom()),e.addTextChangeListener((i,r)=>{this.updateTextPreview(r),this.setSize(this.size)}),e}getEditorFocusableNode(){return this.commentEditor}createResizeHandle(e,i){return e=q(F.IMAGE,{class:"blocklyResizeHandle",href:"".concat(i.options.pathToMedia,"resize-handle.svg")},e),S(e,"pointerdown",this,this.onResizePointerDown),e}getSvgRoot(){return this.svgRoot}getSize(){return this.collapsed?this.topBarBackground.getBBox():this.size}setSizeWithoutFiringEvents(e){const i=this.topBarBackground.getBBox(),r=this.textPreview.getBBox(),a=this.resizeHandle.getBBox();this.size=e=Ue.max(e,this.calcMinSize(i)),this.svgRoot.setAttribute("height","".concat(e.height)),this.svgRoot.setAttribute("width","".concat(e.width)),this.updateHighlightRect(e),this.updateTopBarSize(e),this.commentEditor.updateSize(e,i),this.deleteButton.reposition(),this.foldoutButton.reposition(),this.updateTextPreviewSize(e,i,r),this.updateResizeHandlePosition(e,a)}setSize(e){const i=this.preResizeSize||this.size;this.setSizeWithoutFiringEvents(e),this.onSizeChange(i,this.size)}calcMinSize(e){var i;this.updateTextPreview((i=this.commentEditor.getText())!=null?i:"");let r=i=Tt(this.textPreview);return this.foldoutButton.isVisible()?r+=this.foldoutButton.getSize(!0).getWidth():i&&(r+=4),this.deleteButton.isVisible()?r+=this.deleteButton.getSize(!0).getWidth():i&&(r+=4),new Ue(r,e.height+20)}updateHighlightRect(e){this.highlightRect.setAttribute("height","".concat(e.height)),this.highlightRect.setAttribute("width","".concat(e.width)),this.workspace.RTL&&this.highlightRect.setAttribute("x","".concat(-e.width))}updateTopBarSize(e){this.topBarBackground.setAttribute("width","".concat(e.width))}updateTextPreviewSize(e,i,r){i=(i.height-r.height)/2;const a=this.foldoutButton.getSize(!0),u=this.deleteButton.getSize(!0);e=e.width-a.getWidth()-u.getWidth(),this.textPreview.setAttribute("x","".concat((this.workspace.RTL?-1:1)*a.getWidth())),this.textPreview.setAttribute("y","".concat(i+r.height/2)),this.textPreview.setAttribute("width","".concat(e))}updateResizeHandlePosition(e,i){this.resizeHandle.setAttribute("y","".concat(e.height-i.height)),this.resizeHandle.setAttribute("x","".concat(e.width-i.width))}onSizeChange(e,i){for(let r=this.sizeChangeListeners.length-1;r>=0;r--)this.sizeChangeListeners[r](e,i)}addSizeChangeListener(e){this.sizeChangeListeners.push(e)}removeSizeChangeListener(e){this.sizeChangeListeners.splice(this.sizeChangeListeners.indexOf(e),1)}onResizePointerDown(e){this.isEditable()&&(this.bringToFront(),Y(e)||(this.preResizeSize=this.getSize(),$h(this.workspace,e,new ne(this.workspace.RTL?-this.getSize().width:this.getSize().width,this.getSize().height)),this.resizePointerUpListener=S(document,"pointerup",this,this.onResizePointerUp),this.resizePointerMoveListener=S(document,"pointermove",this,this.onResizePointerMove),this.workspace.hideChaff()),e.stopPropagation())}onResizePointerUp(e){I(),this.resizePointerUpListener&&(L(this.resizePointerUpListener),this.resizePointerUpListener=null),this.resizePointerMoveListener&&(L(this.resizePointerMoveListener),this.resizePointerMoveListener=null),this.setSize(this.size),this.preResizeSize=void 0}onResizePointerMove(e){e=_h(this.workspace,e),this.setSizeWithoutFiringEvents(new Ue(this.workspace.RTL?-e.x:e.x,e.y))}isCollapsed(){return this.collapsed}setCollapsed(e){(this.collapsed=e)?fe(this.svgRoot,"blocklyCollapsed"):De(this.svgRoot,"blocklyCollapsed"),this.setSizeWithoutFiringEvents(this.size),this.onCollapse()}onCollapse(){for(let e=this.collapseChangeListeners.length-1;e>=0;e--)this.collapseChangeListeners[e](this.collapsed)}addOnCollapseListener(e){this.collapseChangeListeners.push(e)}removeOnCollapseListener(e){this.collapseChangeListeners.splice(this.collapseChangeListeners.indexOf(e),1)}isEditable(){return this.editable}setEditable(e){(this.editable=e)?(fe(this.svgRoot,"blocklyEditable"),De(this.svgRoot,"blocklyReadonly")):(De(this.svgRoot,"blocklyEditable"),fe(this.svgRoot,"blocklyReadonly")),this.commentEditor.setEditable(e)}getRelativeToSurfaceXY(){return this.location}moveTo(e){this.location=e,this.svgRoot.setAttribute("transform","translate(".concat(e.x,", ").concat(e.y,")"))}getText(){return this.commentEditor.getText()}setText(e){this.commentEditor.setText(e)}setPlaceholderText(e){this.commentEditor.setPlaceholderText(e)}addTextChangeListener(e){this.commentEditor.addTextChangeListener(e)}removeTextChangeListener(e){this.commentEditor.removeTextChangeListener(e)}updateTextPreview(e){this.textPreviewNode.textContent=this.truncateText(e)}truncateText(e){return e.length>=12?"".concat(e.substring(0,9),"..."):e}bringToFront(){const e=this.svgRoot.parentNode,i=e.childNodes;i[i.length-1]!==this.svgRoot&&e.appendChild(this.svgRoot)}onDeleteDown(e){I(),Y(e)||this.dispose(),e.stopPropagation()}dispose(){this.disposing=!0,Xe(this.svgRoot);for(let e=this.disposeListeners.length-1;e>=0;e--)this.disposeListeners[e]();this.disposeListeners.length=0,this.disposed=!0}isDisposed(){return this.disposed}isDeadOrDying(){return this.disposing||this.disposed}addDisposeListener(e){this.disposeListeners.push(e)}removeDisposeListener(e){this.disposeListeners.splice(this.disposeListeners.indexOf(e),1)}getCommentBarButtons(){return[this.foldoutButton,this.deleteButton]}};ru.defaultCommentSize=new Ue(120,100),ye("\n.injectionDiv {\n  --commentFillColour: #FFFCC7;\n  --commentBorderColour: #F2E49B;\n}\n\n.blocklyComment .blocklyTextarea {\n  background-color: var(--commentFillColour);\n  border: 1px solid var(--commentBorderColour);\n  box-sizing: border-box;\n  display: block;\n  outline: 0;\n  padding: 5px;\n  resize: none;\n  width: 100%;\n  height: 100%;\n}\n\n.blocklyReadonly.blocklyComment .blocklyTextarea {\n  cursor: inherit;\n}\n\n.blocklyDeleteIcon {\n  width: 20px;\n  height: 20px;\n  display: none;\n  cursor: pointer;\n}\n\n.blocklyFoldoutIcon {\n  width: 20px;\n  height: 20px;\n  transform-origin: 12px 12px;\n  cursor: pointer;\n}\n.blocklyResizeHandle {\n  width: 12px;\n  height: 12px;\n  cursor: se-resize;\n}\n.blocklyReadonly.blocklyComment .blocklyResizeHandle {\n  cursor: inherit;\n}\n\n.blocklyCommentTopbarBackground {\n  fill: var(--commentBorderColour);\n  height: 24px;\n}\n\n.blocklyComment .blocklyCommentPreview.blocklyText {\n  fill: #000;\n  dominant-baseline: middle;\n  visibility: hidden;\n}\n\n.blocklyCollapsed.blocklyComment .blocklyCommentPreview {\n  visibility: visible;\n}\n\n.blocklyCollapsed.blocklyComment .blocklyCommentForeignObject,\n.blocklyCollapsed.blocklyComment .blocklyResizeHandle {\n  display: none;\n}\n\n.blocklyCollapsed.blocklyComment .blocklyFoldoutIcon {\n  transform: rotate(-90deg);\n}\n\n.blocklyRTL .blocklyCommentTopbar {\n  transform: scale(-1, 1);\n}\n\n.blocklyRTL .blocklyCommentForeignObject {\n  direction: rtl;\n}\n\n.blocklyRTL .blocklyCommentPreview {\n  /* Revert the scale and control RTL using direction instead. */\n  transform: scale(-1, 1);\n  direction: rtl;\n}\n\n.blocklyRTL .blocklyResizeHandle {\n  transform: scale(-1, 1);\n  cursor: sw-resize;\n}\n\n.blocklyCommentHighlight {\n  fill: none;\n}\n\n.blocklyCommentText.blocklyActiveFocus {\n  border-color: #fc3;\n  border-width: 2px;\n}\n\n.blocklySelected .blocklyCommentHighlight {\n  stroke: #fc3;\n  stroke-width: 3px;\n}\n\n.blocklyCollapsed.blocklySelected .blocklyCommentHighlight {\n  stroke: none;\n}\n\n.blocklyCollapsed.blocklySelected .blocklyCommentTopbarBackground {\n  stroke: #fc3;\n  stroke-width: 3px;\n}\n");var dp=class{constructor(e,i){this.workspace=e,this.text="",this.collapsed=!1,this.deletable=this.movable=this.editable=!0,this.location=new ne(0,0),this.disposing=this.disposed=!1,this.id=i&&!e.getCommentById(i)?i:J(),this.size=ru.defaultCommentSize,e.addTopComment(this),this.fireCreateEvent()}fireCreateEvent(){ke()&&V(new(ge(z.COMMENT_CREATE))(this))}fireDeleteEvent(){ke()&&V(new(ge(z.COMMENT_DELETE))(this))}fireChangeEvent(e,i){ke()&&V(new(ge(z.COMMENT_CHANGE))(this,e,i))}fireCollapseEvent(e){ke()&&V(new(ge(z.COMMENT_COLLAPSE))(this,e))}setText(e){const i=this.text;this.text=e,this.fireChangeEvent(i,e)}getText(){return this.text}setSize(e){const i=new(ge(z.COMMENT_RESIZE))(this);this.size=e,i.recordCurrentSizeAsNewSize(),V(i)}getSize(){return this.size}setCollapsed(e){this.collapsed=e,this.fireCollapseEvent(e)}isCollapsed(){return this.collapsed}setEditable(e){this.editable=e}isEditable(){return this.isOwnEditable()&&!this.workspace.isReadOnly()}isOwnEditable(){return this.editable}setMovable(e){this.movable=e}isMovable(){return this.isOwnMovable()&&!this.workspace.isReadOnly()&&!this.workspace.isFlyout}isOwnMovable(){return this.movable}setDeletable(e){this.deletable=e}isDeletable(){return this.isOwnDeletable()&&!this.isDeadOrDying()&&!this.workspace.isReadOnly()&&!this.workspace.isFlyout}isOwnDeletable(){return this.deletable}moveTo(e,i){const r=new(ge(z.COMMENT_MOVE))(this);i&&r.setReason(i),this.location=e,r.recordNew(),V(r)}getRelativeToSurfaceXY(){return this.location}dispose(){this.disposing=!0,this.fireDeleteEvent(),this.workspace.removeTopComment(this),this.disposed=!0}isDisposed(){return this.disposed}isDeadOrDying(){return this.disposing||this.disposed}},Qn=class extends dp{constructor(e,i){super(e,i),this.dragStrategy=new YR(this),this.workspace=e,this.view=new ru(e,this.id),this.view.setSize(this.getSize()),this.view.setEditable(this.isEditable()),this.view.getSvgRoot().setAttribute("data-id",this.id),this.view.getSvgRoot().setAttribute("id",this.id),this.addModelUpdateBindings(),S(this.view.getSvgRoot(),"pointerdown",this,this.startGesture)}addModelUpdateBindings(){this.view.addTextChangeListener((e,i)=>void super.setText(i)),this.view.addSizeChangeListener((e,i)=>void super.setSize(i)),this.view.addOnCollapseListener(()=>void super.setCollapsed(this.view.isCollapsed())),this.view.addDisposeListener(()=>{this.isDeadOrDying()||this.dispose()})}setText(e){this.view.setText(e)}setPlaceholderText(e){this.view.setPlaceholderText(e)}setSize(e){this.view.setSize(e)}setCollapsed(e){this.view.setCollapsed(e)}setEditable(e){super.setEditable(e),this.view.setEditable(this.isEditable())}getSvgRoot(){return this.view.getSvgRoot()}getSize(){return super.getSize()}getBoundingRectangle(){const e=this.getRelativeToSurfaceXY();var i,r;const a=(r=(i=this.view)==null?void 0:i.getSize())!=null?r:this.getSize();return this.workspace.RTL?(i=e.x-a.width,r=e.x):(i=e.x,r=e.x+a.width),new Be(e.y,e.y+a.height,i,r)}moveBy(e,i,r){const a=this.getRelativeToSurfaceXY();e=new ne(a.x+e,a.y+i),this.moveTo(e,r)}moveTo(e,i){super.moveTo(e,i),this.view.moveTo(e)}moveDuringDrag(e){this.location=e,this.view.moveTo(e)}setDragging(e){e?fe(this.getSvgRoot(),"blocklyDragging"):De(this.getSvgRoot(),"blocklyDragging")}dispose(){this.disposing=!0;const e=n.getFocusManager$$module$build$src$core$focus_manager();e.getFocusedNode()===this&&setTimeout(()=>e.focusTree(this.workspace),0),this.view.isDeadOrDying()||this.view.dispose(),super.dispose()}startGesture(e){const i=this.workspace.getGesture(e);i&&(i.handleCommentStart(e,this),n.getFocusManager$$module$build$src$core$focus_manager().focusNode(this))}setDeleteStyle(e){e?fe(this.getSvgRoot(),"blocklyDraggingDelete"):De(this.getSvgRoot(),"blocklyDraggingDelete")}isCopyable(){return this.isOwnMovable()&&this.isOwnDeletable()}isMovable(){return this.dragStrategy.isMovable()}startDrag(){this.dragStrategy.startDrag()}drag(e){this.dragStrategy.drag(e)}endDrag(){this.dragStrategy.endDrag()}revertDrag(){this.dragStrategy.revertDrag()}select(){fe(this.getSvgRoot(),"blocklySelected"),de(this)}unselect(){De(this.getSvgRoot(),"blocklySelected"),de(null)}toCopyData(){return{paster:Xh.TYPE,commentState:Nl(this,{addCoordinates:!0,saveIds:!1})}}showContextMenu(e){const i=Ge.registry.getContextMenuOptions({comment:this,focusedNode:this},e);let r;r=e instanceof PointerEvent?new ne(e.clientX,e.clientY):As(this.workspace,this.getRelativeToSurfaceXY()).translate(10,10),Vl(e,i,this.workspace.RTL,this.workspace,r)}snapToGrid(){if(!this.isDeadOrDying()){var e=this.workspace.getGrid();if(e!=null&&e.shouldSnap()){var i=this.getRelativeToSurfaceXY();e=e.alignXY(i),e!==i&&this.moveTo(e,["snap"])}}}getEditorFocusableNode(){return this.view.getEditorFocusableNode()}getFocusableElement(){return this.getSvgRoot()}getFocusableTree(){return this.workspace}onNodeFocus(){this.select();let e;(e=this.workspace.getLayerManager())==null||e.append(this,Fs),this.workspace.scrollBoundsIntoView(this.getBoundingRectangle())}onNodeBlur(){this.unselect()}canBeFocused(){return!0}},Fo={};Fo.appendDomToWorkspace=AI,Fo.blockToDom=Ns,Fo.blockToDomWithXY=Uc,Fo.clearWorkspaceAndLoadFromXml=wI,Fo.deleteNext=UI,Fo.domToBlock=n.domToBlock$$module$build$src$core$xml,Fo.domToBlockInternal=Lr,Fo.domToPrettyText=CI,Fo.domToText=vn,Fo.domToVariables=m$,Fo.domToWorkspace=n.domToWorkspace$$module$build$src$core$xml,Fo.loadWorkspaceComment=g$,Fo.saveWorkspaceComment=Bc,Fo.variablesToDom=p$,Fo.workspaceToDom=II;var tb=class extends Ur{constructor(e){super(e),this.type=z.BLOCK_CREATE,e&&(e.isShadow()&&(this.recordUndo=!1),this.xml=Uc(e),this.ids=we(e),this.json=Mi(e,{addCoordinates:!0}))}toJson(){const e=super.toJson();if(!this.xml)throw Error("The block XML is undefined. Either pass a block to the constructor, or call fromJson");if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(!this.json)throw Error("The block JSON is undefined. Either pass a block to the constructor, or call fromJson");return e.xml=vn(this.xml),e.ids=this.ids,e.json=this.json,this.recordUndo||(e.recordUndo=this.recordUndo),e}static fromJson(e,i,r){return i=super.fromJson(e,i,r!=null?r:new tb),i.xml=n.textToDom$$module$build$src$core$utils$xml(e.xml),i.ids=e.ids,i.json=e.json,e.recordUndo!==void 0&&(i.recordUndo=e.recordUndo),i}run(e){const i=this.getEventWorkspace_();if(!this.json)throw Error("The block JSON is undefined. Either pass a block to the constructor, or call fromJson");if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(!u1(i,this.ids))if(e)ks(this.json,i);else for(e=0;e<this.ids.length;e++){const r=this.ids[e],a=i.getBlockById(r);a?a.dispose(!1):r===this.blockId&&console.warn("Can't uncreate non-existent block: "+r)}}},u1=function(e,i){return i.map(r=>e.getBlockById(r)).filter(r=>r&&r.isShadow()).length===i.length};s(oe.EVENT,z.BLOCK_CREATE,tb);var ob=class extends In{constructor(e,i){super(i),this.type=z.THEME_CHANGE,this.themeName=e}toJson(){const e=super.toJson();if(!this.themeName)throw Error("The theme name is undefined. Either pass a theme name to the constructor, or call fromJson");return e.themeName=this.themeName,e}static fromJson(e,i,r){return i=super.fromJson(e,i,r!=null?r:new ob),i.themeName=e.themeName,i}};s(oe.EVENT,z.THEME_CHANGE,ob);var ib=class extends In{constructor(e,i,r,a,u){super(a),this.type=z.VIEWPORT_CHANGE,this.viewTop=e,this.viewLeft=i,this.scale=r,this.oldScale=u}toJson(){const e=super.toJson();if(this.viewTop===void 0)throw Error("The view top is undefined. Either pass a value to the constructor, or call fromJson");if(this.viewLeft===void 0)throw Error("The view left is undefined. Either pass a value to the constructor, or call fromJson");if(this.scale===void 0)throw Error("The scale is undefined. Either pass a value to the constructor, or call fromJson");if(this.oldScale===void 0)throw Error("The old scale is undefined. Either pass a value to the constructor, or call fromJson");return e.viewTop=this.viewTop,e.viewLeft=this.viewLeft,e.scale=this.scale,e.oldScale=this.oldScale,e}static fromJson(e,i,r){return i=super.fromJson(e,i,r!=null?r:new ib),i.viewTop=e.viewTop,i.viewLeft=e.viewLeft,i.scale=e.scale,i.oldScale=e.oldScale,i}};s(oe.EVENT,z.VIEWPORT_CHANGE,ib);var QR={fromJsonInternal:FI},hp={TEST_ONLY:QR};hp.fromJson=n.fromJson$$module$build$src$core$field_registry,hp.register=yn,hp.unregister=HI;var Lo=class extends lt{constructor(e,i,r){super(lt.SKIP_SETUP),this.svgArrow=this.arrow=this.imageElement=this.menu_=this.selectedMenuItem=null,this.SERIALIZABLE=!0,this.clickTarget_=this.suffixField=this.prefixField=this.generatedOptions=null,e!==lt.SKIP_SETUP&&(this.setOptions(e),r&&this.configure_(r),i&&this.setValidator(i))}fromXml(e){this.isOptionListDynamic()&&this.getOptions(!1),this.setValue(e.textContent)}loadState(e){this.loadLegacyState(Lo,e)||(this.isOptionListDynamic()&&this.getOptions(!1),this.setValue(e))}initView(){this.shouldAddBorderRect_()?this.createBorderRect_():this.clickTarget_=this.sourceBlock_.getSvgRoot(),this.createTextElement_(),this.imageElement=q(F.IMAGE,{},this.fieldGroup_),this.getConstants().FIELD_DROPDOWN_SVG_ARROW?this.createSVGArrow_():this.createTextArrow_(),this.borderRect_&&fe(this.borderRect_,"blocklyDropdownRect"),this.fieldGroup_&&(fe(this.fieldGroup_,"blocklyField"),fe(this.fieldGroup_,"blocklyDropdownField"))}shouldAddBorderRect_(){let e;return!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW&&!((e=this.getSourceBlock())!=null&&e.isShadow())}createTextArrow_(){this.arrow=q(F.TSPAN,{},this.textElement_);let e;this.arrow.appendChild(document.createTextNode((e=this.getSourceBlock())!=null&&e.RTL?Lo.ARROW_CHAR+" ":" "+Lo.ARROW_CHAR)),this.getConstants().FIELD_TEXT_BASELINE_CENTER&&this.arrow.setAttribute("dominant-baseline","central");let i;(i=this.getSourceBlock())!=null&&i.RTL?this.getTextElement().insertBefore(this.arrow,this.textContent_):this.getTextElement().appendChild(this.arrow)}createSVGArrow_(){this.svgArrow=q(F.IMAGE,{height:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+"px",width:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+"px"},this.fieldGroup_),this.svgArrow.setAttributeNS($i,"xlink:href",this.getConstants().FIELD_DROPDOWN_SVG_ARROW_DATAURI)}showEditor_(e){var i=this.getSourceBlock();if(!i)throw new Vt;this.dropdownCreate(),this.menu_&&(this.menu_.openingCoords=e&&typeof e.clientX=="number"?new ne(e.clientX,e.clientY):null,ch(),e=this.menu_.render(ah()),fe(e,"blocklyDropdownMenu"),this.getConstants().FIELD_DROPDOWN_COLOURED_DIV&&(i=i.getColour(),e=this.sourceBlock_.getColourTertiary(),Mm(i,e)),xm(this,this.dropdownDispose_.bind(this)),ah().style.height="".concat(this.menu_.getSize().height,"px"),this.menu_.focus(),this.selectedMenuItem&&this.menu_.setHighlighted(this.selectedMenuItem),this.applyColour())}dropdownCreate(){const e=this.getSourceBlock();if(!e)throw new Vt;const i=new x_;i.setRole(_i.LISTBOX),this.menu_=i;const r=this.getOptions(!1);this.selectedMenuItem=null;for(let u=0;u<r.length;u++){var a=r[u];if(a===Lo.SEPARATOR){i.addChild(new fR);continue}const[f,E]=a;zl(f)?(a=new Image(f.width,f.height),a.src=f.src,a.alt=f.alt):a=f,a=new Yh(a,E),a.setRole(_i.OPTION),a.setRightToLeft(e.RTL),a.setCheckable(!0),i.addChild(a),a.setChecked(E===this.value_),E===this.value_&&(this.selectedMenuItem=a),a.onAction(this.handleMenuActionEvent,this)}}dropdownDispose_(){this.menu_&&this.menu_.dispose(),this.selectedMenuItem=this.menu_=null,this.applyColour()}handleMenuActionEvent(e){uh(this,!0),this.onItemSelected_(this.menu_,e)}onItemSelected_(e,i){this.setValue(i.getValue())}isOptionListDynamic(){return typeof this.menuGenerator_=="function"}getOptions(e){if(!this.menuGenerator_)throw TypeError("A menu generator was never defined.");return Array.isArray(this.menuGenerator_)?this.menuGenerator_:e&&this.generatedOptions?this.generatedOptions:(this.generatedOptions=this.menuGenerator_(),this.validateOptions(this.generatedOptions),this.generatedOptions)}setOptions(e){Array.isArray(e)?(this.validateOptions(e),e=this.trimOptions(e),this.menuGenerator_=e.options,this.prefixField=e.prefix||null,this.suffixField=e.suffix||null):this.menuGenerator_=e,this.selectedOption=this.getOptions(!1)[0],this.setValue(this.selectedOption[1])}doClassValidation_(e){return this.getOptions(!0).some(i=>i[1]===e)?e:(this.sourceBlock_&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.sourceBlock_.type+", Field name: "+this.name+", Value: "+e),null)}doValueUpdate_(e){super.doValueUpdate_(e),e=this.getOptions(!0);for(let i=0,r;r=e[i];i++)r[1]===this.value_&&(this.selectedOption=r)}applyColour(){const e=this.sourceBlock_;this.borderRect_&&(this.borderRect_.setAttribute("stroke",e.getColourTertiary()),this.menu_?this.borderRect_.setAttribute("fill",e.getColourTertiary()):this.borderRect_.setAttribute("fill","transparent")),e&&this.arrow&&(e.isShadow()?this.arrow.style.fill=e.getColourSecondary():this.arrow.style.fill=e.getColour())}render_(){this.getTextContent().nodeValue="",this.imageElement.style.display="none";const e=this.selectedOption&&this.selectedOption[0];zl(e)?this.renderSelectedImage(e):this.renderSelectedText(),this.positionBorderRect_()}renderSelectedImage(e){const i=this.getSourceBlock();if(!i)throw new Vt;this.imageElement.style.display="",this.imageElement.setAttributeNS($i,"xlink:href",e.src),this.imageElement.setAttribute("height",String(e.height)),this.imageElement.setAttribute("width",String(e.width));const r=Number(e.height);e=Number(e.width);var a=!!this.borderRect_;const u=Math.max(a?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,r+Lo.IMAGE_Y_PADDING);a=a?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;let f;f=this.svgArrow?this.positionSVGArrow(e+a,u/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2):Tt(this.arrow),this.size_=new Ue(e+f+a*2,u);let E=0;i.RTL?this.imageElement.setAttribute("x","".concat(a+f)):(E=e+f,this.getTextElement().setAttribute("text-anchor","end"),this.imageElement.setAttribute("x","".concat(a))),this.imageElement.setAttribute("y",String(u/2-r/2)),this.positionTextElement_(E+a,e+f)}renderSelectedText(){this.getTextContent().nodeValue=this.getDisplayText_();var e=this.getTextElement();fe(e,"blocklyDropdownText"),e.setAttribute("text-anchor","start");var i=!!this.borderRect_;e=Math.max(i?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,this.getConstants().FIELD_TEXT_HEIGHT);const r=Tt(this.getTextElement());i=i?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;let a=0;this.svgArrow&&(a=this.positionSVGArrow(r+i,e/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2)),this.size_=new Ue(r+a+i*2,e),this.positionTextElement_(i,r)}positionSVGArrow(e,i){if(!this.svgArrow)return 0;const r=this.getSourceBlock();if(!r)throw new Vt;const a=this.borderRect_?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0,u=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_PADDING,f=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE;return this.svgArrow.setAttribute("transform","translate("+(r.RTL?a:e+u)+","+i+")"),f+u}getText_(){if(!this.selectedOption)return null;const e=this.selectedOption[0];if(zl(e))return e.alt;if(typeof HTMLElement<"u"&&e instanceof HTMLElement){let i,r;return(r=(i=e.title)!=null?i:e.ariaLabel)!=null?r:e.innerText}return typeof e=="string"?e:(console.warn("Can't get text for existing dropdown option. If you're using HTMLElement dropdown options in node, ensure you're using jsdom-global or similar."),null)}static fromJson(e){if(!e.options)throw Error("options are required for the dropdown field. The options property must be assigned an array of [humanReadableValue, languageNeutralValue] tuples.");return new this(e.options,void 0,e)}trimOptions(e){let i=!1;const r=e.map(E=>{if(E===Lo.SEPARATOR)return i=!0,E;const[C,Q]=E;return typeof C=="string"?[Bt(C),Q]:(i=!0,[zl(C)?Object.assign({},C,{alt:Bt(C.alt)}):C,Q])});if(i||e.length<2)return{options:r};var a=r.map(([E])=>E),u=Nc(a);e=Wm(a,u);const f=Xm(a,u);return!e&&!f||u<=e+f?{options:r}:(u=e?a[0].substring(0,e-1):void 0,a=f?a[0].substr(1-f):void 0,{options:this.applyTrim(r,e,f),prefix:u,suffix:a})}applyTrim(e,i,r){return e.map(([a,u])=>[a.substring(i,a.length-r),u])}validateOptions(e){if(!Array.isArray(e))throw TypeError("FieldDropdown options must be an array.");if(!e.length)throw TypeError("FieldDropdown options must not be an empty array.");let i=!1;for(let r=0;r<e.length;r++){const a=e[r];Array.isArray(a)||a===Lo.SEPARATOR?typeof a[1]!="string"?(i=!0,console.error("Invalid option[".concat(r,"]: Each FieldDropdown option id must be a string.\n          Found ").concat(a[1]," in: ").concat(a))):!a[0]||typeof a[0]=="string"||zl(a[0])||typeof HTMLElement<"u"&&a[0]instanceof HTMLElement||(i=!0,console.error("Invalid option[".concat(r,"]: Each FieldDropdown option must have a string\n          label, image description, or HTML element. Found ").concat(a[0]," in: ").concat(a))):(i=!0,console.error("Invalid option[".concat(r,"]: Each FieldDropdown option must be an array or\n          the string literal 'separator'. Found: ").concat(a)))}if(i)throw TypeError("Found invalid FieldDropdown options.")}};Lo.SEPARATOR="separator",Lo.ARROW_CHAR="",Lo.IMAGE_Y_OFFSET=5,Lo.IMAGE_Y_PADDING=Lo.IMAGE_Y_OFFSET*2,yn("field_dropdown",Lo);var Wr=class{constructor(e,i,r,a){this.name=e,this.startHats=!1,this.blockStyles=i||Object.create(null),this.categoryStyles=r||Object.create(null),this.componentStyles=a||Object.create(null),this.fontStyle=Object.create(null),s(oe.THEME,e,this,!0)}getClassName(){return this.name+"-theme"}setBlockStyle(e,i){this.blockStyles[e]=i}setCategoryStyle(e,i){this.categoryStyles[e]=i}getComponentStyle(e){if(e=this.componentStyles[e],!e)return null;if(typeof e=="string"){const i=this.getComponentStyle(e);if(i)return i}return"".concat(e)}setComponentStyle(e,i){this.componentStyles[e]=i}setFontStyle(e){this.fontStyle=e}setStartHats(e){this.startHats=e}static defineTheme(e,i){e=e.toLowerCase();const r=new Wr(e);let a=i.base;if(a){if(typeof a=="string"){let u;a=(u=g(oe.THEME,a))!=null?u:void 0}a instanceof Wr&&(et(r,a),r.name=e)}return et(r.blockStyles,i.blockStyles),et(r.categoryStyles,i.categoryStyles),et(r.componentStyles,i.componentStyles),et(r.fontStyle,i.fontStyle),i.startHats!==null&&(r.startHats=i.startHats),r}},d1={colour_blocks:{colourPrimary:"20"},list_blocks:{colourPrimary:"260"},logic_blocks:{colourPrimary:"210"},loop_blocks:{colourPrimary:"120"},math_blocks:{colourPrimary:"230"},procedure_blocks:{colourPrimary:"290"},text_blocks:{colourPrimary:"160"},variable_blocks:{colourPrimary:"330"},variable_dynamic_blocks:{colourPrimary:"310"},hat_blocks:{colourPrimary:"330",hat:"cap"}},h1={colour_category:{colour:"20"},list_category:{colour:"260"},logic_category:{colour:"210"},loop_category:{colour:"120"},math_category:{colour:"230"},procedure_category:{colour:"290"},text_category:{colour:"160"},variable_category:{colour:"330"},variable_dynamic_category:{colour:"310"}},pp=new Wr("classic",d1,h1),On=class{constructor(e){this.gridPattern=null,this.getMetrics=this.setMetrics=void 0;let i=null,r=!1;var a=!1,u=!1,f=!1,E=!1,C=!1;const Q=!!e.readOnly;if(!Q){var Ce;i=Z((Ce=e.toolbox)!=null?Ce:null),r=Et(i),a=e.trashcan,a=a===void 0?r:a,u=e.collapse,u=u===void 0?r:u,f=e.comments,f=f===void 0?r:f,E=e.disable,E=E===void 0?r:E,C=e.sounds,C=C===void 0?!0:C}Ce=e.maxTrashcanContents,a?Ce===void 0&&(Ce=32):Ce=0;const wt=!!e.rtl;let pt=e.horizontalLayout;pt===void 0&&(pt=!1);var ko=e.toolboxPosition!=="end";ko=pt?ko?He.TOP:He.BOTTOM:ko===wt?He.RIGHT:He.LEFT;let is=e.css;is===void 0&&(is=!0);let xn="https://blockly-demo.appspot.com/static/media/";e.media&&(xn=e.media.endsWith("/")?e.media:e.media+"/");const Fw=e.oneBasedIndex,X1=e.renderer||"geras",Y1=e.plugins||{};let eT=e.modalInputs;eT===void 0&&(eT=!0),this.RTL=wt,this.oneBasedIndex=Fw===void 0?!0:Fw,this.collapse=u,this.comments=f,this.disable=E,this.readOnly=Q,this.maxBlocks=e.maxBlocks||1/0;let Gw;this.maxInstances=(Gw=e.maxInstances)!=null?Gw:null,this.modalInputs=eT,this.pathToMedia=xn,this.hasCategories=r,this.moveOptions=On.parseMoveOptions(e,r),this.hasScrollbars=!!this.moveOptions.scrollbars,this.hasTrashcan=a,this.maxTrashcanContents=Ce,this.hasSounds=C,this.hasCss=is,this.horizontalLayout=pt,this.languageTree=i,this.gridOptions=On.parseGridOptions(e),this.zoomOptions=On.parseZoomOptions(e),this.toolboxPosition=ko,this.theme=On.parseThemeOptions(e),this.renderer=X1;let Vw;this.rendererOverrides=(Vw=e.rendererOverrides)!=null?Vw:null;let zw;this.parentWorkspace=(zw=e.parentWorkspace)!=null?zw:null,this.plugins=Y1}static parseMoveOptions(e,i){const r=e.move||{},a={};return r.scrollbars===void 0&&e.scrollbars===void 0?a.scrollbars=i:typeof r.scrollbars=="object"?(a.scrollbars={horizontal:!!r.scrollbars.horizontal,vertical:!!r.scrollbars.vertical},a.scrollbars.horizontal&&a.scrollbars.vertical?a.scrollbars=!0:a.scrollbars.horizontal||a.scrollbars.vertical||(a.scrollbars=!1)):a.scrollbars=!!r.scrollbars||!!e.scrollbars,a.wheel=a.scrollbars&&r.wheel!==void 0?!!r.wheel:typeof a.scrollbars=="object",a.drag=a.scrollbars?r.drag===void 0?!0:!!r.drag:!1,a}static parseZoomOptions(e){e=e.zoom||{};const i={};return i.controls=e.controls===void 0?!1:!!e.controls,i.wheel=e.wheel===void 0?!1:!!e.wheel,i.startScale=e.startScale===void 0?1:Number(e.startScale),i.maxScale=e.maxScale===void 0?3:Number(e.maxScale),i.minScale=e.minScale===void 0?.3:Number(e.minScale),i.scaleSpeed=e.scaleSpeed===void 0?1.2:Number(e.scaleSpeed),i.pinch=e.pinch===void 0?i.wheel||i.controls:!!e.pinch,i}static parseGridOptions(e){e=e.grid||{};const i={};return i.spacing=Number(e.spacing)||0,i.colour=e.colour||"#888",i.length=e.length===void 0?1:Number(e.length),i.snap=i.spacing>0&&!!e.snap,i}static parseThemeOptions(e){return e=e.theme||pp,typeof e=="string"?g(oe.THEME,e):e instanceof Wr?e:Wr.defineTheme(e.name||"builtin"+P(),e)}},eC=class{constructor(e,i){this.bubble=e,this.workspace=i,this.startLoc=null}isMovable(){return!0}startDrag(){this.startLoc=this.bubble.getRelativeToSurfaceXY(),this.workspace.setResizesEnabled(!1);let e;(e=this.workspace.getLayerManager())==null||e.moveToDragLayer(this.bubble),this.bubble.setDragging&&this.bubble.setDragging(!0)}drag(e){this.bubble.moveDuringDrag(e)}endDrag(){this.workspace.setResizesEnabled(!0);let e;(e=this.workspace.getLayerManager())==null||e.moveOffDragLayer(this.bubble,ap),this.bubble.setDragging(!1)}revertDrag(){this.startLoc&&this.bubble.moveDuringDrag(this.startLoc)}},Ei,nt=class{constructor(e,i,r,a,u){this.workspace=e,this.anchor=i,this.ownerRect=r,this.owner=u,this.size=new Ue(0,0),this.colour="#ffffff",this.disposed=!1,this.relativeLeft=this.relativeTop=0,this.dragStrategy=new eC(this,this.workspace),this.id=P(),this.svgRoot=q(F.G,{class:"blocklyBubble"},e.getBubbleCanvas()),e=q(F.G,{class:"blocklyEmboss"},this.svgRoot),this.tail=q(F.PATH,{class:"blocklyBubbleTail"},e),this.background=q(F.RECT,{class:"blocklyDraggable",x:0,y:0,rx:Ei.BORDER_WIDTH,ry:Ei.BORDER_WIDTH},e),this.contentContainer=q(F.G,{},this.svgRoot),this.focusableElement=a!=null?a:this.svgRoot,this.focusableElement.setAttribute("id",this.id),S(this.background,"pointerdown",this,this.onMouseDown),S(this.focusableElement,"keydown",this,this.onKeyDown)}dispose(){Xe(this.svgRoot),this.disposed=!0}setAnchorLocation(e,i=!1){this.anchor=e,i?this.positionByRect(this.ownerRect):this.positionRelativeToAnchor(),this.renderTail()}setPositionRelativeToAnchor(e,i){this.relativeLeft=e,this.relativeTop=i,this.positionRelativeToAnchor(),this.renderTail()}getSize(){return this.size}setSize(e,i=!1){e.width=Math.max(e.width,Ei.MIN_SIZE),e.height=Math.max(e.height,Ei.MIN_SIZE),this.size=e,this.background.setAttribute("width","".concat(e.width)),this.background.setAttribute("height","".concat(e.height)),i?this.positionByRect(this.ownerRect):this.positionRelativeToAnchor(),this.renderTail()}getColour(){return this.colour}setColour(e){this.colour=e,this.tail.setAttribute("fill",e),this.background.setAttribute("fill",e)}onMouseDown(e){let i;(i=this.workspace.getGesture(e))==null||i.handleBubbleStart(e,this),n.getFocusManager$$module$build$src$core$focus_manager().focusNode(this)}onKeyDown(e){e.key==="Escape"&&this.owner&&(this.owner.setBubbleVisible(!1),n.getFocusManager$$module$build$src$core$focus_manager().focusNode(this.owner))}positionRelativeToAnchor(){let e=this.anchor.x;e=this.workspace.RTL?e-(this.relativeLeft+this.size.width):e+this.relativeLeft,this.moveTo(e,this.relativeTop+this.anchor.y)}moveTo(e,i){this.svgRoot.setAttribute("transform","translate(".concat(e,", ").concat(i,")"))}positionByRect(e=new Be(0,0,0,0)){var i=this.workspace.getMetricsManager().getViewMetrics(!0),r=this.getOptimalRelativeLeft(i),a=this.getOptimalRelativeTop(i);const u={x:r,y:-this.size.height-this.workspace.getRenderer().getConstants().MIN_BLOCK_HEIGHT},f={x:-this.size.width-30,y:a};a={x:e.getWidth(),y:a};var E={x:r,y:e.getHeight()};r=e.getWidth()<e.getHeight()?a:E,e=e.getWidth()<e.getHeight()?E:a,a=this.getOverlap(u,i),E=this.getOverlap(f,i);const C=this.getOverlap(r,i);i=this.getOverlap(e,i),i=Math.max(a,E,C,i),a===i?(this.relativeLeft=u.x,this.relativeTop=u.y):E===i?(this.relativeLeft=f.x,this.relativeTop=f.y):C===i?(this.relativeLeft=r.x,this.relativeTop=r.y):(this.relativeLeft=e.x,this.relativeTop=e.y),this.positionRelativeToAnchor()}getOverlap(e,i){var r=this.workspace.RTL?this.anchor.x-e.x-this.size.width:e.x+this.anchor.x;return e=e.y+this.anchor.y,Math.max(0,Math.min(1,(Math.min(r+this.size.width,i.left+i.width)-Math.max(r,i.left))*(Math.min(e+this.size.height,i.top+i.height)-Math.max(e,i.top))/(this.size.width*this.size.height)))}getOptimalRelativeLeft(e){let i=-this.size.width/4;if(this.size.width>e.width)return i;if(e=this.getWorkspaceViewRect(e),this.workspace.RTL){var r=this.anchor.x-i;r-this.size.width<e.left?i=-(e.left-this.anchor.x+this.size.width):r>e.right&&(i=-(e.right-this.anchor.x))}else{r=i+this.anchor.x;const a=r+this.size.width;r<e.left?i=e.left-this.anchor.x:a>e.right&&(i=e.right-this.anchor.x-this.size.width)}return i}getOptimalRelativeTop(e){let i=-this.size.height/4;if(this.size.height>e.height)return i;const r=this.anchor.y+i,a=r+this.size.height;return e=this.getWorkspaceViewRect(e),r<e.top?i=e.top-this.anchor.y:a>e.bottom&&(i=e.bottom-this.anchor.y-this.size.height),i}getWorkspaceViewRect(e){const i=e.top;let r=e.top+e.height,a=e.left;return e=e.left+e.width,r-=this.getScrollbarThickness(),this.workspace.RTL?a-=this.getScrollbarThickness():e-=this.getScrollbarThickness(),new Be(i,r,a,e)}getScrollbarThickness(){return Ht.scrollbarThickness/this.workspace.scale}renderTail(){const e=[];var i=this.size.width/2,r=this.size.height/2,a=-this.relativeLeft,u=-this.relativeTop;if(i===a&&r===u)e.push("M "+i+","+r);else{u-=r,a-=i,this.workspace.RTL&&(a*=-1);var f=Math.sqrt(u*u+a*a),E=Math.acos(a/f);u<0&&(E=2*Math.PI-E);var C=E+Math.PI/2;C>Math.PI*2&&(C-=Math.PI*2);var Q=Math.sin(C);const wt=Math.cos(C);let pt=(this.size.width+this.size.height)/Ei.TAIL_THICKNESS;pt=Math.min(pt,this.size.width,this.size.height)/4,C=1-Ei.ANCHOR_RADIUS/f,a=i+C*a,u=r+C*u,C=i+pt*wt;const ko=r+pt*Q;i-=pt*wt,r-=pt*Q,Q=rh(this.workspace.RTL?-Ei.TAIL_ANGLE:Ei.TAIL_ANGLE),Q=E+Q,Q>Math.PI*2&&(Q-=Math.PI*2),E=Math.sin(Q)*f/Ei.TAIL_BEND,f=Math.cos(Q)*f/Ei.TAIL_BEND,e.push("M"+C+","+ko),e.push("C"+(C+f)+","+(ko+E)+" "+a+","+u+" "+a+","+u),e.push("C"+a+","+u+" "+(i+f)+","+(r+E)+" "+i+","+r)}e.push("z");let Ce;(Ce=this.tail)==null||Ce.setAttribute("d",e.join(" "))}bringToFront(){let e;const i=(e=this.svgRoot)==null?void 0:e.parentNode;return this.svgRoot&&(i==null?void 0:i.lastChild)!==this.svgRoot?(i==null||i.appendChild(this.svgRoot),!0):!1}getRelativeToSurfaceXY(){return new ne(this.workspace.RTL?-this.relativeLeft+this.anchor.x-this.size.width:this.anchor.x+this.relativeLeft,this.anchor.y+this.relativeTop)}getSvgRoot(){return this.svgRoot}moveDuringDrag(e){this.moveTo(e.x,e.y),this.relativeLeft=this.workspace.RTL?this.anchor.x-e.x-this.size.width:e.x-this.anchor.x,this.relativeTop=e.y-this.anchor.y,this.renderTail()}setDragging(e){}setDeleteStyle(e){}isDeletable(){return!1}showContextMenu(e){}isMovable(){return!0}startDrag(){this.dragStrategy.startDrag()}drag(e){this.dragStrategy.drag(e)}endDrag(){this.dragStrategy.endDrag()}revertDrag(){this.dragStrategy.revertDrag()}select(){de(this)}unselect(){de(null)}getFocusableElement(){return this.focusableElement}getFocusableTree(){return this.workspace}onNodeFocus(){this.select(),this.bringToFront();var e=this.getRelativeToSurfaceXY();const i=this.getSize();e=new Be(e.y,e.y+i.height,e.x,e.x+i.width),this.workspace.scrollBoundsIntoView(e)}onNodeBlur(){this.unselect()}canBeFocused(){return!0}getOwner(){return this.owner}};Ei=nt,nt.BORDER_WIDTH=6,nt.DOUBLE_BORDER=Ei.BORDER_WIDTH*2,nt.MIN_SIZE=Ei.DOUBLE_BORDER,nt.TAIL_THICKNESS=1,nt.TAIL_ANGLE=20,nt.TAIL_BEND=4,nt.ANCHOR_RADIUS=8;var es=class extends nt{constructor(e,i,r,a){super(i,r,a),this.workspace=i,this.anchor=r,this.ownerRect=a,this.autoLayout=!0,i=new On(e),this.validateWorkspaceOptions(i),this.svgDialog=q(F.SVG,{x:nt.BORDER_WIDTH,y:nt.BORDER_WIDTH},this.contentContainer),e.parentWorkspace=this.workspace,this.miniWorkspace=this.newWorkspaceSvg(new On(e)),this.miniWorkspace.internalIsMutator=!0,e=this.miniWorkspace.createDom("blocklyMutatorBackground"),this.svgDialog.appendChild(e),i.languageTree&&(e.insertBefore(this.miniWorkspace.addFlyout(F.G),this.miniWorkspace.getCanvas()),e=this.miniWorkspace.getFlyout(),e==null||e.init(this.miniWorkspace),e==null||e.show(i.languageTree)),fe(this.svgRoot,"blocklyMiniWorkspaceBubble"),this.miniWorkspace.addChangeListener(this.onWorkspaceChange.bind(this));let u,f;(u=this.miniWorkspace.getFlyout())==null||(f=u.getWorkspace())==null||f.addChangeListener(this.onWorkspaceChange.bind(this)),this.updateBubbleSize()}dispose(){this.miniWorkspace.dispose(),super.dispose()}getWorkspace(){return this.miniWorkspace}addWorkspaceChangeListener(e){this.miniWorkspace.addChangeListener(e)}validateWorkspaceOptions(e){if(e.hasCategories)throw Error("The miniworkspace bubble does not support toolboxes with categories");if(e.hasTrashcan)throw Error("The miniworkspace bubble does not support trashcans");if(e.zoomOptions.controls||e.zoomOptions.wheel||e.zoomOptions.pinch)throw Error("The miniworkspace bubble does not support zooming");if(e.moveOptions.scrollbars||e.moveOptions.wheel||e.moveOptions.drag)throw Error("The miniworkspace bubble does not scrolling/moving the workspace");if(e.horizontalLayout)throw Error("The miniworkspace bubble does not support horizontal layouts")}onWorkspaceChange(){this.bumpBlocksIntoBounds(),this.updateBubbleSize()}bumpBlocksIntoBounds(){if(!this.miniWorkspace.isDragging()||this.miniWorkspace.keyboardMoveInProgress)for(const e of this.miniWorkspace.getTopBlocks(!1)){const i=e.getRelativeToSurfaceXY();if(i.y<20&&e.moveBy(0,20-i.y),e.RTL){let r=-20;const a=this.miniWorkspace.getFlyout();a&&(r-=a.getWidth()),i.x>r&&e.moveBy(r-i.x,0)}else i.x<20&&e.moveBy(20-i.x,0)}}updateBubbleSize(){if(!this.miniWorkspace.isDragging()||this.miniWorkspace.keyboardMoveInProgress){this.autoLayout&&(this.autoLayout=!this.miniWorkspace.keyboardMoveInProgress);var e=this.getSize(),i=this.calculateWorkspaceSize();Math.abs(e.width-i.width)<es.MINIMUM_VIEW_CHANGE&&Math.abs(e.height-i.height)<es.MINIMUM_VIEW_CHANGE||(this.svgDialog.setAttribute("width","".concat(i.width,"px")),this.svgDialog.setAttribute("height","".concat(i.height,"px")),this.miniWorkspace.setCachedParentSvgSize(i.width,i.height),this.miniWorkspace.RTL&&this.miniWorkspace.getCanvas().setAttribute("transform","translate(".concat(i.width,", 0)")),this.setSize(new Ue(i.width+nt.DOUBLE_BORDER,i.height+nt.DOUBLE_BORDER),this.autoLayout),this.miniWorkspace.resize(),this.miniWorkspace.recordDragTargets())}}calculateWorkspaceSize(){var e=this.miniWorkspace.getCanvas().getBBox();let i=e.width+es.MARGIN;e=e.height+es.MARGIN;const r=this.miniWorkspace.getFlyout();if(r){const a=r.getWorkspace().getMetricsManager().getScrollMetrics();e=Math.max(e,a.height+20),i+=r.getWidth()}return new Ue(i,e)}updateBlockStyles(){for(var e of this.miniWorkspace.getAllBlocks(!1))e.setStyle(e.getStyleName());let i;if(e=(i=this.miniWorkspace.getFlyout())==null?void 0:i.getWorkspace())for(const r of e.getAllBlocks(!1))r.setStyle(r.getStyleName())}moveDuringDrag(e){super.moveDuringDrag(e),this.autoLayout=!1}moveTo(e,i){super.moveTo(e,i),this.miniWorkspace.recordDragTargets()}newWorkspaceSvg(e){throw Error("The implementation of newWorkspaceSvg should be monkey-patched in by blockly.ts")}};es.MINIMUM_VIEW_CHANGE=10,es.MARGIN=nt.DOUBLE_BORDER*3;var lu=class{constructor(e){this.sourceBlock=e,this.offsetInBlock=new ne(0,0),this.workspaceLocation=new ne(0,0),this.svgRoot=null,this.tooltip=e,this.id=P()}getType(){throw Error("Icons must implement getType")}initView(e){if(!this.svgRoot){var i=this.sourceBlock;this.svgRoot=q(F.G,{class:"blocklyIconGroup",id:this.id}),i.getSvgRoot().appendChild(this.svgRoot),this.updateSvgRootOffset(),S(this.svgRoot,"pointerdown",this,e),this.svgRoot.tooltip=this,Mc(this.svgRoot)}}dispose(){qm(this.svgRoot),Xe(this.svgRoot)}getWeight(){return-1}getSize(){return new Ue(0,0)}setTooltip(e){this.tooltip=e!=null?e:this.sourceBlock}getTooltip(){return this.tooltip}applyColour(){}updateEditable(){}updateCollapsed(){this.svgRoot&&(this.sourceBlock.isCollapsed()?this.svgRoot.style.display="none":this.svgRoot.style.display="block",Rr(this)&&this.setBubbleVisible(!1))}hideForInsertionMarker(){this.svgRoot&&(this.svgRoot.style.display="none")}isShownWhenCollapsed(){return!1}setOffsetInBlock(e){this.offsetInBlock=e,this.updateSvgRootOffset()}updateSvgRootOffset(){let e;(e=this.svgRoot)==null||e.setAttribute("transform","translate(".concat(this.offsetInBlock.x,", ").concat(this.offsetInBlock.y,")"))}onLocationChange(e){this.workspaceLocation=ne.sum(e,this.offsetInBlock)}onClick(){}isClickableInFlyout(e){return!0}getFocusableElement(){const e=this.svgRoot;if(!e)throw Error("Attempting to focus uninitialized icon.");return e}getFocusableTree(){return this.sourceBlock.workspace}onNodeFocus(){var e=this.sourceBlock.getBoundingRectangle();e=new Be(e.top+this.offsetInBlock.y,e.top+this.offsetInBlock.y+this.getSize().height,e.left+this.offsetInBlock.x,e.left+this.offsetInBlock.x+this.getSize().width),this.sourceBlock.workspace.scrollBoundsIntoView(e)}onNodeBlur(){}canBeFocused(){return!0}getSourceBlock(){return this.sourceBlock}},fp,gp;fp=17,gp=16,n.MutatorIcon$$module$build$src$core$icons$mutator_icon=class extends lu{constructor(e,i){super(i),this.flyoutBlockTypes=e,this.sourceBlock=i,this.saveConnectionsListener=this.updateWorkspacePid=this.rootBlock=this.miniWorkspaceBubble=null}getType(){return n.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE}initView(e){this.svgRoot||(super.initView(e),q(F.RECT,{class:"blocklyIconShape",rx:"4",ry:"4",height:"16",width:"16"},this.svgRoot),q(F.PATH,{class:"blocklyIconSymbol",d:"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"},this.svgRoot),q(F.CIRCLE,{class:"blocklyIconShape",r:"2.7",cx:"8",cy:"8"},this.svgRoot),fe(this.svgRoot,"blocklyMutatorIcon"))}dispose(){super.dispose();let e;(e=this.miniWorkspaceBubble)==null||e.dispose()}getWeight(){return n.MutatorIcon$$module$build$src$core$icons$mutator_icon.WEIGHT}getSize(){return new Ue(fp,fp)}applyColour(){super.applyColour();let e;(e=this.miniWorkspaceBubble)==null||e.setColour(this.sourceBlock.getColour());let i;(i=this.miniWorkspaceBubble)==null||i.updateBlockStyles()}updateCollapsed(){super.updateCollapsed(),this.sourceBlock.isCollapsed()&&this.setBubbleVisible(!1)}onLocationChange(e){super.onLocationChange(e);let i;(i=this.miniWorkspaceBubble)==null||i.setAnchorLocation(this.getAnchorLocation())}onClick(){super.onClick(),this.sourceBlock.isEditable()&&this.setBubbleVisible(!this.bubbleIsVisible())}isClickableInFlyout(){return!1}bubbleIsVisible(){return!!this.miniWorkspaceBubble}setBubbleVisible(e){const i=this;return(0,X.asyncExecutePromiseGeneratorFunction)(function*(){if(i.bubbleIsVisible()!==e){if(yield Tn(),e){i.miniWorkspaceBubble=new es(i.getMiniWorkspaceConfig(),i.sourceBlock.workspace,i.getAnchorLocation(),i.getBubbleOwnerRect()),i.applyColour(),i.createRootBlock(),i.addSaveConnectionsListener();let r;(r=i.miniWorkspaceBubble)==null||r.addWorkspaceChangeListener(i.createMiniWorkspaceChangeListener())}else{let r;(r=i.miniWorkspaceBubble)==null||r.dispose(),i.miniWorkspaceBubble=null,i.saveConnectionsListener&&i.sourceBlock.workspace.removeChangeListener(i.saveConnectionsListener),i.saveConnectionsListener=null}V(new(ge(z.BUBBLE_OPEN))(i.sourceBlock,e,"mutator"))}})}getBubble(){return this.miniWorkspaceBubble}getMiniWorkspaceConfig(){let e;const i={disable:!1,media:this.sourceBlock.workspace.options.pathToMedia,rtl:this.sourceBlock.RTL,renderer:this.sourceBlock.workspace.options.renderer,rendererOverrides:(e=this.sourceBlock.workspace.options.rendererOverrides)!=null?e:void 0};return this.flyoutBlockTypes.length&&(i.toolbox={kind:"flyoutToolbox",contents:this.flyoutBlockTypes.map(r=>({kind:"block",type:r}))}),i}getAnchorLocation(){const e=fp/2;return ne.sum(this.workspaceLocation,new ne(e,e))}getBubbleOwnerRect(){const e=this.sourceBlock.getSvgRoot().getBBox();return new Be(e.y,e.y+e.height,e.x,e.x+e.width)}createRootBlock(){if(!this.sourceBlock.decompose)throw Error("Blocks with mutator icons must include a decompose method");this.rootBlock=this.sourceBlock.decompose(this.miniWorkspaceBubble.getWorkspace());for(var e of this.rootBlock.getDescendants(!1))e.queueRender();this.rootBlock.setMovable(!1),this.rootBlock.setDeletable(!1);let i,r,a,u;e=(u=(i=this.miniWorkspaceBubble)==null||(r=i.getWorkspace())==null||(a=r.getFlyout())==null?void 0:a.getWidth())!=null?u:0,this.rootBlock.moveBy(this.rootBlock.RTL?-(e+gp):gp,gp)}addSaveConnectionsListener(){this.sourceBlock.saveConnections&&this.rootBlock&&(this.saveConnectionsListener=()=>{this.sourceBlock.saveConnections&&this.rootBlock&&this.sourceBlock.saveConnections(this.rootBlock)},this.saveConnectionsListener(),this.sourceBlock.workspace.addChangeListener(this.saveConnectionsListener))}createMiniWorkspaceChangeListener(){return e=>{n.MutatorIcon$$module$build$src$core$icons$mutator_icon.isIgnorableMutatorEvent(e)||this.updateWorkspacePid||(this.updateWorkspacePid=setTimeout(()=>{this.updateWorkspacePid=null,this.recomposeSourceBlock()},0))}}static isIgnorableMutatorEvent(e){return e.isUiEvent||ie(e)||me(e)&&e.element==="disabled"}recomposeSourceBlock(){if(this.rootBlock){if(!this.sourceBlock.compose)throw Error("Blocks with mutator icons must include a compose method");var e=n.getGroup$$module$build$src$core$events$utils();e||n.setGroup$$module$build$src$core$events$utils(!0);var i=Hr.getExtraBlockState_(this.sourceBlock);this.sourceBlock.compose(this.rootBlock);var r=Hr.getExtraBlockState_(this.sourceBlock);i!==r&&V(new(ge(z.BLOCK_CHANGE))(this.sourceBlock,"mutation",null,i,r)),n.setGroup$$module$build$src$core$events$utils(e)}}getWorkspace(){let e;return(e=this.miniWorkspaceBubble)==null?void 0:e.getWorkspace()}},n.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE=eo.MUTATOR,n.MutatorIcon$$module$build$src$core$icons$mutator_icon.WEIGHT=1,n.MutatorIcon$$module$build$src$core$icons$mutator_icon;var ra=Object.create(null),p1={allExtensions:ra};n.register$$module$build$src$core$extensions("parent_tooltip_when_inline",KI);var rn={TEST_ONLY:p1};rn.apply=Th,rn.buildTooltipForDropdown=n.buildTooltipForDropdown$$module$build$src$core$extensions,rn.buildTooltipWithFieldText=n.buildTooltipWithFieldText$$module$build$src$core$extensions,rn.isRegistered=b$,rn.register=n.register$$module$build$src$core$extensions,rn.registerMixin=n.registerMixin$$module$build$src$core$extensions,rn.registerMutator=n.registerMutator$$module$build$src$core$extensions,rn.runAfterPageLoad=YI,rn.unregister=GI;var at;(function(e){e[e.WIN_KEY_FF_LINUX=0]="WIN_KEY_FF_LINUX",e[e.MAC_ENTER=3]="MAC_ENTER",e[e.BACKSPACE=8]="BACKSPACE",e[e.TAB=9]="TAB",e[e.NUM_CENTER=12]="NUM_CENTER",e[e.ENTER=13]="ENTER",e[e.SHIFT=16]="SHIFT",e[e.CTRL=17]="CTRL",e[e.ALT=18]="ALT",e[e.PAUSE=19]="PAUSE",e[e.CAPS_LOCK=20]="CAPS_LOCK",e[e.ESC=27]="ESC",e[e.SPACE=32]="SPACE",e[e.PAGE_UP=33]="PAGE_UP",e[e.PAGE_DOWN=34]="PAGE_DOWN",e[e.END=35]="END",e[e.HOME=36]="HOME",e[e.LEFT=37]="LEFT",e[e.UP=38]="UP",e[e.RIGHT=39]="RIGHT",e[e.DOWN=40]="DOWN",e[e.PLUS_SIGN=43]="PLUS_SIGN",e[e.PRINT_SCREEN=44]="PRINT_SCREEN",e[e.INSERT=45]="INSERT",e[e.DELETE=46]="DELETE",e[e.ZERO=48]="ZERO",e[e.ONE=49]="ONE",e[e.TWO=50]="TWO",e[e.THREE=51]="THREE",e[e.FOUR=52]="FOUR",e[e.FIVE=53]="FIVE",e[e.SIX=54]="SIX",e[e.SEVEN=55]="SEVEN",e[e.EIGHT=56]="EIGHT",e[e.NINE=57]="NINE",e[e.FF_SEMICOLON=59]="FF_SEMICOLON",e[e.FF_EQUALS=61]="FF_EQUALS",e[e.FF_DASH=173]="FF_DASH",e[e.FF_HASH=163]="FF_HASH",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.AT_SIGN=64]="AT_SIGN",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.META=91]="META",e[e.WIN_KEY_RIGHT=92]="WIN_KEY_RIGHT",e[e.CONTEXT_MENU=93]="CONTEXT_MENU",e[e.NUM_ZERO=96]="NUM_ZERO",e[e.NUM_ONE=97]="NUM_ONE",e[e.NUM_TWO=98]="NUM_TWO",e[e.NUM_THREE=99]="NUM_THREE",e[e.NUM_FOUR=100]="NUM_FOUR",e[e.NUM_FIVE=101]="NUM_FIVE",e[e.NUM_SIX=102]="NUM_SIX",e[e.NUM_SEVEN=103]="NUM_SEVEN",e[e.NUM_EIGHT=104]="NUM_EIGHT",e[e.NUM_NINE=105]="NUM_NINE",e[e.NUM_MULTIPLY=106]="NUM_MULTIPLY",e[e.NUM_PLUS=107]="NUM_PLUS",e[e.NUM_MINUS=109]="NUM_MINUS",e[e.NUM_PERIOD=110]="NUM_PERIOD",e[e.NUM_DIVISION=111]="NUM_DIVISION",e[e.F1=112]="F1",e[e.F2=113]="F2",e[e.F3=114]="F3",e[e.F4=115]="F4",e[e.F5=116]="F5",e[e.F6=117]="F6",e[e.F7=118]="F7",e[e.F8=119]="F8",e[e.F9=120]="F9",e[e.F10=121]="F10",e[e.F11=122]="F11",e[e.F12=123]="F12",e[e.NUMLOCK=144]="NUMLOCK",e[e.SCROLL_LOCK=145]="SCROLL_LOCK",e[e.FIRST_MEDIA_KEY=166]="FIRST_MEDIA_KEY",e[e.LAST_MEDIA_KEY=183]="LAST_MEDIA_KEY",e[e.SEMICOLON=186]="SEMICOLON",e[e.DASH=189]="DASH",e[e.EQUALS=187]="EQUALS",e[e.COMMA=188]="COMMA",e[e.PERIOD=190]="PERIOD",e[e.SLASH=191]="SLASH",e[e.APOSTROPHE=192]="APOSTROPHE",e[e.TILDE=192]="TILDE",e[e.SINGLE_QUOTE=222]="SINGLE_QUOTE",e[e.OPEN_SQUARE_BRACKET=219]="OPEN_SQUARE_BRACKET",e[e.BACKSLASH=220]="BACKSLASH",e[e.CLOSE_SQUARE_BRACKET=221]="CLOSE_SQUARE_BRACKET",e[e.WIN_KEY=224]="WIN_KEY",e[e.MAC_FF_META=224]="MAC_FF_META",e[e.MAC_WK_CMD_LEFT=91]="MAC_WK_CMD_LEFT",e[e.MAC_WK_CMD_RIGHT=93]="MAC_WK_CMD_RIGHT",e[e.WIN_IME=229]="WIN_IME",e[e.VK_NONAME=252]="VK_NONAME",e[e.PHANTOM=255]="PHANTOM"})(at||(at={}));var ts={};ts.arc=Ut,ts.curve=ni,ts.line=Wl,ts.lineOnAxis=Le,ts.lineTo=Sn,ts.moveBy=kt,ts.moveTo=_o,ts.point=Ae;var Ct={};Ct.Coordinate=ne,Ct.KeyCodes=at,Ct.Rect=Be,Ct.Size=Ue,Ct.Svg=F,Ct.aria=Jc,Ct.array=tR,Ct.browserEvents=Yn,Ct.colour=Bi,Ct.deprecation=CR,Ct.dom=bo,Ct.extensions=rn,Ct.idGenerator=E_,Ct.math=Jh,Ct.object=JO,Ct.parsing=su,Ct.string=ta,Ct.style=Ps,Ct.svgMath=xr,Ct.svgPaths=ts,Ct.toolbox=Bs,Ct.userAgent=e1,Ct.xml=Jl;var mp=class extends nt{constructor(e,i,r,a){super(e,i,r,void 0,a),this.workspace=e,this.anchor=i,this.ownerRect=r,this.owner=a,this.resizePointerMoveListener=this.resizePointerUpListener=null,this.sizeChangeListeners=[],this.locationChangeListeners=[],this.DEFAULT_SIZE=new Ue(160+nt.DOUBLE_BORDER,80+nt.DOUBLE_BORDER),this.MIN_SIZE=new Ue(45+nt.DOUBLE_BORDER,20+nt.DOUBLE_BORDER),this.editable=!0,fe(this.svgRoot,"blocklyTextInputBubble"),this.editor=new up(e,this.id,()=>{n.getFocusManager$$module$build$src$core$focus_manager().focusNode(this)}),this.contentContainer.appendChild(this.editor.getDom()),this.resizeGroup=this.createResizeHandle(this.svgRoot,e),this.setSize(this.DEFAULT_SIZE,!0)}getText(){return this.editor.getText()}setText(e){this.editor.setText(e)}setEditable(e){this.editable=e,this.editor.setEditable(e)}isEditable(){return this.editable}addTextChangeListener(e){this.editor.addTextChangeListener(e)}addSizeChangeListener(e){this.sizeChangeListeners.push(e)}addLocationChangeListener(e){this.locationChangeListeners.push(e)}createResizeHandle(e,i){return e=q(F.IMAGE,{class:"blocklyResizeHandle",href:"".concat(i.options.pathToMedia,"resize-handle.svg")},e),S(e,"pointerdown",this,this.onResizePointerDown),e}setSize(e,i=!1){e.width=Math.max(e.width,this.MIN_SIZE.width),e.height=Math.max(e.height,this.MIN_SIZE.height);const r=e.width-nt.DOUBLE_BORDER,a=e.height-nt.DOUBLE_BORDER;this.editor.updateSize(new Ue(r,a),new Ue(0,0)),this.editor.getDom().setAttribute("x","".concat(nt.DOUBLE_BORDER/2)),this.editor.getDom().setAttribute("y","".concat(nt.DOUBLE_BORDER/2)),this.resizeGroup.setAttribute("y","".concat(a)),this.workspace.RTL?this.resizeGroup.setAttribute("x","".concat(-nt.DOUBLE_BORDER)):this.resizeGroup.setAttribute("x","".concat(r)),super.setSize(e,i),this.onSizeChange()}getSize(){return super.getSize()}moveDuringDrag(e){super.moveDuringDrag(e),this.onLocationChange()}setPositionRelativeToAnchor(e,i){super.setPositionRelativeToAnchor(e,i),this.onLocationChange()}positionByRect(e=new Be(0,0,0,0)){super.positionByRect(e),this.onLocationChange()}onResizePointerDown(e){this.bringToFront(),Y(e)||($h(this.workspace,e,new ne(this.workspace.RTL?-this.getSize().width:this.getSize().width,this.getSize().height)),this.resizePointerUpListener=S(document,"pointerup",this,this.onResizePointerUp),this.resizePointerMoveListener=S(document,"pointermove",this,this.onResizePointerMove),this.workspace.hideChaff()),e.stopPropagation()}onResizePointerUp(e){I(),this.resizePointerUpListener&&(L(this.resizePointerUpListener),this.resizePointerUpListener=null),this.resizePointerMoveListener&&(L(this.resizePointerMoveListener),this.resizePointerMoveListener=null)}onResizePointerMove(e){e=_h(this.workspace,e),this.setSize(new Ue(this.workspace.RTL?-e.x:e.x,e.y),!1),this.onSizeChange()}onSizeChange(){for(const e of this.sizeChangeListeners)e()}onLocationChange(){for(const e of this.locationChangeListeners)e()}getEditor(){return this.editor}};ye("\n.blocklyTextInputBubble .blocklyTextarea {\n  background-color: var(--commentFillColour);\n  border: 0;\n  box-sizing: border-box;\n  display: block;\n  outline: 0;\n  padding: 5px;\n  resize: none;\n  width: 100%;\n  height: 100%;\n}\n");var Ie;(function(e){e[e.INPUT_VALUE=1]="INPUT_VALUE",e[e.OUTPUT_VALUE=2]="OUTPUT_VALUE",e[e.NEXT_STATEMENT=3]="NEXT_STATEMENT",e[e.PREVIOUS_STATEMENT=4]="PREVIOUS_STATEMENT"})(Ie||(Ie={}));var la=class{constructor(e){this.connectionChecker=e,this.connections=[]}addConnection(e,i){i=this.calculateIndexForYPos(i),this.connections.splice(i,0,e)}findIndexOfConnection(e,i){if(!this.connections.length)return-1;const r=this.calculateIndexForYPos(i);if(r>=this.connections.length)return-1;i=e.y;let a=r;for(;a>=0&&this.connections[a].y===i;){if(this.connections[a]===e)return a;a--}for(a=r;a<this.connections.length&&this.connections[a].y===i;){if(this.connections[a]===e)return a;a++}return-1}calculateIndexForYPos(e){if(!this.connections.length)return 0;let i=0,r=this.connections.length;for(;i<r;){const a=Math.floor((i+r)/2);if(this.connections[a].y<e)i=a+1;else if(this.connections[a].y>e)r=a;else{i=a;break}}return i}removeConnection(e,i){if(e=this.findIndexOfConnection(e,i),e===-1)throw Error("Unable to find connection in connectionDB.");this.connections.splice(e,1)}getNeighbours(e,i){function r(Ce){const wt=u-a[Ce].x,pt=f-a[Ce].y;return Math.sqrt(wt*wt+pt*pt)<=i&&Q.push(a[Ce]),pt<i}const a=this.connections,u=e.x,f=e.y;e=0;let E=a.length-2,C=E;for(;e<C;)a[C].y<f?e=C:E=C,C=Math.floor((e+E)/2);const Q=[];if(E=e=C,a.length){for(;e>=0&&r(e);)e--;do E++;while(E<a.length&&r(E))}return Q}isInYRange(e,i,r){return Math.abs(this.connections[e].y-i)<=r}searchForClosest(e,i,r){if(!this.connections.length)return{connection:null,radius:i};const a=e.y,u=e.x;e.x=u+r.x,e.y=a+r.y;var f=this.calculateIndexForYPos(e.y);r=null;let E=i,C,Q=f-1;for(;Q>=0&&this.isInYRange(Q,e.y,i);)C=this.connections[Q],this.connectionChecker.canConnect(e,C,!0,E)&&(r=C,E=C.distanceFrom(e)),Q--;for(;f<this.connections.length&&this.isInYRange(f,e.y,i);)C=this.connections[f],this.connectionChecker.canConnect(e,C,!0,E)&&(r=C,E=C.distanceFrom(e)),f++;return e.x=u,e.y=a,{connection:r,radius:E}}static init(e){const i=[];return i[Ie.INPUT_VALUE]=new la(e),i[Ie.OUTPUT_VALUE]=new la(e),i[Ie.NEXT_STATEMENT]=new la(e),i[Ie.PREVIOUS_STATEMENT]=new la(e),i}},nb=class extends In{constructor(e,i,r){super(r),this.type=z.SELECTED,this.oldElementId=e!=null?e:void 0,this.newElementId=i!=null?i:void 0}toJson(){const e=super.toJson();return e.oldElementId=this.oldElementId,e.newElementId=this.newElementId,e}static fromJson(e,i,r){return i=super.fromJson(e,i,r!=null?r:new nb),i.oldElementId=e.oldElementId,i.newElementId=e.newElementId,i}};s(oe.EVENT,z.SELECTED,nb);var sb=class extends Ur{constructor(e){if(super(e),this.type=z.BLOCK_DELETE,e){if(e.getParent())throw Error("Connected blocks cannot be deleted.");e.isShadow()&&(this.recordUndo=!1),this.oldXml=Uc(e),this.ids=we(e),this.wasShadow=e.isShadow(),this.oldJson=Mi(e,{addCoordinates:!0})}}toJson(){const e=super.toJson();if(!this.oldXml)throw Error("The old block XML is undefined. Either pass a block to the constructor, or call fromJson");if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(this.wasShadow===void 0)throw Error("Whether the block was a shadow is undefined. Either pass a block to the constructor, or call fromJson");if(!this.oldJson)throw Error("The old block JSON is undefined. Either pass a block to the constructor, or call fromJson");return e.oldXml=vn(this.oldXml),e.ids=this.ids,e.wasShadow=this.wasShadow,e.oldJson=this.oldJson,this.recordUndo||(e.recordUndo=this.recordUndo),e}static fromJson(e,i,r){return i=super.fromJson(e,i,r!=null?r:new sb),i.oldXml=n.textToDom$$module$build$src$core$utils$xml(e.oldXml),i.ids=e.ids,i.wasShadow=e.wasShadow||i.oldXml.tagName.toLowerCase()==="shadow",i.oldJson=e.oldJson,e.recordUndo!==void 0&&(i.recordUndo=e.recordUndo),i}run(e){const i=this.getEventWorkspace_();if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(!this.oldJson)throw Error("The old block JSON is undefined. Either pass a block to the constructor, or call fromJson");if(e)for(e=0;e<this.ids.length;e++){const r=this.ids[e],a=i.getBlockById(r);a?a.dispose(!1):r===this.blockId&&console.warn("Can't delete non-existent block: "+r)}else ks(this.oldJson,i)}};s(oe.EVENT,z.BLOCK_DELETE,sb);var qe=class{constructor(e,i){if(this.type=i,this.targetConnection=null,this.disposed=!1,this.shadowDom=this.check=null,this.y=this.x=0,this.shadowState=null,this.sourceBlock_=e,e.id.includes("_connection"))throw Error("Connection ID indicator is contained in block ID. This will cause "+"problems with focus: ".concat(e.id,"."));this.id="".concat(e.id,"_connection_").concat(P())}connect_(e){const i=Ie.INPUT_VALUE,r=this.getSourceBlock();var a=e.getSourceBlock();e.isConnected()&&e.disconnectInternal(!1);let u;if(this.isConnected()){const E=this.stashShadowState(),C=this.targetBlock();C.isShadow()?C.dispose(!1):(this.disconnectInternal(),u=C),this.applyShadowState(E)}let f;ke()&&(f=new(ge(z.BLOCK_MOVE))(a),f.setReason(["connect"])),qI(this,e),a.setParent(r),f&&(f.recordNew(),V(f)),u&&(e=this.type===i?u.outputConnection:u.previousConnection)&&((a=qe.getConnectionForOrphanedConnection(a,e))?e.connect(a):e.onFailedConnect(this))}dispose(){if(this.isConnected()){this.isSuperior()&&this.setShadowStateInternal();const e=this.targetBlock();e&&!e.isDeadOrDying()&&e.unplug()}this.disposed=!0}getSourceBlock(){return this.sourceBlock_}isSuperior(){return this.type===Ie.INPUT_VALUE||this.type===Ie.NEXT_STATEMENT}isConnected(){return!!this.targetConnection}getConnectionChecker(){return this.sourceBlock_.workspace.connectionChecker}onFailedConnect(e){}connect(e){if(this.targetConnection===e)return!0;if(this.getConnectionChecker().canConnect(this,e,!1)){const i=n.getGroup$$module$build$src$core$events$utils();i||n.setGroup$$module$build$src$core$events$utils(!0),this.isSuperior()?this.connect_(e):e.connect_(this),n.setGroup$$module$build$src$core$events$utils(i)}return this.isConnected()}disconnect(){this.disconnectInternal()}disconnectInternal(e=!0){const{parentConnection:i,childConnection:r}=this.getParentAndChildConnections();if(!i||!r)throw Error("Source connection not connected.");const a=n.getGroup$$module$build$src$core$events$utils();a||n.setGroup$$module$build$src$core$events$utils(!0);let u;ke()&&(u=new(ge(z.BLOCK_MOVE))(r.getSourceBlock()),u.setReason(["disconnect"]));const f=this.targetConnection;f&&(f.targetConnection=null),this.targetConnection=null,e&&r.getSourceBlock().setParent(null),u&&(u.recordNew(),V(u)),r.getSourceBlock().isShadow()||i.respawnShadow_(),n.setGroup$$module$build$src$core$events$utils(a)}getParentAndChildConnections(){return this.targetConnection?this.isSuperior()?{parentConnection:this,childConnection:this.targetConnection}:{parentConnection:this.targetConnection,childConnection:this}:{}}respawnShadow_(){this.createShadowBlock(!0)}reconnect(e,i){if(this.getSourceBlock().isDeadOrDying())return!1;var r;return i=(r=e.getInput(i))==null?void 0:r.connection,r=this.targetBlock(),r&&r!==e||!i||i.targetConnection===this?!1:(i.isConnected()&&i.disconnect(),i.connect(this),!0)}targetBlock(){if(this.isConnected()){let e,i;return(i=(e=this.targetConnection)==null?void 0:e.getSourceBlock())!=null?i:null}return null}onCheckChanged_(){!this.isConnected()||this.targetConnection&&this.getConnectionChecker().canConnect(this,this.targetConnection,!1)||(this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug()}setCheck(e){return e?(Array.isArray(e)||(e=[e]),this.check=e,this.onCheckChanged_()):this.check=null,this}getCheck(){return this.check}setShadowDom(e){this.setShadowStateInternal({shadowDom:e})}getShadowDom(e){return e&&this.targetBlock().isShadow()?Ns(this.targetBlock()):this.shadowDom}setShadowState(e){this.setShadowStateInternal({shadowState:e})}getShadowState(e){return e&&this.targetBlock()&&this.targetBlock().isShadow()?Mi(this.targetBlock()):this.shadowState}neighbours(e){return[]}getParentInput(){let e=null;const i=this.sourceBlock_.inputList;for(let r=0;r<i.length;r++)if(i[r].connection===this){e=i[r];break}return e}toString(){const e=this.sourceBlock_;if(!e)return"Orphan Connection";if(e.outputConnection===this)var i="Output Connection of ";else if(e.previousConnection===this)i="Previous Connection of ";else if(e.nextConnection===this)i="Next Connection of ";else{i=null;for(let r=0,a;a=e.inputList[r];r++)if(a.connection===this){i=a;break}if(i)i='Input "'+i.name+'" connection on ';else return console.warn("Connection not actually connected to sourceBlock_"),"Orphan Connection"}return i+e.toDevString()}stashShadowState(){const e=this.getShadowDom(!0),i=this.getShadowState(!0);return this.shadowState=this.shadowDom=null,{shadowDom:e,shadowState:i}}applyShadowState({shadowDom:e,shadowState:i}){this.shadowDom=e,this.shadowState=i}setShadowStateInternal({shadowDom:e=null,shadowState:i=null}={}){this.shadowDom=e,this.shadowState=i,this.getSourceBlock().isDeadOrDying()||((e=this.targetBlock())?e.isShadow()?(e.dispose(!1),this.respawnShadow_(),this.targetBlock()&&this.targetBlock().isShadow()&&this.serializeShadow(this.targetBlock())):(e=this.createShadowBlock(!1),this.serializeShadow(e),e&&e.dispose(!1)):(this.respawnShadow_(),this.targetBlock()&&this.targetBlock().isShadow()&&this.serializeShadow(this.targetBlock())))}createShadowBlock(e){var i=this.getSourceBlock();const r=this.getShadowState(),a=this.getShadowDom();if(i.isDeadOrDying()||!r&&!a)return null;if(r)return i=Pl(r,i.workspace,{parentConnection:e?this:void 0,isShadow:!0,recordUndo:!1});if(a){if(i=Lr(a,i.workspace),e)if(this.type===Ie.INPUT_VALUE){if(!i.outputConnection)throw Error("Shadow block is missing an output connection");if(!this.connect(i.outputConnection))throw Error("Could not connect shadow block to connection")}else if(this.type===Ie.NEXT_STATEMENT){if(!i.previousConnection)throw Error("Shadow block is missing previous connection");if(!this.connect(i.previousConnection))throw Error("Could not connect shadow block to connection")}else throw Error("Cannot connect a shadow block to a previous/output connection");return i}return null}serializeShadow(e){e&&(this.shadowDom=Ns(e),this.shadowState=Mi(e))}static getConnectionForOrphanedConnection(e,i){if(i.type===Ie.OUTPUT_VALUE)return ZI(e,i.getSourceBlock());e=e.lastConnectionInStack(!0);const r=i.getConnectionChecker();return e&&r.canConnect(i,e,!1)?e:null}};qe.CAN_CONNECT=0,qe.REASON_SELF_CONNECTION=1,qe.REASON_WRONG_TYPE=2,qe.REASON_TARGET_NULL=3,qe.REASON_CHECKS_FAILED=4,qe.REASON_DIFFERENT_WORKSPACES=5,qe.REASON_SHADOW_PARENT=6,qe.REASON_DRAG_CHECKS_FAILED=7,qe.REASON_PREVIOUS_AND_OUTPUT=8;var tC=class extends Error{constructor(e){super("Tried to append an icon of type ".concat(e.getType()," when an icon of ")+"that type already exists on the block. Use getIcon to access the existing icon."),this.icon=e}},oC={};oC.DuplicateIconType=tC,function(e){e[e.LEFT=-1]="LEFT",e[e.CENTRE=0]="CENTRE",e[e.RIGHT=1]="RIGHT"}(n.Align$$module$build$src$core$inputs$align||(n.Align$$module$build$src$core$inputs$align={})),n.Align$$module$build$src$core$inputs$align;var Xr=class extends lt{constructor(e,i,r){super(lt.SKIP_SETUP),this.class=null,this.EDITABLE=!1,this.maxDisplayLength=1/0,e!==lt.SKIP_SETUP&&(r?this.configure_(r):this.class=i||null,this.setValue(e))}configure_(e){super.configure_(e),e.class&&(this.class=e.class)}initView(){this.createTextElement_(),this.class&&fe(this.getTextElement(),this.class),this.fieldGroup_&&fe(this.fieldGroup_,"blocklyLabelField")}doClassValidation_(e){return e==null?null:"".concat(e)}setClass(e){this.textElement_&&(this.class&&De(this.textElement_,this.class),e&&fe(this.textElement_,e)),this.class=e}static fromJson(e){return new this(Bt(e.text),void 0,e)}};yn("field_label",Xr),Xr.prototype.DEFAULT_VALUE="";var iC=30,Yr=[];Yr[Ie.INPUT_VALUE]=Ie.OUTPUT_VALUE,Yr[Ie.OUTPUT_VALUE]=Ie.INPUT_VALUE,Yr[Ie.NEXT_STATEMENT]=Ie.PREVIOUS_STATEMENT,Yr[Ie.PREVIOUS_STATEMENT]=Ie.NEXT_STATEMENT;var rb="RENAME_VARIABLE_ID",lb="DELETE_VARIABLE_ID",nC=10,Eo=class extends qe{constructor(e,i){super(e,i),this.highlighted=!1,this.targetConnection=null,this.db=e.workspace.connectionDBList[i],this.dbOpposite=e.workspace.connectionDBList[Yr[i]],this.offsetInBlock=new ne(0,0),this.trackedState=Eo.TrackedState.WILL_TRACK}dispose(){super.dispose(),this.trackedState===Eo.TrackedState.TRACKED&&this.db.removeConnection(this,this.y);let e,i;(i=(e=this.sourceBlock_.pathObject).removeConnectionHighlight)==null||i.call(e,this)}getSourceBlock(){return super.getSourceBlock()}targetBlock(){return super.targetBlock()}distanceFrom(e){const i=this.x-e.x;return e=this.y-e.y,Math.sqrt(i*i+e*e)}bumpAwayFrom(e,i=!1){if(!this.sourceBlock_.workspace.isDragging()){var r=n.config$$module$build$src$core$config.snapRadius+Math.floor(Math.random()*nC),a=n.config$$module$build$src$core$config.snapRadius+Math.floor(Math.random()*nC),u=e.sourceBlock_.getRootBlock(),f=this.sourceBlock_.getRootBlock();if(!u.isInFlyout&&!f.isInFlyout){var E=!0;if(f.isMovable())u.isMovable()&&i&&(a=-a);else if(u.isMovable())E=!1,r=-r,a=-a;else return;i=E?e:this,e=E?this:e,u=E?f:u,u.RTL&&(r=-r),u.moveBy(i.x+r-e.x,i.y+a-e.y,["bump"])}}}moveTo(e,i){let r=!1;return this.trackedState===Eo.TrackedState.WILL_TRACK?(this.db.addConnection(this,i),this.trackedState=Eo.TrackedState.TRACKED,r=!0):this.trackedState===Eo.TrackedState.TRACKED&&(this.db.removeConnection(this,this.y),this.db.addConnection(this,i),r=!0),this.x=e,this.y=i,r}moveBy(e,i){return this.moveTo(this.x+e,this.y+i)}moveToOffset(e){return this.moveTo(e.x+this.offsetInBlock.x,e.y+this.offsetInBlock.y)}setOffsetInBlock(e,i){this.offsetInBlock.x=e,this.offsetInBlock.y=i}getOffsetInBlock(){return this.offsetInBlock}tightenEfficiently(){var e=this.targetConnection;const i=this.targetBlock();e&&i&&(e=ne.difference(this.offsetInBlock,e.offsetInBlock),i.translate(e.x,e.y))}closest(e,i){return this.dbOpposite.searchForClosest(this,e,i)}highlight(){this.highlighted=!0;const e=this.findHighlightSvg();e&&(e.style.display="")}unhighlight(){this.highlighted=!1;const e=this.findHighlightSvg();e&&(e.style.display="none")}isHighlighted(){return this.highlighted}setTracking(e){e&&this.trackedState===Eo.TrackedState.TRACKED||!e&&this.trackedState===Eo.TrackedState.UNTRACKED||this.sourceBlock_.isInFlyout||(e?(this.db.addConnection(this,this.y),this.trackedState=Eo.TrackedState.TRACKED):(this.trackedState===Eo.TrackedState.TRACKED&&this.db.removeConnection(this,this.y),this.trackedState=Eo.TrackedState.UNTRACKED))}stopTrackingAll(){if(this.setTracking(!1),this.targetConnection){const e=this.targetBlock().getDescendants(!1);for(let i=0;i<e.length;i++){const r=e[i],a=r.getConnections_(!0);for(let u=0;u<a.length;u++)a[u].setTracking(!1);for(const u of r.getIcons())Rr(u)&&u.setBubbleVisible(!1)}}}startTrackingAll(){this.setTracking(!0);let e=[];if(this.type!==Ie.INPUT_VALUE&&this.type!==Ie.NEXT_STATEMENT)return e;const i=this.targetBlock();if(i){let r;i.isCollapsed()?(r=[],i.outputConnection&&r.push(i.outputConnection),i.nextConnection&&r.push(i.nextConnection),i.previousConnection&&r.push(i.previousConnection)):r=i.getConnections_(!0);for(let a=0;a<r.length;a++)e.push(...r[a].startTrackingAll());e.length||(e=[i])}return e}onFailedConnect(e){const i=this.getSourceBlock();if(ae()){const r=n.getGroup$$module$build$src$core$events$utils();setTimeout((function(){i.isDisposed()||i.getParent()||(n.setGroup$$module$build$src$core$events$utils(r),this.bumpAwayFrom(e),n.setGroup$$module$build$src$core$events$utils(!1))}).bind(this),n.config$$module$build$src$core$config.bumpDelay)}}disconnectInternal(e=!0){const{parentConnection:i,childConnection:r}=this.getParentAndChildConnections();if(i&&r){var a=n.getGroup$$module$build$src$core$events$utils();a||n.setGroup$$module$build$src$core$events$utils(!0);var u=i.getSourceBlock(),f=r.getSourceBlock();super.disconnectInternal(e),u.queueRender(),f.updateDisabled(),f.queueRender(),f.getSvgRoot().style.display="block",n.setGroup$$module$build$src$core$events$utils(a)}}respawnShadow_(){super.respawnShadow_();const e=this.targetBlock();e&&(e.initSvg(),e.queueRender())}neighbours(e){return this.dbOpposite.getNeighbours(this,e)}connect_(e){super.connect_(e);var i=this.getSourceBlock();e=e.getSourceBlock(),i.updateDisabled(),e.updateDisabled(),e.queueRender(),(i=i.getInputWithBlock(e))&&(i=i.isVisible(),e.getSvgRoot().style.display=i?"block":"none")}onCheckChanged_(){!this.isConnected()||this.targetConnection&&this.getConnectionChecker().canConnect(this,this.targetConnection,!1)||(this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug()}setCheck(e){return super.setCheck(e),this.sourceBlock_.queueRender(),this}showContextMenu(e){const i=Ge.registry.getContextMenuOptions({focusedNode:this},e);if(i.length){var r=this.getSourceBlock(),a=r.workspace;if(e instanceof PointerEvent)var u=new ne(e.clientX,e.clientY);else u=new ne(this.x,this.y),u=As(a,u).translate(r.RTL?-5:5,5);Vl(e,i,r.RTL,a,u)}}getFocusableElement(){const e=this.findHighlightSvg();if(e)return e;throw Error("No highlight SVG found corresponding to this connection.")}getFocusableTree(){return this.getSourceBlock().workspace}onNodeFocus(){this.highlight(),this.getSourceBlock().workspace.scrollBoundsIntoView(this.getSourceBlock().getBoundingRectangleWithoutChildren())}onNodeBlur(){this.unhighlight()}canBeFocused(){return!0}findHighlightSvg(){return document.getElementById(this.id)}};(function(e){e=e.TrackedState||(e.TrackedState={}),e[e.WILL_TRACK=-1]="WILL_TRACK",e[e.UNTRACKED=0]="UNTRACKED",e[e.TRACKED=1]="TRACKED"})(Eo||(Eo={})),Eo.TrackedState;var aa=class{constructor(e,i){this.name=e,this.sourceBlock=i,this.fieldRow=[],this.align=n.Align$$module$build$src$core$inputs$align.LEFT,this.visible=!0,this.type=n.inputTypes$$module$build$src$core$inputs$input_types.CUSTOM,this.connection=null}getSourceBlock(){return this.sourceBlock}appendField(e,i){return this.insertFieldAt(this.fieldRow.length,e,i),this}insertFieldAt(e,i,r){if(e<0||e>this.fieldRow.length)throw Error("index "+e+" out of bounds.");return(i||i===""&&r)&&(typeof i=="string"&&(i=n.fromJson$$module$build$src$core$field_registry({type:"field_label",text:i})),i.setSourceBlock(this.sourceBlock),this.sourceBlock.initialized&&this.initField(i),i.name=r,i.setVisible(this.isVisible()),i.prefixField&&(e=this.insertFieldAt(e,i.prefixField)),this.fieldRow.splice(e,0,i),e++,i.suffixField&&(e=this.insertFieldAt(e,i.suffixField)),this.sourceBlock.rendered&&this.sourceBlock.queueRender()),e}removeField(e,i){for(let r=0,a;a=this.fieldRow[r];r++)if(a.name===e)return a.dispose(),this.fieldRow.splice(r,1),this.sourceBlock.rendered&&this.sourceBlock.queueRender(),!0;if(i)return!1;throw Error('Field "'+e+'" not found.')}isVisible(){return this.visible}setVisible(e){let i=[];if(this.visible===e)return i;this.visible=e;for(let r=0,a;a=this.fieldRow[r];r++)a.setVisible(e);if(this.connection&&this.connection instanceof Eo){e?i=this.connection.startTrackingAll():this.connection.stopTrackingAll();const r=this.connection.targetBlock();r&&(r.getSvgRoot().style.display=e?"block":"none")}return i}markDirty(){for(let e=0,i;i=this.fieldRow[e];e++)i.markDirty()}setCheck(e){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.setCheck(e),this}setAlign(e){return this.align=e,this.sourceBlock.rendered&&this.sourceBlock.queueRender(),this}setShadowDom(e){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.setShadowDom(e),this}getShadowDom(){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.getShadowDom()}init(){for(const e of this.fieldRow)e.init()}initModel(){for(const e of this.fieldRow)e.initModel()}initField(e){this.sourceBlock.rendered?e.init():e.initModel()}dispose(){for(let e=0,i;i=this.fieldRow[e];e++)i.dispose();this.connection&&this.connection.dispose()}makeConnection(e){return this.sourceBlock.makeConnection_(e)}},Rn=class extends aa{constructor(e,i){super(e,i),this.name=e,this.type=n.inputTypes$$module$build$src$core$inputs$input_types.DUMMY}},os=class extends aa{constructor(e,i){super(e,i),this.name=e,this.type=n.inputTypes$$module$build$src$core$inputs$input_types.END_ROW}},vi=class extends aa{constructor(e,i){if(!e)throw Error("Statement inputs must have a non-empty name");super(e,i),this.name=e,this.type=n.inputTypes$$module$build$src$core$inputs$input_types.STATEMENT,this.connection=this.makeConnection(Ie.NEXT_STATEMENT)}},sC;n.ValueInput$$module$build$src$core$inputs$value_input=class extends aa{constructor(e,i){if(!e)throw Error("Value inputs must have a non-empty name");super(e,i),this.name=e,this.type=n.inputTypes$$module$build$src$core$inputs$input_types.VALUE,this.connection=this.makeConnection(Ie.INPUT_VALUE)}},sC={},sC.ValueInput=n.ValueInput$$module$build$src$core$inputs$value_input;var ca=class{constructor(e,i,r){if(this.data=null,this.disposed=!1,this.hue=null,this.colour_="#000000",this.styleName_="",this.suppressPrefixSuffix=!1,this.previousConnection=this.nextConnection=this.outputConnection=null,this.inputList=[],this.icons=[],this.disabledReasons=new Set,this.tooltip="",this.contextMenu=!0,this.parentBlock_=null,this.childBlocks_=[],this.editable=this.movable=this.deletable=!0,this.collapsed_=this.shadow=!1,this.outputShape_=null,this.rendered=this.isInsertionMarker_=this.initialized=this.disposing=!1,this.onchangeWrapper=this.helpUrl=null,this.statementInputCount=0,this.workspace=e,this.id=r&&!e.getBlockById(r)?r:J(),e.setBlockById(this.id,this),this.xy=new ne(0,0),this.isInFlyout=e.isFlyout,this.isInMutator=e.isMutator,this.RTL=e.RTL,i){if(this.type=i,r=St[i],!r||typeof r!="object")throw TypeError("Invalid block definition for type: "+i);Object.assign(this,r)}e.addTopBlock(this),e.addTypedBlock(this),new.target===ca&&this.doInit_()}doInit_(){const e=n.getGroup$$module$build$src$core$events$utils();e||n.setGroup$$module$build$src$core$events$utils(!0);const i=ae();try{typeof this.init=="function"&&(n.setRecordUndo$$module$build$src$core$events$utils(!1),this.init(),n.setRecordUndo$$module$build$src$core$events$utils(i)),ke()&&V(new(ge(z.BLOCK_CREATE))(this))}finally{n.setGroup$$module$build$src$core$events$utils(e),n.setRecordUndo$$module$build$src$core$events$utils(i)}this.inputsInlineDefault=this.inputsInline,typeof this.onchange=="function"&&this.setOnChange(this.onchange)}dispose(e=!1){this.disposing=!0,this.onchangeWrapper&&this.workspace.removeChangeListener(this.onchangeWrapper),this.unplug(e),ke()&&V(new(ge(z.BLOCK_DELETE))(this)),this.workspace.removeTopBlock(this),this.disposeInternal()}disposeInternal(){this.disposing=!0,this.onchangeWrapper&&this.workspace.removeChangeListener(this.onchangeWrapper),this.workspace.removeTypedBlock(this),this.workspace.removeBlockById(this.id),typeof this.destroy=="function"&&this.destroy(),this.childBlocks_.forEach(e=>e.disposeInternal()),this.inputList.forEach(e=>e.dispose()),this.inputList.length=0,this.getConnections_(!0).forEach(e=>e.dispose()),this.disposed=!0}isDeadOrDying(){return this.disposing||this.disposed}initModel(){if(!this.initialized){for(const e of this.inputList)e.initModel();this.initialized=!0}}unplug(e){this.outputConnection&&this.unplugFromRow(e),this.previousConnection&&this.unplugFromStack(e)}unplugFromRow(e){let i=null,r;(r=this.outputConnection)!=null&&r.isConnected()&&(i=this.outputConnection.targetConnection,this.outputConnection.disconnect()),i&&e&&(e=this.getOnlyValueConnection())&&e.isConnected()&&!e.targetBlock().isShadow()&&(e=e.targetConnection,e==null||e.disconnect(),this.workspace.connectionChecker.canConnect(e,i,!1)?i.connect(e):e==null||e.onFailedConnect(i))}getOnlyValueConnection(){let e=null;for(let i=0;i<this.inputList.length;i++){const r=this.inputList[i].connection;if(r&&r.type===Ie.INPUT_VALUE&&r.targetConnection){if(e)return null;e=r}}return e}unplugFromStack(e){let i=null,r;if((r=this.previousConnection)!=null&&r.isConnected()&&(i=this.previousConnection.targetConnection,this.previousConnection.disconnect()),e){for(e=this.getNextBlock();e&&(e.isShadow()||!e.isMovable());)e=e.getNextBlock();if(e){var a,u,f,E;e=(E=(a=e.previousConnection)==null||(u=a.targetBlock())==null||(f=u.nextConnection)==null?void 0:f.targetConnection)!=null?E:null,e==null||e.disconnect(),i&&this.workspace.connectionChecker.canConnect(i,e,!1)&&i.connect(e)}}}getConnections_(e){e=[],this.outputConnection&&e.push(this.outputConnection),this.previousConnection&&e.push(this.previousConnection),this.nextConnection&&e.push(this.nextConnection);for(let i=0,r;r=this.inputList[i];i++)r.connection&&e.push(r.connection);return e}lastConnectionInStack(e){let i=this.nextConnection;for(;i;){const r=i.targetBlock();if(!r||e&&r.isShadow())return i;i=r.nextConnection}return null}bumpNeighbours(){}getParent(){return this.parentBlock_}getInputWithBlock(e){for(let i=0,r;r=this.inputList[i];i++)if(r.connection&&r.connection.targetBlock()===e)return r;return null}getSurroundParent(){let e=this,i;do if(i=e,e=e.getParent(),!e)return null;while(e.getNextBlock()===i);return e}getNextBlock(){return this.nextConnection&&this.nextConnection.targetBlock()}getPreviousBlock(){return this.previousConnection&&this.previousConnection.targetBlock()}getRootBlock(){let e,i=this;do e=i,i=e.parentBlock_;while(i);return e}getTopStackBlock(){let e=this,i;do i=e.getPreviousBlock();while(i&&i.getNextBlock()===e&&(e=i));return e}getChildren(e){if(!e)return this.childBlocks_;e=[];for(let r=0,a;a=this.inputList[r];r++)if(a.connection){var i=a.connection.targetBlock();i&&e.push(i)}return(i=this.getNextBlock())&&e.push(i),e}setParent(e){if(e!==this.parentBlock_){var i=this.previousConnection&&this.previousConnection.targetBlock()||this.outputConnection&&this.outputConnection.targetBlock(),r=!!i;if(r&&e&&i!==e)throw Error("Block connected to superior one that is not new parent.");if(!r&&e)throw Error("Block not connected to new parent.");if(r&&!e)throw Error("Cannot set parent to null while block is still connected to superior block.");this.parentBlock_?te(this.parentBlock_.childBlocks_,this):this.workspace.removeTopBlock(this),(this.parentBlock_=e)?e.childBlocks_.push(this):this.workspace.addTopBlock(this)}}getDescendants(e){const i=[this],r=this.getChildren(e);for(let a,u=0;a=r[u];u++)i.push(...a.getDescendants(e));return i}isDeletable(){return this.deletable&&!this.isInFlyout&&!this.shadow&&!this.isDeadOrDying()&&!this.workspace.isReadOnly()}isOwnDeletable(){return this.deletable}setDeletable(e){this.deletable=e}isMovable(){return this.movable&&!this.isInFlyout&&!this.shadow&&!this.isDeadOrDying()&&!this.workspace.isReadOnly()}isOwnMovable(){return this.movable}setMovable(e){this.movable=e}isDuplicatable(){return this.workspace.hasBlockLimits()?this.workspace.isCapacityAvailable(Ne(this,!0)):!0}isShadow(){return this.shadow}setShadow(e){this.shadow=e}isInsertionMarker(){return this.isInsertionMarker_}setInsertionMarker(e){this.isInsertionMarker_=e}isEditable(){return this.editable&&!this.isDeadOrDying()&&!this.workspace.isReadOnly()}isOwnEditable(){return this.editable}setEditable(e){this.editable=e;for(const i of this.getFields())i.updateEditable()}isDisposed(){return this.disposed}isSimpleReporter(){if(!this.outputConnection)return!1;for(const e of this.inputList)if(e.connection||e.fieldRow.length>1)return!1;return!0}getMatchingConnection(e,i){const r=this.getConnections_(!0);if(e=e.getConnections_(!0),r.length!==e.length)throw Error("Connection lists did not match in length.");for(let a=0;a<e.length;a++)if(e[a]===i)return r[a];return null}setHelpUrl(e){this.helpUrl=e}setTooltip(e){this.tooltip=e}getTooltip(){return Ul(this)}getColour(){return this.colour_}getStyleName(){return this.styleName_}getHue(){return this.hue}setColour(e){e=Hl(e),this.hue=e.hue,this.colour_=e.hex}setStyle(e){this.styleName_=e}setOnChange(e){if(e&&typeof e!="function")throw Error("onchange must be a function.");this.onchangeWrapper&&this.workspace.removeChangeListener(this.onchangeWrapper),this.onchange=e,this.onchangeWrapper=e.bind(this),this.workspace.addChangeListener(this.onchangeWrapper)}getField(e){if(typeof e!="string")throw TypeError("Block.prototype.getField expects a string with the field name but received "+(e===void 0?"nothing":e+" of type "+typeof e)+" instead");for(const i of this.getFields())if(i.name===e)return i;return null}*getFields(){for(const e of this.inputList)for(const i of e.fieldRow)yield i}getVars(){const e=[];for(const i of this.getFields())i.referencesVariables()&&e.push(i.getValue());return e}getVarModels(){const e=[];for(const i of this.getFields())if(i.referencesVariables()){const r=this.workspace.getVariableById(i.getValue());r&&e.push(r)}return e}updateVarName(e){for(const i of this.getFields())i.referencesVariables()&&e.getId()===i.getValue()&&i.refreshVariableName()}renameVarById(e,i){for(const r of this.getFields())r.referencesVariables()&&e===r.getValue()&&r.setValue(i)}getFieldValue(e){return(e=this.getField(e))?e.getValue():null}setFieldValue(e,i){const r=this.getField(i);if(!r)throw Error('Field "'+i+'" not found.');r.setValue(e)}setPreviousStatement(e,i){if(e)i===void 0&&(i=null),this.previousConnection||(this.previousConnection=this.makeConnection_(Ie.PREVIOUS_STATEMENT)),this.previousConnection.setCheck(i);else if(this.previousConnection){if(this.previousConnection.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.previousConnection.dispose(),this.previousConnection=null}}setNextStatement(e,i){if(e)i===void 0&&(i=null),this.nextConnection||(this.nextConnection=this.makeConnection_(Ie.NEXT_STATEMENT)),this.nextConnection.setCheck(i);else if(this.nextConnection){if(this.nextConnection.isConnected())throw Error("Must disconnect next statement before removing connection.");this.nextConnection.dispose(),this.nextConnection=null}}setOutput(e,i){if(e)i===void 0&&(i=null),this.outputConnection||(this.outputConnection=this.makeConnection_(Ie.OUTPUT_VALUE)),this.outputConnection.setCheck(i);else if(this.outputConnection){if(this.outputConnection.isConnected())throw Error("Must disconnect output value before removing connection.");this.outputConnection.dispose(),this.outputConnection=null}}setInputsInline(e){this.inputsInline!==e&&(V(new(ge(z.BLOCK_CHANGE))(this,"inline",null,this.inputsInline,e)),this.inputsInline=e)}getInputsInline(){if(this.inputsInline!==void 0)return this.inputsInline;for(var e=1;e<this.inputList.length;e++)if(this.inputList[e-1]instanceof Rn&&this.inputList[e]instanceof Rn)return!1;for(e=1;e<this.inputList.length;e++)if(this.inputList[e-1]instanceof n.ValueInput$$module$build$src$core$inputs$value_input&&this.inputList[e]instanceof Rn)return!0;for(e=0;e<this.inputList.length;e++)if(this.inputList[e]instanceof os)return!0;return!1}setOutputShape(e){this.outputShape_=e}getOutputShape(){return this.outputShape_}isEnabled(){return this.disabledReasons.size===0}setDisabledReason(e,i){e||this.workspace.options.disable||!this.hasDisabledReason(Di)||i==Di||this.setDisabledReason(!1,Di),this.disabledReasons.has(i)!==e&&(e?this.disabledReasons.add(i):this.disabledReasons.delete(i),e=new(ge(z.BLOCK_CHANGE))(this,"disabled",null,!e,e),e.setDisabledReason(i),V(e))}getInheritedDisabled(){let e=this.getSurroundParent();for(;e;){if(!e.isEnabled())return!0;e=e.getSurroundParent()}return!1}hasDisabledReason(e){return this.disabledReasons.has(e)}getDisabledReasons(){return this.disabledReasons}isCollapsed(){return this.collapsed_}setCollapsed(e){this.collapsed_!==e&&(V(new(ge(z.BLOCK_CHANGE))(this,"collapsed",null,this.collapsed_,e)),this.collapsed_=e)}toString(e,i){i=this.toTokens(i);for(let a=2;a<i.length;a++)i[a-2]==="("&&i[a]===")"&&(i[a-2]=i[a-1],i.splice(a-1,2));let r="";return i=i.reduce((a,u)=>(a=a+(r==="("||u===")"?"":" ")+u,r=u[u.length-1],a),""),i=i.trim()||"???",e&&i.length>e&&(i=i.substring(0,e-3)+"..."),i}toTokens(e="?"){const i=[];for(const a of this.inputList)if(a.name!=Zc){for(const u of a.fieldRow)i.push(u.getText());if(a.connection){const u=a.connection.targetBlock();if(u){var r=a.connection;let f=r.getCheck();!f&&r.targetConnection&&(f=r.targetConnection.getCheck()),(r=!!f&&(f.includes("Boolean")||f.includes("Number")))&&i.push("("),i.push(...u.toTokens(e)),r&&i.push(")")}else i.push(e)}}return i}appendValueInput(e){return this.appendInput(new n.ValueInput$$module$build$src$core$inputs$value_input(e,this))}appendStatementInput(e){return this.statementInputCount++,this.appendInput(new vi(e,this))}appendDummyInput(e=""){return this.appendInput(new Rn(e,this))}appendEndRowInput(e=""){return this.appendInput(new os(e,this))}appendInput(e){return this.inputList.push(e),e}appendInputFromRegistry(e,i){return(e=p(oe.INPUT,e,!1))?this.appendInput(new e(i,this)):null}jsonInit(e){var i=e.type?'Block "'+e.type+'": ':"";if(e.output&&e.previousStatement)throw Error(i+"Must not have both an output and a previousStatement.");for(var r=0;e["args"+r];){if(e["message"+r]===void 0)throw Error(i+"args".concat(r," must have a corresponding message (message").concat(r,")."));r++}if(e.style&&e.style.hat&&(this.hat=e.style.hat,e.style=null),e.style&&e.colour)throw Error(i+"Must not have both a colour and a style.");for(e.style?this.jsonInitStyle(e,i):this.jsonInitColour(e,i),r=0;e["message"+r]!==void 0;)this.interpolate(e["message"+r],e["args"+r]||[],e["implicitAlign"+r]||e["lastDummyAlign"+r],i),r++;if(e.inputsInline!==void 0&&(n.disable$$module$build$src$core$events$utils(),this.setInputsInline(e.inputsInline),n.enable$$module$build$src$core$events$utils()),e.output!==void 0&&this.setOutput(!0,e.output),e.outputShape!==void 0&&this.setOutputShape(e.outputShape),e.previousStatement!==void 0&&this.setPreviousStatement(!0,e.previousStatement),e.nextStatement!==void 0&&this.setNextStatement(!0,e.nextStatement),e.tooltip!==void 0&&(r=Bt(e.tooltip),this.setTooltip(r)),e.enableContextMenu!==void 0&&(this.contextMenu=!!e.enableContextMenu),e.suppressPrefixSuffix!==void 0&&(this.suppressPrefixSuffix=!!e.suppressPrefixSuffix),e.helpUrl!==void 0&&(r=Bt(e.helpUrl),this.setHelpUrl(r)),typeof e.extensions=="string"&&(console.warn(i+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+e.type+"' block."),e.extensions=[e.extensions]),e.mutator!==void 0&&Th(e.mutator,this,!0),e=e.extensions,Array.isArray(e))for(i=0;i<e.length;i++)Th(e[i],this,!1)}jsonInitColour(e,i){if("colour"in e)if(e.colour===void 0)console.warn(i+"Undefined colour value.");else{e=e.colour;try{this.setColour(e)}catch(r){console.warn(i+"Illegal colour value: ",e)}}}jsonInitStyle(e,i){e=e.style;try{this.setStyle(e)}catch(r){console.warn(i+"Style does not exist: ",e)}}mixin(e,i){if(i!==void 0&&typeof i!="boolean")throw Error("opt_disableCheck must be a boolean if provided");if(!i){i=[];for(const r in e)this[r]!==void 0&&i.push(r);if(i.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(i))}Object.assign(this,e)}interpolate(e,i,r,a){e=n$(e),this.validateTokens(e,i.length),i=this.interpolateArguments(e,i,r),r=[];for(let u=0,f;f=i[u];u++)if(this.isInputKeyword(f.type)){if(e=this.inputFromJson(f,a)){for(let E=0,C;C=r[E];E++)e.appendField(C[0],C[1]);r.length=0}}else(e=this.fieldFromJson(f))&&r.push([e,f.name])}validateTokens(e,i){const r=[];let a=0;for(let u=0;u<e.length;u++){const f=e[u];if(typeof f=="number"){if(f<1||f>i)throw Error('Block "'+this.type+'": Message index %'+f+" out of range.");if(r[f])throw Error('Block "'+this.type+'": Message index %'+f+" duplicated.");r[f]=!0,a++}}if(a!==i)throw Error('Block "'+this.type+'": Message does not reference all '+i+" arg(s).")}interpolateArguments(e,i,r){const a=[];for(let f=0;f<e.length;f++){var u=e[f];if(typeof u=="number"&&(u=i[u-1]),typeof u=="string"){if(u==="\n")u={type:"input_end_row"},r&&(u.align=r);else if(u=this.stringToFieldJson(u),!u)continue}a.push(u)}return(e=a.length)&&!this.isInputKeyword(a[e-1].type)&&(e={type:"input_dummy"},r&&(e.align=r),a.push(e)),a}fieldFromJson(e){const i=n.fromJson$$module$build$src$core$field_registry(e);return!i&&e.alt?typeof e.alt=="string"?(e=this.stringToFieldJson(e.alt))?this.fieldFromJson(e):null:this.fieldFromJson(e.alt):i}inputFromJson(e,i){var r={LEFT:n.Align$$module$build$src$core$inputs$align.LEFT,RIGHT:n.Align$$module$build$src$core$inputs$align.RIGHT,CENTRE:n.Align$$module$build$src$core$inputs$align.CENTRE,CENTER:n.Align$$module$build$src$core$inputs$align.CENTRE};let a;switch(e.type){case"input_value":a=this.appendValueInput(e.name);break;case"input_statement":a=this.appendStatementInput(e.name);break;case"input_dummy":a=this.appendDummyInput(e.name);break;case"input_end_row":a=this.appendEndRowInput(e.name);break;default:a=this.appendInputFromRegistry(e.type,e.name)}return a?(e.check&&a.setCheck(e.check),e.align&&(r=r[e.align.toUpperCase()],r===void 0?console.warn(i+"Illegal align value: ",e.align):a.setAlign(r)),a):null}isInputKeyword(e){return e==="input_value"||e==="input_statement"||e==="input_dummy"||e==="input_end_row"||h(oe.INPUT,e)}stringToFieldJson(e){return(e=e.trim())?{type:"field_label",text:e}:null}moveInputBefore(e,i){if(e!==i){var r=-1,a=i?-1:this.inputList.length;for(let u=0,f;f=this.inputList[u];u++)if(f.name===e){if(r=u,a!==-1)break}else if(i&&f.name===i&&(a=u,r!==-1))break;if(r===-1)throw Error('Named input "'+e+'" not found.');if(a===-1)throw Error('Reference input "'+i+'" not found.');this.moveNumberedInputBefore(r,a)}}moveNumberedInputBefore(e,i){if(e===i)throw Error("Can't move input to itself.");if(e>=this.inputList.length)throw RangeError("Input index "+e+" out of bounds.");if(i>this.inputList.length)throw RangeError("Reference input "+i+" out of bounds.");const r=this.inputList[e];this.inputList.splice(e,1),e<i&&i--,this.inputList.splice(i,0,r)}removeInput(e,i){for(let r=0,a;a=this.inputList[r];r++)if(a.name===e)return a instanceof vi&&this.statementInputCount--,a.dispose(),this.inputList.splice(r,1),!0;if(i)return!1;throw Error("Input not found: "+e)}getInput(e){for(let i=0,r;r=this.inputList[i];i++)if(r.name===e)return r;return null}getInputTargetBlock(e){return(e=this.getInput(e))&&e.connection&&e.connection.targetBlock()}getCommentText(){let e,i;return(i=(e=this.getIcon(eo.COMMENT))==null?void 0:e.getText())!=null?i:null}setCommentText(e){var i;let r;const a=(r=(i=this.getIcon(eo.COMMENT))==null?void 0:i.getText())!=null?r:null;if(a!==e){if(e!==null){if(i=this.getIcon(eo.COMMENT),!i){if(i=p(oe.ICON,eo.COMMENT.toString(),!1),!i)throw Error("No comment icon class is registered, so a comment cannot be set");if(i=new i(this),!QI(i))throw Error("The class registered as a comment icon does not conform to the ICommentIcon interface");i=this.addIcon(i)}n.disable$$module$build$src$core$events$utils(),i.setText(e),n.enable$$module$build$src$core$events$utils()}else this.removeIcon(eo.COMMENT);V(new(ge(z.BLOCK_CHANGE))(this,"comment",null,a,e))}}setWarningText(e,i){}setMutator(e){}addIcon(e){if(this.hasIcon(e.getType()))throw new tC(e);return this.icons.push(e),this.icons.sort((i,r)=>i.getWeight()-r.getWeight()),e}removeIcon(e){if(!this.hasIcon(e))return!1;let i;return(i=this.getIcon(e))==null||i.dispose(),this.icons=this.icons.filter(r=>!r.getType().equals(e)),!0}hasIcon(e){return this.icons.some(i=>i.getType().equals(e))}getIcon(e){return e instanceof eo?this.icons.find(i=>i.getType().equals(e)):this.icons.find(i=>i.getType().toString()===e)}getIcons(){return[...this.icons]}getRelativeToSurfaceXY(){return this.xy}moveBy(e,i,r){if(this.parentBlock_)throw Error("Block has parent");const a=new(ge(z.BLOCK_MOVE))(this);r&&a.setReason(r),this.xy.translate(e,i),a.recordNew(),V(a)}makeConnection_(e){return new qe(this,e)}allInputsFilled(e){if(e===void 0&&(e=!0),!e&&this.isShadow())return!1;for(let r=0,a;a=this.inputList[r];r++)if(a.connection){var i=a.connection.targetBlock();if(!i||!i.allInputsFilled(e))return!1}return(i=this.getNextBlock())?i.allInputsFilled(e):!0}toDevString(){let e=this.type?'"'+this.type+'" block':"Block";return this.id&&(e+=' (id="'+this.id+'")'),e}};ca.COLLAPSED_INPUT_NAME=Zc,ca.COLLAPSED_FIELD_NAME=jh;var $p=null,au=null,cu={};cu.connectionUiEffect=S$,cu.disconnectUiEffect=I$,cu.disconnectUiStop=Xl,cu.disposeUiEffect=yh;var uu=class{paste(e,i,r){if(!i.isCapacityAvailable(e.typeCounts))return null;r&&(e.blockState.x=r.x,e.blockState.y=r.y),r=r||new ne(e.blockState.x||0,e.blockState.y||0),n.disable$$module$build$src$core$events$utils();let a;try{a=ks(e.blockState,i),eO(a,r)}finally{n.enable$$module$build$src$core$events$utils()}if(!a)return a;ke()&&!a.isShadow()&&V(new(ge(z.BLOCK_CREATE))(a));const u=a;return Tn().then(()=>n.getFocusManager$$module$build$src$core$focus_manager().focusNode(u)),a}};uu.TYPE="block",Jd(uu.TYPE,new uu);var _p={};_p.bumpIntoBounds=Yl,_p.bumpIntoBoundsHandler=R$,_p.bumpTopObjectsIntoBounds=Sh;var rC=class{constructor(e){this.block=e,this.connectionPreviewer=this.connectionCandidate=this.startLoc=this.startChildConn=this.startParentConn=null,this.dragging=!1,this.dragOffset=new ne(0,0),this.originalEventGroup="",this.workspace=e.workspace}isMovable(){if(this.block.isShadow()){let e,i;return(i=(e=this.block.getParent())==null?void 0:e.isMovable())!=null?i:!1}return this.block.isOwnMovable()&&!this.block.isDeadOrDying()&&!this.workspace.isReadOnly()&&!this.block.isInFlyout}startDrag(e){if(this.block.isShadow())this.startDraggingShadow(e);else{this.dragging=!0,this.fireDragStartEvent(),this.startLoc=this.block.getRelativeToSurfaceXY(),this.connectionCandidate=null,this.connectionPreviewer=new(b(oe.CONNECTION_PREVIEWER,this.workspace.options))(this.block),bt(),this.workspace.setResizesEnabled(!1),Xl(),e=this.shouldHealStack(e),this.shouldDisconnect(e)&&this.disconnectBlock(e),this.block.setDragging(!0);var i;(i=this.workspace.getLayerManager())==null||i.moveToDragLayer(this.block)}}shouldHealStack(e){return!!e&&(e.altKey||e.ctrlKey||e.metaKey)}startDraggingShadow(e){const i=this.block.getParent();if(!i)throw Error("Tried to drag a shadow block with no parent. Shadow blocks should always have parents.");this.dragOffset=ne.difference(i.getRelativeToSurfaceXY(),this.block.getRelativeToSurfaceXY()),i.startDrag(e)}shouldDisconnect(e){return!!(this.block.getParent()||e&&this.block.nextConnection&&this.block.nextConnection.targetBlock())}disconnectBlock(e){let i,r,a;if(this.startParentConn=(a=(i=this.block.outputConnection)==null?void 0:i.targetConnection)!=null?a:(r=this.block.previousConnection)==null?void 0:r.targetConnection,e){let u;this.startChildConn=(u=this.block.nextConnection)==null?void 0:u.targetConnection}this.block.unplug(e),I$(this.block)}fireDragStartEvent(){const e=new(ge(z.BLOCK_DRAG))(this.block,!0,this.block.getDescendants(!1));V(e)}fireDragEndEvent(){const e=new(ge(z.BLOCK_DRAG))(this.block,!1,this.block.getDescendants(!1));V(e)}fireMoveEvent(){if(!this.block.isDeadOrDying()){var e=new(ge(z.BLOCK_MOVE))(this.block);e.setReason(["drag"]),e.oldCoordinate=this.startLoc,e.recordNew(),V(e)}}drag(e){if(this.block.isShadow()){let i;(i=this.block.getParent())==null||i.drag(ne.sum(e,this.dragOffset))}else this.block.moveDuringDrag(e),this.updateConnectionPreview(this.block,ne.difference(e,this.startLoc))}updateConnectionPreview(e,i){var r=this.connectionCandidate;const a=this.getConnectionCandidate(e,i);if(a){this.connectionCandidate=i=r&&this.currCandidateIsBetter(r,i,a)?r:a;var{local:u,neighbour:f}=i;i=u.type===Ie.OUTPUT_VALUE||u.type===Ie.PREVIOUS_STATEMENT;var E;if(r=f.isConnected()&&!((E=f.targetBlock())!=null&&E.isInsertionMarker()),i&&r&&!this.orphanCanConnectAtEnd(e,f.targetBlock(),u.type)){let Q;(Q=this.connectionPreviewer)==null||Q.previewReplacement(u,f,f.targetBlock())}else{var C;(C=this.connectionPreviewer)==null||C.previewConnection(u,f)}}else{let Q;(Q=this.connectionPreviewer)==null||Q.hidePreview(),this.connectionCandidate=null}}orphanCanConnectAtEnd(e,i,r){return!!qe.getConnectionForOrphanedConnection(e,r===Ie.OUTPUT_VALUE?i.outputConnection:i.previousConnection)}currCandidateIsBetter(e,i,r){const{local:a,neighbour:u}=e;e=new ne(a.x,a.y);const f=new ne(u.x,u.y);return i=ne.distance(ne.sum(e,i),f),r.distance>i-n.config$$module$build$src$core$config.currentConnectionPreference}getConnectionCandidate(e,i){e=this.getLocalConnections(e);let r=this.getSearchRadius(),a=null;for(const u of e){const{connection:f,radius:E}=u.closest(r,i);f&&(a={local:u,neighbour:f,distance:E},r=E)}return a}getSearchRadius(){return this.connectionCandidate?n.config$$module$build$src$core$config.connectingSnapRadius:n.config$$module$build$src$core$config.snapRadius}getLocalConnections(e){const i=e.getConnections_(!1),r=e.lastConnectionInStack(!0);return r&&r!==e.nextConnection&&i.push(r),i}endDrag(e){if(this.block.isShadow()){let r;(r=this.block.getParent())==null||r.endDrag(e)}else{this.originalEventGroup=n.getGroup$$module$build$src$core$events$utils(),this.fireDragEndEvent(),this.fireMoveEvent(),wo(),Xl();var i;if((i=this.connectionPreviewer)==null||i.hidePreview(),!this.block.isDeadOrDying()&&this.dragging){let r;(r=this.workspace.getLayerManager())==null||r.moveOffDragLayer(this.block,Fs),this.block.setDragging(!1)}this.connectionCandidate?(this.applyConnections(this.connectionCandidate),this.disposeStep()):this.block.queueRender().then(()=>this.disposeStep())}}disposeStep(){const e=n.getGroup$$module$build$src$core$events$utils();n.setGroup$$module$build$src$core$events$utils(this.originalEventGroup),this.block.snapToGrid();let i;(i=this.connectionPreviewer)==null||i.dispose(),this.workspace.setResizesEnabled(!0),n.setGroup$$module$build$src$core$events$utils(e)}applyConnections(e){const{local:i,neighbour:r}=e;i.connect(r);const a=i.isSuperior()?r:i,u=this.block.getRootBlock();Tn().then(()=>{S$(a.getSourceBlock()),setTimeout(()=>{u.bringToFront()},0)})}revertDrag(){if(this.block.isShadow()){let r;(r=this.block.getParent())==null||r.revertDrag()}else{var e;(e=this.connectionPreviewer)==null||e.hidePreview(),this.connectionCandidate=null;var i;if((i=this.startChildConn)==null||i.connect(this.block.nextConnection),this.startParentConn)switch(this.startParentConn.type){case Ie.INPUT_VALUE:this.startParentConn.connect(this.block.outputConnection);break;case Ie.NEXT_STATEMENT:this.startParentConn.connect(this.block.previousConnection)}else{this.block.moveTo(this.startLoc,["drag"]);let r;(r=this.workspace.getLayerManager())==null||r.moveOffDragLayer(this.block,Fs),Yl(this.workspace,this.workspace.getMetricsManager().getScrollMetrics(!0),this.block)}this.startParentConn=this.startChildConn=null,this.block.setDragging(!1),this.dragging=!1}}},lC=class extends nt{constructor(e,i,r,a){super(i,r,a),this.text=e,this.workspace=i,this.anchor=r,this.ownerRect=a,this.paragraph=this.stringToSvg(e,this.contentContainer),this.updateBubbleSize(),fe(this.svgRoot,"blocklyTextBubble")}getText(){return this.text}setText(e){this.text=e,Xe(this.paragraph),this.paragraph=this.stringToSvg(e,this.contentContainer),this.updateBubbleSize()}stringToSvg(e,i){return i=this.createParagraph(i),e=this.createTextFragments(i,e),this.workspace.RTL&&this.rightAlignTextFragments(i.getBBox().width,e),i}createParagraph(e){return q(F.G,{class:"blocklyText blocklyBubbleText blocklyNoPointerEvents",transform:"translate(0,".concat(nt.BORDER_WIDTH,")"),style:"direction: ".concat(this.workspace.RTL?"rtl":"ltr")},e)}createTextFragments(e,i){let r=1;return i.split("\n").map(a=>{const u=q(F.TEXT,{y:"".concat(r,"em"),x:nt.BORDER_WIDTH},e);return a=document.createTextNode(a),u.appendChild(a),r+=1,u})}rightAlignTextFragments(e,i){for(const r of i)r.setAttribute("text-anchor","start"),r.setAttribute("x","".concat(e+nt.BORDER_WIDTH))}updateBubbleSize(){const e=this.paragraph.getBBox();this.setSize(new Ue(e.width+nt.BORDER_WIDTH*2,e.height+nt.BORDER_WIDTH*2),!0)}},ab=17,Cn=class extends lu{constructor(e){super(e),this.sourceBlock=e,this.textMap=new Map,this.textBubble=null}getType(){return Cn.TYPE}initView(e){this.svgRoot||(super.initView(e),q(F.PATH,{class:"blocklyIconShape",d:"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z"},this.svgRoot),q(F.PATH,{class:"blocklyIconSymbol",d:"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z"},this.svgRoot),q(F.RECT,{class:"blocklyIconSymbol",x:"7",y:"11",height:"2",width:"2"},this.svgRoot),fe(this.svgRoot,"blocklyWarningIcon"))}dispose(){super.dispose();let e;(e=this.textBubble)==null||e.dispose()}getWeight(){return Cn.WEIGHT}getSize(){return new Ue(ab,ab)}applyColour(){super.applyColour();let e;(e=this.textBubble)==null||e.setColour(this.sourceBlock.getColour())}updateCollapsed(){}isShownWhenCollapsed(){return!0}onLocationChange(e){super.onLocationChange(e);let i;(i=this.textBubble)==null||i.setAnchorLocation(this.getAnchorLocation())}addMessage(e,i){if(this.textMap.get(i)===e)return this;e?this.textMap.set(i,e):this.textMap.delete(i);let r;return(r=this.textBubble)==null||r.setText(this.getText()),this}getText(){return[...this.textMap.values()].join("\n")}onClick(){super.onClick(),this.setBubbleVisible(!this.bubbleIsVisible())}isClickableInFlyout(){return!1}bubbleIsVisible(){return!!this.textBubble}setBubbleVisible(e){const i=this;return(0,X.asyncExecutePromiseGeneratorFunction)(function*(){if(i.bubbleIsVisible()!==e){if(yield Tn(),e)i.textBubble=new lC(i.getText(),i.sourceBlock.workspace,i.getAnchorLocation(),i.getBubbleOwnerRect()),i.applyColour();else{let r;(r=i.textBubble)==null||r.dispose(),i.textBubble=null}V(new(ge(z.BUBBLE_OPEN))(i.sourceBlock,e,"warning"))}})}getBubble(){return this.textBubble}getAnchorLocation(){const e=ab/2;return ne.sum(this.workspaceLocation,new ne(e,e))}getBubbleOwnerRect(){const e=this.sourceBlock.getSvgRoot().getBBox();return new Be(e.y,e.y+e.height,e.x,e.x+e.width)}};Cn.TYPE=eo.WARNING,Cn.WEIGHT=2;var ht=class extends ca{constructor(e,i,r){if(super(e,i,r),this.childlessWidth=this.width=this.height=0,this.warningTextDb=new Map,this.mutator=null,this.rendered=!0,this.visuallyDisabled=!1,this.translation="",this.dragging=!1,this.relativeCoords=new ne(0,0),this.dragStrategy=new rC(this),!e.rendered)throw TypeError("Cannot create a rendered block in a headless workspace");this.workspace=e,this.svgGroup=q(F.G,{}),i&&fe(this.svgGroup,i),this.style=e.getRenderer().getConstants().getBlockStyle(null),this.pathObject=e.getRenderer().makePathObject(this.svgGroup,this.style),e=this.pathObject.svgPath,e.tooltip=this,Mc(e),this.svgGroup.setAttribute("data-id",this.id),e.id=P(),this.doInit_()}initSvg(){if(!this.initialized){for(var e of this.inputList)e.init();for(const i of this.getIcons())i.initView(this.createIconPointerDownListener(i)),i.updateEditable();this.applyColour(),this.pathObject.updateMovable(this.isMovable()||this.isInFlyout),(e=this.getSvgRoot())&&S(e,"pointerdown",this,this.onMouseDown),e.parentNode||this.workspace.getCanvas().appendChild(e),this.initialized=!0}}getColourSecondary(){return this.style.colourSecondary}getColourTertiary(){return this.style.colourTertiary}select(){this.addSelect(),de(this)}unselect(){this.removeSelect(),de(null)}setParent(e){var i=this.parentBlock_;if(e!==i){bt(),super.setParent(e),wo();var r=this.getSvgRoot();if(!this.workspace.isClearing&&r){var a=this.getRelativeToSurfaceXY(),u=n.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode(),f,E=this.getSvgRoot().contains((f=u==null?void 0:u.getFocusableElement())!=null?f:null);e?(e.getSvgRoot().appendChild(r),E&&u&&n.getFocusManager$$module$build$src$core$focus_manager().focusNode(u)):i&&(e=this.workspace.getCanvas().querySelector(".blocklyDragging"),i=e==null?void 0:e.parentElement,f=this.workspace.getCanvas(),i===f?f.insertBefore(r,e):(f.appendChild(r),E&&u&&n.getFocusManager$$module$build$src$core$focus_manager().focusNode(u)),this.translate(a.x,a.y)),this.applyColour()}}}getRelativeToSurfaceXY(){const e=this.workspace.getLayerManager();if(!e)throw Error("Cannot calculate position because the workspace has not been appended");let i=0,r=0,a=this.getSvgRoot();if(a)do{const u=yr(a);i+=u.x,r+=u.y,a=a.parentNode}while(a&&!e.hasLayer(a));return new ne(i,r)}moveBy(e,i,r){if(this.parentBlock_)throw Error("Block has parent");const a=ke();let u=null;a&&(u=new(ge(z.BLOCK_MOVE))(this),r&&u.setReason(r)),e=new ne(e,i),i=this.getRelativeToSurfaceXY(),e=ne.sum(i,e),this.translate(e.x,e.y),this.updateComponentLocations(e),a&&u&&(u.recordNew(),V(u)),this.workspace.resizeContents()}translate(e,i){this.translation="translate(".concat(e,", ").concat(i,")"),this.relativeCoords=new ne(e,i),this.getSvgRoot().setAttribute("transform",this.getTranslation())}getTranslation(){return this.translation}moveTo(e,i){const r=this.getRelativeToSurfaceXY();this.moveBy(e.x-r.x,e.y-r.y,i)}moveDuringDrag(e){this.translate(e.x,e.y),this.getSvgRoot().setAttribute("transform",this.getTranslation()),this.updateComponentLocations(e)}snapToGrid(){if(!this.isDeadOrDying()&&!this.getParent()&&!this.isInFlyout){var e=this.workspace.getGrid();if(e!=null&&e.shouldSnap()){var i=this.getRelativeToSurfaceXY();e=e.alignXY(i),e!==i&&this.moveTo(e,["snap"])}}}getBoundingRectangle(){return this.getBoundingRectangleWithDimensions(this.getHeightWidth())}getBoundingRectangleWithoutChildren(){return this.getBoundingRectangleWithDimensions({height:this.height,width:this.childlessWidth})}getBoundingRectangleWithDimensions(e){const i=this.getRelativeToSurfaceXY();let r,a;return this.RTL?(r=i.x-e.width,a=i.x):(r=i.x,a=i.x+e.width),new Be(i.y,i.y+e.height,r,a)}markDirty(){this.pathObject.constants=this.workspace.getRenderer().getConstants();for(let e=0,i;i=this.inputList[e];e++)i.markDirty()}setCollapsed(e){this.collapsed_!==e&&(super.setCollapsed(e),this.updateCollapsed())}childHasWarning(){const e=this.getChildren(!1);for(const i of e)if(i.getIcon(Cn.TYPE)||i.childHasWarning())return!0;return!1}updateCollapsed(){var e=this.isCollapsed();const i=Zc,r=jh;for(let u=0,f;f=this.inputList[u];u++)f.name!==i&&f.setVisible(!e);for(var a of this.getIcons())a.updateCollapsed();e?(fe(this.svgGroup,"blocklyCollapsed"),this.childHasWarning()&&this.setWarningText(n.Msg$$module$build$src$core$msg.COLLAPSED_WARNINGS_WARNING,ht.COLLAPSED_WARNING_ID),e=this.toString(iC),(a=this.getField(r))?a.setValue(e):(this.getInput(i)||this.appendDummyInput(i)).appendField(new Xr(e),r)):(this.updateDisabled(),this.removeInput(i),De(this.svgGroup,"blocklyCollapsed"),this.setWarningText(null,ht.COLLAPSED_WARNING_ID))}onMouseDown(e){if(!this.workspace.isReadOnly()){var i=this.workspace.getGesture(e);i&&i.handleBlockStart(e,this)}}showHelp(){const e=typeof this.helpUrl=="function"?this.helpUrl():this.helpUrl;e&&window.open(e)}generateContextMenu(e){return this.workspace.isReadOnly()||!this.contextMenu?null:(e=Ge.registry.getContextMenuOptions({block:this,focusedNode:this},e),this.customContextMenu&&this.customContextMenu(e),e)}calculateContextMenuLocation(e){if(e instanceof PointerEvent)return new ne(e.clientX,e.clientY);e=As(this.workspace,this.getRelativeToSurfaceXY());let i,r;const a=(i=this.inputList.filter(u=>u.isVisible()).flatMap(u=>u.fieldRow).find(u=>u.isVisible()))==null||(r=i.getSvgRoot())==null?void 0:r.getBoundingClientRect();return new ne(this.RTL?e.x-5:e.x+5,(a&&a.height?a.y+a.height:e.y+this.height)+5)}showContextMenu(e){const i=this.generateContextMenu(e),r=this.calculateContextMenuLocation(e);i&&i.length&&(Vl(e,i,this.RTL,this.workspace,r),u$(this))}updateComponentLocations(e){this.dragging||this.updateConnectionLocations(e),this.updateIconLocations(e),this.updateFieldLocations(e);for(const i of this.getChildren(!1))i.updateComponentLocations(ne.sum(e,i.relativeCoords))}updateConnectionLocations(e){for(const i of this.getConnections_(!1))i.moveToOffset(e)}updateIconLocations(e){for(const i of this.getIcons())i.onLocationChange(e)}updateFieldLocations(e){for(const i of this.inputList)for(const r of i.fieldRow)r.onLocationChange(e)}addClass(e){fe(this.svgGroup,e)}removeClass(e){De(this.svgGroup,e)}setDragging(e){(this.dragging=e)?(this.translation="",jc.push(...this.getConnections_(!0)),this.addClass("blocklyDragging")):(jc.length=0,this.removeClass("blocklyDragging"));for(let i=0;i<this.childBlocks_.length;i++)this.childBlocks_[i].setDragging(e)}setMovable(e){super.setMovable(e),this.pathObject.updateMovable(e)}setEditable(e){super.setEditable(e),e?De(this.svgGroup,"blocklyNotEditable"):fe(this.svgGroup,"blocklyNotEditable"),e=this.getIcons();for(let i=0;i<e.length;i++)e[i].updateEditable()}setShadow(e){super.setShadow(e),this.applyColour()}setInsertionMarker(e){this.isInsertionMarker_!==e&&(this.isInsertionMarker_=e)&&(this.setColour(this.workspace.getRenderer().getConstants().INSERTION_MARKER_COLOUR),this.pathObject.updateInsertionMarker(!0))}getSvgRoot(){return this.svgGroup}dispose(e,i){this.disposing=!0,Zm(),Pc();const r=n.getFocusManager$$module$build$src$core$focus_manager();var a,u;if(this.getSvgRoot().contains((u=(a=r.getFocusedNode())==null?void 0:a.getFocusableElement())!=null?u:null)){if(a=this.getParent(),!a){let f;if(u=(f=this.outputConnection)!=null?f:this.previousConnection){let E;a=(E=u.closest(0,new ne(0,0)).connection)==null?void 0:E.getSourceBlock()}}a?r.focusNode(a):setTimeout(()=>r.focusTree(this.workspace),0)}i&&(this.unplug(e),yh(this)),super.dispose(!!e),Xe(this.svgGroup)}disposeInternal(){this.disposing=!0,super.disposeInternal(),n.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode()===this&&this.workspace.cancelCurrentGesture(),[...this.warningTextDb.values()].forEach(e=>clearTimeout(e)),this.warningTextDb.clear(),this.getIcons().forEach(e=>e.dispose())}checkAndDelete(){this.workspace.isFlyout||(n.setGroup$$module$build$src$core$events$utils(!0),this.workspace.hideChaff(),this.outputConnection?this.dispose(!1,!0):this.dispose(!0,!0),n.setGroup$$module$build$src$core$events$utils(!1))}toCopyData(e=!1){return this.isInsertionMarker_?null:{paster:uu.TYPE,blockState:Mi(this,{addCoordinates:!0,addNextBlocks:e,saveIds:!1}),typeCounts:Ne(this,!0)}}applyColour(){var e,i;for((i=(e=this.pathObject).applyColour)==null||i.call(e,this),e=this.getIcons(),i=0;i<e.length;i++)e[i].applyColour();for(const r of this.getFields())r.applyColour()}updateDisabled(){const e=!this.isEnabled()||this.getInheritedDisabled();if(this.visuallyDisabled===e){let i;(i=this.getNextBlock())==null||i.updateDisabled()}else{this.applyColour(),this.visuallyDisabled=e;for(const i of this.getChildren(!1))i.updateDisabled()}}setWarningText(e,i=""){if(i)this.warningTextDb.has(i)&&(clearTimeout(this.warningTextDb.get(i)),this.warningTextDb.delete(i));else{for(var r of this.warningTextDb.values())clearTimeout(r);this.warningTextDb.clear()}if(this.workspace.isDragging())this.warningTextDb.set(i,setTimeout(()=>{this.isDeadOrDying()||(this.warningTextDb.delete(i),this.setWarningText(e,i))},100));else if(this.isInFlyout&&(e=null),r=this.getIcon(Cn.TYPE),e){let a=this.getSurroundParent(),u=null;for(;a;)a.isCollapsed()&&(u=a),a=a.getSurroundParent();u&&u.setWarningText(n.Msg$$module$build$src$core$msg.COLLAPSED_WARNINGS_WARNING,ht.COLLAPSED_WARNING_ID),r?r.addMessage(e,i):this.addIcon(new Cn(this).addMessage(e,i))}else r&&(i?(r.addMessage("",i),r.getText()||this.removeIcon(Cn.TYPE)):this.removeIcon(Cn.TYPE))}setMutator(e){this.removeIcon(n.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE),e&&this.addIcon(e)}addIcon(e){return super.addIcon(e),e instanceof n.MutatorIcon$$module$build$src$core$icons$mutator_icon&&(this.mutator=e),e.initView(this.createIconPointerDownListener(e)),e.applyColour(),e.updateEditable(),this.queueRender(),e}createIconPointerDownListener(e){return i=>{this.isDeadOrDying()||(i=this.workspace.getGesture(i))&&i.setStartIcon(e)}}removeIcon(e){const i=super.removeIcon(e);return e.equals(n.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE)&&(this.mutator=null),this.queueRender(),i}setDisabledReason(e,i){const r=this.isEnabled();super.setDisabledReason(e,i),this.isEnabled()===r||this.getInheritedDisabled()||this.updateDisabled()}setDeletable(e){super.setDeletable(e),e?De(this.svgGroup,"blocklyNotDeletable"):fe(this.svgGroup,"blocklyNotDeletable")}setHighlighted(e){this.pathObject.updateHighlighted(e)}addSelect(){this.pathObject.updateSelected(!0)}removeSelect(){this.pathObject.updateSelected(!1)}setDeleteStyle(e){this.pathObject.updateDraggingDelete(e)}getColour(){return this.style.colourPrimary}setColour(e){super.setColour(e),e=this.workspace.getRenderer().getConstants().getBlockStyleForColour(this.colour_);let i,r;(r=(i=this.pathObject).setStyle)==null||r.call(i,e.style),this.style=e.style,this.styleName_=e.name,this.applyColour()}setStyle(e){const i=this.workspace.getRenderer().getConstants().getBlockStyle(e);if(this.styleName_&&De(this.svgGroup,this.styleName_),i){this.hat=i.hat;let r,a;(a=(r=this.pathObject).setStyle)==null||a.call(r,i),this.colour_=i.colourPrimary,this.style=i,this.applyColour(),fe(this.svgGroup,e),this.styleName_=e}else throw Error("Invalid style name: "+e)}getStyle(){return this.style}bringToFront(e=!1){const i=n.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode();let r=this;if(!r.isDeadOrDying()){do{const a=r.getSvgRoot(),u=a.parentNode,f=u.childNodes;if(f[f.length-1]!==a&&u.appendChild(a),e)break;r=r.getParent()}while(r);i&&n.getFocusManager$$module$build$src$core$focus_manager().focusNode(i)}}setPreviousStatement(e,i){super.setPreviousStatement(e,i),this.queueRender()}setNextStatement(e,i){super.setNextStatement(e,i),this.queueRender()}setOutput(e,i){super.setOutput(e,i),this.queueRender()}setInputsInline(e){super.setInputsInline(e),this.queueRender()}removeInput(e,i){return e=super.removeInput(e,i),this.queueRender(),e}moveNumberedInputBefore(e,i){super.moveNumberedInputBefore(e,i),this.queueRender()}appendInput(e){return super.appendInput(e),this.queueRender(),e}setConnectionTracking(e){if(this.previousConnection&&this.previousConnection.setTracking(e),this.outputConnection&&this.outputConnection.setTracking(e),this.nextConnection){this.nextConnection.setTracking(e);var i=this.nextConnection.targetBlock();i&&i.setConnectionTracking(e)}if(!this.collapsed_)for(i=0;i<this.inputList.length;i++){var r=this.inputList[i].connection;r&&(r.setTracking(e),(r=r.targetBlock())&&r.setConnectionTracking(e))}}getConnections_(e){const i=[];if(this.outputConnection&&i.push(this.outputConnection),this.previousConnection&&i.push(this.previousConnection),this.nextConnection&&i.push(this.nextConnection),e||!this.collapsed_)for(let r=0,a;a=this.inputList[r];r++)a.connection&&i.push(a.connection);return i}lastConnectionInStack(e){return super.lastConnectionInStack(e)}getMatchingConnection(e,i){return super.getMatchingConnection(e,i)}makeConnection_(e){return new Eo(this,e)}getNextBlock(){return super.getNextBlock()}getPreviousBlock(){return super.getPreviousBlock()}bumpNeighbours(){const e=this.getRootBlock();if(!(this.isDeadOrDying()||this.workspace.isDragging()||e.isInFlyout))for(const i of this.getConnections_(!1)){if(i.isSuperior()){let r;(r=i.targetBlock())==null||r.bumpNeighbours()}for(const r of i.neighbours(n.config$$module$build$src$core$config.snapRadius))r.getSourceBlock().getRootBlock()!==e&&(i.isConnected()&&r.isConnected()||(i.isSuperior()?r.bumpAwayFrom(i,!1):i.bumpAwayFrom(r,!0)))}}scheduleSnapAndBump(){this.snapToGrid(),this.bumpNeighbours()}positionNearConnection(e,i,r){if(e.type===Ie.NEXT_STATEMENT||e.type===Ie.INPUT_VALUE){let a=i.x;i=i.y,a+=r.x-e.getOffsetInBlock().x,i+=r.y-e.getOffsetInBlock().y,this.moveBy(a,i)}}getChildren(e){return super.getChildren(e)}queueRender(){return bm(this)}render(){this.queueRender(),Ls()}renderEfficiently(){bt(),this.isCollapsed()&&this.updateCollapsed(),this.isEnabled()||this.updateDisabled(),this.workspace.getRenderer().render(this),this.tightenChildrenEfficiently(),wo()}tightenChildrenEfficiently(){for(const e of this.inputList){const i=e.connection;i&&i.tightenEfficiently()}this.nextConnection&&this.nextConnection.tightenEfficiently()}getHeightWidth(){let e=this.height,i=this.width;var r=this.getNextBlock();if(r){r=r.getHeightWidth();const a=this.workspace.getRenderer().getConstants().NOTCH_HEIGHT;e+=r.height-a,i=Math.max(i,r.width)}return{height:e,width:i}}fadeForReplacement(e){this.pathObject.updateReplacementFade(e)}highlightShapeForInput(e,i){this.pathObject.updateShapeForInputHighlight(e,i)}getDragStrategy(){return this.dragStrategy}setDragStrategy(e){this.dragStrategy=e}isCopyable(){return this.isOwnDeletable()&&this.isOwnMovable()}isMovable(){return this.dragStrategy.isMovable()}startDrag(e){this.dragStrategy.startDrag(e)}drag(e,i){this.dragStrategy.drag(e,i)}endDrag(e){this.dragStrategy.endDrag(e)}revertDrag(){this.dragStrategy.revertDrag()}toFlyoutInfo(){const e=Object.assign({},{kind:"BLOCK"},Mi(this)),i=new Set(["id","height","width","pinned","enabled"]),r=function(a){for(const u in a)i.has(u)?delete a[u]:typeof a[u]=="object"&&r(a[u])};return r(e),[e]}jsonInit(e){super.jsonInit(e),e.classes&&this.addClass(Array.isArray(e.classes)?e.classes.join(" "):e.classes)}getFocusableElement(){return this.pathObject.svgPath}getFocusableTree(){return this.workspace}onNodeFocus(){this.select(),this.workspace.scrollBoundsIntoView(this.getBoundingRectangleWithoutChildren())}onNodeBlur(){this.unselect()}canBeFocused(){return!0}};ht.INLINE=-1,ht.COLLAPSED_WARNING_ID="TEMP_COLLAPSED_WARNING_";var aC=class{constructor(){}onDragEnter(e){}onDragOver(e){}onDragExit(e){}onDrop(e){}getClientRect(){return null}shouldPreventMove(e){return!1}},bp=class extends aC{constructor(){super(),this.wouldDelete_=!1}wouldDelete(e){return e instanceof ht?(e=!e.getParent()&&e.isDeletable(),this.updateWouldDelete_(e)):this.updateWouldDelete_(xi(e)&&e.isDeletable()),this.wouldDelete_}updateWouldDelete_(e){this.wouldDelete_=e}},ua=class{constructor(e,i){this.element=e,this.type=i}getElement(){return this.element}getType(){return this.type}},cb=class{constructor(e){this.workspace_=e}getDimensionsPx_(e){let i=0,r=0;return e&&(i=e.getWidth(),r=e.getHeight()),new Ue(i,r)}getFlyoutMetrics(e){return e=this.getDimensionsPx_(this.workspace_.getFlyout(e)),{width:e.width,height:e.height,position:this.workspace_.toolboxPosition}}getToolboxMetrics(){const e=this.getDimensionsPx_(this.workspace_.getToolbox());return{width:e.width,height:e.height,position:this.workspace_.toolboxPosition}}getSvgMetrics(){return this.workspace_.getCachedParentSvgSize()}getAbsoluteMetrics(){let e=0,i=0;const r=this.getToolboxMetrics(),a=this.getFlyoutMetrics(),u=!!this.workspace_.getToolbox();var f;const E=!((f=this.workspace_.getFlyout())!=null&&f.autoClose);f=u?r.position:a.position;const C=f===He.TOP;return f===He.LEFT&&(u&&(e+=r.width),E&&(e+=a.width)),C&&(u&&(i+=r.height),E&&(i+=a.height)),{top:i,left:e}}getViewMetrics(e){e=e?this.workspace_.scale:1;const i=this.getSvgMetrics(),r=this.getToolboxMetrics(),a=this.getFlyoutMetrics(),u=!!this.workspace_.getToolbox();var f;const E=!((f=this.workspace_.getFlyout())!=null&&f.autoClose);f=u?r.position:a.position;const C=f===He.LEFT||f===He.RIGHT;return(f===He.TOP||f===He.BOTTOM)&&(u&&(i.height-=r.height),E&&(i.height-=a.height)),C&&(u&&(i.width-=r.width),E&&(i.width-=a.width)),{height:i.height/e,width:i.width/e,top:-this.workspace_.scrollY/e,left:-this.workspace_.scrollX/e}}getContentMetrics(e){e=e?1:this.workspace_.scale;const i=this.workspace_.getBlocksBoundingBox();return{height:(i.bottom-i.top)*e,width:(i.right-i.left)*e,top:i.top*e,left:i.left*e}}hasFixedEdges(){return!this.workspace_.isMovableHorizontally()||!this.workspace_.isMovableVertically()}getComputedFixedEdges_(e){if(!this.hasFixedEdges())return{};const i=this.workspace_.isMovableHorizontally(),r=this.workspace_.isMovableVertically();e=e||this.getViewMetrics(!1);const a={};return r||(a.top=e.top,a.bottom=e.top+e.height),i||(a.left=e.left,a.right=e.left+e.width),a}getPaddedContent_(e,i){const r=i.top+i.height,a=i.left+i.width,u=e.width;e=e.height;const f=u/2,E=e/2;return{top:Math.min(i.top-E,r-e),bottom:Math.max(r+E,i.top+e),left:Math.min(i.left-f,a-u),right:Math.max(a+f,i.left+u)}}getScrollMetrics(e,i,r){e=e?this.workspace_.scale:1,i=i||this.getViewMetrics(!1);var a=r||this.getContentMetrics();r=this.getComputedFixedEdges_(i),i=this.getPaddedContent_(i,a),a=r.top!==void 0?r.top:i.top;const u=r.left!==void 0?r.left:i.left;return{top:a/e,left:u/e,width:((r.right!==void 0?r.right:i.right)-u)/e,height:((r.bottom!==void 0?r.bottom:i.bottom)-a)/e}}getUiMetrics(){return{viewMetrics:this.getViewMetrics(),absoluteMetrics:this.getAbsoluteMetrics(),toolboxMetrics:this.getToolboxMetrics()}}getMetrics(){const e=this.getToolboxMetrics(),i=this.getFlyoutMetrics(!0),r=this.getSvgMetrics(),a=this.getAbsoluteMetrics(),u=this.getViewMetrics(),f=this.getContentMetrics(),E=this.getScrollMetrics(!1,u,f);return{contentHeight:f.height,contentWidth:f.width,contentTop:f.top,contentLeft:f.left,scrollHeight:E.height,scrollWidth:E.width,scrollTop:E.top,scrollLeft:E.left,viewHeight:u.height,viewWidth:u.width,viewTop:u.top,viewLeft:u.left,absoluteTop:a.top,absoluteLeft:a.left,svgHeight:r.height,svgWidth:r.width,toolboxWidth:e.width,toolboxHeight:e.height,toolboxPosition:e.position,flyoutWidth:i.width,flyoutHeight:i.height}}};s(oe.METRICS_MANAGER,mi,cb);var cC=class extends cb{constructor(e,i){super(e),this.flyout_=i}getBoundingBox(){let e;try{e=this.workspace_.getCanvas().getBBox()}catch(i){e={height:0,y:0,width:0,x:0}}return e}getContentMetrics(e){const i=this.getBoundingBox();return e=e?1:this.workspace_.scale,{height:i.height*e,width:i.width*e,top:i.y*e,left:i.x*e}}getScrollMetrics(e,i,r){return i=r||this.getContentMetrics(),r=this.flyout_.MARGIN*this.workspace_.scale,e=e?this.workspace_.scale:1,{height:(i.height+2*r)/e,width:(i.width+i.left+r)/e,top:0,left:0}}},Jo=class{constructor(e,i,r,a){this.workspace=e,this.targetWorkspace=i,this.isFlyoutLabel=a,this.height=this.width=0,this.cursorSvg=this.svgText=null,this.text=r.text,this.position=new ne(0,0),this.callbackKey=r.callbackKey||r.callbackkey,this.cssClass=r["web-class"]||null,this.info=r,e=this.isFlyoutLabel?"blocklyFlyoutLabel":"blocklyFlyoutButton",this.cssClass&&(e+=" "+this.cssClass),this.id=P(),this.svgGroup=q(F.G,{id:this.id,class:e},this.workspace.getCanvas());let u;this.isFlyoutLabel||(u=q(F.RECT,{class:"blocklyFlyoutButtonShadow",rx:Jo.BORDER_RADIUS,ry:Jo.BORDER_RADIUS,x:1,y:1},this.svgGroup)),e=q(F.RECT,{class:this.isFlyoutLabel?"blocklyFlyoutLabelBackground":"blocklyFlyoutButtonBackground",rx:Jo.BORDER_RADIUS,ry:Jo.BORDER_RADIUS},this.svgGroup),i=q(F.TEXT,{class:this.isFlyoutLabel?"blocklyFlyoutLabelText":"blocklyText",x:0,y:0,"text-anchor":"middle"},this.svgGroup),r=Bt(this.text),this.workspace.RTL&&(r+=""),i.textContent=r,this.isFlyoutLabel&&(this.svgText=i,this.workspace.getThemeManager().subscribe(this.svgText,"flyoutForegroundColour","fill")),a=go(i,"fontSize");const f=go(i,"fontWeight"),E=go(i,"fontFamily");if(this.width=Yo(i,a,f,E),r=M(r,a,f,E),this.height=this.height||r.height,!this.isFlyoutLabel){this.width+=2*Jo.TEXT_MARGIN_X,this.height+=2*Jo.TEXT_MARGIN_Y;let C;(C=u)==null||C.setAttribute("width",String(this.width));let Q;(Q=u)==null||Q.setAttribute("height",String(this.height))}e.setAttribute("width",String(this.width)),e.setAttribute("height",String(this.height)),i.setAttribute("x",String(this.width/2)),i.setAttribute("y",String(this.height/2-r.height/2+r.baseline)),this.updateTransform(),this.onMouseDownWrapper=S(this.svgGroup,"pointerdown",this,this.onMouseDown),this.onMouseUpWrapper=S(this.svgGroup,"pointerup",this,this.onMouseUp)}createDom(){return this.svgGroup}show(){this.updateTransform(),this.svgGroup.setAttribute("display","block")}updateTransform(){this.svgGroup.setAttribute("transform","translate("+this.position.x+","+this.position.y+")")}moveTo(e,i){this.position.x=e,this.position.y=i,this.updateTransform()}moveBy(e,i,r){this.moveTo(this.position.x+e,this.position.y+i)}isLabel(){return this.isFlyoutLabel}getPosition(){return this.position}getBoundingRectangle(){return new Be(this.position.y,this.position.y+this.height,this.position.x,this.position.x+this.width)}getButtonText(){return this.text}getTargetWorkspace(){return this.targetWorkspace}getWorkspace(){return this.workspace}dispose(){L(this.onMouseDownWrapper),L(this.onMouseUpWrapper),this.svgGroup&&Xe(this.svgGroup),this.svgText&&this.workspace.getThemeManager().unsubscribe(this.svgText)}setCursorSvg(e){e?this.svgGroup&&(this.svgGroup.appendChild(e),this.cursorSvg=e):this.cursorSvg=null}onMouseUp(e){(e=this.targetWorkspace.getGesture(e))&&e.cancel(),this.isFlyoutLabel&&this.callbackKey?console.warn("Labels should not have callbacks. Label text: "+this.text):this.isFlyoutLabel||this.callbackKey&&this.targetWorkspace.getButtonCallback(this.callbackKey)?this.isFlyoutLabel||(e=this.targetWorkspace.getButtonCallback(this.callbackKey))&&e(this):console.warn("Buttons should have callbacks. Button text: "+this.text)}onMouseDown(e){const i=this.targetWorkspace.getGesture(e),r=this.targetWorkspace.getFlyout();i&&r&&i.handleFlyoutStart(e,r)}getSvgRoot(){return this.svgGroup}getFocusableElement(){return this.svgGroup}getFocusableTree(){return this.workspace}onNodeFocus(){var e=this.getPosition();e=new Be(e.y,e.y+this.height,e.x,e.x+this.width),this.workspace.scrollBoundsIntoView(e)}onNodeBlur(){}canBeFocused(){return!0}};Jo.TEXT_MARGIN_X=5,Jo.TEXT_MARGIN_Y=2,Jo.BORDER_RADIUS=4,ye("\n.blocklyFlyoutButton {\n  fill: #888;\n  cursor: default;\n}\n\n.blocklyFlyoutButtonShadow {\n  fill: #666;\n}\n\n.blocklyFlyoutButton:hover {\n  fill: #aaa;\n}\n\n.blocklyFlyoutLabel {\n  cursor: default;\n}\n\n.blocklyFlyoutLabelBackground {\n  opacity: 0;\n}\n");var uC=class{getFirstChild(e){return null}getParent(e){return e.getWorkspace()}getNextSibling(e){return null}getPreviousSibling(e){return null}isNavigable(e){return e.canBeFocused()}isApplicable(e){return e instanceof Jo}},dC=class{constructor(e,i){this.policy=e,this.flyout=i}getFirstChild(e){return null}getParent(e){return this.policy.getParent(e)}getNextSibling(e){const i=this.flyout.getContents();if(!i)return null;let r=i.findIndex(a=>a.getElement()===e);return r===-1?null:(r++,r>=i.length&&(r=0),i[r].getElement())}getPreviousSibling(e){const i=this.flyout.getContents();if(!i)return null;let r=i.findIndex(a=>a.getElement()===e);return r===-1?null:(r--,r<0&&(r=i.length-1),i[r].getElement())}isNavigable(e){return this.policy.isNavigable(e)}isApplicable(e){return this.policy.isApplicable(e)}},Tp=class{constructor(e,i){this.gap=e,this.axis=i,this.y=this.x=0}getBoundingRectangle(){switch(this.axis){case"x":return new Be(this.y,this.y,this.x,this.x+this.gap);case"y":return new Be(this.y,this.y+this.gap,this.x,this.x)}}moveBy(e,i,r){this.x+=e,this.y+=i}isNavigable(){return!1}getFocusableElement(){throw Error("Cannot be focused")}getFocusableTree(){throw Error("Cannot be focused")}onNodeFocus(){}onNodeBlur(){}canBeFocused(){return!1}},hC=class{getFirstChild(e){return null}getParent(e){return null}getNextSibling(e){return null}getPreviousSibling(e){return null}isNavigable(e){return!1}isApplicable(e){return e instanceof Tp}},f1=class{getFirstChild(e){return e.getEditor()}getParent(e){let i;return(i=e.getOwner())!=null?i:null}getNextSibling(e){return null}getPreviousSibling(e){return null}isNavigable(e){return e.canBeFocused()}isApplicable(e){return e instanceof mp}},pC=class{getFirstChild(e){return C$(e,!0)[0]}getParent(e){var i;if((i=e.previousConnection)!=null&&i.targetBlock()){if(i=e.getSurroundParent())return i}else{let r;if((r=e.outputConnection)!=null&&r.targetBlock())return e.outputConnection.targetBlock()}return e.workspace}getNextSibling(e){let i;if((i=e.nextConnection)!=null&&i.targetBlock()){let a;return(a=e.nextConnection)==null?void 0:a.targetBlock()}let r;return(r=e.outputConnection)!=null&&r.targetBlock()?on(e,1):e.getSurroundParent()?on(e.getTopStackBlock(),1):this.getParent(e)instanceof Vo?jl(e,1):null}getPreviousSibling(e){let i;if((i=e.previousConnection)!=null&&i.targetBlock()){let a;return(a=e.previousConnection)==null?void 0:a.targetBlock()}let r;return(r=e.outputConnection)!=null&&r.targetBlock()?on(e,-1):this.getParent(e)instanceof Vo?jl(e,-1):null}isNavigable(e){return e.canBeFocused()}isApplicable(e){return e instanceof ht}},g1=class{getFirstChild(e){return null}getParent(e){return e.getCommentView().workspace.getCommentById(e.getCommentView().commentId)}getNextSibling(e){const i=e.getCommentView().getCommentBarButtons();return e=i.indexOf(e),e>=0&&e+1<i.length?i[e+1]:null}getPreviousSibling(e){const i=e.getCommentView().getCommentBarButtons();return e=i.indexOf(e),e>0?i[e-1]:null}isNavigable(e){return e.canBeFocused()}isApplicable(e){return e instanceof cp}},m1=class{getFirstChild(e){return null}getParent(e){return null}getNextSibling(e){return null}getPreviousSibling(e){return null}isNavigable(e){return e.canBeFocused()}isApplicable(e){return e instanceof up}},fC=class{getFirstChild(e){return e.getParentInput()?e.targetConnection:null}getParent(e){return e.getSourceBlock()}getNextSibling(e){if(e.getParentInput())return on(e,1);if(e.type===Ie.NEXT_STATEMENT){const r=e.targetConnection;var i=e.getSourceBlock();if(!r&&i.getRootBlock().lastConnectionInStack(!1)===e){e=i.workspace.getTopBlocks(!0),i=e.indexOf(i.getRootBlock())+1,i>=e.length&&(i=0),i=e[i];let a;return(a=this.getParentConnection(i))!=null?a:i}return r}return e.getSourceBlock()}getPreviousSibling(e){if(e.getParentInput())return on(e,-1);if(e.type===Ie.PREVIOUS_STATEMENT||e.type===Ie.OUTPUT_VALUE){const r=e.targetConnection&&!e.targetConnection.getParentInput()?e.targetConnection:null;var i=e.getSourceBlock();if(!r&&this.getParentConnection(i.getRootBlock())===e){e=i.workspace.getTopBlocks(!0),i=e.indexOf(i.getRootBlock())-1,i<0&&(i=e.length-1),i=e[i];let a;return(a=i.lastConnectionInStack(!1))!=null?a:i}return r}return e.type===Ie.NEXT_STATEMENT?e.getSourceBlock():null}getParentConnection(e){let i;return!e.outputConnection||(i=e.previousConnection)!=null&&i.isConnected()?e.previousConnection:e.outputConnection}isNavigable(e){return e.canBeFocused()}isApplicable(e){return e instanceof Eo}},gC=class{getFirstChild(e){return null}getParent(e){return e.getSourceBlock()}getNextSibling(e){return on(e,1)}getPreviousSibling(e){return on(e,-1)}isNavigable(e){let i;return e.canBeFocused()&&e.isVisible()&&(e.isClickable()||e.isCurrentlyEditable())&&!((i=e.getSourceBlock())!=null&&i.isSimpleReporter()&&e.isFullBlockField())&&e.getParentInput().isVisible()}isApplicable(e){return e instanceof lt}},ub={};ub.register=w$,ub.unregister=nO;var db=17,mC=160,$C=80,ln=class extends lu{constructor(e){super(e),this.sourceBlock=e,this.textInputBubble=null,this.text="",this.bubbleSize=new Ue(mC,$C),this.bubbleVisiblity=!1}getType(){return ln.TYPE}initView(e){this.svgRoot||(super.initView(e),q(F.CIRCLE,{class:"blocklyIconShape",r:"8",cx:"8",cy:"8"},this.svgRoot),q(F.PATH,{class:"blocklyIconSymbol",d:"m6.8,10h2c0.003,-0.617 0.271,-0.962 0.633,-1.266 2.875,-2.4050.607,-5.534 -3.765,-3.874v1.7c3.12,-1.657 3.698,0.118 2.336,1.25-1.201,0.998 -1.201,1.528 -1.204,2.19z"},this.svgRoot),q(F.RECT,{class:"blocklyIconSymbol",x:"6.8",y:"10.78",height:"2",width:"2"},this.svgRoot),fe(this.svgRoot,"blocklyCommentIcon"))}dispose(){super.dispose();let e;(e=this.textInputBubble)==null||e.dispose()}getWeight(){return ln.WEIGHT}getSize(){return new Ue(db,db)}applyColour(){super.applyColour();const e=this.sourceBlock.getColour();let i;(i=this.textInputBubble)==null||i.setColour(e)}updateEditable(){const e=this,i=()=>super.updateEditable;return(0,X.asyncExecutePromiseGeneratorFunction)(function*(){i().call(e),e.bubbleIsVisible()&&(yield e.setBubbleVisible(!1),yield e.setBubbleVisible(!0))})}onLocationChange(e){const i=this.workspaceLocation;super.onLocationChange(e),this.bubbleLocation&&(e=ne.difference(this.workspaceLocation,i),this.bubbleLocation=ne.sum(this.bubbleLocation,e)),e=this.getAnchorLocation();let r;(r=this.textInputBubble)==null||r.setAnchorLocation(e)}setText(e){const i=this.text;V(new(ge(z.BLOCK_CHANGE))(this.sourceBlock,"comment",null,i,e)),this.text=e;let r;(r=this.textInputBubble)==null||r.setText(this.text)}getText(){return this.text}setBubbleSize(e){this.bubbleSize=e;let i;(i=this.textInputBubble)==null||i.setSize(this.bubbleSize,!0)}getBubbleSize(){return this.bubbleSize}setBubbleLocation(e){this.bubbleLocation=e;let i;(i=this.textInputBubble)==null||i.moveDuringDrag(e)}getBubbleLocation(){return this.bubbleLocation}saveState(){if(this.text){const e={text:this.text,pinned:this.bubbleIsVisible(),height:this.bubbleSize.height,width:this.bubbleSize.width},i=this.getBubbleLocation();return i&&(e.x=this.sourceBlock.workspace.RTL?this.sourceBlock.workspace.getWidth()-(i.x+this.bubbleSize.width):i.x,e.y=i.y),e}return null}loadState(e){let i;this.text=(i=e.text)!=null?i:"";let r,a;this.bubbleSize=new Ue((r=e.width)!=null?r:mC,(a=e.height)!=null?a:$C);let u;this.bubbleVisiblity=(u=e.pinned)!=null?u:!1,this.setBubbleVisible(this.bubbleVisiblity);let f=e.x;const E=e.y;Tn().then(()=>{f&&E&&(f=this.sourceBlock.workspace.RTL?this.sourceBlock.workspace.getWidth()-(f+this.bubbleSize.width):f,this.setBubbleLocation(new ne(f,E)))})}onClick(){super.onClick(),this.setBubbleVisible(!this.bubbleIsVisible())}isClickableInFlyout(){return!1}onTextChange(){if(this.textInputBubble){var e=this.textInputBubble.getText();this.text!==e&&(V(new(ge(z.BLOCK_CHANGE))(this.sourceBlock,"comment",null,this.text,e)),this.text=e)}}onSizeChange(){this.textInputBubble&&(this.bubbleSize=this.textInputBubble.getSize())}onBubbleLocationChange(){this.textInputBubble&&(this.bubbleLocation=this.textInputBubble.getRelativeToSurfaceXY())}bubbleIsVisible(){return this.bubbleVisiblity}setBubbleVisible(e){const i=this;return(0,X.asyncExecutePromiseGeneratorFunction)(function*(){i.bubbleVisiblity!==e&&(i.bubbleVisiblity=e,yield Tn(),!i.sourceBlock.rendered||i.sourceBlock.isInFlyout||i.sourceBlock.isInsertionMarker()||(e?(i.sourceBlock.isEditable()?i.showEditableBubble():i.showNonEditableBubble(),i.applyColour()):i.hideBubble(),V(new(ge(z.BUBBLE_OPEN))(i.sourceBlock,e,"comment"))))})}getBubble(){return this.textInputBubble}showEditableBubble(){this.createBubble();let e;(e=this.textInputBubble)==null||e.addTextChangeListener(()=>this.onTextChange());let i;(i=this.textInputBubble)==null||i.addSizeChangeListener(()=>this.onSizeChange())}showNonEditableBubble(){this.createBubble();let e;(e=this.textInputBubble)==null||e.setEditable(!1)}createBubble(){this.textInputBubble=new mp(this.sourceBlock.workspace,this.getAnchorLocation(),this.getBubbleOwnerRect(),this),this.textInputBubble.setText(this.getText()),this.textInputBubble.setSize(this.bubbleSize,!0),this.bubbleLocation&&this.textInputBubble.moveDuringDrag(this.bubbleLocation),this.textInputBubble.addTextChangeListener(()=>this.onTextChange()),this.textInputBubble.addSizeChangeListener(()=>this.onSizeChange()),this.textInputBubble.addLocationChangeListener(()=>this.onBubbleLocationChange())}hideBubble(){let e;(e=this.textInputBubble)==null||e.dispose(),this.textInputBubble=null}getAnchorLocation(){const e=db/2;return ne.sum(this.workspaceLocation,new ne(e,e))}getBubbleOwnerRect(){return this.sourceBlock.getBoundingRectangleWithoutChildren()}};ln.TYPE=eo.COMMENT,ln.WEIGHT=3,w$(ln.TYPE,ln);var $1=class{getFirstChild(e){if(e instanceof n.MutatorIcon$$module$build$src$core$icons$mutator_icon&&e.bubbleIsVisible()&&n.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode()===e){let i,r;return(r=(i=e.getBubble())==null?void 0:i.getWorkspace())!=null?r:null}if(e instanceof ln&&e.bubbleIsVisible()&&n.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode()===e){let i,r;return(r=(i=e.getBubble())==null?void 0:i.getEditor())!=null?r:null}return null}getParent(e){return e.getSourceBlock()}getNextSibling(e){return on(e,1)}getPreviousSibling(e){return on(e,-1)}isNavigable(e){return e.canBeFocused()}isApplicable(e){return e instanceof lu}},_1=class{getFirstChild(e){return e.view.getCommentBarButtons()[0]}getParent(e){return e.workspace}getNextSibling(e){return jl(e,1)}getPreviousSibling(e){return jl(e,-1)}isNavigable(e){return e.canBeFocused()}isApplicable(e){return e instanceof Qn}},_C=class{getFirstChild(e){return e=e.getTopBlocks(!0),e.length?e[0]:null}getParent(e){return null}getNextSibling(e){return null}getPreviousSibling(e){return null}isNavigable(e){return e.canBeFocused()&&!e.isMutator}isApplicable(e){return e instanceof Vo}},hb=class{constructor(){this.rules=[new pC,new gC,new fC,new _C,new $1,new _1,new g1,new f1,new m1]}addNavigationPolicy(e){this.rules.push(e)}get(e){return this.rules.find(i=>i.isApplicable(e))}getFirstChild(e){let i;const r=(i=this.get(e))==null?void 0:i.getFirstChild(e);if(!r)return null;let a;return(a=this.get(r))!=null&&a.isNavigable(r)?r:this.getFirstChild(r)||this.getNextSibling(r)}getParent(e){let i;const r=(i=this.get(e))==null?void 0:i.getParent(e);if(!r)return null;let a;return(a=this.get(r))!=null&&a.isNavigable(r)?r:this.getParent(r)}getNextSibling(e){let i;const r=(i=this.get(e))==null?void 0:i.getNextSibling(e);if(!r)return null;let a;return(a=this.get(r))!=null&&a.isNavigable(r)?r:this.getNextSibling(r)}getPreviousSibling(e){let i;const r=(i=this.get(e))==null?void 0:i.getPreviousSibling(e);if(!r)return null;let a;return(a=this.get(r))!=null&&a.isNavigable(r)?r:this.getPreviousSibling(r)}},bC=class extends hb{constructor(e){super(),this.rules.push(new uC,new hC),this.rules=this.rules.map(i=>new dC(i,e))}},pb=class{constructor(e,i,r,a,u){this.workspace=e,this.oldHostMetrics=this.corner_=this.vScroll=this.hScroll=null,i=i===void 0?!0:i,r=r===void 0?!0:r;const f=i&&r;i&&(this.hScroll=new Ht(e,!0,f,a,u)),r&&(this.vScroll=new Ht(e,!1,f,a,u)),f&&(this.corner_=q(F.RECT,{height:Ht.scrollbarThickness,width:Ht.scrollbarThickness,class:"blocklyScrollbarBackground"}),Xo(this.corner_,e.getBubbleCanvas()))}dispose(){Xe(this.corner_),this.oldHostMetrics=this.corner_=null,this.hScroll&&(this.hScroll.dispose(),this.hScroll=null),this.vScroll&&(this.vScroll.dispose(),this.vScroll=null)}resize(){const e=this.workspace.getMetrics();if(e){var i=!1,r=!1;if(this.oldHostMetrics&&this.oldHostMetrics.viewWidth===e.viewWidth&&this.oldHostMetrics.viewHeight===e.viewHeight&&this.oldHostMetrics.absoluteTop===e.absoluteTop&&this.oldHostMetrics.absoluteLeft===e.absoluteLeft?(this.oldHostMetrics&&this.oldHostMetrics.scrollWidth===e.scrollWidth&&this.oldHostMetrics.viewLeft===e.viewLeft&&this.oldHostMetrics.scrollLeft===e.scrollLeft||(i=!0),this.oldHostMetrics&&this.oldHostMetrics.scrollHeight===e.scrollHeight&&this.oldHostMetrics.viewTop===e.viewTop&&this.oldHostMetrics.scrollTop===e.scrollTop||(r=!0)):r=i=!0,i||r){try{n.disable$$module$build$src$core$events$utils(),this.hScroll&&i&&this.hScroll.resize(e),this.vScroll&&r&&this.vScroll.resize(e)}finally{n.enable$$module$build$src$core$events$utils()}this.workspace.maybeFireViewportChangeEvent()}if(this.hScroll&&this.vScroll){if(!this.oldHostMetrics||this.oldHostMetrics.viewWidth!==e.viewWidth||this.oldHostMetrics.absoluteLeft!==e.absoluteLeft){let a;(a=this.corner_)==null||a.setAttribute("x",String(this.vScroll.position.x))}if(!this.oldHostMetrics||this.oldHostMetrics.viewHeight!==e.viewHeight||this.oldHostMetrics.absoluteTop!==e.absoluteTop){let a;(a=this.corner_)==null||a.setAttribute("y",String(this.hScroll.position.y))}}this.oldHostMetrics=e}}canScrollHorizontally(){return!!this.hScroll}canScrollVertically(){return!!this.vScroll}setOrigin(e,i){this.hScroll&&this.hScroll.setOrigin(e,i),this.vScroll&&this.vScroll.setOrigin(e,i)}set(e,i,r){this.hScroll&&this.hScroll.set(e,!1),this.vScroll&&this.vScroll.set(i,!1),(r||r===void 0)&&(e={},this.hScroll&&(e.x=this.hScroll.getRatio_()),this.vScroll&&(e.y=this.vScroll.getRatio_()),this.workspace.setMetrics(e))}setX(e){this.hScroll&&this.hScroll.set(e,!0)}setY(e){this.vScroll&&this.vScroll.set(e,!0)}setContainerVisible(e){this.hScroll&&this.hScroll.setContainerVisible(e),this.vScroll&&this.vScroll.setContainerVisible(e)}isVisible(){let e=!1;return this.hScroll&&(e=this.hScroll.isVisible()),this.vScroll&&(e=e||this.vScroll.isVisible()),e}setVisible(e){this.hScroll&&this.hScroll.setVisibleInternal(e),this.vScroll&&this.vScroll.setVisibleInternal(e)}resizeContent(e){this.hScroll&&this.hScroll.resizeContentHorizontal(e),this.vScroll&&this.vScroll.resizeContentVertical(e)}resizeView(e){this.hScroll&&this.hScroll.resizeViewHorizontal(e),this.vScroll&&this.vScroll.resizeViewVertical(e)}},da="sep",TC=class{load(e,i){return e=new Tp(0,i.horizontalLayout?"x":"y"),new ua(e,da)}gapForItem(e,i){let r;return(r=parseInt(String(e.gap)))!=null?r:i}disposeItem(e){}getType(){return da}};s(oe.FLYOUT_INFLATER,da,TC);var Ep=class extends bp{constructor(e){super(),this.horizontalLayout=!1,this.boundEvents=[],this.reflowWrapper=null,this.contents=[],this.autoClose=!0,this.visible=!1,this.containerVisible=!0,this.CORNER_RADIUS=8,this.SCROLLBAR_MARGIN=2.5,this.height_=this.width_=0,this.dragAngleRange_=70,this.svgGroup_=this.svgBackground_=null,this.inflaters=new Map,e.setMetrics=this.setMetrics_.bind(this),this.workspace_=new Vo(e),this.workspace_.setMetricsManager(new cC(this.workspace_,this)),this.workspace_.internalIsFlyout=!0,this.workspace_.setVisible(this.visible),this.workspace_.setNavigator(new bC(this)),this.id=J(),this.RTL=!!e.RTL,this.toolboxPosition_=e.toolboxPosition,this.tabWidth_=this.workspace_.getRenderer().getConstants().TAB_WIDTH,this.MARGIN=this.CORNER_RADIUS,this.GAP_X=this.MARGIN*3,this.GAP_Y=this.MARGIN*3}createDom(e){return this.svgGroup_=q(e,{class:"blocklyFlyout"}),this.svgGroup_.style.display="none",this.svgBackground_=q(F.PATH,{class:"blocklyFlyoutBackground"},this.svgGroup_),this.svgGroup_.appendChild(this.workspace_.createDom()),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutBackgroundColour","fill"),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutOpacity","fill-opacity"),this.svgGroup_}init(e){this.targetWorkspace=e,this.workspace_.targetWorkspace=e,this.workspace_.scrollbar=new pb(this.workspace_,this.horizontalLayout,!this.horizontalLayout,"blocklyFlyoutScrollbar",this.SCROLLBAR_MARGIN),this.hide(),this.boundEvents.push(S(this.svgGroup_,"wheel",this,this.wheel_)),this.boundEvents.push(S(this.svgBackground_,"pointerdown",this,this.onMouseDown)),this.workspace_.getGesture=this.targetWorkspace.getGesture.bind(this.targetWorkspace),this.workspace_.setVariableMap(this.targetWorkspace.getVariableMap()),this.workspace_.createPotentialVariableMap(),e.getComponentManager().addComponent({component:this,weight:It.ComponentWeight.FLYOUT_WEIGHT,capabilities:[It.Capability.AUTOHIDEABLE,It.Capability.DELETE_AREA,It.Capability.DRAG_TARGET]})}dispose(){this.hide(),this.targetWorkspace.getComponentManager().removeComponent(this.id);for(const e of this.boundEvents)L(e);this.boundEvents.length=0,this.workspace_&&(this.workspace_.getThemeManager().unsubscribe(this.svgBackground_),this.workspace_.dispose()),this.svgGroup_&&Xe(this.svgGroup_)}getWidth(){return this.width_}getHeight(){return this.height_}getFlyoutScale(){return this.targetWorkspace.scale}getWorkspace(){return this.workspace_}setAutoClose(e){this.autoClose=e,this.targetWorkspace.recordDragTargets(),this.targetWorkspace.resizeContents()}autoHide(e){!e&&this.targetWorkspace.getFlyout(!0)===this&&this.autoClose&&this.hide()}getTargetWorkspace(){return this.targetWorkspace}isVisible(){return this.visible}setVisible(e){const i=e!==this.isVisible();this.visible=e,i&&(this.autoClose||this.targetWorkspace.recordDragTargets(),this.updateDisplay())}setContainerVisible(e){const i=e!==this.containerVisible;this.containerVisible=e,i&&this.updateDisplay()}getContents(){return this.contents}setContents(e){this.contents=e}updateDisplay(){let e;e=this.containerVisible?this.isVisible():!1,this.svgGroup_&&(this.svgGroup_.style.display=e?"block":"none");let i;(i=this.workspace_.scrollbar)==null||i.setContainerVisible(e)}positionAt_(e,i,r,a){let u;(u=this.svgGroup_)==null||u.setAttribute("width","".concat(e));let f;(f=this.svgGroup_)==null||f.setAttribute("height","".concat(i)),this.workspace_.setCachedParentSvgSize(e,i),this.svgGroup_&&Bo(this.svgGroup_,"translate("+r+"px,"+a+"px)"),(e=this.workspace_.scrollbar)&&(e.setOrigin(r,a),e.resize(),e.hScroll&&e.hScroll.setPosition(e.hScroll.position.x,e.hScroll.position.y),e.vScroll&&e.vScroll.setPosition(e.vScroll.position.x,e.vScroll.position.y))}hide(){this.isVisible()&&(this.setVisible(!1),this.reflowWrapper&&(this.workspace_.removeChangeListener(this.reflowWrapper),this.reflowWrapper=null))}show(e){this.workspace_.setResizesEnabled(!1),this.hide(),this.clearOldBlocks(),typeof e=="string"&&(e=this.getDynamicCategoryContents(e)),this.setVisible(!0),e=Pe(e),e=this.createFlyoutInfo(e),Ls(this.workspace_),this.setContents(e),this.layout_(e),this.horizontalLayout?this.height_=0:this.width_=0,this.reflow(),this.workspace_.setResizesEnabled(!0),this.reflowWrapper=i=>{i.type!==z.BLOCK_CHANGE&&i.type!==z.BLOCK_FIELD_INTERMEDIATE_CHANGE||this.reflow()},this.workspace_.addChangeListener(this.reflowWrapper)}createFlyoutInfo(e){const i=[],r=this.horizontalLayout?this.GAP_X:this.GAP_Y;for(const a of e)"custom"in a&&(e=this.getDynamicCategoryContents(a.custom),e=Pe(e),i.push(...this.createFlyoutInfo(e))),e=a.kind.toLowerCase(),(e=this.getInflaterForType(e))&&(i.push(e.load(a,this)),(e=e.gapForItem(a,r))&&i.push(new ua(new Tp(e,this.horizontalLayout?"x":"y"),da)));return this.normalizeSeparators(i)}normalizeSeparators(e){for(let i=e.length-1;i>0;i--){const r=e[i].getType().toLowerCase(),a=e[i-1].getType().toLowerCase();r===da&&a===da&&e.splice(i-1,1)}return e}getDynamicCategoryContents(e){if(e=this.workspace_.targetWorkspace.getToolboxCategoryCallback(e),typeof e!="function")throw TypeError("Couldn't find a callback function when opening a toolbox category.");return e(this.workspace_.targetWorkspace)}clearOldBlocks(){this.getContents().forEach(i=>{let r;(r=this.getInflaterForType(i.getType()))==null||r.disposeItem(i)});let e;(e=this.workspace_.getPotentialVariableMap())==null||e.clear()}onMouseDown(e){const i=this.targetWorkspace.getGesture(e);i&&i.handleFlyoutStart(e,this)}isBlockCreatable(e){return e.isEnabled()&&!this.getTargetWorkspace().isReadOnly()}createBlock(e){let i=null;n.disable$$module$build$src$core$events$utils();var r=this.targetWorkspace.getAllVariables();this.targetWorkspace.setResizesEnabled(!1);try{i=this.placeNewBlock(e)}finally{n.enable$$module$build$src$core$events$utils()}if(this.targetWorkspace.hideChaff(),e=Lc(this.targetWorkspace,r),ke()){for(n.setGroup$$module$build$src$core$events$utils(!0),r=0;r<e.length;r++){const a=e[r];V(new(ge(z.VAR_CREATE))(a))}V(new(ge(z.BLOCK_CREATE))(i))}return this.autoClose&&this.hide(),i}reflow(){this.reflowWrapper&&this.workspace_.removeChangeListener(this.reflowWrapper),this.reflowInternal_(),this.reflowWrapper&&this.workspace_.addChangeListener(this.reflowWrapper)}isScrollable(){return this.workspace_.scrollbar?this.workspace_.scrollbar.isVisible():!1}placeNewBlock(e){var i=this.targetWorkspace;if(!e.getSvgRoot())throw Error("oldBlock is not rendered");const r=this.serializeBlock(e);return i.setResizesEnabled(!1),i=ks(r,i),this.positionNewBlock(e,i),i}serializeBlock(e){return Mi(e)}positionNewBlock(e,i){const r=this.targetWorkspace;var a=r.getOriginOffsetInPixels(),u=this.workspace_.getOriginOffsetInPixels();e=e.getRelativeToSurfaceXY(),e.scale(this.workspace_.scale),u=ne.sum(u,e),a=ne.difference(u,a),a.scale(1/r.scale),i.moveTo(new ne(a.x,a.y))}getInflaterForType(e){if(this.inflaters.has(e)){var i;return(i=this.inflaters.get(e))!=null?i:null}return(i=p(oe.FLYOUT_INFLATER,e))?(i=new i,this.inflaters.set(e,i),i):null}getFocusableElement(){throw Error("Flyouts are not directly focusable.")}getFocusableTree(){throw Error("Flyouts are not directly focusable.")}onNodeFocus(){}onNodeBlur(){}canBeFocused(){return!1}getRootFocusableNode(){throw Error("Flyouts are not directly focusable.")}getRestoredFocusableNode(e){throw Error("Flyouts are not directly focusable.")}getNestedTrees(){throw Error("Flyouts are not directly focusable.")}lookUpFocusableNode(e){throw Error("Flyouts are not directly focusable.")}onTreeFocus(e,i){}onTreeBlur(e){throw Error("Flyouts are not directly focusable.")}},EC=class{constructor(){this.isActive=!1,this.activeClassName="blocklyKeyboardNavigation"}setIsActive(e=!0){this.isActive=e,this.updateActiveVisualization()}getIsActive(){return this.isActive}updateActiveVisualization(){this.isActive?document.body.classList.add(this.activeClassName):document.body.classList.remove(this.activeClassName)}},vp=new EC,vC=class{constructor(e){this.workspace=e,this.horizontalScrollEnabled=this.workspace.isMovableHorizontally(),this.verticalScrollEnabled=this.workspace.isMovableVertically(),this.startScrollXY_=new ne(e.scrollX,e.scrollY)}dispose(){this.workspace=null}startDrag(){}endDrag(e){this.drag(e)}drag(e){if(e=ne.sum(this.startScrollXY_,e),this.horizontalScrollEnabled&&this.verticalScrollEnabled)this.workspace.scroll(e.x,e.y);else if(this.horizontalScrollEnabled)this.workspace.scroll(e.x,this.workspace.scrollY);else if(this.verticalScrollEnabled)this.workspace.scroll(this.workspace.scrollX,e.y);else throw new TypeError("Invalid state.")}},b1=5,T1=6,yp=class{constructor(e,i){this.creatorWorkspace=i,this.mouseDownXY=new ne(0,0),this.startWorkspace_=this.targetBlock=this.startComment=this.startBlock=this.startIcon=this.startField=this.startBubble=null,this.hasExceededDragRadius=!1,this.boundEvents=[],this.workspaceDragger=this.dragger=null,this.dragging=!1,this.flyout=null,this.multiTouch=this.isEnding_=this.gestureHasStarted=this.calledUpdateIsDragging=!1,this.cachedPoints=new Map,this.startDistance=this.previousScale=0,this.currentDropdownOwner=this.isPinchZoomEnabled=null,this.mostRecentEvent=e,this.currentDragDeltaXY=new ne(0,0)}dispose(){I(),e$(),this.creatorWorkspace.clearGesture();for(const e of this.boundEvents)L(e);this.boundEvents.length=0,this.workspaceDragger&&this.workspaceDragger.dispose()}updateFromEvent(e){const i=new ne(e.clientX,e.clientY);this.updateDragDelta(i)&&(this.updateIsDragging(e),v()),this.mostRecentEvent=e}updateDragDelta(e){return this.currentDragDeltaXY=ne.difference(e,this.mouseDownXY),this.hasExceededDragRadius?!1:this.hasExceededDragRadius=ne.magnitude(this.currentDragDeltaXY)>(this.flyout?n.config$$module$build$src$core$config.flyoutDragRadius:n.config$$module$build$src$core$config.dragRadius)}updateIsDraggingFromFlyout(){let e;if(!this.targetBlock||(e=this.flyout)==null||!e.isBlockCreatable(this.targetBlock))return!1;if(!this.flyout.targetWorkspace)throw Error("Cannot update dragging from the flyout because the ' +\n          'flyout's target workspace is undefined");return!this.flyout.isScrollable()||this.flyout.isDragTowardWorkspace(this.currentDragDeltaXY)?(this.startWorkspace_=this.flyout.targetWorkspace,this.startWorkspace_.updateScreenCalculationsIfScrolled(),n.getGroup$$module$build$src$core$events$utils()||n.setGroup$$module$build$src$core$events$utils(!0),this.startBlock=null,this.targetBlock=this.flyout.createBlock(this.targetBlock),n.getFocusManager$$module$build$src$core$focus_manager().focusNode(this.targetBlock),!0):!1}updateIsDraggingWorkspace(){if(!this.startWorkspace_)throw Error("Cannot update dragging the workspace because the start workspace is undefined");(this.flyout?this.flyout.isScrollable():this.startWorkspace_&&this.startWorkspace_.isDraggable())&&(this.dragging=!0,this.workspaceDragger=new vC(this.startWorkspace_),this.workspaceDragger.startDrag())}updateIsDragging(e){if(!this.startWorkspace_)throw Error("Cannot update dragging because the start workspace is undefined");if(this.calledUpdateIsDragging)throw Error("updateIsDragging_ should only be called once per gesture.");this.calledUpdateIsDragging=!0,this.flyout&&this.updateIsDraggingFromFlyout();const i=D();i&&Kl(i)&&i.isMovable()?(this.dragging=!0,this.dragger=this.createDragger(i,this.startWorkspace_),this.dragger.onDragStart(e),this.dragger.onDrag(e,this.currentDragDeltaXY)):this.updateIsDraggingWorkspace()}createDragger(e,i){return new(b(oe.BLOCK_DRAGGER,this.creatorWorkspace.options,!0))(e,i)}doStart(e){if(!this.startWorkspace_)throw Error("Cannot start the touch gesture becauase the start workspace is undefined");this.isPinchZoomEnabled=this.startWorkspace_.options.zoomOptions&&this.startWorkspace_.options.zoomOptions.pinch,H(e)?this.cancel():(this.gestureHasStarted=!0,Xl(),this.startWorkspace_.updateScreenCalculationsIfScrolled(),this.startWorkspace_.isMutator&&this.startWorkspace_.resize(),this.currentDropdownOwner=Nm(),this.startWorkspace_.hideChaff(!!this.flyout),this.startWorkspace_.markFocused(),this.mostRecentEvent=e,Qm(),Y(e)?this.handleRightClick(e):(e.type.toLowerCase()==="pointerdown"&&e.pointerType!=="mouse"&&T(e,this),this.mouseDownXY=new ne(e.clientX,e.clientY),this.bindMouseEvents(e),this.isEnding_||this.handleTouchStart(e)))}bindMouseEvents(e){this.boundEvents.push(S(document,"pointerdown",null,this.handleStart.bind(this),!0)),this.boundEvents.push(S(document,"pointermove",null,this.handleMove.bind(this),!0)),this.boundEvents.push(S(document,"pointerup",null,this.handleUp.bind(this),!0)),this.boundEvents.push(S(document,"pointercancel",null,this.handleUp.bind(this),!0)),e.preventDefault(),e.stopPropagation()}handleStart(e){this.isDragging()||(this.handleTouchStart(e),this.isMultiTouch()&&v())}handleMove(e){this.isDragging()&&k(e)||!this.isMultiTouch()?(this.updateFromEvent(e),this.workspaceDragger?this.workspaceDragger.drag(this.currentDragDeltaXY):this.dragger&&this.dragger.onDrag(this.mostRecentEvent,this.currentDragDeltaXY),e.preventDefault(),e.stopPropagation()):this.isMultiTouch()&&(this.handleTouchMove(e),v())}handleUp(e){if(this.isDragging()||this.handleTouchEnd(e),!this.isMultiTouch()||this.isDragging()){if(!k(e))return;if(this.updateFromEvent(e),v(),this.isEnding_){console.log("Trying to end a gesture recursively.");return}this.isEnding_=!0,this.dragger?(vp.setIsActive(!1),this.dragger.onDragEnd(e,this.currentDragDeltaXY)):this.workspaceDragger?(vp.setIsActive(!1),this.workspaceDragger.endDrag(this.currentDragDeltaXY)):this.isBubbleClick()||this.isCommentClick()||(this.isFieldClick()?this.doFieldClick():this.isIconClick()?this.doIconClick():this.isBlockClick()?this.doBlockClick():this.isWorkspaceClick()&&this.doWorkspaceClick(e))}e.preventDefault(),e.stopPropagation(),this.dispose()}handleTouchStart(e){var i=G(e);this.cachedPoints.set(i,this.getTouchPoint(e));var r=Array.from(this.cachedPoints.keys());r.length===2&&(i=this.cachedPoints.get(r[0]),r=this.cachedPoints.get(r[1]),this.startDistance=ne.distance(i,r),this.multiTouch=!0,e.preventDefault())}handleTouchMove(e){const i=G(e);this.cachedPoints.set(i,this.getTouchPoint(e)),this.isPinchZoomEnabled&&this.cachedPoints.size===2?this.handlePinch(e):(this.updateFromEvent(e),this.workspaceDragger?this.workspaceDragger.drag(this.currentDragDeltaXY):this.dragger&&this.dragger.onDrag(this.mostRecentEvent,this.currentDragDeltaXY),e.preventDefault(),e.stopPropagation())}handlePinch(e){var i=Array.from(this.cachedPoints.keys()),r=this.cachedPoints.get(i[0]);if(i=this.cachedPoints.get(i[1]),r=ne.distance(r,i)/this.startDistance,this.previousScale>0&&this.previousScale<1/0){if(i=r-this.previousScale,i=i>0?i*b1:i*T1,!this.startWorkspace_)throw Error("Cannot handle a pinch because the start workspace is undefined");const a=this.startWorkspace_,u=K(e,a.getParentSvg(),a.getInverseScreenCTM());a.zoom(u.x,u.y,i)}this.previousScale=r,e.preventDefault()}handleTouchEnd(e){e=G(e),this.cachedPoints.has(e)&&this.cachedPoints.delete(e),this.cachedPoints.size<2&&(this.cachedPoints.clear(),this.previousScale=0)}getTouchPoint(e){return this.startWorkspace_?new ne(e.pageX,e.pageY):null}isMultiTouch(){return this.multiTouch}cancel(){this.isEnding_||(v(),this.dragger?this.dragger.onDragEnd(this.mostRecentEvent,this.currentDragDeltaXY):this.workspaceDragger&&this.workspaceDragger.endDrag(this.currentDragDeltaXY),this.dispose())}handleRightClick(e){this.targetBlock?(this.bringBlockToFront(),this.targetBlock.workspace.hideChaff(!!this.flyout),this.targetBlock.showContextMenu(e)):this.startBubble?this.startBubble.showContextMenu(e):this.startComment?(this.startComment.workspace.hideChaff(),this.startComment.showContextMenu(e)):this.startWorkspace_&&!this.flyout&&(this.startWorkspace_.hideChaff(),n.getFocusManager$$module$build$src$core$focus_manager().focusNode(this.startWorkspace_),this.startWorkspace_.showContextMenu(e)),e.preventDefault(),e.stopPropagation(),vp.setIsActive(!1),this.dispose()}handleWsStart(e,i){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");this.setStartWorkspace(i),this.mostRecentEvent=e,this.startBlock||this.startBubble||this.startComment?this.startBlock&&n.getFocusManager$$module$build$src$core$focus_manager().focusNode(this.startBlock):n.getFocusManager$$module$build$src$core$focus_manager().focusNode(i),this.doStart(e)}fireWorkspaceClick(e){V(new(ge(z.CLICK))(null,e.id,"workspace"))}handleFlyoutStart(e,i){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");this.setStartFlyout(i),this.handleWsStart(e,i.getWorkspace())}handleBlockStart(e,i){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");this.setStartBlock(i),this.mostRecentEvent=e}handleBubbleStart(e,i){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");this.setStartBubble(i),this.mostRecentEvent=e}handleCommentStart(e,i){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleCommentStart, but the gesture had already been started.");this.setStartComment(i),this.mostRecentEvent=e}doFieldClick(){if(!this.startField)throw Error("Cannot do a field click because the start field is undefined");this.bringBlockToFront(),this.currentDropdownOwner!==this.startField&&this.startField.showEditor(this.mostRecentEvent)}doIconClick(){if(!this.startIcon)throw Error("Cannot do an icon click because the start icon is undefined");this.bringBlockToFront(),this.startIcon.onClick()}doBlockClick(){if(this.flyout&&this.flyout.autoClose){if(!this.targetBlock)throw Error("Cannot do a block click because the target block is undefined");if(this.flyout.isBlockCreatable(this.targetBlock)){n.getGroup$$module$build$src$core$events$utils()||n.setGroup$$module$build$src$core$events$utils(!0);var e=this.flyout.createBlock(this.targetBlock);e.snapToGrid(),e.bumpNeighbours(),n.getFocusManager$$module$build$src$core$focus_manager().focusNode(e)}}else{if(!this.startWorkspace_)throw Error("Cannot do a block click because the start workspace is undefined");e=new(ge(z.CLICK))(this.startBlock,this.startWorkspace_.id,"block"),V(e)}this.bringBlockToFront(),n.setGroup$$module$build$src$core$events$utils(!1)}doWorkspaceClick(e){this.fireWorkspaceClick(this.startWorkspace_||this.creatorWorkspace)}bringBlockToFront(){this.targetBlock&&!this.flyout&&(n.getFocusManager$$module$build$src$core$focus_manager().focusNode(this.targetBlock),this.targetBlock.bringToFront())}setStartField(e){if(this.gestureHasStarted)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");this.startField||(this.startField=e)}setStartIcon(e){if(this.gestureHasStarted)throw Error("Tried to call gesture.setStartIcon, but the gesture had already been started.");this.startIcon||(this.startIcon=e)}setStartBubble(e){this.startBubble||(this.startBubble=e)}setStartComment(e){this.startComment||(this.startComment=e)}setStartBlock(e){this.startBlock||this.startBubble||(this.startBlock=e,e.isInFlyout&&e!==e.getRootBlock()?this.setTargetBlock(e.getRootBlock()):this.setTargetBlock(e))}setTargetBlock(e){e.isShadow()?this.setTargetBlock(e.getParent()):(this.targetBlock=e,n.getFocusManager$$module$build$src$core$focus_manager().focusNode(e))}setStartWorkspace(e){this.startWorkspace_||(this.startWorkspace_=e)}setStartFlyout(e){this.flyout||(this.flyout=e)}isBubbleClick(){return!!this.startBubble&&!this.hasExceededDragRadius}isCommentClick(){return!!this.startComment&&!this.hasExceededDragRadius}isBlockClick(){return!!this.startBlock&&!this.hasExceededDragRadius&&!this.isFieldClick()&&!this.isIconClick()}isFieldClick(){return this.startField?this.startField.isClickable()&&!this.hasExceededDragRadius&&(!this.flyout||this.startField.isClickableInFlyout(this.flyout.autoClose)):!1}isIconClick(){if(!this.startIcon)return!1;const e=!this.flyout||!this.startIcon.isClickableInFlyout||this.startIcon.isClickableInFlyout(this.flyout.autoClose);return!this.hasExceededDragRadius&&e}isWorkspaceClick(){return!this.startBlock&&!this.startBubble&&!this.startField&&!this.hasExceededDragRadius}getCurrentDragger(){let e,i;return(i=(e=this.workspaceDragger)!=null?e:this.dragger)!=null?i:null}isDragging(){return this.dragging}hasStarted(){return this.gestureHasStarted}static inProgress(){const e=Lt();for(let i=0,r;r=e[i];i++)if(r.currentGesture_)return!0;return!1}},fb=class{constructor(e,i){this.pattern=e,this.scale=1;let r;this.spacing=(r=i.spacing)!=null?r:0;let a;this.length=(a=i.length)!=null?a:1,this.line2=(this.line1=e.firstChild)&&this.line1.nextSibling;let u;this.snapToGrid=(u=i.snap)!=null?u:!1}setSpacing(e){this.spacing=e,this.update(this.scale)}getSpacing(){return this.spacing}setLength(e){this.length=e,this.update(this.scale)}getLength(){return this.length}setSnapToGrid(e){this.snapToGrid=e}shouldSnap(){return this.snapToGrid}getPatternId(){return this.pattern.id}update(e){this.scale=e;var i=this.spacing*e;this.pattern.setAttribute("width","".concat(i)),this.pattern.setAttribute("height","".concat(i)),i=Math.floor(this.spacing/2)+.5;let r=i-this.length/2,a=i+this.length/2;i*=e,r*=e,a*=e,this.setLineAttributes(this.line1,e,r,a,i,i),this.setLineAttributes(this.line2,e,i,i,r,a)}setLineAttributes(e,i,r,a,u,f){e&&(e.setAttribute("stroke-width","".concat(i)),e.setAttribute("x1","".concat(r)),e.setAttribute("y1","".concat(u)),e.setAttribute("x2","".concat(a)),e.setAttribute("y2","".concat(f)))}moveTo(e,i){this.pattern.setAttribute("x","".concat(e)),this.pattern.setAttribute("y","".concat(i))}alignXY(e){var i=this.getSpacing();const r=i/2,a=Math.round(Math.round((e.x-r)/i)*i+r);return i=Math.round(Math.round((e.y-r)/i)*i+r),a===e.x&&i===e.y?e:new ne(a,i)}static createDom(e,i,r,a){e=q(F.PATTERN,{id:"blocklyGridPattern"+e,patternUnits:"userSpaceOnUse"},r);let u,f;if(((u=i.length)!=null?u:1)>0&&((f=i.spacing)!=null?f:0)>0){q(F.LINE,{stroke:i.colour},e);let E;(E=i.length)!=null&&E&&q(F.LINE,{stroke:i.colour},e)}else q(F.LINE,{},e);return a&&a.style.setProperty("--blocklyGridPattern","url(#".concat(e.id,")")),e}},E1=class{constructor(e){this.workspace=e,this.layers=new Map,(e=e.getInjectionDiv())&&(this.dragLayer=this.createDragLayer(e),this.animationLayer=this.createAnimationLayer(e)),e=this.createLayer(Fs),fe(e,"blocklyBlockCanvas"),e=this.createLayer(ap),fe(e,"blocklyBubbleCanvas")}createDragLayer(e){const i=q(F.SVG,{class:"blocklyBlockDragSurface",xmlns:Wc,"xmlns:html":Mr,"xmlns:xlink":$i,version:"1.1"});return e.append(i),q(F.G,{},i)}createAnimationLayer(e){const i=q(F.SVG,{class:"blocklyAnimationLayer",xmlns:Wc,"xmlns:html":Mr,"xmlns:xlink":$i,version:"1.1"});return e.append(i),q(F.G,{},i)}appendToAnimationLayer(e){let i;const r=(i=this.dragLayer)==null?void 0:i.getAttribute("transform");if(r){let u;(u=this.animationLayer)==null||u.setAttribute("transform",r)}let a;(a=this.animationLayer)==null||a.appendChild(e.getSvgRoot())}translateLayers(e,i){e="translate(".concat(e.x,", ").concat(e.y,") scale(").concat(i,")");let r;(r=this.dragLayer)==null||r.setAttribute("transform",e);for(const[,a]of this.layers)a.setAttribute("transform",e)}moveToDragLayer(e){let i;(i=this.dragLayer)==null||i.appendChild(e.getSvgRoot()),e.canBeFocused()&&n.getFocusManager$$module$build$src$core$focus_manager().focusNode(e)}moveOffDragLayer(e,i){this.append(e,i),e.canBeFocused()&&n.getFocusManager$$module$build$src$core$focus_manager().focusNode(e)}append(e,i){this.layers.has(i)||this.createLayer(i),e=e.getSvgRoot();let r;if(((r=this.layers.get(i))==null?void 0:r.lastChild)!==e){let a;(a=this.layers.get(i))==null||a.appendChild(e)}}createLayer(e){const i=this.workspace.getSvgGroup(),r=q(F.G,{});let a=!1;const u=[...this.layers].sort((f,E)=>f[0]-E[0]);for(const[f,E]of u)if(e<f){i.insertBefore(r,E),a=!0;break}return a||i.appendChild(r),this.layers.set(e,r),r}hasLayer(e){return e===this.dragLayer||new Set(this.layers.values()).has(e)}getBlockLayer(){return this.layers.get(Fs)}getBubbleLayer(){return this.layers.get(ap)}},yC=class{constructor(){this.curNode=this.colour=null,this.type="marker"}getCurNode(){return this.curNode}setCurNode(e){this.curNode=e}dispose(){this.curNode=null}getSourceBlockFromNode(e){return e instanceof ht?e:e instanceof lt||e instanceof Eo?e.getSourceBlock():null}getSourceBlock(){return this.getSourceBlockFromNode(this.getCurNode())}},gb=class extends yC{constructor(e){super(),this.workspace=e,this.type="cursor",this.potentialNodes=null}next(){var e=this.getCurNode();return e?((e=this.getNextNode(e,i=>{let r;return i instanceof ht&&!((r=i.outputConnection)!=null&&r.targetBlock())||i instanceof Qn},!0))&&this.setCurNode(e),e):null}in(){var e=this.getCurNode();return e?((e=this.getNextNode(e,()=>!0,!0))&&this.setCurNode(e),e):null}prev(){var e=this.getCurNode();return e?((e=this.getPreviousNode(e,i=>{let r;return i instanceof ht&&!((r=i.outputConnection)!=null&&r.targetBlock())||i instanceof Qn},!0))&&this.setCurNode(e),e):null}out(){var e=this.getCurNode();return e?((e=this.getPreviousNode(e,()=>!0,!0))&&this.setCurNode(e),e):null}atEndOfLine(){var e=this.getCurNode();if(!e)return!1;const i=this.getNextNode(e,()=>!0,!0);return e=this.getNextNode(e,r=>{let a;return r instanceof ht&&!((a=r.outputConnection)!=null&&a.targetBlock())},!0),i===e}getNextNodeImpl(e,i,r=new Set){if(!e||r.has(e))return null;let a=this.workspace.getNavigator().getFirstChild(e)||this.workspace.getNavigator().getNextSibling(e);for(var u=e;u&&!a&&(u=this.workspace.getNavigator().getParent(u),!!u);)a=this.workspace.getNavigator().getNextSibling(u);return i(a)?a:a?(r.add(e),this.getNextNodeImpl(a,i,r)):null}getNextNode(e,i,r){return!e||!r&&this.getLastNode()===e?null:this.getNextNodeImpl(e,i)}getPreviousNodeImpl(e,i,r=new Set){if(!e||r.has(e))return null;const a=this.getRightMostChild(this.workspace.getNavigator().getPreviousSibling(e),e)||this.workspace.getNavigator().getParent(e);return i(a)?a:a?(r.add(e),this.getPreviousNodeImpl(a,i,r)):null}getPreviousNode(e,i,r){return!e||!r&&this.getFirstNode()===e?null:this.getPreviousNodeImpl(e,i)}getRightMostChild(e,i){if(!e)return e;let r=this.workspace.getNavigator().getFirstChild(e);if(!r||r===i)return e;for(e=r;e&&e!==i;e=this.workspace.getNavigator().getNextSibling(r))r=e;return this.getRightMostChild(r,i)}preDelete(e){var i=this.getCurNode();i=i?[i]:[];var r;let a,u;const f=(u=(r=e.previousConnection)==null?void 0:r.targetConnection)!=null?u:(a=e.outputConnection)==null?void 0:a.targetConnection;f&&i.push(f),(r=e.getNextBlock())&&i.push(r),(e=e.getParent())&&i.push(e),i.push(this.workspace),this.potentialNodes=i}postDelete(){const e=this.potentialNodes;if(this.potentialNodes=null,!e)throw Error("must call preDelete first");for(const i of e){let r;if((r=this.getSourceBlockFromNode(i))==null||!r.disposed){this.setCurNode(i);return}}throw Error("no valid nodes in this.potentialNodes")}getCurNode(){return n.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode()}setCurNode(e){n.getFocusManager$$module$build$src$core$focus_manager().focusNode(e)}getFirstNode(){return this.workspace.getNavigator().getFirstChild(this.workspace)}getLastNode(){const e=this.getFirstNode();return this.getPreviousNode(e,()=>!0,!0)}};s(oe.CURSOR,mi,gb);var mb=class{constructor(e){this.workspace=e,this.markers=new Map,this.cursor=new gb(this.workspace)}registerMarker(e,i){this.markers.has(e)&&this.unregisterMarker(e),this.markers.set(e,i)}unregisterMarker(e){const i=this.markers.get(e);if(i)i.dispose(),this.markers.delete(e);else throw Error("Marker with ID "+e+" does not exist. Can only unregister markers that exist.")}getCursor(){return this.cursor}getMarker(e){return this.markers.get(e)||null}setCursor(e){this.cursor=e}dispose(){const e=Object.keys(this.markers);for(let i=0,r;r=e[i];i++)this.unregisterMarker(r);this.markers.clear(),this.cursor.dispose()}};mb.LOCAL_MARKER="local_marker_1";var Gs={};Gs.CommentIcon=ln,Gs.Icon=lu,Gs.IconType=eo,Gs.MutatorIcon=n.MutatorIcon$$module$build$src$core$icons$mutator_icon,Gs.WarningIcon=Cn,Gs.exceptions=oC,Gs.registry=ub,n.Names$$module$build$src$core$names=class{constructor(e,i){this.db=new Map,this.dbReverse=new Set,this.variableMap=null,this.variablePrefix=i||"",this.reservedWords=new Set(e?e.split(","):[])}reset(){this.db.clear(),this.dbReverse.clear(),this.variableMap=null}setVariableMap(e){this.variableMap=e}getNameForUserVariable(e){return this.variableMap?(e=this.variableMap.getVariableById(e))?e.getName():null:(console.warn("Deprecated call to Names.prototype.getName without defining a variable map. To fix, add the following code in your generator's init() function:\nBlockly.YourGeneratorName.nameDB_.setVariableMap(workspace.getVariableMap());"),null)}populateVariables(e){e=n.allUsedVarModels$$module$build$src$core$variables(e);for(let i=0;i<e.length;i++)this.getName(e[i].getId(),n.NameType$$module$build$src$core$names.VARIABLE)}populateProcedures(e){throw Error("The implementation of populateProcedures should be monkey-patched in by blockly.ts")}getName(e,i){let r=e;i===n.NameType$$module$build$src$core$names.VARIABLE&&(e=this.getNameForUserVariable(e))&&(r=e),e=r.toLowerCase();const a=i===n.NameType$$module$build$src$core$names.VARIABLE||i===n.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE?this.variablePrefix:"";this.db.has(i)||this.db.set(i,new Map);const u=this.db.get(i);return u.has(e)?a+u.get(e):(i=this.getDistinctName(r,i),u.set(e,i.substr(a.length)),i)}getUserNames(e){let i;return(e=(i=this.db.get(e))==null?void 0:i.keys())?Array.from(e):[]}getDistinctName(e,i){e=this.safeName(e);let r=null,a,u;for(;this.dbReverse.has(e+((a=r)!=null?a:""))||this.reservedWords.has(e+((u=r)!=null?u:""));)r=r?r+1:2;let f;return e+=(f=r)!=null?f:"",this.dbReverse.add(e),(i===n.NameType$$module$build$src$core$names.VARIABLE||i===n.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE?this.variablePrefix:"")+e}safeName(e){return e?(e=encodeURI(e.replace(/ /g,"_")).replace(/[^\w]/g,"_"),"0123456789".includes(e[0])&&(e="my_"+e)):e=n.Msg$$module$build$src$core$msg.UNNAMED_KEY||"unnamed",e}static equals(e,i){return e.toLowerCase()===i.toLowerCase()}},function(e){e=e.NameType||(e.NameType={}),e.DEVELOPER_VARIABLE="DEVELOPER_VARIABLE",e.VARIABLE="VARIABLE",e.PROCEDURE="PROCEDURE"}(n.Names$$module$build$src$core$names||(n.Names$$module$build$src$core$names={})),n.NameType$$module$build$src$core$names=n.Names$$module$build$src$core$names.NameType,n.Names$$module$build$src$core$names.DEVELOPER_VARIABLE_TYPE=n.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE,n.NameType$$module$build$src$core$names,n.Names$$module$build$src$core$names;var SC=class extends Map{constructor(){super()}set(e,i){return this.get(e)===i?this:(super.set(e,i),Ih(i)&&i.startPublishing(),this)}delete(e){const i=this.get(e);return e=super.delete(e),e&&(Ih(i)&&i.stopPublishing(),e)}clear(){if(this.size)for(const e of this.keys())this.delete(e)}add(e){return this.set(e.getId(),e)}getProcedures(){return[...this.values()]}},Sp,Go;Sp="PROCEDURE",n.DEFAULT_ARG$$module$build$src$core$procedures="x",Go={CATEGORY_NAME:Sp,DEFAULT_ARG:n.DEFAULT_ARG$$module$build$src$core$procedures},Go.ObservableProcedureMap=SC,Go.allProcedures=Hc,Go.findLegalName=n.findLegalName$$module$build$src$core$procedures,Go.flyoutCategory=k$,Go.getCallers=x$,Go.getDefinition=n.getDefinition$$module$build$src$core$procedures,Go.internalFlyoutCategory=Oh,Go.isNameUsed=L$,Go.isProcedureBlock=Ms,Go.mutateCallers=n.mutateCallers$$module$build$src$core$procedures,Go.mutatorOpenListener=M$,Go.rename=n.rename$$module$build$src$core$procedures;var v1=class{constructor(){this.NONE=0,this.FIELD=1,this.HAT=2,this.ICON=4,this.SPACER=8,this.BETWEEN_ROW_SPACER=16,this.IN_ROW_SPACER=32,this.EXTERNAL_VALUE_INPUT=64,this.INPUT=128,this.INLINE_INPUT=256,this.STATEMENT_INPUT=512,this.CONNECTION=1024,this.PREVIOUS_CONNECTION=2048,this.NEXT_CONNECTION=4096,this.OUTPUT_CONNECTION=8192,this.CORNER=16384,this.LEFT_SQUARE_CORNER=32768,this.LEFT_ROUND_CORNER=65536,this.RIGHT_SQUARE_CORNER=131072,this.RIGHT_ROUND_CORNER=262144,this.JAGGED_EDGE=524288,this.ROW=1048576,this.TOP_ROW=2097152,this.BOTTOM_ROW=4194304,this.INPUT_ROW=8388608,this.LEFT_CORNER=this.LEFT_SQUARE_CORNER|this.LEFT_ROUND_CORNER,this.RIGHT_CORNER=this.RIGHT_SQUARE_CORNER|this.RIGHT_ROUND_CORNER,this.nextTypeValue_=16777216}getType(e){return Object.prototype.hasOwnProperty.call(this,e)||(this[e]=this.nextTypeValue_,this.nextTypeValue_<<=1),this[e]}isField(e){return(e.type&this.FIELD)>=1}isHat(e){return(e.type&this.HAT)>=1}isIcon(e){return(e.type&this.ICON)>=1}isSpacer(e){return(e.type&this.SPACER)>=1}isInRowSpacer(e){return(e.type&this.IN_ROW_SPACER)>=1}isSpacerRow(e){return(e.type&this.BETWEEN_ROW_SPACER)>=1}isInput(e){return(e.type&this.INPUT)>=1}isExternalInput(e){return(e.type&this.EXTERNAL_VALUE_INPUT)>=1}isInlineInput(e){return(e.type&this.INLINE_INPUT)>=1}isStatementInput(e){return(e.type&this.STATEMENT_INPUT)>=1}isPreviousConnection(e){return(e.type&this.PREVIOUS_CONNECTION)>=1}isNextConnection(e){return(e.type&this.NEXT_CONNECTION)>=1}isPreviousOrNextConnection(e){return this.isPreviousConnection(e)||this.isNextConnection(e)}isRoundCorner(e){return(e.type&this.LEFT_ROUND_CORNER)>=1||(e.type&this.RIGHT_ROUND_CORNER)>=1}isLeftRoundedCorner(e){return this.isRoundCorner(e)&&(e.type&this.LEFT_ROUND_CORNER)>=1}isRightRoundedCorner(e){return this.isRoundCorner(e)&&(e.type&this.RIGHT_ROUND_CORNER)>=1}isLeftSquareCorner(e){return(e.type&this.LEFT_SQUARE_CORNER)>=1}isRightSquareCorner(e){return(e.type&this.RIGHT_SQUARE_CORNER)>=1}isCorner(e){return(e.type&this.CORNER)>=1}isJaggedEdge(e){return(e.type&this.JAGGED_EDGE)>=1}isRow(e){return(e.type&this.ROW)>=1}isBetweenRowSpacer(e){return(e.type&this.BETWEEN_ROW_SPACER)>=1}isTopRow(e){return(e.type&this.TOP_ROW)>=1}isBottomRow(e){return(e.type&this.BOTTOM_ROW)>=1}isTopOrBottomRow(e){return this.isTopRow(e)||this.isBottomRow(e)}isInputRow(e){return(e.type&this.INPUT_ROW)>=1}},x=new v1,wn=class{constructor(e){this.centerline=this.xPos=this.height=this.width=0,this.constants_=e,this.type=x.NONE,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT}},du=class{constructor(e){this.elements=[],this.xPos=this.yPos=this.widthWithConnectedBlocks=this.minWidth=this.minHeight=this.width=this.height=0,this.hasStatement=this.hasExternalInput=!1,this.statementEdge=0,this.hasJaggedEdge=this.hasDummyInput=this.hasInlineInput=!1,this.align=null,this.constants_=e,this.type=x.ROW,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT}getLastInput(){for(let e=this.elements.length-1;e>=0;e--){const i=this.elements[e];if(x.isInput(i))return i}return null}measure(){throw Error("Unexpected attempt to measure a base Row.")}startsWithElemSpacer(){return!0}endsWithElemSpacer(){return!0}getFirstSpacer(){for(let e=0;e<this.elements.length;e++){const i=this.elements[e];if(x.isInRowSpacer(i))return i}return null}getLastSpacer(){for(let e=this.elements.length-1;e>=0;e--){const i=this.elements[e];if(x.isInRowSpacer(i))return i}return null}},$b=class extends du{constructor(e){super(e),this.hasNextConnection=!1,this.connection=null,this.baseline=this.descenderHeight=0,this.type|=x.BOTTOM_ROW}hasLeftSquareCorner(e){return!!e.outputConnection||!!e.getNextBlock()}hasRightSquareCorner(e){return!0}measure(){let e=0,i=0,r=0;for(let a=0;a<this.elements.length;a++){const u=this.elements[a];i+=u.width,x.isSpacer(u)||(x.isNextConnection(u)?r=Math.max(r,u.height):e=Math.max(e,u.height))}this.width=Math.max(this.minWidth,i),this.height=Math.max(this.minHeight,e)+r,this.descenderHeight=r,this.widthWithConnectedBlocks=this.width}startsWithElemSpacer(){return!1}endsWithElemSpacer(){return!1}},jr=class extends wn{constructor(e,i){super(e),this.connectionModel=i,this.type|=x.CONNECTION,this.shape=this.constants_.shapeFor(i),this.isDynamicShape="isDynamic"in this.shape&&this.shape.isDynamic,this.highlighted=i.isHighlighted()}},Ip=class extends jr{constructor(e,i){super(e,i.connection),this.input=i,this.connectionOffsetY=this.connectionOffsetX=0,this.type|=x.INPUT,this.align=i.align,(this.connectedBlock=i.connection&&i.connection.targetBlock()?i.connection.targetBlock():null)?(e=this.connectedBlock.getHeightWidth(),this.connectedBlockWidth=e.width,this.connectedBlockHeight=e.height):this.connectedBlockHeight=this.connectedBlockWidth=0}},_b=class extends Ip{constructor(e,i){super(e,i),this.height=0,this.type|=x.EXTERNAL_VALUE_INPUT,this.height=this.connectedBlock?this.connectedBlockHeight-this.constants_.TAB_OFFSET_FROM_TOP-this.constants_.MEDIUM_PADDING:this.shape.height,this.width=this.shape.width+this.constants_.EXTERNAL_VALUE_INPUT_PADDING,this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP,this.connectionHeight=this.shape.height,this.connectionWidth=this.shape.width}},bb=class extends wn{constructor(e,i,r){super(e),this.field=i,this.parentInput=r,this.isEditable=i.EDITABLE,this.flipRtl=i.getFlipRtl(),this.type|=x.FIELD,e=this.field.getSize(),this.height=e.height,this.width=e.width}},IC=class extends wn{constructor(e){super(e),this.type|=x.HAT,this.height=this.constants_.START_HAT.height,this.width=this.constants_.START_HAT.width,this.ascenderHeight=this.height}},OC=class extends wn{constructor(e,i){super(e),this.icon=i,this.flipRtl=!1,this.type|=x.ICON,e=i.getSize(),this.height=e.height,this.width=e.width}},yi=class extends wn{constructor(e,i){super(e),this.type|=x.SPACER|x.IN_ROW_SPACER,this.width=i,this.height=this.constants_.SPACER_DEFAULT_HEIGHT}},Tb=class extends Ip{constructor(e,i){super(e,i),this.type|=x.INLINE_INPUT,this.connectedBlock?(this.width=this.connectedBlockWidth,this.height=this.connectedBlockHeight):(this.height=this.constants_.EMPTY_INLINE_INPUT_HEIGHT,this.width=this.constants_.EMPTY_INLINE_INPUT_PADDING),this.connectionHeight=this.isDynamicShape?this.shape.height(this.height):this.shape.height,this.connectionWidth=this.isDynamicShape?this.shape.width(this.height):this.shape.width,this.connectedBlock||(this.width+=this.connectionWidth*(this.isDynamicShape?2:1)),this.connectionOffsetY="connectionOffsetY"in this.shape?this.shape.connectionOffsetY(this.connectionHeight):this.constants_.TAB_OFFSET_FROM_TOP,this.connectionOffsetX="connectionOffsetX"in this.shape?this.shape.connectionOffsetX(this.connectionWidth):0}},Eb=class extends du{constructor(e){super(e),this.connectedBlockWidths=0,this.type|=x.INPUT_ROW}measure(){this.width=this.minWidth,this.height=this.minHeight;let e=0;for(let i=0;i<this.elements.length;i++){const r=this.elements[i];this.width+=r.width,x.isInput(r)&&(x.isStatementInput(r)?e+=r.connectedBlockWidth:x.isExternalInput(r)&&r.connectedBlockWidth!==0&&(e+=r.connectedBlockWidth-r.connectionWidth)),x.isSpacer(r)||(this.height=Math.max(this.height,r.height))}this.connectedBlockWidths=e,this.widthWithConnectedBlocks=this.width+e}endsWithElemSpacer(){return!this.hasExternalInput&&!this.hasStatement}},RC=class extends wn{constructor(e){super(e),this.type|=x.JAGGED_EDGE,this.height=this.constants_.JAGGED_TEETH.height,this.width=this.constants_.JAGGED_TEETH.width}},CC=class extends jr{constructor(e,i){super(e,i),this.type|=x.NEXT_CONNECTION,this.height=this.shape.height,this.width=this.shape.width}},wC=class extends jr{constructor(e,i){super(e,i),this.connectionOffsetX=0,this.type|=x.OUTPUT_CONNECTION,this.height=this.isDynamicShape?0:this.shape.height,this.startX=this.width=this.isDynamicShape?0:this.shape.width,this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP}},AC=class extends jr{constructor(e,i){super(e,i),this.type|=x.PREVIOUS_CONNECTION,this.height=this.shape.height,this.width=this.shape.width}},hu=class extends wn{constructor(e,i){super(e),this.type=(i&&i!=="left"?x.RIGHT_ROUND_CORNER:x.LEFT_ROUND_CORNER)|x.CORNER,this.width=this.constants_.CORNER_RADIUS,this.height=this.constants_.CORNER_RADIUS/2}},vb=class extends du{constructor(e,i,r){super(e),this.height=i,this.width=r,this.precedesStatement=this.followsStatement=!1,this.widthWithConnectedBlocks=0,this.type|=x.SPACER|x.BETWEEN_ROW_SPACER,this.elements=[new yi(this.constants_,r)]}measure(){}},pu=class extends wn{constructor(e,i){super(e),this.type=(i&&i!=="left"?x.RIGHT_SQUARE_CORNER:x.LEFT_SQUARE_CORNER)|x.CORNER,this.width=this.height=this.constants_.NO_PADDING}},Op=class extends Ip{constructor(e,i){super(e,i),this.type|=x.STATEMENT_INPUT,this.height=this.connectedBlock?this.connectedBlockHeight+this.constants_.STATEMENT_BOTTOM_SPACER:this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT,this.width=this.constants_.STATEMENT_INPUT_NOTCH_OFFSET+this.shape.width}},yb=class extends du{constructor(e){super(e),this.ascenderHeight=this.capline=0,this.hasPreviousConnection=!1,this.connection=null,this.type|=x.TOP_ROW}hasLeftSquareCorner(e){const i=(e.hat?e.hat==="cap":this.constants_.ADD_START_HATS)&&!e.outputConnection&&!e.previousConnection,r=e.getPreviousBlock();return!!e.outputConnection||i||(r?r.getNextBlock()===e:!1)}hasRightSquareCorner(e){return!0}measure(){let e=0,i=0,r=0;for(let a=0;a<this.elements.length;a++){const u=this.elements[a];i+=u.width,x.isSpacer(u)||(x.isHat(u)?r=Math.max(r,u.ascenderHeight):e=Math.max(e,u.height))}this.width=Math.max(this.minWidth,i),this.height=Math.max(this.minHeight,e)+r,this.capline=this.ascenderHeight=r,this.widthWithConnectedBlocks=this.width}startsWithElemSpacer(){return!1}endsWithElemSpacer(){return!1}},Rp=class{constructor(){this.NO_PADDING=0,this.SMALL_PADDING=3,this.MEDIUM_PADDING=5,this.MEDIUM_LARGE_PADDING=8,this.LARGE_PADDING=10,this.TAB_HEIGHT=15,this.TAB_OFFSET_FROM_TOP=5,this.TAB_VERTICAL_OVERLAP=2.5,this.TAB_WIDTH=8,this.NOTCH_WIDTH=15,this.NOTCH_HEIGHT=4,this.MIN_BLOCK_WIDTH=12,this.EMPTY_BLOCK_SPACER_HEIGHT=16,this.CORNER_RADIUS=8,this.NOTCH_OFFSET_LEFT=15,this.STATEMENT_BOTTOM_SPACER=0,this.STATEMENT_INPUT_PADDING_LEFT=20,this.BETWEEN_STATEMENT_PADDING_Y=4,this.ADD_START_HATS=!1,this.START_HAT_HEIGHT=15,this.START_HAT_WIDTH=100,this.SPACER_DEFAULT_HEIGHT=15,this.MIN_BLOCK_HEIGHT=24,this.EMPTY_INLINE_INPUT_PADDING=14.5,this.EXTERNAL_VALUE_INPUT_PADDING=2,this.JAGGED_TEETH_HEIGHT=12,this.JAGGED_TEETH_WIDTH=6,this.FIELD_TEXT_FONTSIZE=11,this.FIELD_TEXT_FONTWEIGHT="normal",this.FIELD_TEXT_FONTFAMILY="sans-serif",this.FIELD_TEXT_BASELINE=this.FIELD_TEXT_HEIGHT=-1,this.FIELD_BORDER_RECT_RADIUS=4,this.FIELD_BORDER_RECT_HEIGHT=16,this.FIELD_BORDER_RECT_X_PADDING=5,this.FIELD_BORDER_RECT_Y_PADDING=3,this.FIELD_BORDER_RECT_COLOUR="#fff",this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!1,this.FIELD_DROPDOWN_SVG_ARROW_SIZE=12,this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=!1,this.FIELD_COLOUR_DEFAULT_WIDTH=26,this.defs=null,this.embossFilterId="",this.embossFilter=null,this.disabledPatternId="",this.disabledPattern=null,this.debugFilterId="",this.cssNode=this.debugFilter=null,this.CURSOR_COLOUR="#cc0a0a",this.MARKER_COLOUR="#4286f4",this.CURSOR_WS_WIDTH=100,this.WS_CURSOR_HEIGHT=5,this.CURSOR_STACK_PADDING=10,this.CURSOR_BLOCK_PADDING=2,this.CURSOR_STROKE_WIDTH=4,this.FULL_BLOCK_FIELDS=!1,this.INSERTION_MARKER_COLOUR="#000000",this.INSERTION_MARKER_OPACITY=.2,this.SHAPES={PUZZLE:1,NOTCH:2},this.TALL_INPUT_FIELD_OFFSET_Y=this.MEDIUM_PADDING,this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=this.DUMMY_INPUT_MIN_HEIGHT=this.TAB_HEIGHT,this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT,this.TOP_ROW_MIN_HEIGHT=this.MEDIUM_PADDING,this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.BOTTOM_ROW_MIN_HEIGHT=this.MEDIUM_PADDING,this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.EMPTY_INLINE_INPUT_HEIGHT=this.TAB_HEIGHT+11,this.EMPTY_STATEMENT_INPUT_HEIGHT=this.MIN_BLOCK_HEIGHT,this.START_POINT=kt(0,0),this.FIELD_TEXT_BASELINE_CENTER=!0,this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT,this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING,this.FIELD_DROPDOWN_SVG_ARROW_DATAURI="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMi43MSIgaGVpZ2h0PSI4Ljc5IiB2aWV3Qm94PSIwIDAgMTIuNzEgOC43OSI+PHRpdGxlPmRyb3Bkb3duLWFycm93PC90aXRsZT48ZyBvcGFjaXR5PSIwLjEiPjxwYXRoIGQ9Ik0xMi43MSwyLjQ0QTIuNDEsMi40MSwwLDAsMSwxMiw0LjE2TDguMDgsOC4wOGEyLjQ1LDIuNDUsMCwwLDEtMy40NSwwTDAuNzIsNC4xNkEyLjQyLDIuNDIsMCwwLDEsMCwyLjQ0LDIuNDgsMi40OCwwLDAsMSwuNzEuNzFDMSwwLjQ3LDEuNDMsMCw2LjM2LDBTMTEuNzUsMC40NiwxMiwuNzFBMi40NCwyLjQ0LDAsMCwxLDEyLjcxLDIuNDRaIiBmaWxsPSIjMjMxZjIwIi8+PC9nPjxwYXRoIGQ9Ik02LjM2LDcuNzlhMS40MywxLjQzLDAsMCwxLTEtLjQyTDEuNDIsMy40NWExLjQ0LDEuNDQsMCwwLDEsMC0yYzAuNTYtLjU2LDkuMzEtMC41Niw5Ljg3LDBhMS40NCwxLjQ0LDAsMCwxLDAsMkw3LjM3LDcuMzdBMS40MywxLjQzLDAsMCwxLDYuMzYsNy43OVoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=",this.FIELD_COLOUR_DEFAULT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT,this.FIELD_CHECKBOX_X_OFFSET=this.FIELD_BORDER_RECT_X_PADDING-3,this.randomIdentifier=String(Math.random()).substring(2)}init(){this.JAGGED_TEETH=this.makeJaggedTeeth(),this.NOTCH=this.makeNotch(),this.START_HAT=this.makeStartHat(),this.PUZZLE_TAB=this.makePuzzleTab(),this.INSIDE_CORNERS=this.makeInsideCorners(),this.OUTSIDE_CORNERS=this.makeOutsideCorners()}setTheme(e){this.blockStyles=Object.create(null);const i=e.blockStyles;for(const r in i)this.blockStyles[r]=this.validatedBlockStyle_(i[r]);this.setDynamicProperties_(e)}setDynamicProperties_(e){this.setFontConstants_(e),this.setComponentConstants_(e),this.ADD_START_HATS=e.startHats!==void 0?e.startHats:this.ADD_START_HATS}setFontConstants_(e){e.fontStyle&&e.fontStyle.family&&(this.FIELD_TEXT_FONTFAMILY=e.fontStyle.family),e.fontStyle&&e.fontStyle.weight&&(this.FIELD_TEXT_FONTWEIGHT=e.fontStyle.weight),e.fontStyle&&e.fontStyle.size&&(this.FIELD_TEXT_FONTSIZE=e.fontStyle.size),e=M("Hg",this.FIELD_TEXT_FONTSIZE+"pt",this.FIELD_TEXT_FONTWEIGHT,this.FIELD_TEXT_FONTFAMILY),this.FIELD_TEXT_HEIGHT=e.height,this.FIELD_TEXT_BASELINE=e.baseline}setComponentConstants_(e){this.CURSOR_COLOUR=e.getComponentStyle("cursorColour")||this.CURSOR_COLOUR,this.MARKER_COLOUR=e.getComponentStyle("markerColour")||this.MARKER_COLOUR,this.INSERTION_MARKER_COLOUR=e.getComponentStyle("insertionMarkerColour")||this.INSERTION_MARKER_COLOUR,this.INSERTION_MARKER_OPACITY=Number(e.getComponentStyle("insertionMarkerOpacity"))||this.INSERTION_MARKER_OPACITY}getBlockStyleForColour(e){const i="auto_"+e;return this.blockStyles[i]||(this.blockStyles[i]=this.createBlockStyle_(e)),{style:this.blockStyles[i],name:i}}getBlockStyle(e){return this.blockStyles[e||""]||(e&&e.startsWith("auto_")?this.getBlockStyleForColour(e.substring(5)).style:this.createBlockStyle_("#000000"))}createBlockStyle_(e){return this.validatedBlockStyle_({colourPrimary:e})}validatedBlockStyle_(e){const i={};return e&&Object.assign(i,e),e=Hl(i.colourPrimary||"#000"),i.colourPrimary=e.hex,i.colourSecondary=i.colourSecondary?Hl(i.colourSecondary).hex:this.generateSecondaryColour_(i.colourPrimary),i.colourTertiary=i.colourTertiary?Hl(i.colourTertiary).hex:this.generateTertiaryColour_(i.colourPrimary),i.hat=i.hat||"",i}generateSecondaryColour_(e){return wr("#fff",e,.6)||e}generateTertiaryColour_(e){return wr("#fff",e,.3)||e}dispose(){this.embossFilter&&Xe(this.embossFilter),this.disabledPattern&&Xe(this.disabledPattern),this.debugFilter&&Xe(this.debugFilter),this.cssNode=null}makeJaggedTeeth(){const e=this.JAGGED_TEETH_HEIGHT,i=this.JAGGED_TEETH_WIDTH,r=Wl([Ae(i,e/4),Ae(-i*2,e/2),Ae(i,e/4)]);return{height:e,width:i,path:r}}makeStartHat(){const e=this.START_HAT_HEIGHT,i=this.START_HAT_WIDTH,r=ni("c",[Ae(30,-e),Ae(70,-e),Ae(i,0)]);return{height:e*.75,width:i,path:r}}makePuzzleTab(){function e(f){f=f?-1:1;const E=-f;var C=r/2;const Q=C+2.5,Ce=C+.5,wt=Ae(-i,f*C);return C=Ae(i,f*C),ni("c",[Ae(0,f*Q),Ae(-i,E*Ce),wt])+ni("s",[Ae(i,E*2.5),C])}const i=this.TAB_WIDTH,r=this.TAB_HEIGHT,a=e(!0),u=e(!1);return{type:this.SHAPES.PUZZLE,width:i,height:r,pathDown:u,pathUp:a}}makeNotch(){function e(E){return Wl([Ae(E*a,r),Ae(E*3,0),Ae(E*a,-r)])}const i=this.NOTCH_WIDTH,r=this.NOTCH_HEIGHT,a=(i-3)/2,u=e(1),f=e(-1);return{type:this.SHAPES.NOTCH,width:i,height:r,pathLeft:u,pathRight:f}}makeInsideCorners(){const e=this.CORNER_RADIUS,i=Ut("a","0 0,0",e,Ae(-e,e)),r=Ut("a","0 0,0",e,Ae(e,e));return{width:e,height:e,pathTop:i,pathBottom:r}}makeOutsideCorners(){const e=this.CORNER_RADIUS,i=kt(0,e)+Ut("a","0 0,1",e,Ae(e,-e)),r=Ut("a","0 0,1",e,Ae(e,e)),a=Ut("a","0 0,1",e,Ae(-e,-e)),u=Ut("a","0 0,1",e,Ae(-e,e));return{topLeft:i,topRight:r,bottomRight:u,bottomLeft:a,rightHeight:e}}shapeFor(e){switch(e.type){case Ie.INPUT_VALUE:case Ie.OUTPUT_VALUE:return this.PUZZLE_TAB;case Ie.PREVIOUS_STATEMENT:case Ie.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown connection type")}}createDom(e,i,r,a){this.injectCSS_(i,r),this.defs=q(F.DEFS,{},e),e=q(F.FILTER,{id:"blocklyEmbossFilter"+this.randomIdentifier},this.defs),q(F.FEGAUSSIANBLUR,{in:"SourceAlpha",stdDeviation:1,result:"blur"},e),i=q(F.FESPECULARLIGHTING,{in:"blur",surfaceScale:1,specularConstant:.5,specularExponent:10,"lighting-color":"white",result:"specOut"},e),q(F.FEPOINTLIGHT,{x:-5e3,y:-1e4,z:2e4},i),q(F.FECOMPOSITE,{in:"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},e),q(F.FECOMPOSITE,{in:"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},e),this.embossFilterId=e.id,this.embossFilter=e,e=q(F.PATTERN,{id:"blocklyDisabledPattern"+this.randomIdentifier,patternUnits:"userSpaceOnUse",width:10,height:10},this.defs),q(F.RECT,{width:10,height:10,fill:"#aaa"},e),q(F.PATH,{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},e),this.disabledPatternId=e.id,this.disabledPattern=e,this.createDebugFilter(),a&&(a.style.setProperty("--blocklyEmbossFilter","url(#".concat(this.embossFilterId,")")),a.style.setProperty("--blocklyDisabledPattern","url(#".concat(this.disabledPatternId,")")),a.style.setProperty("--blocklyDebugFilter","url(#".concat(this.debugFilterId,")")))}createDebugFilter(){if(!this.debugFilter){const e=q(F.FILTER,{id:"blocklyDebugFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},this.defs),i=q(F.FECOMPONENTTRANSFER,{result:"outBlur"},e);q(F.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},i),q(F.FEFLOOD,{"flood-color":"#ff0000","flood-opacity":.5,result:"outColor"},e),q(F.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},e),this.debugFilterId=e.id,this.debugFilter=e}}injectCSS_(e,i){i=this.getCSS_(i),e="blockly-renderer-style-"+e,this.cssNode=document.getElementById(e);const r=i.join("\n");this.cssNode?this.cssNode.firstChild.textContent=r:(i=document.createElement("style"),i.id=e,e=document.createTextNode(r),i.appendChild(e),document.head.insertBefore(i,document.head.firstChild),this.cssNode=i)}getCSS_(e){return["".concat(e," .blocklyText, "),"".concat(e," .blocklyFlyoutLabelText {"),"font: ".concat(this.FIELD_TEXT_FONTWEIGHT," ")+"".concat(this.FIELD_TEXT_FONTSIZE,"pt ").concat(this.FIELD_TEXT_FONTFAMILY,";"),"}","".concat(e," .blocklyText {"),"fill: #fff;","}","".concat(e," .blocklyNonEditableField>rect,"),"".concat(e," .blocklyEditableField>rect {"),"fill: ".concat(this.FIELD_BORDER_RECT_COLOUR,";"),"fill-opacity: .6;","stroke: none;","}","".concat(e," .blocklyNonEditableField>text,"),"".concat(e," .blocklyEditableField>text {"),"fill: #000;","}","".concat(e," .blocklyFlyoutLabelText {"),"fill: #000;","}","".concat(e," .blocklyText.blocklyBubbleText {"),"fill: #000;","}","".concat(e," .blocklyEditableField:not(.blocklyEditing):hover>rect {"),"stroke: #fff;","stroke-width: 2;","}","".concat(e," .blocklyHtmlInput {"),"font-family: ".concat(this.FIELD_TEXT_FONTFAMILY,";"),"font-weight: ".concat(this.FIELD_TEXT_FONTWEIGHT,";"),"}","".concat(e," .blocklySelected>.blocklyPath {"),"stroke: #fc3;","stroke-width: 3px;","}","".concat(e," .blocklyHighlightedConnectionPath {"),"stroke: #fc3;","}","".concat(e," .blocklyReplaceable .blocklyPath {"),"fill-opacity: .5;","}","".concat(e," .blocklyReplaceable .blocklyPathLight,"),"".concat(e," .blocklyReplaceable .blocklyPathDark {"),"display: none;","}","".concat(e," .blocklyInsertionMarker>.blocklyPath {"),"fill-opacity: ".concat(this.INSERTION_MARKER_OPACITY,";"),"stroke: none;","}"]}},Cp=class{constructor(e,i){this.inlinePath_=this.outlinePath_="",this.block_=e,this.info_=i,this.topLeft_=e.getRelativeToSurfaceXY(),this.constants_=i.getRenderer().getConstants()}draw(){this.drawOutline_(),this.drawInternals_(),this.updateConnectionHighlights(),this.block_.pathObject.setPath(this.outlinePath_+"\n"+this.inlinePath_),this.info_.RTL&&this.block_.pathObject.flipRTL(),this.recordSizeOnBlock_()}recordSizeOnBlock_(){this.block_.height=this.info_.height,this.block_.width=this.info_.widthWithChildren,this.block_.childlessWidth=this.info_.width}drawOutline_(){this.drawTop_();for(let e=1;e<this.info_.rows.length-1;e++){const i=this.info_.rows[e];i.hasJaggedEdge?this.drawJaggedEdge_(i):i.hasStatement?this.drawStatementInput_(i):i.hasExternalInput?this.drawValueInput_(i):this.drawRightSideRow_(i)}this.drawBottom_(),this.drawLeft_()}drawTop_(){const e=this.info_.topRow,i=e.elements;this.positionPreviousConnection_(),this.outlinePath_+=kt(e.xPos,this.info_.startY);for(let r=0,a;a=i[r];r++)x.isLeftRoundedCorner(a)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topLeft:x.isRightRoundedCorner(a)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topRight:x.isPreviousConnection(a)?this.outlinePath_+=a.shape.pathLeft:x.isHat(a)?this.outlinePath_+=this.constants_.START_HAT.path:x.isSpacer(a)&&(this.outlinePath_+=Le("h",a.width));this.outlinePath_+=Le("v",e.height-e.ascenderHeight)}drawJaggedEdge_(e){this.outlinePath_+=this.constants_.JAGGED_TEETH.path+Le("v",e.height-this.constants_.JAGGED_TEETH.height)}drawValueInput_(e){const i=e.getLastInput();this.positionExternalValueConnection_(e);const r=Rh(i.shape)?i.shape.pathDown(i.height):i.shape.pathDown;this.outlinePath_+=Le("H",i.xPos+i.width)+r+Le("v",e.height-i.connectionHeight)}drawStatementInput_(e){var i=e.getLastInput();if(i){var r=i.xPos+i.notchOffset+i.shape.width;i=i.shape.pathRight+Le("h",-(i.notchOffset-this.constants_.INSIDE_CORNERS.width))+this.constants_.INSIDE_CORNERS.pathTop;var a=e.height-2*this.constants_.INSIDE_CORNERS.height;this.outlinePath_+=Le("H",r)+i+Le("v",a)+this.constants_.INSIDE_CORNERS.pathBottom+Le("H",e.xPos+e.width),this.positionStatementInputConnection_(e)}}drawRightSideRow_(e){this.outlinePath_+=Le("V",e.yPos+e.height)}drawBottom_(){const e=this.info_.bottomRow,i=e.elements;this.positionNextConnection_();let r=0,a="";for(let u=i.length-1,f;f=i[u];u--)x.isNextConnection(f)?a+=f.shape.pathRight:x.isLeftSquareCorner(f)?a+=Le("H",e.xPos):x.isLeftRoundedCorner(f)?a+=this.constants_.OUTSIDE_CORNERS.bottomLeft:x.isRightRoundedCorner(f)?(a+=this.constants_.OUTSIDE_CORNERS.bottomRight,r=this.constants_.OUTSIDE_CORNERS.rightHeight):x.isSpacer(f)&&(a+=Le("h",f.width*-1));this.outlinePath_+=Le("V",e.baseline-r),this.outlinePath_+=a}drawLeft_(){var e=this.info_.outputConnection;if(this.positionOutputConnection_(),e){const i=e.connectionOffsetY+e.height;e=Rh(e.shape)?e.shape.pathUp(e.height):e.shape.pathUp,this.outlinePath_+=Le("V",i)+e}this.outlinePath_+="z"}drawInternals_(){for(let e=0,i;i=this.info_.rows[e];e++)for(let r=0,a;a=i.elements[r];r++)x.isInlineInput(a)?this.drawInlineInput_(a):(x.isIcon(a)||x.isField(a))&&this.layoutField_(a)}layoutField_(e){const i=e.centerline-e.height/2;let r=e.xPos;var a="";this.info_.RTL&&(r=-(r+e.width),e.flipRtl&&(r+=e.width,a="scale(-1 1)")),x.isIcon(e)?(a=e.icon,a.setOffsetInBlock(new ne(r,i)),this.info_.isInsertionMarker&&a.hideForInsertionMarker()):(e=e.field.getSvgRoot(),e.setAttribute("transform","translate("+r+","+i+")"+a),this.info_.isInsertionMarker&&e.setAttribute("display","none"))}drawInlineInput_(e){const i=e.width,r=e.height,a=e.connectionOffsetY,u=e.connectionHeight+a;this.inlinePath_+=_o(e.xPos+e.connectionWidth,e.centerline-r/2)+Le("v",a)+e.shape.pathDown+Le("v",r-u)+Le("h",i-e.connectionWidth)+Le("v",-r)+"z",this.positionInlineInputConnection_(e)}positionInlineInputConnection_(e){const i=e.centerline-e.height/2;if(e.connectionModel){let r=e.xPos+e.connectionWidth+e.connectionOffsetX;this.info_.RTL&&(r*=-1),e.connectionModel.setOffsetInBlock(r,i+e.connectionOffsetY)}}positionStatementInputConnection_(e){const i=e.getLastInput();if(i!=null&&i.connectionModel){let r=e.xPos+e.statementEdge+i.notchOffset;this.info_.RTL&&(r*=-1),i.connectionModel.setOffsetInBlock(r,e.yPos)}}positionExternalValueConnection_(e){const i=e.getLastInput();if(i&&i.connectionModel){let r=e.xPos+e.width;this.info_.RTL&&(r*=-1),i.connectionModel.setOffsetInBlock(r,e.yPos)}}positionPreviousConnection_(){const e=this.info_.topRow;if(e.connection){const i=e.xPos+e.notchOffset;e.connection.connectionModel.setOffsetInBlock(this.info_.RTL?-i:i,0)}}positionNextConnection_(){const e=this.info_.bottomRow;if(e.connection){const i=e.connection,r=i.xPos;i.connectionModel.setOffsetInBlock(this.info_.RTL?-r:r,e.baseline)}}positionOutputConnection_(){if(this.info_.outputConnection){const e=this.info_.startX+this.info_.outputConnection.connectionOffsetX;this.block_.outputConnection.setOffsetInBlock(this.info_.RTL?-e:e,this.info_.outputConnection.connectionOffsetY)}}updateConnectionHighlights(){for(const e of this.info_.rows)for(const i of e.elements){if(!(i instanceof jr))continue;const r=this.drawConnectionHighlightPath(i);r&&(r.style.display=i.highlighted?"":"none")}}drawConnectionHighlightPath(e){const i=e.connectionModel;e=i.type===Ie.INPUT_VALUE||i.type===Ie.OUTPUT_VALUE?this.getExpressionConnectionHighlightPath(e):this.getStatementConnectionHighlightPath(e);const r=i.getSourceBlock();let a,u;return(u=(a=r.pathObject).addConnectionHighlight)==null?void 0:u.call(a,i,e,i.getOffsetInBlock(),r.RTL)}getExpressionConnectionHighlightPath(e){let i="";return Rh(e.shape)?i=e.shape.pathDown(e.height):uO(e.shape)&&(i=e.shape.pathDown),e=this.constants_.TAB_OFFSET_FROM_TOP,kt(0,-e)+Le("v",e)+i+Le("v",e)}getStatementConnectionHighlightPath(e){if(!dO(e.shape))throw Error("Statement connections should have notch shapes");const i=this.constants_.NOTCH_OFFSET_LEFT-this.constants_.CORNER_RADIUS;return kt(-i,0)+Le("h",i)+e.shape.pathLeft+Le("h",i)}},fu=class{constructor(e,i){this.statementEdge=this.width=this.widthWithChildren=this.height=0,this.rows=[],this.inputRows=[],this.startY=this.startX=0,this.renderer_=e,this.block_=i,this.constants_=this.renderer_.getConstants(),this.outputConnection=i.outputConnection?new wC(this.constants_,i.outputConnection):null,this.isInline=i.getInputsInline()&&!i.isCollapsed(),this.isCollapsed=i.isCollapsed(),this.isInsertionMarker=i.isInsertionMarker(),this.RTL=i.RTL,this.topRow=new yb(this.constants_),this.bottomRow=new $b(this.constants_)}getRenderer(){return this.renderer_}measure(){this.createRows_(),this.addElemSpacing_(),this.addRowSpacing_(),this.computeBounds_(),this.alignRowElements_(),this.finalize_()}createRows_(){this.populateTopRow_(),this.rows.push(this.topRow);let e=new Eb(this.constants_);this.inputRows.push(e);var i=this.block_.getIcons();for(let r=0,a;a=i[r];r++){const u=new OC(this.constants_,a);this.isCollapsed&&!a.isShownWhenCollapsed()||e.elements.push(u)}i=void 0;for(let r=0,a;a=this.block_.inputList[r];r++)if(a.isVisible()){this.shouldStartNewRow_(a,i)&&(this.rows.push(e),e=new Eb(this.constants_),this.inputRows.push(e));for(let u=0,f;f=a.fieldRow[u];u++)e.elements.push(new bb(this.constants_,f,a));this.addInput_(a,e),i=a}this.isCollapsed&&(e.hasJaggedEdge=!0,e.elements.push(new RC(this.constants_))),(e.elements.length||e.hasDummyInput)&&this.rows.push(e),this.populateBottomRow_(),this.rows.push(this.bottomRow)}populateTopRow_(){var e=!!this.block_.previousConnection;const i=(this.block_.hat?this.block_.hat==="cap":this.constants_.ADD_START_HATS)&&!this.outputConnection&&!e;let r=this.topRow.hasLeftSquareCorner(this.block_)?pu:hu;this.topRow.elements.push(new r(this.constants_)),i?(e=new IC(this.constants_),this.topRow.elements.push(e)):e&&(this.topRow.hasPreviousConnection=!0,this.topRow.connection=new AC(this.constants_,this.block_.previousConnection),this.topRow.elements.push(this.topRow.connection)),this.block_.inputList.length&&this.block_.inputList[0]instanceof vi&&!this.block_.isCollapsed()?this.topRow.minHeight=this.constants_.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT:this.topRow.minHeight=this.constants_.TOP_ROW_MIN_HEIGHT,r=this.topRow.hasRightSquareCorner(this.block_)?pu:hu,this.topRow.elements.push(new r(this.constants_,"right"))}populateBottomRow_(){this.bottomRow.hasNextConnection=!!this.block_.nextConnection,this.bottomRow.minHeight=this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1]instanceof vi?this.constants_.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT:this.constants_.BOTTOM_ROW_MIN_HEIGHT,this.bottomRow.hasLeftSquareCorner(this.block_)?this.bottomRow.elements.push(new pu(this.constants_)):this.bottomRow.elements.push(new hu(this.constants_)),this.bottomRow.hasNextConnection&&(this.bottomRow.connection=new CC(this.constants_,this.block_.nextConnection),this.bottomRow.elements.push(this.bottomRow.connection)),this.bottomRow.hasRightSquareCorner(this.block_)?this.bottomRow.elements.push(new pu(this.constants_,"right")):this.bottomRow.elements.push(new hu(this.constants_,"right"))}addInput_(e,i){this.isInline&&e instanceof n.ValueInput$$module$build$src$core$inputs$value_input?(i.elements.push(new Tb(this.constants_,e)),i.hasInlineInput=!0):e instanceof vi?(i.elements.push(new Op(this.constants_,e)),i.hasStatement=!0):e instanceof n.ValueInput$$module$build$src$core$inputs$value_input?(i.elements.push(new _b(this.constants_,e)),i.hasExternalInput=!0):(e instanceof Rn||e instanceof os)&&(i.minHeight=Math.max(i.minHeight,e.getSourceBlock()&&e.getSourceBlock().isShadow()?this.constants_.DUMMY_INPUT_SHADOW_MIN_HEIGHT:this.constants_.DUMMY_INPUT_MIN_HEIGHT),i.hasDummyInput=!0),i.align===null&&(i.align=e.align)}shouldStartNewRow_(e,i){return i?i instanceof os||e instanceof vi||i instanceof vi?!0:e instanceof n.ValueInput$$module$build$src$core$inputs$value_input||e instanceof Rn||i instanceof n.ValueInput$$module$build$src$core$inputs$value_input?!this.isInline:!1:!1}addElemSpacing_(){for(let e=0,i;i=this.rows[e];e++){const r=i.elements;if(i.elements=[],i.startsWithElemSpacer()&&i.elements.push(new yi(this.constants_,this.getInRowSpacing_(null,r[0]))),r.length){for(let a=0;a<r.length-1;a++){i.elements.push(r[a]);const u=this.getInRowSpacing_(r[a],r[a+1]);i.elements.push(new yi(this.constants_,u))}i.elements.push(r[r.length-1]),i.endsWithElemSpacer()&&i.elements.push(new yi(this.constants_,this.getInRowSpacing_(r[r.length-1],null)))}}}getInRowSpacing_(e,i){if(!e&&i&&x.isStatementInput(i))return this.constants_.STATEMENT_INPUT_PADDING_LEFT;if(e&&x.isInput(e)&&!i){if(x.isExternalInput(e))return this.constants_.NO_PADDING;if(x.isInlineInput(e))return this.constants_.LARGE_PADDING;if(x.isStatementInput(e))return this.constants_.NO_PADDING}return e&&x.isLeftSquareCorner(e)&&i&&(x.isPreviousConnection(i)||x.isNextConnection(i))?i.notchOffset:e&&x.isLeftRoundedCorner(e)&&i&&(x.isPreviousConnection(i)||x.isNextConnection(i))?i.notchOffset-this.constants_.CORNER_RADIUS:e&&x.isField(e)&&e.width===0?this.constants_.NO_PADDING:this.constants_.MEDIUM_PADDING}computeBounds_(){let e=0,i=0,r=0;for(let u=0,f;f=this.rows[u];u++){if(f.measure(),i=Math.max(i,f.width),f.hasStatement){var a=f.getLastInput();let E,C;a=f.width-((C=(E=a)==null?void 0:E.width)!=null?C:0),e=Math.max(e,a)}r=Math.max(r,f.widthWithConnectedBlocks)}this.statementEdge=e,this.width=i;for(let u=0,f;f=this.rows[u];u++)f.hasStatement&&(f.statementEdge=this.statementEdge);this.widthWithChildren=Math.max(i,r),this.outputConnection&&(this.startX=this.outputConnection.width,this.width+=this.outputConnection.width,this.widthWithChildren+=this.outputConnection.width)}alignRowElements_(){for(let i=0,r;r=this.rows[i];i++)if(r.hasStatement)this.alignStatementRow_(r);else{var e=r.width;e=this.getDesiredRowWidth_(r)-e,e>0&&this.addAlignmentPadding_(r,e),x.isTopOrBottomRow(r)&&(r.widthWithConnectedBlocks=r.width)}}getDesiredRowWidth_(e){return this.width-this.startX}addAlignmentPadding_(e,i){const r=e.getFirstSpacer(),a=e.getLastSpacer();if((e.hasExternalInput||e.hasStatement)&&(e.widthWithConnectedBlocks+=i),e.align===n.Align$$module$build$src$core$inputs$align.LEFT&&a)a.width+=i;else if(e.align===n.Align$$module$build$src$core$inputs$align.CENTRE&&r&&a)r.width+=i/2,a.width+=i/2;else if(e.align===n.Align$$module$build$src$core$inputs$align.RIGHT&&r)r.width+=i;else if(a)a.width+=i;else return;e.width+=i}alignStatementRow_(e){const i=e.getLastInput();if(i){var r=e.width-i.width,a=this.statementEdge;r=a-r,r>0&&this.addAlignmentPadding_(e,r),r=e.width,a=this.getDesiredRowWidth_(e),i.width+=a-r,i.height=Math.max(i.height,e.height),e.width+=a-r,e.widthWithConnectedBlocks=Math.max(e.width,this.statementEdge+e.connectedBlockWidths)}}addRowSpacing_(){const e=this.rows;this.rows=[];for(let i=0;i<e.length;i++)this.rows.push(e[i]),i!==e.length-1&&this.rows.push(this.makeSpacerRow_(e[i],e[i+1]))}makeSpacerRow_(e,i){var r=this.getSpacerRowHeight_(e,i);const a=this.getSpacerRowWidth_(e,i);return r=new vb(this.constants_,r,a),e.hasStatement&&(r.followsStatement=!0),i.hasStatement&&(r.precedesStatement=!0),r}getSpacerRowWidth_(e,i){return this.width-this.startX}getSpacerRowHeight_(e,i){return this.constants_.MEDIUM_PADDING}getElemCenterline_(e,i){return x.isSpacer(i)?e.yPos+i.height/2:x.isBottomRow(e)?(e=e.yPos+e.height-e.descenderHeight,x.isNextConnection(i)?e+i.height/2:e-i.height/2):x.isTopRow(e)?x.isHat(i)?e.capline-i.height/2:e.capline+i.height/2:e.yPos+e.height/2}recordElemPositions_(e){let i=e.xPos;for(let r=0,a;a=e.elements[r];r++)x.isSpacer(a)&&(a.height=e.height),a.xPos=i,a.centerline=this.getElemCenterline_(e,a),i+=a.width}finalize_(){let e=0,i=0;for(let r=0,a;a=this.rows[r];r++)a.yPos=i,a.xPos=this.startX,i+=a.height,e=Math.max(e,a.widthWithConnectedBlocks),this.recordElemPositions_(a);if(this.outputConnection&&this.block_.nextConnection){const r=this.block_.nextConnection.targetBlock();r&&(e=Math.max(e,r.getHeightWidth().width))}this.widthWithChildren=e+this.startX,this.height=i,this.startY=this.topRow.capline,this.bottomRow.baseline=i-this.bottomRow.descenderHeight}getMeasureableForConnection(e){let i;if(((i=this.outputConnection)==null?void 0:i.connectionModel)===e)return this.outputConnection;for(const r of this.rows)for(const a of r.elements)if(a instanceof jr&&a.connectionModel===e)return a;return null}},wp=class{constructor(e,i,r){this.connectionHighlights=new WeakMap,this.highlightOffsets=new WeakMap,this.constants=r,this.style=i,this.svgRoot=e,this.svgPath=q(F.PATH,{class:"blocklyPath"},this.svgRoot),this.setClass_("blocklyBlock",!0)}setPath(e){this.svgPath.setAttribute("d",e)}flipRTL(){this.svgPath.setAttribute("transform","scale(-1 1)")}applyColour(e){this.svgPath.setAttribute("stroke",this.style.colourTertiary),this.svgPath.setAttribute("fill",this.style.colourPrimary),this.updateShadow_(e.isShadow()),this.updateDisabled_(!e.isEnabled()||e.getInheritedDisabled())}setStyle(e){this.style=e}setClass_(e,i){e&&(i?fe(this.svgRoot,e):De(this.svgRoot,e))}updateHighlighted(e){e?this.setClass_("blocklyHighlighted",!0):this.setClass_("blocklyHighlighted",!1)}updateShadow_(e){e?(this.setClass_("blocklyShadow",!0),this.svgPath.setAttribute("stroke","none"),this.svgPath.setAttribute("fill",this.style.colourSecondary)):this.setClass_("blocklyShadow",!1)}updateDisabled_(e){this.setClass_("blocklyDisabled",e),this.setClass_("blocklyDisabledPattern",e)}updateSelected(e){this.setClass_("blocklySelected",e)}updateDraggingDelete(e){this.setClass_("blocklyDraggingDelete",e)}updateInsertionMarker(e){this.setClass_("blocklyInsertionMarker",e)}updateMovable(e){this.setClass_("blocklyDraggable",e)}updateReplacementFade(e){this.setClass_("blocklyReplaceable",e)}updateShapeForInputHighlight(e,i){}addConnectionHighlight(e,i,r,a){return r="translate(".concat(r.x,", ").concat(r.y,")")+(a?" scale(-1 1)":""),(a=this.connectionHighlights.get(e))?(a.setAttribute("d",i),a.setAttribute("transform",r),a):(i=q(F.PATH,{id:e.id,class:"blocklyHighlightedConnectionPath",style:"display: none;",d:i,transform:r},this.svgRoot),this.connectionHighlights.set(e,i),i)}removeConnectionHighlight(e){const i=this.connectionHighlights.get(e);i&&(Xe(i),this.connectionHighlights.delete(e))}},Ap=class{constructor(e){this.overrides=null,this.name=e}getClassName(){return this.name+"-renderer"}init(e,i){this.constants_=this.makeConstants_(),i&&(this.overrides=i,Object.assign(this.constants_,i)),this.constants_.setTheme(e),this.constants_.init()}createDom(e,i,r){this.constants_.createDom(e,this.name+"-"+i.name,"."+this.getClassName()+"."+i.getClassName(),r)}refreshDom(e,i,r){const a=this.getConstants();a.dispose(),this.constants_=this.makeConstants_(),this.overrides&&Object.assign(this.constants_,this.overrides),this.constants_.randomIdentifier=a.randomIdentifier,this.constants_.setTheme(i),this.constants_.init(),this.createDom(e,i,r)}dispose(){this.constants_&&this.constants_.dispose()}makeConstants_(){return new Rp}makeRenderInfo_(e){return new fu(this,e)}makeDrawer_(e,i){return new Cp(e,i)}makePathObject(e,i){return new wp(e,i,this.constants_)}getConstants(){return this.constants_}shouldHighlightConnection(e){return!0}orphanCanConnectAtEnd(e,i,r){return!!qe.getConnectionForOrphanedConnection(e,r===Ie.OUTPUT_VALUE?i.outputConnection:i.previousConnection)}render(e){const i=this.makeRenderInfo_(e);i.measure(),this.makeDrawer_(e,i).draw()}},st={};st.BottomRow=$b,st.Connection=jr,st.ConstantProvider=Rp,st.Drawer=Cp,st.ExternalValueInput=_b,st.Field=bb,st.Hat=IC,st.Icon=OC,st.InRowSpacer=yi,st.InlineInput=Tb,st.InputConnection=Ip,st.InputRow=Eb,st.JaggedEdge=RC,st.Measurable=wn,st.NextConnection=CC,st.OutputConnection=wC,st.PathObject=wp,st.PreviousConnection=AC,st.RenderInfo=fu,st.Renderer=Ap,st.RoundCorner=hu,st.Row=du,st.SpacerRow=vb,st.SquareCorner=pu,st.StatementInput=Op,st.TopRow=yb,st.Types=x,st.init=D$,st.register=Fc,st.unregister=hO;var LC=class{constructor(e,i){this.workspace=e,this.theme=i,this.subscribedWorkspaces=[],this.componentDB=new Map}getTheme(){return this.theme}setTheme(e){var i=this.theme;this.theme=e,(e=this.workspace.getInjectionDiv())&&(i&&(i=i.getClassName())&&De(e,i),(i=this.theme.getClassName())&&fe(e,i));for(let r=0,a;a=this.subscribedWorkspaces[r];r++)a.refreshTheme();for(const[r,a]of this.componentDB)for(const u of a){e=u.element,i=u.propertyName;const f=this.theme&&this.theme.getComponentStyle(r);e.style.setProperty(i,f||"")}for(const r of this.subscribedWorkspaces)r.hideChaff()}subscribeWorkspace(e){this.subscribedWorkspaces.push(e)}unsubscribeWorkspace(e){if(!te(this.subscribedWorkspaces,e))throw Error("Cannot unsubscribe a workspace that hasn't been subscribed.")}subscribe(e,i,r){this.componentDB.has(i)||this.componentDB.set(i,[]),this.componentDB.get(i).push({element:e,propertyName:r}),i=this.theme&&this.theme.getComponentStyle(i),e.style.setProperty(r,i||"")}unsubscribe(e){if(e)for(const[i,r]of this.componentDB){for(let a=r.length-1;a>=0;a--)r[a].element===e&&r.splice(a,1);r.length||this.componentDB.delete(i)}}dispose(){this.subscribedWorkspaces.length=0,this.componentDB.clear()}},Sb="VARIABLE_DYNAMIC",Vs={CATEGORY_NAME:Sb};Vs.flyoutCategory=P$,Vs.flyoutCategoryBlocks=B$,Vs.internalFlyoutCategory=Lh,Vs.onCreateVariableButtonClick_Colour=Ah,Vs.onCreateVariableButtonClick_Number=wh,Vs.onCreateVariableButtonClick_String=Ch;var kC=class{canConnect(e,i,r,a){return this.canConnectWithReason(e,i,r,a)===qe.CAN_CONNECT}canConnectWithReason(e,i,r,a){const u=this.doSafetyChecks(e,i);return u!==qe.CAN_CONNECT?u:this.doTypeChecks(e,i)?r&&!this.doDragChecks(e,i,a||0)?qe.REASON_DRAG_CHECKS_FAILED:qe.CAN_CONNECT:qe.REASON_CHECKS_FAILED}getErrorMessage(e,i,r){switch(e){case qe.REASON_SELF_CONNECTION:return"Attempted to connect a block to itself.";case qe.REASON_DIFFERENT_WORKSPACES:return"Blocks not on same workspace.";case qe.REASON_WRONG_TYPE:return"Attempt to connect incompatible types.";case qe.REASON_TARGET_NULL:return"Target connection is null.";case qe.REASON_CHECKS_FAILED:return"Connection checks failed. "+(i+" expected "+i.getCheck()+", found "+r.getCheck());case qe.REASON_SHADOW_PARENT:return"Connecting non-shadow to shadow block.";case qe.REASON_DRAG_CHECKS_FAILED:return"Drag checks failed.";case qe.REASON_PREVIOUS_AND_OUTPUT:return"Block would have an output and a previous connection.";default:return"Unknown connection failure: this should never happen!"}}doSafetyChecks(e,i){if(!e||!i)return qe.REASON_TARGET_NULL;let r,a,u;return e.isSuperior()?(r=e.getSourceBlock(),a=i.getSourceBlock(),u=i):(a=e.getSourceBlock(),r=i.getSourceBlock(),u=e,e=i),r===a?qe.REASON_SELF_CONNECTION:u.type!==Yr[e.type]?qe.REASON_WRONG_TYPE:r.workspace!==a.workspace?qe.REASON_DIFFERENT_WORKSPACES:r.isShadow()&&!a.isShadow()?qe.REASON_SHADOW_PARENT:u.type===Ie.OUTPUT_VALUE&&a.previousConnection&&a.previousConnection.isConnected()||u.type===Ie.PREVIOUS_STATEMENT&&a.outputConnection&&a.outputConnection.isConnected()?qe.REASON_PREVIOUS_AND_OUTPUT:qe.CAN_CONNECT}doTypeChecks(e,i){if(e=e.getCheck(),i=i.getCheck(),!e||!i)return!0;for(let r=0;r<e.length;r++)if(i.includes(e[r]))return!0;return!1}doDragChecks(e,i,r){if(e.distanceFrom(i)>r||i.getSourceBlock().isInsertionMarker())return!1;switch(i.type){case Ie.PREVIOUS_STATEMENT:return this.canConnectToPrevious_(e,i);case Ie.OUTPUT_VALUE:if(i.isConnected()&&!i.targetBlock().isInsertionMarker()||e.isConnected())return!1;break;case Ie.INPUT_VALUE:if(i.isConnected()&&!i.targetBlock().isMovable()&&!i.targetBlock().isShadow())return!1;break;case Ie.NEXT_STATEMENT:if(i.isConnected()&&!e.getSourceBlock().nextConnection&&!i.targetBlock().isShadow()&&i.targetBlock().nextConnection||i.targetBlock()&&!i.targetBlock().isMovable()&&!i.targetBlock().isShadow())return!1;break;default:return!1}return!jc.includes(i)}canConnectToPrevious_(e,i){return e.targetConnection||jc.includes(i)?!1:i.targetConnection?(e=i.targetBlock(),e.isInsertionMarker()?!e.getPreviousBlock():!1):!0}};s(oe.CONNECTION_CHECKER,mi,kC);var ha=class{get isFlyout(){return this.internalIsFlyout}get isMutator(){return this.internalIsMutator}constructor(e){this.isClearing=this.internalIsMutator=this.internalIsFlyout=this.rendered=!1,this.MAX_UNDO=1024,this.connectionDBList=[],this.topBlocks=[],this.topComments=[],this.commentDB=new Map,this.listeners=[],this.undoStack_=[],this.redoStack_=[],this.blockDB=new Map,this.typedBlocksDB=new Map,this.procedureMap=new SC,this.readOnly=!1,this.potentialVariableMap=null,this.id=J(),it(this),this.options=e||new On({}),this.RTL=!!this.options.RTL,this.horizontalLayout=!!this.options.horizontalLayout,this.toolboxPosition=this.options.toolboxPosition,this.connectionChecker=new(b(oe.CONNECTION_CHECKER,this.options,!0))(this),this.variableMap=new(this.getVariableMapClass())(this),this.setIsReadOnly(this.options.readOnly)}dispose(){this.listeners.length=0,this.clear(),lo(this)}sortObjects(e,i){const r=a=>({getBoundingRectangle:()=>{const u=a.getRelativeToSurfaceXY();return new Be(u.y,u.y,u.x,u.x)},moveBy:()=>{}});return this.sortByOrigin(r(e),r(i))}sortByOrigin(e,i){const r=Math.sin(rh(ha.SCAN_ANGLE))*(this.RTL?-1:1);return e=e.getBoundingRectangle().getOrigin(),i=i.getBoundingRectangle().getOrigin(),e.y+r*e.x-(i.y+r*i.x)}addTopBlock(e){this.topBlocks.push(e)}removeTopBlock(e){if(!te(this.topBlocks,e))throw Error("Block not present in workspace's list of top-most blocks.")}getTopBlocks(e=!1){const i=[].concat(this.topBlocks);return e&&i.length>1&&i.sort(this.sortObjects.bind(this)),i}addTypedBlock(e){this.typedBlocksDB.has(e.type)||this.typedBlocksDB.set(e.type,[]),this.typedBlocksDB.get(e.type).push(e)}removeTypedBlock(e){te(this.typedBlocksDB.get(e.type),e),this.typedBlocksDB.get(e.type).length||this.typedBlocksDB.delete(e.type)}getBlocksByType(e,i=!1){return this.typedBlocksDB.has(e)?(e=this.typedBlocksDB.get(e).slice(0),i&&e&&e.length>1&&e.sort(this.sortObjects.bind(this)),e.filter(r=>!r.isInsertionMarker())):[]}addTopComment(e){this.topComments.push(e),this.commentDB.has(e.id)&&console.warn('Overriding an existing comment on this workspace, with id "'+e.id+'"'),this.commentDB.set(e.id,e)}removeTopComment(e){if(!te(this.topComments,e))throw Error("Comment not present in workspace's list of top-most comments.");this.commentDB.delete(e.id)}getTopComments(e=!1){const i=[].concat(this.topComments);return e&&i.length>1&&i.sort(this.sortObjects.bind(this)),i}getAllBlocks(e=!1){if(e){var i=this.getTopBlocks(!0);e=[];for(let r=0;r<i.length;r++)e.push(...i[r].getDescendants(!0))}else for(e=this.getTopBlocks(!1),i=0;i<e.length;i++)e.push(...e[i].getChildren(!1));return e.filter(r=>!r.isInsertionMarker())}clear(){this.isClearing=!0;try{const e=n.getGroup$$module$build$src$core$events$utils();for(e||n.setGroup$$module$build$src$core$events$utils(!0);this.topBlocks.length;)this.topBlocks[0].dispose(!1);for(;this.topComments.length;)this.topComments[this.topComments.length-1].dispose();n.setGroup$$module$build$src$core$events$utils(e),this.isFlyout||this.variableMap.clear(),this.potentialVariableMap&&this.potentialVariableMap.clear()}finally{this.isClearing=!1}}renameVariableById(e,i){$o("Blockly.Workspace.renameVariableById","v12","v13","Blockly.Workspace.getVariableMap().renameVariable"),(e=this.variableMap.getVariableById(e))&&this.variableMap.renameVariable(e,i)}createVariable(e,i,r){return $o("Blockly.Workspace.createVariable","v12","v13","Blockly.Workspace.getVariableMap().createVariable"),this.variableMap.createVariable(e,i!=null?i:void 0,r!=null?r:void 0)}getVariableUsesById(e){return $o("Blockly.Workspace.getVariableUsesById","v12","v13","Blockly.Variables.getVariableUsesById"),Dl(this,e)}deleteVariableById(e){$o("Blockly.Workspace.deleteVariableById","v12","v13","Blockly.Workspace.getVariableMap().deleteVariable");const i=this.variableMap.getVariableById(e);i?n.deleteVariable$$module$build$src$core$variables(this,i):console.warn("Can't delete non-existent variable: ".concat(e))}getVariable(e,i){return $o("Blockly.Workspace.getVariable","v12","v13","Blockly.Workspace.getVariableMap().getVariable"),this.variableMap.getVariable(e,i)}getVariableById(e){return $o("Blockly.Workspace.getVariableById","v12","v13","Blockly.Workspace.getVariableMap().getVariableById"),this.variableMap.getVariableById(e)}getVariablesOfType(e){return $o("Blockly.Workspace.getVariablesOfType","v12","v13","Blockly.Workspace.getVariableMap().getVariablesOfType"),this.variableMap.getVariablesOfType(e!=null?e:"")}getAllVariables(){return $o("Blockly.Workspace.getAllVariables","v12","v13","Blockly.Workspace.getVariableMap().getAllVariables"),this.variableMap.getAllVariables()}getAllVariableNames(){return $o("Blockly.Workspace.getAllVariableNames","v12","v13","Blockly.Workspace.getVariableMap().getAllVariables"),this.variableMap.getAllVariables().map(e=>e.getName())}getWidth(){return 0}newBlock(e,i){throw Error("The implementation of newBlock should be monkey-patched in by blockly.ts")}newComment(e){throw Error("The implementation of newComment should be monkey-patched in by blockly.ts")}remainingCapacity(){return isNaN(this.options.maxBlocks)?1/0:this.options.maxBlocks-this.getAllBlocks(!1).length}remainingCapacityOfType(e){return this.options.maxInstances?(this.options.maxInstances[e]!==void 0?this.options.maxInstances[e]:1/0)-this.getBlocksByType(e,!1).length:1/0}isCapacityAvailable(e){if(!this.hasBlockLimits())return!0;let i=0;for(const r in e){if(e[r]>this.remainingCapacityOfType(r))return!1;i+=e[r]}return!(i>this.remainingCapacity())}hasBlockLimits(){return this.options.maxBlocks!==1/0||!!this.options.maxInstances}getUndoStack(){return this.undoStack_}getRedoStack(){return this.redoStack_}undo(e){var i=e?this.redoStack_:this.undoStack_,r=e?this.undoStack_:this.redoStack_;const a=i.pop();if(a){for(var u=[a];i.length&&a.group&&a.group===i[i.length-1].group;){const f=i.pop();f&&u.push(f)}for(i=0;i<u.length;i++)r.push(u[i]);n.setRecordUndo$$module$build$src$core$events$utils(!1);try{for(r=0;r<u.length;r++)u[r].run(e)}finally{n.setRecordUndo$$module$build$src$core$events$utils(!0)}}}clearUndo(){this.undoStack_.length=0,this.redoStack_.length=0,Re()}addChangeListener(e){return this.listeners.push(e),e}removeChangeListener(e){te(this.listeners,e)}fireChangeListener(e){if(e.recordUndo)for(this.undoStack_.push(e),this.redoStack_.length=0;this.undoStack_.length>this.MAX_UNDO&&this.MAX_UNDO>=0;)this.undoStack_.shift();for(let i=0;i<this.listeners.length;i++)(0,this.listeners[i])(e)}getBlockById(e){return this.blockDB.get(e)||null}setBlockById(e,i){this.blockDB.set(e,i)}removeBlockById(e){this.blockDB.delete(e)}getCommentById(e){let i;return(i=this.commentDB.get(e))!=null?i:null}allInputsFilled(e){const i=this.getTopBlocks(!1);for(let r=0;r<i.length;r++)if(!i[r].allInputsFilled(e))return!1;return!0}getPotentialVariableMap(){return this.potentialVariableMap}createPotentialVariableMap(){this.potentialVariableMap=new(this.getVariableMapClass())(this,!0)}getVariableMap(){return this.variableMap}setVariableMap(e){this.variableMap=e}getProcedureMap(){return this.procedureMap}getRootWorkspace(){let e=null;const i=this.options.parentWorkspace;return this.isFlyout?i&&i.options&&(e=i.options.parentWorkspace):i&&(e=i),e}static getById(e){return $t(e)}static getAll(){return Lt()}getVariableMapClass(){const e=b(oe.VARIABLE_MAP,this.options,!0);if(!e)throw Error("No variable map is registered.");return e}isReadOnly(){return this.readOnly}setIsReadOnly(e){this.readOnly=e,this.options.readOnly=e}};ha.SCAN_ANGLE=3;var y1=100,NC=class{constructor(e){this.parentWorkspace=e,this.sounds=new Map,this.lastSound=null,this.muted=!1}dispose(){this.sounds.clear()}load(e,i){if(e.length){try{var r=new globalThis.Audio}catch(u){return}for(let u=0;u<e.length;u++){const f=e[u],E=f.match(/\.(\w+)$/);if(E&&r.canPlayType("audio/"+E[1])){var a=new globalThis.Audio(f);break}}a&&this.sounds.set(i,a)}}preload(){for(const e of this.sounds.values()){e.volume=.01;const i=e.play();if(i!==void 0?i.then(e.pause).catch(function(){}):e.pause(),Gh||GO)break}}play(e,i){if(!this.muted){var r=this.sounds.get(e);r?(e=new Date,this.lastSound!==null&&e.getTime()-this.lastSound.getTime()<y1||(this.lastSound=e,r=Gh||b_?r:r.cloneNode(),r.volume=i===void 0?1:i,r.play())):this.parentWorkspace&&this.parentWorkspace.getAudioManager().play(e,i)}}setMuted(e){this.muted=e}getMuted(){return this.muted}},S1=20,Vo=class extends ha{constructor(e){super(e),this.resizeHandlerWrapper=null,this.resizesEnabled=this.visible=this.rendered=!0,this.startScrollY=this.startScrollX=this.scrollY=this.scrollX=0,this.oldScale=this.scale=1,this.oldLeft=this.oldTop=0,this.inverseScreenCTM=this.targetWorkspace=this.dummyWheelListener=this.configureContextMenu=this.lastRecordedPageScroll=this.injectionDiv=this.currentGesture_=this.toolbox=this.flyout=this.scrollbar=this.trashcan=null,this.inverseScreenCTMDirty=!0,this.highlightedBlocks=[],this.toolboxCategoryCallbacks=new Map,this.flyoutButtonCallbacks=new Map,this.cachedParentSvg=null,this.keyboardMoveInProgress=this.keyboardAccessibilityMode=!1,this.topBoundedElements=[],this.dragTargetAreas=[],this.zoomControls_=this.layerManager=null,this.navigator=new hb,this.metricsManager=new(b(oe.METRICS_MANAGER,e,!0))(this),this.getMetrics=e.getMetrics||this.metricsManager.getMetrics.bind(this.metricsManager),this.setMetrics=e.setMetrics||Vo.setTopLevelWorkspaceMetrics,this.componentManager=new It,this.connectionDBList=la.init(this.connectionChecker),this.audioManager=new NC(e.parentWorkspace),this.grid=this.options.gridPattern?new fb(this.options.gridPattern,e.gridOptions):null,this.markerManager=new mb(this),Gt&&th&&this.registerToolboxCategoryCallback(H_,th),Vs&&Lh&&this.registerToolboxCategoryCallback(Sb,Lh),Go&&Oh&&(this.registerToolboxCategoryCallback(Sp,Oh),this.addChangeListener(M$)),this.addChangeListener(this.variableChangeCallback.bind(this)),this.themeManager_=this.options.parentWorkspace?this.options.parentWorkspace.getThemeManager():new LC(this,this.options.theme||pp),this.themeManager_.subscribeWorkspace(this);let i;this.renderer=D$(this.options.renderer||"geras",this.getTheme(),(i=this.options.rendererOverrides)!=null?i:void 0),this.cachedParentSvgSize=new Ue(0,0)}getMarkerManager(){return this.markerManager}getMetricsManager(){return this.metricsManager}setMetricsManager(e){this.metricsManager=e,this.getMetrics=this.metricsManager.getMetrics.bind(this.metricsManager)}getComponentManager(){return this.componentManager}getMarker(e){return this.markerManager.getMarker(e)}getCursor(){return this.markerManager.getCursor()}getRenderer(){return this.renderer}getThemeManager(){return this.themeManager_}getTheme(){return this.themeManager_.getTheme()}setTheme(e){e||(e=pp),this.themeManager_.setTheme(e)}refreshTheme(){if(this.svgGroup_){var e=this.options.parentWorkspace===null;this.renderer.refreshDom(this.svgGroup_,this.getTheme(),e?this.getInjectionDiv():void 0)}this.updateBlockStyles(this.getAllBlocks(!1).filter(i=>!!i.getStyleName())),this.refreshToolboxSelection(),this.toolbox&&this.toolbox.refreshTheme(),this.isVisible()&&this.setVisible(!0),e=new(ge(z.THEME_CHANGE))(this.getTheme().name,this.id),V(e)}updateBlockStyles(e){for(let i=0,r;r=e[i];i++){const a=r.getStyleName();a&&r.setStyle(a)}}getInverseScreenCTM(){if(this.inverseScreenCTMDirty){const e=this.getParentSvg().getScreenCTM();e&&(this.inverseScreenCTM=e.inverse(),this.inverseScreenCTMDirty=!1)}return this.inverseScreenCTM}updateInverseScreenCTM(){this.inverseScreenCTMDirty=!0}isVisible(){return this.visible}getSvgXY(e){let i=0,r=0,a=1;(this.getCanvas().contains(e)||this.getBubbleCanvas().contains(e))&&(a=this.scale);do{const u=yr(e);(e===this.getCanvas()||e===this.getBubbleCanvas())&&(a=1),i+=u.x*a,r+=u.y*a,e=e.parentNode}while(e&&e!==this.getParentSvg()&&e!==this.getInjectionDiv());return new ne(i,r)}getCachedParentSvgSize(){const e=this.cachedParentSvgSize;return new Ue(e.width,e.height)}getOriginOffsetInPixels(){return kl(this.getCanvas())}getInjectionDiv(){if(!this.injectionDiv){let e=this.svgGroup_;for(;e;){if((" "+(e.getAttribute("class")||"")+" ").includes(" injectionDiv ")){this.injectionDiv=e;break}e=e.parentNode}}return this.injectionDiv}getSvgGroup(){return this.svgGroup_}getBlockCanvas(){return this.getCanvas()}setResizeHandlerWrapper(e){this.resizeHandlerWrapper=e}createDom(e,i){return this.injectionDiv||(this.injectionDiv=i!=null?i:null),this.svgGroup_=q(F.G,{class:"blocklyWorkspace",id:this.id}),i&&qt(this.svgGroup_,Ft.LABEL,n.Msg$$module$build$src$core$msg.WORKSPACE_ARIA_LABEL),e&&(this.svgBackground_=q(F.RECT,{height:"100%",width:"100%",class:e},this.svgGroup_),e==="blocklyMainBackground"&&this.grid?this.svgBackground_.style.fill="var(--blocklyGridPattern)":this.themeManager_.subscribe(this.svgBackground_,"workspaceBackgroundColour","fill")),this.layerManager=new E1(this),this.svgBlockCanvas_=this.layerManager.getBlockLayer(),this.svgBubbleCanvas_=this.layerManager.getBubbleLayer(),this.isFlyout||(S(this.svgGroup_,"pointerdown",this,this.onMouseDown,!1),this.dummyWheelListener=()=>{},document.body.addEventListener("wheel",this.dummyWheelListener),S(this.svgGroup_,"wheel",this,this.onMouseWheel)),this.options.hasCategories&&(this.toolbox=new(b(oe.TOOLBOX,this.options,!0))(this)),this.grid&&this.grid.update(this.scale),this.recordDragTargets(),(e=b(oe.CURSOR,this.options))&&this.markerManager.setCursor(new e(this)),e=this.options.parentWorkspace===null,this.renderer.createDom(this.svgGroup_,this.getTheme(),e?this.getInjectionDiv():void 0),n.getFocusManager$$module$build$src$core$focus_manager().registerTree(this,!!this.injectionDiv||this.isFlyout),this.svgGroup_}dispose(){if(this.rendered=!1,this.currentGesture_&&this.currentGesture_.cancel(),this.svgGroup_&&Xe(this.svgGroup_),this.toolbox&&(this.toolbox.dispose(),this.toolbox=null),this.flyout&&(this.flyout.dispose(),this.flyout=null),this.trashcan&&(this.trashcan.dispose(),this.trashcan=null),this.scrollbar&&(this.scrollbar.dispose(),this.scrollbar=null),this.zoomControls_&&this.zoomControls_.dispose(),this.audioManager&&this.audioManager.dispose(),this.grid&&(this.grid=null),this.renderer.dispose(),this.markerManager.dispose(),super.dispose(),this.themeManager_&&(this.themeManager_.unsubscribeWorkspace(this),this.themeManager_.unsubscribe(this.svgBackground_),this.options.parentWorkspace||this.themeManager_.dispose()),this.connectionDBList.length=0,this.toolboxCategoryCallbacks.clear(),this.flyoutButtonCallbacks.clear(),!this.options.parentWorkspace){const e=this.getParentSvg();e&&e.parentNode&&Xe(e.parentNode)}this.resizeHandlerWrapper&&(L(this.resizeHandlerWrapper),this.resizeHandlerWrapper=null),this.dummyWheelListener&&(document.body.removeEventListener("wheel",this.dummyWheelListener),this.dummyWheelListener=null),n.getFocusManager$$module$build$src$core$focus_manager().isRegistered(this)&&n.getFocusManager$$module$build$src$core$focus_manager().unregisterTree(this)}addTrashcan(){this.trashcan=Vo.newTrashcan(this);const e=this.trashcan.createDom();this.svgGroup_.insertBefore(e,this.getCanvas())}static newTrashcan(e){throw Error("The implementation of newTrashcan should be monkey-patched in by blockly.ts")}addZoomControls(){this.zoomControls_=new aR(this);const e=this.zoomControls_.createDom();this.svgGroup_.appendChild(e)}copyOptionsForFlyout(){return new On({parentWorkspace:this,rtl:this.RTL,oneBasedIndex:this.options.oneBasedIndex,horizontalLayout:this.horizontalLayout,renderer:this.options.renderer,rendererOverrides:this.options.rendererOverrides,plugins:this.options.plugins,modalInputs:this.options.modalInputs,move:{scrollbars:!0}})}addFlyout(e){const i=this.copyOptionsForFlyout();return i.toolboxPosition=this.options.toolboxPosition,this.flyout=this.horizontalLayout?new(b(oe.FLYOUTS_HORIZONTAL_TOOLBOX,this.options,!0))(i):new(b(oe.FLYOUTS_VERTICAL_TOOLBOX,this.options,!0))(i),this.flyout.autoClose=!1,this.flyout.getWorkspace().setVisible(!0),this.flyout.createDom(e)}getFlyout(e){return this.flyout||e?this.flyout:this.toolbox?this.toolbox.getFlyout():null}getToolbox(){return this.toolbox}updateScreenCalculations(){this.updateInverseScreenCTM(),this.recordDragTargets()}resizeContents(){this.resizesEnabled&&this.rendered&&(this.scrollbar&&this.scrollbar.resize(),this.updateInverseScreenCTM())}resize(){this.toolbox?this.toolbox.position():this.flyout&&this.flyout.position();const e=this.componentManager.getComponents(It.Capability.POSITIONABLE,!0),i=this.getMetricsManager().getUiMetrics(),r=[];for(let a=0,u;u=e[a];a++){u.position(i,r);const f=u.getBoundingRectangle();f&&r.push(f)}this.scrollbar&&this.scrollbar.resize(),this.updateScreenCalculations()}updateScreenCalculationsIfScrolled(){const e=Ic();ne.equals(this.lastRecordedPageScroll,e)||(this.lastRecordedPageScroll=e,this.updateScreenCalculations())}getLayerManager(){return this.layerManager}getCanvas(){return this.layerManager.getBlockLayer()}setCachedParentSvgSize(e,i){const r=this.getParentSvg();e!=null&&(this.cachedParentSvgSize.width=e,r.setAttribute("data-cached-width","".concat(e))),i!=null&&(this.cachedParentSvgSize.height=i,r.setAttribute("data-cached-height","".concat(i)))}getBubbleCanvas(){return this.layerManager.getBubbleLayer()}getParentSvg(){if(!this.cachedParentSvg){let e=this.svgGroup_;for(;e;){if(e.tagName==="svg"){this.cachedParentSvg=e;break}e=e.parentNode}}return this.cachedParentSvg}maybeFireViewportChangeEvent(){if(ke()){var e=this.scale,i=-this.scrollY,r=-this.scrollX;if(!(e===this.oldScale&&Math.abs(i-this.oldTop)<1&&Math.abs(r-this.oldLeft)<1)){var a=new(ge(z.VIEWPORT_CHANGE))(i,r,e,this.id,this.oldScale);this.oldScale=e,this.oldTop=i,this.oldLeft=r,V(a)}}}translate(e,i){let r;(r=this.layerManager)==null||r.translateLayers(new ne(e,i),this.scale);let a;(a=this.grid)==null||a.moveTo(e,i),this.maybeFireViewportChangeEvent()}getWidth(){const e=this.getMetrics();return e?e.viewWidth/this.scale:0}setVisible(e){this.visible=e,this.svgGroup_&&(this.scrollbar&&this.scrollbar.setContainerVisible(e),this.getFlyout()&&this.getFlyout().setContainerVisible(e),this.getParentSvg().style.display=e?"block":"none",this.toolbox&&this.toolbox.setVisible(e),e||this.hideChaff(!0))}render(){const e=this.getAllBlocks(!1);for(let i=e.length-1;i>=0;i--)e[i].queueRender();this.getTopBlocks().flatMap(i=>i.getDescendants(!1)).filter(i=>i.isInsertionMarker()).forEach(i=>i.queueRender())}highlightBlock(e,i){if(i===void 0){for(let r=0,a;a=this.highlightedBlocks[r];r++)a.setHighlighted(!1);this.highlightedBlocks.length=0}(e=e?this.getBlockById(e):null)&&((i=i===void 0||i)?this.highlightedBlocks.includes(e)||this.highlightedBlocks.push(e):te(this.highlightedBlocks,e),e.setHighlighted(i))}variableChangeCallback(e){switch(e.type){case z.VAR_CREATE:case z.VAR_DELETE:case z.VAR_RENAME:case z.VAR_TYPE_CHANGE:this.refreshToolboxSelection()}}refreshToolboxSelection(){const e=this.isFlyout?this.targetWorkspace:this;e&&!e.currentGesture_&&e.toolbox&&e.toolbox.getFlyout()&&e.toolbox.refreshSelection()}recordDragTargets(){const e=this.componentManager.getComponents(It.Capability.DRAG_TARGET,!0);this.dragTargetAreas=[];for(let i=0,r;r=e[i];i++){const a=r.getClientRect();a&&this.dragTargetAreas.push({component:r,clientRect:a})}}newBlock(e,i){throw Error("The implementation of newBlock should be monkey-patched in by blockly.ts")}newComment(e){throw Error("The implementation of newComment should be monkey-patched in by blockly.ts")}getDragTarget(e){for(let i=0,r;r=this.dragTargetAreas[i];i++)if(r.clientRect.contains(e.clientX,e.clientY))return r.component;return null}onMouseDown(e){const i=this.getGesture(e);i&&i.handleWsStart(e,this)}startDrag(e,i){$h(this,e,i)}moveDrag(e){return _h(this,e)}setKeyboardMoveInProgress(e){this.keyboardMoveInProgress=e}isDragging(){return this.keyboardMoveInProgress||this.currentGesture_!==null&&this.currentGesture_.isDragging()}isDraggable(){return this.options.moveOptions&&this.options.moveOptions.drag}isMovable(){return this.options.moveOptions&&!!this.options.moveOptions.scrollbars||this.options.moveOptions&&this.options.moveOptions.wheel||this.options.moveOptions&&this.options.moveOptions.drag||this.options.zoomOptions&&this.options.zoomOptions.wheel||this.options.zoomOptions&&this.options.zoomOptions.pinch}isMovableHorizontally(){const e=!!this.scrollbar;return this.isMovable()&&(!e||e&&this.scrollbar.canScrollHorizontally())}isMovableVertically(){const e=!!this.scrollbar;return this.isMovable()&&(!e||e&&this.scrollbar.canScrollVertically())}onMouseWheel(e){if(yp.inProgress())e.preventDefault(),e.stopPropagation();else{var i=this.options.zoomOptions&&this.options.zoomOptions.wheel,r=this.options.moveOptions&&this.options.moveOptions.wheel;if(i||r){var a=j(e);if(T_)var u=e.metaKey;i&&(e.ctrlKey||u||!r)?(a=-a.y/50,i=K(e,this.getParentSvg(),this.getInverseScreenCTM()),this.zoom(i.x,i.y,a)):(i=this.scrollX-a.x,r=this.scrollY-a.y,e.shiftKey&&!a.x&&(i=this.scrollX-a.y,r=this.scrollY),this.scroll(i,r)),e.preventDefault()}}}getBlocksBoundingBox(){const e=this.getTopBoundedElements();if(!e.length)return new Be(0,0,0,0);const i=e[0].getBoundingRectangle();for(let a=1;a<e.length;a++){var r=e[a];r.isInsertionMarker&&r.isInsertionMarker()||(r=r.getBoundingRectangle(),r.top<i.top&&(i.top=r.top),r.bottom>i.bottom&&(i.bottom=r.bottom),r.left<i.left&&(i.left=r.left),r.right>i.right&&(i.right=r.right))}return i}cleanUp(){this.setResizesEnabled(!1);const e=n.getGroup$$module$build$src$core$events$utils();e||n.setGroup$$module$build$src$core$events$utils(!0);var i=this.getTopBlocks(!0),r=i.filter(E=>E.isMovable());const a=i.filter(E=>!E.isMovable()).map(E=>E.getBoundingRectangle());i=function(E){for(const C of a)if(E.intersects(C))return C;return null};var u=0;const f=this.renderer.getConstants().MIN_BLOCK_HEIGHT;for(const E of r){for(r=E.getBoundingRectangle(),E.moveBy(-r.left,u-r.top,["cleanup"]),E.snapToGrid(),r=E.getBoundingRectangle(),u=i(r);u!=null;)u=u.top+u.getHeight()+f,E.moveBy(0,u-r.top,["cleanup"]),E.snapToGrid(),r=E.getBoundingRectangle(),u=i(r);u=E.getRelativeToSurfaceXY().y+E.getHeightWidth().height+f}n.setGroup$$module$build$src$core$events$utils(e),this.setResizesEnabled(!0)}showContextMenu(e){if(!this.isReadOnly()&&!this.isFlyout){var i=Ge.registry.getContextMenuOptions({workspace:this,focusedNode:this},e);this.configureContextMenu&&this.configureContextMenu(i,e);var r=e instanceof PointerEvent?new ne(e.clientX,e.clientY):As(this,new ne(5,5));Vl(e,i,this.RTL,this,r)}}updateToolbox(e){if(e=Z(e)){if(!this.options.languageTree)throw Error("Existing toolbox is null.  Can't create new toolbox.");if(Et(e)){if(!this.toolbox)throw Error("Existing toolbox has no categories.  Can't change mode.");this.options.languageTree=e,this.toolbox.render(e)}else{if(!this.flyout)throw Error("Existing toolbox has categories.  Can't change mode.");this.options.languageTree=e,this.flyout.show(e)}}else if(this.options.languageTree)throw Error("Can't nullify an existing toolbox.")}markFocused(){this.options.parentWorkspace?this.options.parentWorkspace.markFocused():(O(this),this.getParentSvg().focus({preventScroll:!0}))}zoom(e,i,r){r=Math.pow(this.options.zoomOptions.scaleSpeed,r);const a=this.scale*r;if(this.scale!==a){a>this.options.zoomOptions.maxScale?r=this.options.zoomOptions.maxScale/this.scale:a<this.options.zoomOptions.minScale&&(r=this.options.zoomOptions.minScale/this.scale);var u=this.getCanvas().getCTM(),f=this.getParentSvg().createSVGPoint();f.x=e,f.y=i,f=f.matrixTransform(u.inverse()),e=f.x,i=f.y,u=u.translate(e*(1-r),i*(1-r)).scale(r),this.scrollX=u.e,this.scrollY=u.f,this.setScale(a)}}zoomCenter(e){var i=this.getMetrics();let r;this.flyout?(r=i.svgWidth?i.svgWidth/2:0,i=i.svgHeight?i.svgHeight/2:0):(r=i.viewWidth/2+i.absoluteLeft,i=i.viewHeight/2+i.absoluteTop),this.zoom(r,i,e)}zoomToFit(){if(this.isMovable()){var e=this.getMetrics(),i=e.viewWidth;e=e.viewHeight;var r=this.getBlocksBoundingBox(),a=S1*2,u=r.right-r.left+a;if(r=r.bottom-r.top+a,u){this.flyout&&(this.horizontalLayout?(e+=this.flyout.getHeight(),r+=this.flyout.getHeight()/this.scale):(i+=this.flyout.getWidth(),u+=this.flyout.getWidth()/this.scale)),i/=u,e/=r,n.disable$$module$build$src$core$events$utils();try{this.setScale(Math.min(i,e)),this.scrollCenter()}finally{n.enable$$module$build$src$core$events$utils()}this.maybeFireViewportChangeEvent()}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")}beginCanvasTransition(){fe(this.getCanvas(),"blocklyCanvasTransitioning"),fe(this.getBubbleCanvas(),"blocklyCanvasTransitioning")}endCanvasTransition(){De(this.getCanvas(),"blocklyCanvasTransitioning"),De(this.getBubbleCanvas(),"blocklyCanvasTransitioning")}scrollCenter(){if(this.isMovable()){var e=this.getMetrics(),i=(e.scrollWidth-e.viewWidth)/2,r=(e.scrollHeight-e.viewHeight)/2;i=-i-e.scrollLeft,r=-r-e.scrollTop,this.scroll(i,r)}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")}centerOnBlock(e,i){if(this.isMovable()){var r=e?this.getBlockById(e):null;if(r){e=r.getRelativeToSurfaceXY(),r=i?{height:r.height,width:r.width}:r.getHeightWidth();var a=this.scale;i=(e.x+(this.RTL?-1:1)*r.width/2)*a,e=(e.y+r.height/2)*a,r=this.getMetrics(),this.scroll(-(i-r.viewWidth/2),-(e-r.viewHeight/2))}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")}setScale(e){this.options.zoomOptions.maxScale&&e>this.options.zoomOptions.maxScale?e=this.options.zoomOptions.maxScale:this.options.zoomOptions.minScale&&e<this.options.zoomOptions.minScale&&(e=this.options.zoomOptions.minScale),this.scale=e,this.hideChaff(!1),(e=this.getFlyout(!1))&&e.isVisible()&&(e.reflow(),this.recordDragTargets()),this.grid&&this.grid.update(this.scale),e=this.getMetrics(),this.scrollX-=e.absoluteLeft,this.scrollY-=e.absoluteTop,e.viewLeft+=e.absoluteLeft,e.viewTop+=e.absoluteTop,this.scroll(this.scrollX,this.scrollY),this.scrollbar&&(this.flyout?this.scrollbar.resizeView(e):this.scrollbar.resizeContent(e))}getScale(){return this.scale}getAbsoluteScale(){const e=r=>{if(r.isFlyout){let a;const u=(a=r.targetWorkspace)==null?void 0:a.getFlyout();if(u instanceof Ep)return u.getFlyoutScale()}return r.getScale()},i=(r,a)=>r.options.parentWorkspace&&r.options.parentWorkspace.getSvgGroup().contains(r.getSvgGroup())?i(r.options.parentWorkspace,a*e(r)):a*e(r);return i(this,1)}scroll(e,i){this.hideChaff(!0);const r=this.getMetrics();e=Math.min(e,-r.scrollLeft),i=Math.min(i,-r.scrollTop);const a=r.scrollTop+Math.max(0,r.scrollHeight-r.viewHeight);e=Math.max(e,-(r.scrollLeft+Math.max(0,r.scrollWidth-r.viewWidth))),i=Math.max(i,-a),this.scrollX=e,this.scrollY=i,this.scrollbar&&this.scrollbar.set(-(e+r.scrollLeft),-(i+r.scrollTop),!1),e+=r.absoluteLeft,i+=r.absoluteTop,this.translate(e,i)}getBlockById(e){return super.getBlockById(e)}getAllBlocks(e=!1){return super.getAllBlocks(e)}getTopBlocks(e=!1){return super.getTopBlocks(e)}addTopBlock(e){this.addTopBoundedElement(e),super.addTopBlock(e)}removeTopBlock(e){this.removeTopBoundedElement(e),super.removeTopBlock(e)}addTopComment(e){this.addTopBoundedElement(e),super.addTopComment(e)}removeTopComment(e){this.removeTopBoundedElement(e),super.removeTopComment(e)}getTopComments(e=!1){return super.getTopComments(e)}getCommentById(e){return super.getCommentById(e)}getRootWorkspace(){return super.getRootWorkspace()}addTopBoundedElement(e){this.topBoundedElements.push(e)}removeTopBoundedElement(e){te(this.topBoundedElements,e)}getTopBoundedElements(e=!1){const i=[].concat(this.topBoundedElements);return e&&i.sort(this.sortByOrigin.bind(this)),i}setResizesEnabled(e){const i=!this.resizesEnabled&&e;this.resizesEnabled=e,i&&this.resizeContents()}clear(){this.setResizesEnabled(!1),super.clear(),this.topBoundedElements=[],this.setResizesEnabled(!0)}registerButtonCallback(e,i){if(typeof i!="function")throw TypeError("Button callbacks must be functions.");this.flyoutButtonCallbacks.set(e,i)}getButtonCallback(e){let i;return(i=this.flyoutButtonCallbacks.get(e))!=null?i:null}removeButtonCallback(e){this.flyoutButtonCallbacks.delete(e)}registerToolboxCategoryCallback(e,i){if(typeof i!="function")throw TypeError("Toolbox category callbacks must be functions.");this.toolboxCategoryCallbacks.set(e,i)}getToolboxCategoryCallback(e){return this.toolboxCategoryCallbacks.get(e)||null}removeToolboxCategoryCallback(e){this.toolboxCategoryCallbacks.delete(e)}getGesture(e){if(this.keyboardMoveInProgress)return e.preventDefault(),e.stopPropagation(),null;const i=e.type==="pointerdown";let r;return i&&((r=this.currentGesture_)!=null&&r.hasStarted())&&(console.warn("Tried to start the same gesture twice."),this.currentGesture_.cancel()),!this.currentGesture_&&i&&(this.currentGesture_=new yp(e,this)),this.currentGesture_}clearGesture(){this.currentGesture_=null}cancelCurrentGesture(){this.currentGesture_&&this.currentGesture_.cancel()}getAudioManager(){return this.audioManager}getGrid(){return this.grid}hideChaff(e=!1){Wn(),Dc(this),En(),this.hideComponents(e)}hideComponents(e=!1){this.getComponentManager().getComponents(It.Capability.AUTOHIDEABLE,!0).forEach(i=>i.autoHide(e))}static setTopLevelWorkspaceMetrics(e){const i=this.getMetrics();typeof e.x=="number"&&(this.scrollX=-(i.scrollLeft+(i.scrollWidth-i.viewWidth)*e.x)),typeof e.y=="number"&&(this.scrollY=-(i.scrollTop+(i.scrollHeight-i.viewHeight)*e.y)),this.translate(this.scrollX+i.absoluteLeft,this.scrollY+i.absoluteTop)}addClass(e){this.injectionDiv&&fe(this.injectionDiv,e)}removeClass(e){this.injectionDiv&&De(this.injectionDiv,e)}setIsReadOnly(e){super.setIsReadOnly(e),e?this.addClass("blocklyReadOnly"):this.removeClass("blocklyReadOnly")}scrollBoundsIntoView(e,i=10){if(!yp.inProgress()){var r=this.getScale(),a=this.getMetricsManager().getViewMetrics(!0);if(a=new Be(a.top,a.top+a.height,a.left,a.left+a.width),!(e.left>=a.left&&e.top>=a.top&&e.right<=a.right&&e.bottom<=a.bottom)){e=e.clone(),e.top-=i,e.bottom+=i,e.left-=i,e.right+=i;var u=i=0;e.left<a.left?i=this.RTL?Math.min(a.left-e.left,a.right-e.right):a.left-e.left:e.right>a.right&&(i=this.RTL?a.right-e.right:Math.max(a.right-e.right,a.left-e.left)),e.top<a.top?u=a.top-e.top:e.bottom>a.bottom&&(u=Math.max(a.bottom-e.bottom,a.top-e.top)),this.scroll(this.scrollX+i*r,this.scrollY+u*r)}}}getFocusableElement(){return this.svgGroup_}getFocusableTree(){return this.isMutator&&this.options.parentWorkspace||this}onNodeFocus(){}onNodeBlur(){}canBeFocused(){return!0}getRootFocusableNode(){return this}getRestoredFocusableNode(e){if(e)return null;let i;if(e=(i=this.targetWorkspace)==null?void 0:i.getFlyout(),this.isFlyout&&e){let a,u;return(u=(a=e.getContents().find(f=>(f=f.getElement(),Uo(f)&&f.canBeFocused())))==null?void 0:a.getElement())!=null?u:null}let r;return(r=this.getTopBlocks(!0)[0])!=null?r:null}getNestedTrees(){const e=this.getAllBlocks().map(r=>r.getIcons()).flat().filter(r=>r instanceof n.MutatorIcon$$module$build$src$core$icons$mutator_icon&&r.bubbleIsVisible()).map(r=>{let a;return(a=r.getBubble())==null?void 0:a.getWorkspace()}).filter(r=>!!r),i=this.getFlyout(!0);return i&&e.push(i.getWorkspace()),e}searchForWorkspaceComment(e){for(const i of this.getTopComments())if(i instanceof Qn&&i.canBeFocused()&&i.getFocusableElement().id===e)return i}lookUpFocusableNode(e){var i;const r=(i=this.targetWorkspace)==null?void 0:i.getFlyout();if(this.isFlyout&&r){for(var a of r.getContents())if(i=a.getElement(),Uo(i)&&i.canBeFocused()&&i.getFocusableElement().id===e)return i}if(a=e.indexOf("_field_"),i=e.indexOf("_connection_"),a!==-1){var u=e.substring(0,a);if(u=this.getBlockById(u)){for(var f of u.getFields())if(f.canBeFocused()&&f.getFocusableElement().id===e)return f}return null}if(i!==-1){if(u=e.substring(0,i),u=this.getBlockById(u)){for(const C of u.getConnections_(!0))if(C.id===e)return C}return null}if(f=Math.max(e.indexOf(eb),e.indexOf(KR),e.indexOf(JR)),f!==-1&&(f=e.substring(0,f),f=this.searchForWorkspaceComment(f))){if(e.indexOf(eb)>-1)return f.getEditorFocusableNode();var E;return(E=f.view.getCommentBarButtons().find(C=>C.getFocusableElement().id.includes(e)))!=null?E:null}if((E=this.getAllBlocks(!1).find(C=>C.getFocusableElement().id===e))||(E=this.searchForWorkspaceComment(e)))return E;E=this.getAllBlocks().map(C=>C.getIcons()).flat();for(u of E){if(u.canBeFocused()&&u.getFocusableElement().id===e)return u;if(Rr(u)){if((E=u.getBubble())&&E.canBeFocused()&&E.getFocusableElement().id===e)return E;if(E instanceof mp&&E.getEditor().getFocusableElement().id===e)return E.getEditor()}}return null}onTreeFocus(e,i){}onTreeBlur(e){if(this.isFlyout&&this.targetWorkspace&&!n.getFocusManager$$module$build$src$core$focus_manager().ephemeralFocusTaken()){var i=this.targetWorkspace.getToolbox();i&&e===i||sO(i)&&i.autoHide(!1)}}getNavigator(){return this.navigator}setNavigator(e){this.navigator=e}},pa=class extends ql{constructor(e){super(),this.isBlank=typeof e>"u",e&&(this.varId=e.getId(),this.workspaceId=e.getWorkspace().id)}toJson(){const e=super.toJson();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");return e.varId=this.varId,e}static fromJson(e,i,r){return i=super.fromJson(e,i,r!=null?r:new pa),i.varId=e.varId,i}},Ib=class extends pa{constructor(e){super(e),this.type=z.VAR_CREATE,e&&(this.varType=e.getType(),this.varName=e.getName())}toJson(){const e=super.toJson();if(this.varType===void 0)throw Error("The var type is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");return e.varType=this.varType,e.varName=this.varName,e}static fromJson(e,i,r){return i=super.fromJson(e,i,r!=null?r:new Ib),i.varType=e.varType,i.varName=e.varName,i}run(e){var i=this.getEventWorkspace_();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");i=i.getVariableMap(),e?i.createVariable(this.varName,this.varType,this.varId):(e=i.getVariableById(this.varId))&&i.deleteVariable(e)}};s(oe.EVENT,z.VAR_CREATE,Ib);var MC=class{constructor(e,i,r,a){this.workspace=e,this.name=i,this.type=r||"",this.id=a||J()}getId(){return this.id}getName(){return this.name}setName(e){return this.name=e,this}getType(){return this.type}setType(e){return this.type=e,this}getWorkspace(){return this.workspace}save(){const e={name:this.getName(),id:this.getId()},i=this.getType();return i&&(e.type=i),e}static load(e,i){e=new this(i,e.name,e.type,e.id),i.getVariableMap().addVariable(e),V(new(ge(z.VAR_CREATE))(e))}};s(oe.VARIABLE_MODEL,mi,MC);var Ob=class extends pa{constructor(e){super(e),this.type=z.VAR_DELETE,e&&(this.varType=e.getType(),this.varName=e.getName())}toJson(){const e=super.toJson();if(this.varType===void 0)throw Error("The var type is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");return e.varType=this.varType,e.varName=this.varName,e}static fromJson(e,i,r){return i=super.fromJson(e,i,r!=null?r:new Ob),i.varType=e.varType,i.varName=e.varName,i}run(e){var i=this.getEventWorkspace_();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");i=i.getVariableMap(),e?(e=i.getVariableById(this.varId))&&i.deleteVariable(e):i.createVariable(this.varName,this.varType,this.varId)}};s(oe.EVENT,z.VAR_DELETE,Ob);var Rb=class extends pa{constructor(e,i){super(e),this.type=z.VAR_RENAME,e&&(this.oldName=e.getName(),this.newName=typeof i>"u"?"":i)}toJson(){const e=super.toJson();if(!this.oldName)throw Error("The old var name is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.newName)throw Error("The new var name is undefined. Either pass a value to the constructor, or call fromJson");return e.oldName=this.oldName,e.newName=this.newName,e}static fromJson(e,i,r){return i=super.fromJson(e,i,r!=null?r:new Rb),i.oldName=e.oldName,i.newName=e.newName,i}run(e){var i=this.getEventWorkspace_();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.oldName)throw Error("The old var name is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.newName)throw Error("The new var name is undefined. Either pass a value to the constructor, or call fromJson");i=i.getVariableMap();const r=i.getVariableById(this.varId);e?r&&i.renameVariable(r,this.newName):r&&i.renameVariable(r,this.oldName)}};s(oe.EVENT,z.VAR_RENAME,Rb);var xC=class{constructor(e,i=!1){this.workspace=e,this.potentialMap=i,this.variableMap=new Map}clear(){for(const e of this.variableMap.values())for(const i of e.values())this.deleteVariable(i);if(this.variableMap.size!==0)throw Error("Non-empty variable map")}renameVariable(e,i){if(e.getName()===i)return e;var r=e.getType();r=this.getVariable(i,r);const a=this.workspace.getAllBlocks(!1);let u="";this.potentialMap||(u=n.getGroup$$module$build$src$core$events$utils())||n.setGroup$$module$build$src$core$events$utils(!0);try{r&&r.getId()!==e.getId()?this.renameVariableWithConflict(e,i,r,a):this.renameVariableAndUses(e,i,a)}finally{this.potentialMap||n.setGroup$$module$build$src$core$events$utils(u)}return e}changeVariableType(e,i){const r=e.getType();if(r===i)return e;var a=this.variableMap.get(r);a==null||a.delete(e.getId()),(a==null?void 0:a.size)===0&&this.variableMap.delete(r),e.setType(i);let u;return a=(u=this.variableMap.get(i))!=null?u:new Map,a.set(e.getId(),e),this.variableMap.has(i)||this.variableMap.set(i,a),V(new(ge(z.VAR_TYPE_CHANGE))(e,r,i)),e}renameVariableById(e,i){$o("VariableMap.renameVariableById","v12","v13","VariableMap.renameVariable");const r=this.getVariableById(e);if(!r)throw Error("Tried to rename a variable that didn't exist. ID: "+e);this.renameVariable(r,i)}renameVariableAndUses(e,i,r){for(this.potentialMap||V(new(ge(z.VAR_RENAME))(e,i)),e.setName(i),i=0;i<r.length;i++)r[i].updateVarName(e)}renameVariableWithConflict(e,i,r,a){const u=e.getType(),f=r.getName();for(i!==f&&this.renameVariableAndUses(r,i,a),i=0;i<a.length;i++)a[i].renameVarById(e.getId(),r.getId());this.potentialMap||V(new(ge(z.VAR_DELETE))(e));let E;(E=this.variableMap.get(u))==null||E.delete(e.getId())}createVariable(e,i,r){var a=this.getVariable(e,i);if(a){if(r&&a.getId()!==r)throw Error('Variable "'+e+'" is already in use and its id is "'+a.getId()+'" which conflicts with the passed in id, "'+r+'".');return a}if(r&&this.getVariableById(r))throw Error('Variable id, "'+r+'", is already in use.');if(a=r||J(),i=i||"",r=b(oe.VARIABLE_MODEL,this.workspace.options,!0),!r)throw Error("No variable model is registered.");a=new r(this.workspace,e,i,a);let u;return e=(u=this.variableMap.get(i))!=null?u:new Map,e.set(a.getId(),a),this.variableMap.has(i)||this.variableMap.set(i,e),this.potentialMap||V(new(ge(z.VAR_CREATE))(a)),a}addVariable(e){const i=e.getType();this.variableMap.has(i)||this.variableMap.set(i,new Map);let r;(r=this.variableMap.get(i))==null||r.set(e.getId(),e)}deleteVariable(e){const i=Dl(this.workspace,e.getId());let r="";this.potentialMap||(r=n.getGroup$$module$build$src$core$events$utils())||n.setGroup$$module$build$src$core$events$utils(!0);try{for(let u=0;u<i.length;u++)i[u].dispose(!0);const a=this.variableMap.get(e.getType());a&&a.has(e.getId())&&(a.delete(e.getId()),this.potentialMap||V(new(ge(z.VAR_DELETE))(e)),a.size===0&&this.variableMap.delete(e.getType()))}finally{this.potentialMap||n.setGroup$$module$build$src$core$events$utils(r)}}deleteVariableById(e){$o("VariableMap.deleteVariableById","v12","v13","Blockly.Variables.deleteVariable"),(e=this.getVariableById(e))&&n.deleteVariable$$module$build$src$core$variables(this.workspace,e)}getVariable(e,i){if(i=this.variableMap.get(i||""),!i)return null;let r;return(r=[...i.values()].find(a=>n.Names$$module$build$src$core$names.equals(a.getName(),e)))!=null?r:null}getVariableById(e){for(const i of this.variableMap.values())if(i.has(e)){let r;return(r=i.get(e))!=null?r:null}return null}getVariablesOfType(e){return(e=this.variableMap.get(e||""))?[...e.values()]:[]}getTypes(){return[...this.variableMap.keys()]}getAllVariables(){let e=[];for(const i of this.variableMap.values())e=e.concat(...i.values());return e}getAllVariableNames(){$o("VariableMap.getAllVariableNames","v12","v13","Blockly.Variables.getAllVariables");const e=[];for(const i of this.variableMap.values())for(const r of i.values())e.push(r.getName());return e}getVariableUsesById(e){return $o("VariableMap.getVariableUsesById","v12","v13","Blockly.Variables.getVariableUsesById"),Dl(this.workspace,e)}};s(oe.VARIABLE_MAP,mi,xC);var Cb=class extends In{constructor(e,i){super(i),this.type=z.TRASHCAN_OPEN,this.isOpen=e}toJson(){const e=super.toJson();if(this.isOpen===void 0)throw Error("Whether this is already open or not is undefined. Either pass a value to the constructor, or call fromJson");return e.isOpen=this.isOpen,e}static fromJson(e,i,r){return i=super.fromJson(e,i,r!=null?r:new Cb),i.isOpen=e.isOpen,i}};s(oe.EVENT,z.TRASHCAN_OPEN,Cb);var DC=class extends bp{constructor(e){super(),this.workspace=e,this.id="trashcan",this.contents=[],this.flyout=null,this.isLidOpen=!1,this.minOpenness=0,this.lidTask=this.svgLid=this.svgGroup=null,this.top=this.left=this.lidOpen=0,this.initialized=!1,this.workspace.options.maxTrashcanContents<=0||(e=this.workspace.copyOptionsForFlyout(),this.workspace.horizontalLayout?(e.toolboxPosition=this.workspace.toolboxPosition===He.TOP?He.BOTTOM:He.TOP,this.flyout=new(b(oe.FLYOUTS_HORIZONTAL_TOOLBOX,this.workspace.options,!0))(e)):(e.toolboxPosition=this.workspace.toolboxPosition===He.RIGHT?He.LEFT:He.RIGHT,this.flyout=new(b(oe.FLYOUTS_VERTICAL_TOOLBOX,this.workspace.options,!0))(e)),this.workspace.addChangeListener(this.onDelete.bind(this)))}createDom(){this.svgGroup=q(F.G,{class:"blocklyTrash"});let e;const i=String(Math.random()).substring(2);e=q(F.CLIPPATH,{id:"blocklyTrashBodyClipPath"+i},this.svgGroup),q(F.RECT,{width:fa,height:Lp,y:ga},e);const r=q(F.IMAGE,{width:qo.width,x:-wb,height:qo.height,y:-Ab,"clip-path":"url(#blocklyTrashBodyClipPath"+i+")"},this.svgGroup);return r.setAttributeNS($i,"xlink:href",this.workspace.options.pathToMedia+qo.url),e=q(F.CLIPPATH,{id:"blocklyTrashLidClipPath"+i},this.svgGroup),q(F.RECT,{width:fa,height:ga},e),this.svgLid=q(F.IMAGE,{width:qo.width,x:-wb,height:qo.height,y:-Ab,"clip-path":"url(#blocklyTrashLidClipPath"+i+")"},this.svgGroup),this.svgLid.setAttributeNS($i,"xlink:href",this.workspace.options.pathToMedia+qo.url),w(this.svgGroup,"pointerdown",this,this.blockMouseDownWhenOpenable),w(this.svgGroup,"pointerup",this,this.click),w(r,"pointerover",this,this.mouseOver),w(r,"pointerout",this,this.mouseOut),this.animateLid(),this.svgGroup}init(){if(this.workspace.options.maxTrashcanContents>0){const e=this.flyout.createDom(F.SVG);fe(e,"blocklyTrashcanFlyout"),Xo(e,this.workspace.getParentSvg()),this.flyout.init(this.workspace)}this.workspace.getComponentManager().addComponent({component:this,weight:It.ComponentWeight.TRASHCAN_WEIGHT,capabilities:[It.Capability.AUTOHIDEABLE,It.Capability.DELETE_AREA,It.Capability.DRAG_TARGET,It.Capability.POSITIONABLE]}),this.initialized=!0,this.setLidOpen(!1)}dispose(){this.workspace.getComponentManager().removeComponent("trashcan"),this.svgGroup&&Xe(this.svgGroup),this.lidTask&&clearTimeout(this.lidTask)}hasContents(){return!!this.contents.length}contentsIsOpen(){return!!this.flyout&&this.flyout.isVisible()}openFlyout(){if(!this.contentsIsOpen()){var e=this.contents.map(function(r){return JSON.parse(r)}),i=this.workspace.getParentSvg().style;i.cursor="wait",setTimeout(()=>{let r;(r=this.flyout)==null||r.show(e),i.cursor="";let a;(a=this.workspace.scrollbar)==null||a.setVisible(!1)},10),this.fireUiEvent(!0)}}closeFlyout(){if(this.contentsIsOpen()){var e;(e=this.flyout)==null||e.hide();var i;(i=this.workspace.scrollbar)==null||i.setVisible(!0),this.fireUiEvent(!1),this.workspace.recordDragTargets()}}autoHide(e){!e&&this.flyout&&this.closeFlyout()}emptyContents(){this.hasContents()&&(this.contents.length=0,this.setMinOpenness(0),this.closeFlyout())}position(e,i){if(this.initialized){var r=Kd(this.workspace,e);e=jd(r,new Ue(fa,Lp+ga),I1,PC,e,this.workspace),i=qd(e,PC,r.vertical===Jn.TOP?Us.DOWN:Us.UP,i),this.top=i.top,this.left=i.left;var a;(a=this.svgGroup)==null||a.setAttribute("transform","translate("+this.left+","+this.top+")");var u;(u=this.flyout)==null||u.position()}}getBoundingRectangle(){return new Be(this.top,this.top+Lp+ga,this.left,this.left+fa)}getClientRect(){if(!this.svgGroup)return null;var e=this.svgGroup.getBoundingClientRect();const i=e.top+Ab-kp;return e=e.left+wb-kp,new Be(i,i+ga+Lp+2*kp,e,e+fa+2*kp)}onDragOver(e){this.setLidOpen(this.wouldDelete_)}onDragExit(e){this.setLidOpen(!1)}onDrop(e){setTimeout(this.setLidOpen.bind(this,!1),100)}setLidOpen(e){this.isLidOpen!==e&&(this.lidTask&&clearTimeout(this.lidTask),this.isLidOpen=e,this.animateLid())}animateLid(){const e=C1;var i=1/(e+1);this.lidOpen+=this.isLidOpen?i:-i,this.lidOpen=Math.min(Math.max(this.lidOpen,this.minOpenness),1),this.setLidAngle(this.lidOpen*UC),i=BC+this.lidOpen*(w1-BC),this.svgGroup&&(this.svgGroup.style.opacity="".concat(i)),this.lidOpen>this.minOpenness&&this.lidOpen<1&&(this.lidTask=setTimeout(this.animateLid.bind(this),R1/e))}setLidAngle(e){const i=this.workspace.toolboxPosition===He.RIGHT||this.workspace.horizontalLayout&&this.workspace.RTL;let r;(r=this.svgLid)==null||r.setAttribute("transform","rotate("+(i?-e:e)+","+(i?4:fa-4)+","+(ga-2)+")")}setMinOpenness(e){this.minOpenness=e,this.isLidOpen||this.setLidAngle(e*UC)}closeLid(){this.setLidOpen(!1)}click(){this.hasContents()&&!this.workspace.isDragging()&&this.openFlyout()}fireUiEvent(e){e=new(ge(z.TRASHCAN_OPEN))(e,this.workspace.id),V(e)}blockMouseDownWhenOpenable(e){!this.contentsIsOpen()&&this.hasContents()&&e.stopPropagation()}mouseOver(){this.hasContents()&&this.setLidOpen(!0)}mouseOut(){this.setLidOpen(!1)}onDelete(e){if(!(this.workspace.options.maxTrashcanContents<=0||!ce(e)||e.wasShadow)){if(!e.oldJson)throw Error("Encountered a delete event without proper oldJson");if(e=JSON.stringify(this.cleanBlockJson(e.oldJson)),!this.contents.includes(e)){for(this.contents.unshift(e);this.contents.length>this.workspace.options.maxTrashcanContents;)this.contents.pop();this.setMinOpenness(O1)}}}cleanBlockJson(e){function i(r){if(r){if(delete r.id,delete r.x,delete r.y,delete r.enabled,delete r.disabledReasons,r.icons&&r.icons.comment){var a=r.icons.comment;delete a.height,delete a.width,delete a.pinned}a=r.inputs;for(var u in a){var f=a[u];const E=f.block;f=f.shadow,E&&i(E),f&&i(f)}r.next&&(u=r.next,r=u.block,u=u.shadow,r&&i(r),u&&i(u))}}return e=JSON.parse(JSON.stringify(e)),i(e),Object.assign({},{kind:"BLOCK"},e)}},fa=47,Lp=44,ga=16,PC=20,I1=20,kp=10,wb=0,Ab=32,O1=.1,R1=80,C1=4,BC=.4,w1=.8,UC=45,gu=null,mu=null,Np=void 0,an={};an.BlockPaster=uu,an.copy=kh,an.getLastCopiedData=Nh,an.getLastCopiedLocation=U$,an.getLastCopiedWorkspace=Mh,an.paste=xs,an.registry=N_,an.setLastCopiedData=fO,an.setLastCopiedLocation=mO,an.setLastCopiedWorkspace=gO;var zs={};zs.CollapseCommentBarButton=qR,zs.CommentBarButton=cp,zs.CommentEditor=up,zs.CommentView=ru,zs.DeleteCommentBarButton=ZR,zs.RenderedWorkspaceComment=Qn,zs.WorkspaceComment=dp;var An;(function(e){e.ESCAPE="escape",e.DELETE="delete",e.COPY="copy",e.CUT="cut",e.PASTE="paste",e.UNDO="undo",e.REDO="redo"})(An||(An={})),K$();var Ln={};Ln.names=An,Ln.registerCopy=z$,Ln.registerCut=W$,Ln.registerDefaultShortcuts=K$,Ln.registerDelete=G$,Ln.registerEscape=F$,Ln.registerPaste=X$,Ln.registerRedo=j$,Ln.registerUndo=Y$;var A1=class{constructor(e,i){this.procedureModelClass=e,this.parameterModelClass=i,this.priority=uR}save(e){return e=e.getProcedureMap().getProcedures().map(i=>q$(i)),e.length?e:null}load(e,i){const r=i.getProcedureMap();for(const a of e)r.add(J$(this.procedureModelClass,this.parameterModelClass,a,i))}clear(e){e.getProcedureMap().clear()}},Mp={};Mp.ProcedureSerializer=A1,Mp.loadProcedure=J$,Mp.saveProcedure=q$;var HC=class{constructor(){this.priority=cR}save(e){return e=e.getAllVariables().map(i=>i.save()),e.length?e:null}load(e,i){const r=g(oe.VARIABLE_MODEL,mi);e.forEach(a=>{r==null||r.load(a,i)})}clear(e){e.getVariableMap().clear()}};Rc("variables",new HC);var FC={};FC.VariableSerializer=HC;var Lb={};Lb.load=_O,Lb.save=$O;var L1={blocks:tu,exceptions:Br,priorities:s1,procedures:Mp,registry:k_,variables:FC,workspaceComments:Wh,workspaces:Lb};"Blockly"in globalThis||(globalThis.Blockly={Msg:mR});var kb="label",GC=class{load(e,i){return e=new Jo(i.getWorkspace(),i.targetWorkspace,e,!0),e.show(),new ua(e,kb)}gapForItem(e,i){return i}disposeItem(e){e=e.getElement(),e instanceof Jo&&e.dispose()}getType(){return kb}};s(oe.FLYOUT_INFLATER,kb,GC);var VC=class extends Rp{constructor(e){super(),this.GRID_UNIT=4,this.CURSOR_COLOUR="#ffa200",this.CURSOR_RADIUS=5,this.JAGGED_TEETH_WIDTH=this.JAGGED_TEETH_HEIGHT=0,this.START_HAT_HEIGHT=22,this.START_HAT_WIDTH=96,this.SHAPES={HEXAGONAL:1,ROUND:2,SQUARE:3,PUZZLE:4,NOTCH:5},this.SHAPE_IN_SHAPE_PADDING={1:{0:5*this.GRID_UNIT,1:2*this.GRID_UNIT,2:5*this.GRID_UNIT,3:5*this.GRID_UNIT},2:{0:3*this.GRID_UNIT,1:3*this.GRID_UNIT,2:1*this.GRID_UNIT,3:2*this.GRID_UNIT},3:{0:2*this.GRID_UNIT,1:2*this.GRID_UNIT,2:2*this.GRID_UNIT,3:2*this.GRID_UNIT}},this.FULL_BLOCK_FIELDS=!0,this.FIELD_TEXT_FONTWEIGHT="bold",this.FIELD_TEXT_FONTFAMILY='"Helvetica Neue", "Segoe UI", Helvetica, sans-serif',this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!0,this.SELECTED_GLOW_COLOUR="#fff200",this.SELECTED_GLOW_SIZE=.5,this.REPLACEMENT_GLOW_COLOUR="#fff200",this.REPLACEMENT_GLOW_SIZE=2,this.selectedGlowFilterId="",this.selectedGlowFilter=null,this.replacementGlowFilterId="",this.SQUARED=this.ROUNDED=this.HEXAGONAL=this.replacementGlowFilter=null,e&&(this.GRID_UNIT=e),this.SMALL_PADDING=this.GRID_UNIT,this.MEDIUM_PADDING=2*this.GRID_UNIT,this.MEDIUM_LARGE_PADDING=3*this.GRID_UNIT,this.LARGE_PADDING=4*this.GRID_UNIT,this.CORNER_RADIUS=1*this.GRID_UNIT,this.NOTCH_WIDTH=9*this.GRID_UNIT,this.NOTCH_HEIGHT=2*this.GRID_UNIT,this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT=3*this.GRID_UNIT,this.MIN_BLOCK_WIDTH=2*this.GRID_UNIT,this.MIN_BLOCK_HEIGHT=12*this.GRID_UNIT,this.EMPTY_STATEMENT_INPUT_HEIGHT=6*this.GRID_UNIT,this.TOP_ROW_MIN_HEIGHT=this.CORNER_RADIUS,this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.BOTTOM_ROW_MIN_HEIGHT=this.CORNER_RADIUS,this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=6*this.GRID_UNIT,this.STATEMENT_BOTTOM_SPACER=-this.NOTCH_HEIGHT,this.STATEMENT_INPUT_SPACER_MIN_WIDTH=40*this.GRID_UNIT,this.STATEMENT_INPUT_PADDING_LEFT=4*this.GRID_UNIT,this.EMPTY_INLINE_INPUT_PADDING=4*this.GRID_UNIT,this.EMPTY_INLINE_INPUT_HEIGHT=8*this.GRID_UNIT,this.DUMMY_INPUT_MIN_HEIGHT=8*this.GRID_UNIT,this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=6*this.GRID_UNIT,this.CURSOR_WS_WIDTH=20*this.GRID_UNIT,this.FIELD_TEXT_FONTSIZE=3*this.GRID_UNIT,this.FIELD_BORDER_RECT_RADIUS=this.CORNER_RADIUS,this.FIELD_BORDER_RECT_X_PADDING=2*this.GRID_UNIT,this.FIELD_BORDER_RECT_Y_PADDING=1.625*this.GRID_UNIT,this.FIELD_BORDER_RECT_HEIGHT=8*this.GRID_UNIT,this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=8*this.GRID_UNIT,this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING,this.FIELD_COLOUR_DEFAULT_WIDTH=6*this.GRID_UNIT,this.FIELD_COLOUR_DEFAULT_HEIGHT=8*this.GRID_UNIT,this.FIELD_CHECKBOX_X_OFFSET=1*this.GRID_UNIT,this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH=12*this.GRID_UNIT}setFontConstants_(e){super.setFontConstants_(e),this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT=this.FIELD_TEXT_HEIGHT+this.FIELD_BORDER_RECT_Y_PADDING*2}init(){super.init(),this.HEXAGONAL=this.makeHexagonal(),this.ROUNDED=this.makeRounded(),this.SQUARED=this.makeSquared(),this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT+this.INSIDE_CORNERS.rightWidth}setDynamicProperties_(e){super.setDynamicProperties_(e),this.SELECTED_GLOW_COLOUR=e.getComponentStyle("selectedGlowColour")||this.SELECTED_GLOW_COLOUR;const i=Number(e.getComponentStyle("selectedGlowSize"));this.SELECTED_GLOW_SIZE=i&&!isNaN(i)?i:this.SELECTED_GLOW_SIZE,this.REPLACEMENT_GLOW_COLOUR=e.getComponentStyle("replacementGlowColour")||this.REPLACEMENT_GLOW_COLOUR,this.REPLACEMENT_GLOW_SIZE=(e=Number(e.getComponentStyle("replacementGlowSize")))&&!isNaN(e)?e:this.REPLACEMENT_GLOW_SIZE}dispose(){super.dispose(),this.selectedGlowFilter&&Xe(this.selectedGlowFilter),this.replacementGlowFilter&&Xe(this.replacementGlowFilter)}makeStartHat(){const e=this.START_HAT_HEIGHT,i=this.START_HAT_WIDTH,r=ni("c",[Ae(25,-e),Ae(71,-e),Ae(i,0)]);return{height:e*.75,width:i,path:r}}makeHexagonal(){function e(r,a,u){var f=r/2;return f=f>i?i:f,u=u?-1:1,r=(a?-1:1)*r/2,Sn(-u*f,r)+Sn(u*f,r)}const i=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH;return{type:this.SHAPES.HEXAGONAL,isDynamic:!0,width(r){return r/=2,r>i?i:r},height(r){return r},connectionOffsetY(r){return r/2},connectionOffsetX(r){return-r},pathDown(r){return e(r,!1,!1)},pathUp(r){return e(r,!0,!1)},pathRightDown(r){return e(r,!1,!0)},pathRightUp(r){return e(r,!1,!0)}}}makeRounded(){function e(a,u,f){const E=a>r?a-r:0;a=(a>r?r:a)/2;const C=f===u?"0":"1";return Ut("a","0 0,"+C,a,Ae((f?1:-1)*a,(u?-1:1)*a))+Le("v",(u?-1:1)*E)+Ut("a","0 0,"+C,a,Ae((f?-1:1)*a,(u?-1:1)*a))}const i=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,r=i*2;return{type:this.SHAPES.ROUND,isDynamic:!0,width(a){return a/=2,a>i?i:a},height(a){return a},connectionOffsetY(a){return a/2},connectionOffsetX(a){return-a},pathDown(a){return e(a,!1,!1)},pathUp(a){return e(a,!0,!1)},pathRightDown(a){return e(a,!1,!0)},pathRightUp(a){return e(a,!1,!0)}}}makeSquared(){function e(r,a,u){r-=i*2;const f=u===a?"0":"1";return Ut("a","0 0,"+f,i,Ae((u?1:-1)*i,(a?-1:1)*i))+Le("v",(a?-1:1)*r)+Ut("a","0 0,"+f,i,Ae((u?-1:1)*i,(a?-1:1)*i))}const i=this.CORNER_RADIUS;return{type:this.SHAPES.SQUARE,isDynamic:!0,width(r){return i},height(r){return r},connectionOffsetY(r){return r/2},connectionOffsetX(r){return-r},pathDown(r){return e(r,!1,!1)},pathUp(r){return e(r,!0,!1)},pathRightDown(r){return e(r,!1,!0)},pathRightUp(r){return e(r,!1,!0)}}}shapeFor(e){let i=e.getCheck();switch(!i&&e.targetConnection&&(i=e.targetConnection.getCheck()),e.type){case Ie.INPUT_VALUE:case Ie.OUTPUT_VALUE:if(e=e.getSourceBlock().getOutputShape(),e!==null)switch(e){case this.SHAPES.HEXAGONAL:return this.HEXAGONAL;case this.SHAPES.ROUND:return this.ROUNDED;case this.SHAPES.SQUARE:return this.SQUARED}return i&&i.includes("Boolean")?this.HEXAGONAL:i&&i.includes("Number")?this.ROUNDED:(i&&i.includes("String"),this.ROUNDED);case Ie.PREVIOUS_STATEMENT:case Ie.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown type")}}makeNotch(){function e(Ce){return ni("c",[Ae(Ce*u/2,0),Ae(Ce*u*3/4,E/2),Ae(Ce*u,E)])+Wl([Ae(Ce*u,f)])+ni("c",[Ae(Ce*u/4,E/2),Ae(Ce*u/2,E),Ae(Ce*u,E)])+Le("h",Ce*a)+ni("c",[Ae(Ce*u/2,0),Ae(Ce*u*3/4,-(E/2)),Ae(Ce*u,-E)])+Wl([Ae(Ce*u,-f)])+ni("c",[Ae(Ce*u/4,-(E/2)),Ae(Ce*u/2,-E),Ae(Ce*u,-E)])}const i=this.NOTCH_WIDTH,r=this.NOTCH_HEIGHT,a=i/3,u=a/3,f=r/2,E=f/2,C=e(1),Q=e(-1);return{type:this.SHAPES.NOTCH,width:i,height:r,pathLeft:C,pathRight:Q}}makeInsideCorners(){const e=this.CORNER_RADIUS,i=Ut("a","0 0,0",e,Ae(-e,e)),r=Ut("a","0 0,1",e,Ae(-e,e)),a=Ut("a","0 0,0",e,Ae(e,e)),u=Ut("a","0 0,1",e,Ae(e,e));return{width:e,height:e,pathTop:i,pathBottom:a,rightWidth:e,rightHeight:e,pathTopRight:r,pathBottomRight:u}}generateSecondaryColour_(e){return wr("#000",e,.15)||e}generateTertiaryColour_(e){return wr("#000",e,.25)||e}createDom(e,i,r,a){super.createDom(e,i,r,a),e=q(F.DEFS,{},e),i=q(F.FILTER,{id:"blocklySelectedGlowFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},e),q(F.FEGAUSSIANBLUR,{in:"SourceGraphic",stdDeviation:this.SELECTED_GLOW_SIZE},i),r=q(F.FECOMPONENTTRANSFER,{result:"outBlur"},i),q(F.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},r),q(F.FEFLOOD,{"flood-color":this.SELECTED_GLOW_COLOUR,"flood-opacity":1,result:"outColor"},i),q(F.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},i),this.selectedGlowFilterId=i.id,this.selectedGlowFilter=i,e=q(F.FILTER,{id:"blocklyReplacementGlowFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},e),q(F.FEGAUSSIANBLUR,{in:"SourceGraphic",stdDeviation:this.REPLACEMENT_GLOW_SIZE},e),i=q(F.FECOMPONENTTRANSFER,{result:"outBlur"},e),q(F.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},i),q(F.FEFLOOD,{"flood-color":this.REPLACEMENT_GLOW_COLOUR,"flood-opacity":1,result:"outColor"},e),q(F.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},e),q(F.FECOMPOSITE,{in:"SourceGraphic",in2:"outGlow",operator:"over"},e),this.replacementGlowFilterId=e.id,this.replacementGlowFilter=e,a&&(a.style.setProperty("--blocklySelectedGlowFilter","url(#".concat(this.selectedGlowFilterId,")")),a.style.setProperty("--blocklyReplacementGlowFilter","url(#".concat(this.replacementGlowFilterId,")")))}getCSS_(e){return["".concat(e," .blocklyText,"),"".concat(e," .blocklyFlyoutLabelText {"),"font: ".concat(this.FIELD_TEXT_FONTWEIGHT," ").concat(this.FIELD_TEXT_FONTSIZE)+"pt ".concat(this.FIELD_TEXT_FONTFAMILY,";"),"}","".concat(e," .blocklyTextInputBubble textarea {"),"font-weight: normal;","}","".concat(e," .blocklyText {"),"fill: #fff;","}","".concat(e," .blocklyNonEditableField>rect:not(.blocklyDropdownRect),"),"".concat(e," .blocklyEditableField>rect:not(.blocklyDropdownRect) {"),"fill: ".concat(this.FIELD_BORDER_RECT_COLOUR,";"),"}","".concat(e," .blocklyNonEditableField>text,"),"".concat(e," .blocklyEditableField>text,"),"".concat(e," .blocklyNonEditableField>g>text,"),"".concat(e," .blocklyEditableField>g>text {"),"fill: #575E75;","}","".concat(e," .blocklyFlyoutLabelText {"),"fill: #575E75;","}","".concat(e," .blocklyText.blocklyBubbleText {"),"fill: #575E75;","}","".concat(e," .blocklyDraggable:not(.blocklyDisabled)")," .blocklyEditableField:not(.blocklyEditing):hover>rect,","".concat(e," .blocklyDraggable:not(.blocklyDisabled)")," .blocklyEditableField:not(.blocklyEditing):hover>.blocklyPath {","stroke: #fff;","stroke-width: 2;","}","".concat(e," .blocklyHtmlInput {"),"font-family: ".concat(this.FIELD_TEXT_FONTFAMILY,";"),"font-weight: ".concat(this.FIELD_TEXT_FONTWEIGHT,";"),"color: #575E75;","}","".concat(e," .blocklyDropdownText {"),"fill: #fff !important;","}","".concat(e,".blocklyWidgetDiv .blocklyMenuItem,"),"".concat(e,".blocklyDropDownDiv .blocklyMenuItem {"),"font-family: ".concat(this.FIELD_TEXT_FONTFAMILY,";"),"}","".concat(e,".blocklyDropDownDiv .blocklyMenuItemContent {"),"color: #fff;","}","".concat(e," .blocklyHighlightedConnectionPath {"),"stroke: ".concat(this.SELECTED_GLOW_COLOUR,";"),"}","".concat(e," .blocklyDisabledPattern > .blocklyOutlinePath {"),"fill: var(--blocklyDisabledPattern)","}","".concat(e," .blocklyInsertionMarker>.blocklyPath {"),"fill-opacity: ".concat(this.INSERTION_MARKER_OPACITY,";"),"stroke: none;","}","".concat(e," .blocklySelected>.blocklyPath.blocklyPathSelected {"),"fill: none;","filter: var(--blocklySelectedGlowFilter);","}","".concat(e," .blocklyReplaceable>.blocklyPath {"),"filter: var(--blocklyReplacementGlowFilter);","}"]}},zC=class extends Cp{constructor(e,i){super(e,i)}draw(){const e=this.block_.pathObject;e.beginDrawing(),this.drawOutline_(),this.drawInternals_(),this.updateConnectionHighlights(),e.setPath(this.outlinePath_+"\n"+this.inlinePath_),this.info_.RTL&&e.flipRTL(),this.recordSizeOnBlock_(),this.info_.outputConnection&&(e.outputShapeType=this.info_.outputConnection.shape.type),e.endDrawing()}drawOutline_(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape&&!this.info_.hasStatementInput&&!this.info_.bottomRow.hasNextConnection?(this.drawFlatTop_(),this.drawRightDynamicConnection_(),this.drawFlatBottom_(),this.drawLeftDynamicConnection_()):super.drawOutline_()}drawLeft_(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape?this.drawLeftDynamicConnection_():super.drawLeft_()}drawRightSideRow_(e){if(!(e.height<=0)){if(x.isSpacer(e)){const a=e.precedesStatement;var i=e.followsStatement;if(a||i){const u=this.constants_.INSIDE_CORNERS;var r=u.rightHeight;r=e.height-(a?r:0),i=i?u.pathBottomRight:"",e=r>0?Le("V",e.yPos+r):"",this.outlinePath_+=i+e+(a?u.pathTopRight:"");return}}this.outlinePath_+=Le("V",e.yPos+e.height)}}drawRightDynamicConnection_(){if(!this.info_.outputConnection)throw Error("Cannot draw the output connection of a block that doesn't have one");this.outlinePath_+=this.info_.outputConnection.shape.pathRightDown(this.info_.outputConnection.height)}drawLeftDynamicConnection_(){if(!this.info_.outputConnection)throw Error("Cannot draw the output connection of a block that doesn't have one");this.positionOutputConnection_(),this.outlinePath_+=this.info_.outputConnection.shape.pathUp(this.info_.outputConnection.height),this.outlinePath_+="z"}drawFlatTop_(){const e=this.info_.topRow;this.positionPreviousConnection_(),this.outlinePath_+=kt(e.xPos,this.info_.startY),this.outlinePath_+=Le("h",e.width)}drawFlatBottom_(){const e=this.info_.bottomRow;this.positionNextConnection_(),this.outlinePath_+=Le("V",e.baseline),this.outlinePath_+=Le("h",-e.width)}drawInlineInput_(e){this.positionInlineInputConnection_(e);const i=e.input.name;e.connectedBlock||this.info_.isInsertionMarker||(e=_o(e.xPos+e.connectionWidth,e.centerline-e.height/2)+this.getInlineInputPath(e),this.block_.pathObject.setOutlinePath(i,e))}getInlineInputPath(e){const i=e.width-e.connectionWidth*2,r=e.height;return Le("h",i)+e.shape.pathRightDown(r)+Le("h",-i)+e.shape.pathUp(r)+"z"}drawStatementInput_(e){var i=e.getLastInput();const r=i.xPos+i.notchOffset+i.shape.width,a=this.constants_.INSIDE_CORNERS,u=i.shape.pathRight+Le("h",-(i.notchOffset-a.width))+a.pathTop,f=e.height-2*a.height;i=a.pathBottom+Le("h",i.notchOffset-a.width)+(i.connectedBottomNextConnection?"":i.shape.pathLeft),this.outlinePath_+=Le("H",r)+u+Le("v",f)+i+Le("H",e.xPos+e.width),this.positionStatementInputConnection_(e)}drawConnectionHighlightPath(e){const i=e.connectionModel;if(i.type===Ie.NEXT_STATEMENT||i.type===Ie.PREVIOUS_STATEMENT||i.type===Ie.OUTPUT_VALUE&&!e.isDynamicShape)return super.drawConnectionHighlightPath(e);e=i.type===Ie.INPUT_VALUE?_o(e.connectionWidth,-e.height/2)+this.getInlineInputPath(e):_o(e.width,-e.height/2)+e.shape.pathDown(e.height);const r=i.getSourceBlock();let a,u;return(u=(a=r.pathObject).addConnectionHighlight)==null?void 0:u.call(a,i,e,i.getOffsetInBlock(),r.RTL)}},Kr=class extends lt{constructor(e,i,r,a,u,f,E){if(super(lt.SKIP_SETUP),this.imageElement=this.clickHandler=null,this.flipRtl=this.isDirty_=this.EDITABLE=!1,this.altText="",r=Number(Bt(r)),i=Number(Bt(i)),isNaN(r)||isNaN(i))throw Error("Height and width values of an image field must cast to numbers.");if(r<=0||i<=0)throw Error("Height and width values of an image field must be greater than 0.");this.size_=new Ue(i,r+Kr.Y_PADDING),this.imageHeight=r,typeof u=="function"&&(this.clickHandler=u),e!==lt.SKIP_SETUP&&(E?this.configure_(E):(this.flipRtl=!!f,this.altText=Bt(a)||""),this.setValue(Bt(e)))}configure_(e){super.configure_(e),e.flipRtl&&(this.flipRtl=e.flipRtl),e.alt&&(this.altText=Bt(e.alt))}initView(){this.imageElement=q(F.IMAGE,{height:this.imageHeight+"px",width:this.size_.width+"px",alt:this.altText},this.fieldGroup_),this.imageElement.setAttributeNS($i,"xlink:href",this.value_),this.fieldGroup_&&fe(this.fieldGroup_,"blocklyImageField"),this.clickHandler&&(this.imageElement.style.cursor="pointer")}updateSize_(){}doClassValidation_(e){return typeof e!="string"?null:e}doValueUpdate_(e){this.value_=e,this.imageElement&&this.imageElement.setAttributeNS($i,"xlink:href",this.value_)}getFlipRtl(){return this.flipRtl}setAlt(e){e!==this.altText&&(this.altText=e||"",this.imageElement&&this.imageElement.setAttribute("alt",this.altText))}isClickable(){return super.isClickable()&&!!this.clickHandler}showEditor_(){this.clickHandler&&this.clickHandler(this)}setOnClickHandler(e){this.clickHandler=e}getText_(){return this.altText}static fromJson(e){if(!e.src||!e.width||!e.height)throw Error("src, width, and height values for an image field arerequired. The width and height must be non-zero.");return new this(e.src,e.width,e.height,void 0,void 0,void 0,e)}};Kr.Y_PADDING=1,yn("field_image",Kr),Kr.prototype.DEFAULT_VALUE="";var xp=14,ma=class extends lt{set size_(e){super.size_=e}get size_(){const e=super.size_;return e.width<xp&&(e.width=xp),e}constructor(e,i,r){super(lt.SKIP_SETUP),this.spellcheck_=!0,this.htmlInput_=null,this.isTextValid_=this.isBeingEdited_=!1,this.onInputWrapper=this.onKeyDownWrapper=this.valueWhenEditorWasOpened_=null,this.fullBlockClickTarget_=!1,this.workspace_=null,this.SERIALIZABLE=!0,e!==lt.SKIP_SETUP&&(r&&this.configure_(r),this.setValue(e),i&&this.setValidator(i))}configure_(e){super.configure_(e),e.spellcheck!==void 0&&(this.spellcheck_=e.spellcheck)}initView(){if(!this.getSourceBlock())throw new Vt;super.initView(),this.isFullBlockField()&&(this.clickTarget_=this.sourceBlock_.getSvgRoot()),this.fieldGroup_&&fe(this.fieldGroup_,"blocklyInputField")}isFullBlockField(){const e=this.getSourceBlock();if(!e)throw new Vt;let i;return this.fullBlockClickTarget_=!((i=this.getConstants())==null||!i.FULL_BLOCK_FIELDS)&&e.isSimpleReporter()}doValueInvalid_(e,i=!0){this.isBeingEdited_&&(this.isDirty_=!0,this.isTextValid_=!1,e=this.value_,this.value_=this.valueWhenEditorWasOpened_,this.sourceBlock_&&ke()&&this.value_!==e&&i&&V(new(ge(z.BLOCK_CHANGE))(this.sourceBlock_,"field",this.name||null,e,this.value_)))}doValueUpdate_(e){this.isTextValid_=this.isDirty_=!0,this.value_=e}applyColour(){const e=this.getSourceBlock();if(!e)throw new Vt;this.getConstants().FULL_BLOCK_FIELDS&&this.fieldGroup_&&(!this.isFullBlockField()&&this.borderRect_?(this.borderRect_.style.display="block",this.borderRect_.setAttribute("stroke",e.getColourTertiary())):(this.borderRect_.style.display="none",e.pathObject.svgPath.setAttribute("fill",this.getConstants().FIELD_BORDER_RECT_COLOUR)))}getSize(){let e;return(e=this.getConstants())!=null&&e.FULL_BLOCK_FIELDS&&(this.render_(),this.isDirty_=!1),super.getSize()}onLocationChange(){this.isBeingEdited_&&this.resizeEditor_()}render_(){if(super.render_(),this.isBeingEdited_){var e=this.htmlInput_;this.isTextValid_?(De(e,"blocklyInvalidInput"),qt(e,Ft.INVALID,!1)):(fe(e,"blocklyInvalidInput"),qt(e,Ft.INVALID,!0))}if(e=this.getSourceBlock(),!e)throw new Vt;this.getConstants().FULL_BLOCK_FIELDS&&e.applyColour()}setSpellcheck(e){e!==this.spellcheck_&&(this.spellcheck_=e,this.htmlInput_&&this.htmlInput_.setAttribute("spellcheck",this.spellcheck_))}showEditor_(e,i=!1,r=!0){this.workspace_=this.sourceBlock_.workspace,!i&&this.workspace_.options.modalInputs&&(VO||b_||Gh)?this.showPromptEditor():this.showInlineEditor(i,r)}showPromptEditor(){eh(n.Msg$$module$build$src$core$msg.CHANGE_VALUE_TITLE,this.getText(),e=>{e!==null&&this.setValue(this.getValueFromEditorText_(e)),this.onFinishEditing_(this.value_)})}showInlineEditor(e,i){const r=this.getSourceBlock();if(!r)throw new Vt;mh(this,r.RTL,this.widgetDispose_.bind(this),this.workspace_,i),this.htmlInput_=this.widgetCreate_(),this.isBeingEdited_=!0,this.valueWhenEditorWasOpened_=this.value_,e||(this.htmlInput_.focus({preventScroll:!0}),this.htmlInput_.select())}widgetCreate_(){var e=this.getSourceBlock();if(!e)throw new Vt;n.setGroup$$module$build$src$core$events$utils(!0);const i=Fl();var r=this.getClickTarget_();if(!r)throw Error("A click target has not been set.");fe(r,"blocklyEditing"),r=document.createElement("input"),r.className="blocklyHtmlInput",r.setAttribute("spellcheck",this.spellcheck_);const a=this.workspace_.getAbsoluteScale();var u=this.getConstants().FIELD_TEXT_FONTSIZE*a+"pt";return i.style.fontSize=u,r.style.fontSize=u,u=ma.BORDERRADIUS*a+"px",this.isFullBlockField()&&(u=this.getScaledBBox(),u=(u.bottom-u.top)/2+"px",e=e.getParent()?e.getParent().getColourTertiary():this.sourceBlock_.getColourTertiary(),r.style.border=1*a+"px solid "+e,i.style.borderRadius=u,i.style.transition="box-shadow 0.25s ease 0s",this.getConstants().FIELD_TEXTINPUT_BOX_SHADOW&&(i.style.boxShadow="rgba(255, 255, 255, 0.3) 0 0 0 "+4*a+"px")),r.style.borderRadius=u,i.appendChild(r),r.value=r.defaultValue=this.getEditorText_(this.value_),r.setAttribute("data-untyped-default-value",String(this.value_)),this.resizeEditor_(),this.bindInputEvents_(r),r}widgetDispose_(){this.isBeingEdited_=!1,this.isTextValid_=!0,this.forceRerender(),this.onFinishEditing_(this.value_),this.sourceBlock_&&ke()&&this.valueWhenEditorWasOpened_!==null&&this.valueWhenEditorWasOpened_!==this.value_&&(V(new(ge(z.BLOCK_CHANGE))(this.sourceBlock_,"field",this.name||null,this.valueWhenEditorWasOpened_,this.value_)),this.valueWhenEditorWasOpened_=null),n.setGroup$$module$build$src$core$events$utils(!1),this.unbindInputEvents_();var e=Fl().style;if(e.width="auto",e.height="auto",e.fontSize="",e.transition="",e.boxShadow="",this.htmlInput_=null,e=this.getClickTarget_(),!e)throw Error("A click target has not been set.");De(e,"blocklyEditing")}onFinishEditing_(e){}bindInputEvents_(e){this.onKeyDownWrapper=S(e,"keydown",this,this.onHtmlInputKeyDown_),this.onInputWrapper=S(e,"input",this,this.onHtmlInputChange)}unbindInputEvents_(){this.onKeyDownWrapper&&(L(this.onKeyDownWrapper),this.onKeyDownWrapper=null),this.onInputWrapper&&(L(this.onInputWrapper),this.onInputWrapper=null)}onHtmlInputKeyDown_(e){if(e.key==="Enter")Ar(this),En();else if(e.key==="Escape")this.setValue(this.htmlInput_.getAttribute("data-untyped-default-value"),!1),Ar(this),En();else if(e.key==="Tab"){e.preventDefault();var i,r=(i=this.workspace_)==null?void 0:i.getCursor();i=a=>(a instanceof ma||a instanceof ht&&a.isSimpleReporter())&&a!==this.getSourceBlock(),e=e.shiftKey?r==null?void 0:r.getPreviousNode(this,i,!1):r==null?void 0:r.getNextNode(this,i,!1),e=e instanceof ht&&e.isSimpleReporter()?e.getFields().next().value:e,e instanceof ma&&(Ar(this),En(),r=e.getSourceBlock(),e.isFullBlockField()&&r&&r instanceof ht?n.getFocusManager$$module$build$src$core$focus_manager().focusNode(r):n.getFocusManager$$module$build$src$core$focus_manager().focusNode(e),e.showEditor())}}onHtmlInputChange(e){e=this.value_,this.setValue(this.getValueFromEditorText_(this.htmlInput_.value),!1),this.sourceBlock_&&ke()&&this.value_!==e&&V(new(ge(z.BLOCK_FIELD_INTERMEDIATE_CHANGE))(this.sourceBlock_,this.name||null,e,this.value_))}setEditorValue_(e,i=!0){this.isDirty_=!0,this.isBeingEdited_&&(this.htmlInput_.value=this.getEditorText_(e)),this.setValue(e,i)}resizeEditor_(){Tn().then(()=>{const e=this.getSourceBlock();if(!e)throw new Vt;const i=Fl(),r=this.getScaledBBox();i.style.width=r.right-r.left+"px",i.style.height=r.bottom-r.top+"px";const a=r.top;i.style.left="".concat(e.RTL?r.right-i.offsetWidth:r.left,"px"),i.style.top="".concat(a,"px")})}repositionForWindowResize(){let e;const i=(e=this.getSourceBlock())==null?void 0:e.getRootBlock();return i instanceof ht?(Yl(this.workspace_,this.workspace_.getMetricsManager().getViewMetrics(!0),i)||this.resizeEditor_(),!0):!1}positionTextElement_(e,i){const r=e*2+i;super.positionTextElement_(e+(r<xp?(xp-r)/2:0),i)}getText_(){return this.isBeingEdited_&&this.htmlInput_?this.htmlInput_.value:null}getEditorText_(e){return"".concat(e)}getValueFromEditorText_(e){return e}};ma.BORDERRADIUS=4,n.FieldTextInput$$module$build$src$core$field_textinput=class extends ma{constructor(e,i,r){super(e,i,r)}initView(){super.initView(),this.fieldGroup_&&fe(this.fieldGroup_,"blocklyTextInputField")}doClassValidation_(e){return e===void 0?null:"".concat(e)}static fromJson(e){return new this(Bt(e.text),void 0,e)}},yn("field_input",n.FieldTextInput$$module$build$src$core$field_textinput),n.FieldTextInput$$module$build$src$core$field_textinput.prototype.DEFAULT_VALUE="",n.FieldTextInput$$module$build$src$core$field_textinput;var WC=class extends $b{constructor(e){super(e)}endsWithElemSpacer(){return!1}hasLeftSquareCorner(e){return!!e.outputConnection}hasRightSquareCorner(e){return!!e.outputConnection&&!e.statementInputCount&&!e.nextConnection}},Dp=class extends Op{constructor(e,i){if(super(e,i),this.connectedBottomNextConnection=!1,this.connectedBlock){for(e=this.connectedBlock;i=e.getNextBlock();)e=i;e.nextConnection||(this.height=this.connectedBlockHeight,this.connectedBottomNextConnection=!0)}}},XC=class extends wn{constructor(e){super(e),this.width=this.height=0,this.type|=x.getType("RIGHT_CONNECTION")}},YC=class extends yb{constructor(e){super(e)}endsWithElemSpacer(){return!1}hasLeftSquareCorner(e){const i=(e.hat?e.hat==="cap":this.constants_.ADD_START_HATS)&&!e.outputConnection&&!e.previousConnection;return!!e.outputConnection||i}hasRightSquareCorner(e){return!!e.outputConnection&&!e.statementInputCount&&!e.nextConnection}},jC=class extends fu{constructor(e,i){super(e,i),this.isInline=!0,this.renderer_=e,this.constants_=this.renderer_.getConstants(),this.topRow=new YC(this.constants_),this.bottomRow=new WC(this.constants_),this.isMultiRow=!i.getInputsInline()||i.isCollapsed(),this.hasStatementInput=i.statementInputCount>0,this.rightSide=this.outputConnection?new XC(this.constants_):null,this.rightAlignedDummyInputs=new WeakMap}getRenderer(){return this.renderer_}measure(){this.createRows_(),this.addElemSpacing_(),this.addRowSpacing_(),this.adjustXPosition_(),this.computeBounds_(),this.alignRowElements_(),this.finalize_()}shouldStartNewRow_(e,i){return i?i instanceof os||e instanceof vi||i instanceof vi?!0:e instanceof n.ValueInput$$module$build$src$core$inputs$value_input||e instanceof Rn||e instanceof os?!this.isInline||this.isMultiRow:!1:!1}getDesiredRowWidth_(e){return e.hasStatement?this.width-this.startX-(this.constants_.INSIDE_CORNERS.rightWidth||0):super.getDesiredRowWidth_(e)}getInRowSpacing_(e,i){return e&&i||!this.outputConnection||!this.outputConnection.isDynamicShape||this.hasStatementInput||this.bottomRow.hasNextConnection?!e&&i&&x.isStatementInput(i)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:e&&x.isLeftRoundedCorner(e)&&i&&(x.isPreviousConnection(i)||x.isNextConnection(i))?i.notchOffset-this.constants_.CORNER_RADIUS:e&&x.isLeftSquareCorner(e)&&i&&x.isHat(i)||e&&x.isField(e)&&e.width===0?this.constants_.NO_PADDING:this.constants_.MEDIUM_PADDING:this.constants_.NO_PADDING}getSpacerRowHeight_(e,i){if(x.isTopRow(e)&&x.isBottomRow(i))return this.constants_.EMPTY_BLOCK_SPACER_HEIGHT;const r=x.isInputRow(e)&&e.hasStatement,a=x.isInputRow(i)&&i.hasStatement;return a||r?(e=Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.INSIDE_CORNERS.rightHeight||0),a&&r?Math.max(e,this.constants_.DUMMY_INPUT_MIN_HEIGHT):e):x.isTopRow(e)?e.hasPreviousConnection||this.outputConnection&&!this.hasStatementInput?this.constants_.NO_PADDING:Math.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):x.isBottomRow(i)?this.outputConnection?!i.hasNextConnection&&this.hasStatementInput?Math.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):this.constants_.NO_PADDING:Math.max(this.topRow.minHeight,Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.CORNER_RADIUS))-this.constants_.CORNER_RADIUS:this.constants_.MEDIUM_PADDING}getSpacerRowWidth_(e,i){const r=this.width-this.startX;return x.isInputRow(e)&&e.hasStatement||x.isInputRow(i)&&i.hasStatement?Math.max(r,this.constants_.STATEMENT_INPUT_SPACER_MIN_WIDTH):r}getElemCenterline_(e,i){if(e.hasStatement&&!x.isSpacer(i)&&!x.isStatementInput(i))return e.yPos+this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT/2;if(x.isInlineInput(i)){const r=i.connectedBlock;if(r&&r.outputConnection&&r.nextConnection)return e.yPos+r.height/2}return super.getElemCenterline_(e,i)}addInput_(e,i){if((e instanceof Rn||e instanceof os)&&i.hasDummyInput&&i.align===n.Align$$module$build$src$core$inputs$align.LEFT&&e.align===n.Align$$module$build$src$core$inputs$align.RIGHT)this.rightAlignedDummyInputs.set(i,e);else if(e instanceof vi){i.elements.push(new Dp(this.constants_,e)),i.hasStatement=!0,i.align===null&&(i.align=e.align);return}super.addInput_(e,i)}addAlignmentPadding_(e,i){if(this.rightAlignedDummyInputs.get(e)){let r;for(let a=0;a<e.elements.length;a++){const u=e.elements[a];if(x.isSpacer(u)&&(r=u),x.isField(u)&&u.parentInput===this.rightAlignedDummyInputs.get(e))break}if(r){r.width+=i,e.width+=i;return}}super.addAlignmentPadding_(e,i)}adjustXPosition_(){const e=this.constants_.NOTCH_OFFSET_LEFT+this.constants_.NOTCH_WIDTH;let i=e;for(let u=2;u<this.rows.length-1;u+=2){var r=this.rows[u-1];const f=this.rows[u];var a=this.rows[u+1];if(r=u===2?!!this.topRow.hasPreviousConnection:!!r.followsStatement,a=u+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!a.precedesStatement,x.isInputRow(f)&&f.hasStatement){f.measure();let E,C;i=f.width-((C=(E=f.getLastInput())==null?void 0:E.width)!=null?C:0)+e}else if(r&&(u===2||a)&&x.isInputRow(f)&&!f.hasStatement){a=f.xPos,r=null;for(let E=0;E<f.elements.length;E++){const C=f.elements[E];x.isSpacer(C)&&(r=C),!(r&&(x.isField(C)||x.isInput(C))&&a<i)||x.isField(C)&&(C.field instanceof Xr||C.field instanceof Kr)||(r.width+=i-a),a+=C.width}}}}finalizeOutputConnection_(){if(this.outputConnection&&this.outputConnection.isDynamicShape){var e=this.outputConnection.shape;if("isDynamic"in e&&e.isDynamic){for(var i=0,r=0;r<this.rows.length;r++){const a=this.rows[r];a.yPos=i,i+=a.height}this.height=i,r=this.bottomRow.hasNextConnection?this.height-this.bottomRow.descenderHeight:this.height,i=e.height(r),r=e.width(r),this.outputConnection.height=i,this.outputConnection.width=r,this.outputConnection.startX=r,this.outputConnection.connectionOffsetY=e.connectionOffsetY(i),this.outputConnection.connectionOffsetX=e.connectionOffsetX(r),e=0,this.hasStatementInput||this.bottomRow.hasNextConnection||(e=r,this.rightSide.height=i,this.rightSide.width=e,this.rightSide.centerline=i/2,this.rightSide.xPos=this.width+e),this.startX=r,this.width+=r+e,this.widthWithChildren+=r+e}}}finalizeHorizontalAlignment_(){if(this.outputConnection&&!this.hasStatementInput&&!this.bottomRow.hasNextConnection){for(var e=0,i=0;i<this.rows.length;i++){var r=this.rows[i];if(!x.isInputRow(r))continue;e=r.elements[r.elements.length-2];let a=this.getNegativeSpacing_(r.elements[1]),u=this.getNegativeSpacing_(e);e=a+u;const f=this.constants_.MIN_BLOCK_WIDTH+this.outputConnection.width*2;this.width-e<f&&(e=this.width-f,a=e/2,u=e/2),r.elements.unshift(new yi(this.constants_,-a)),r.elements.push(new yi(this.constants_,-u))}if(e)for(this.width-=e,this.widthWithChildren-=e,this.rightSide.xPos-=e,i=0;i<this.rows.length;i++)r=this.rows[i],x.isTopOrBottomRow(r)&&(r.elements[1].width-=e),r.width-=e,r.widthWithConnectedBlocks-=e}}getNegativeSpacing_(e){if(!e||!this.outputConnection)return 0;const i=this.outputConnection.width;var r=this.outputConnection.shape.type;const a=this.constants_;if(this.inputRows.length>1)switch(r){case a.SHAPES.ROUND:return r=this.constants_.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,r=this.height/2>r?r:this.height/2,i-r*(1-Math.sin(Math.acos((r-this.constants_.SMALL_PADDING)/r)));default:return 0}if(x.isInlineInput(e)){const u=e.connectedBlock;return e=u?u.pathObject.outputShapeType:e.shape.type,e==null||u&&u.outputConnection&&(u.statementInputCount||u.nextConnection)||r===a.SHAPES.HEXAGONAL&&r!==e?0:i-this.constants_.SHAPE_IN_SHAPE_PADDING[r][e]}return x.isField(e)?r===a.SHAPES.ROUND&&e.field instanceof n.FieldTextInput$$module$build$src$core$field_textinput?i-2.75*a.GRID_UNIT:i-this.constants_.SHAPE_IN_SHAPE_PADDING[r][0]:x.isIcon(e)?this.constants_.SMALL_PADDING:0}finalizeVerticalAlignment_(){if(!this.outputConnection)for(let a=2;a<this.rows.length-1;a+=2){const u=this.rows[a-1],f=this.rows[a],E=this.rows[a+1];var e=a===2,i=a+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!E.precedesStatement;if(e?this.topRow.hasPreviousConnection:u.followsStatement){var r=f.elements[1];if(r=f.elements.length===3&&r instanceof bb&&(r.field instanceof Xr||r.field instanceof Kr),!e&&r)u.height-=this.constants_.SMALL_PADDING,E.height-=this.constants_.SMALL_PADDING,f.height-=this.constants_.MEDIUM_PADDING;else if(!e&&!i)u.height+=this.constants_.SMALL_PADDING;else if(i){for(e=!1,i=0;i<f.elements.length;i++)if(r=f.elements[i],x.isInlineInput(r)&&r.connectedBlock&&!r.connectedBlock.isShadow()&&r.connectedBlock.getHeightWidth().height>=40){e=!0;break}e&&(u.height-=this.constants_.SMALL_PADDING,E.height-=this.constants_.SMALL_PADDING)}}}}finalize_(){this.finalizeOutputConnection_(),this.finalizeHorizontalAlignment_(),this.finalizeVerticalAlignment_(),super.finalize_(),this.rightSide&&(this.widthWithChildren+=this.rightSide.width)}},KC=class extends wp{constructor(e,i,r){super(e,i,r),this.svgPathSelected=null,this.outlines=new Map,this.remainingOutlines=new Set,this.outputShapeType=null,this.constants=r}setPath(e){super.setPath(e),this.svgPathSelected&&this.svgPathSelected.setAttribute("d",e)}applyColour(e){super.applyColour(e);const i=e.getParent();e.isShadow()&&i&&this.svgPath.setAttribute("stroke",i.getColourTertiary());for(const r of this.outlines.values())r.setAttribute("fill",this.style.colourTertiary)}flipRTL(){super.flipRTL();for(const e of this.outlines.values())e.setAttribute("transform","scale(-1 1)")}updateSelected(e){this.setClass_("blocklySelected",e),e?this.svgPathSelected||(this.svgPathSelected=this.svgPath.cloneNode(!0),this.svgPathSelected.classList.add("blocklyPathSelected"),De(this.svgPathSelected,Ao.ACTIVE_FOCUS_NODE_CSS_CLASS_NAME),De(this.svgPathSelected,Ao.PASSIVE_FOCUS_NODE_CSS_CLASS_NAME),this.svgPathSelected.removeAttribute("tabindex"),this.svgPathSelected.removeAttribute("id"),this.svgRoot.appendChild(this.svgPathSelected)):this.svgPathSelected&&(this.svgRoot.removeChild(this.svgPathSelected),this.svgPathSelected=null)}updateReplacementFade(e){this.setClass_("blocklyReplaceable",e)}updateShapeForInputHighlight(e,i){e=e.getParentInput().name,(e=this.getOutlinePath(e))&&(i?e.setAttribute("filter","url(#"+this.constants.replacementGlowFilterId+")"):e.removeAttribute("filter"))}beginDrawing(){this.remainingOutlines.clear();for(const e of this.outlines.keys())this.remainingOutlines.add(e)}endDrawing(){if(this.remainingOutlines.size)for(const e of this.remainingOutlines)this.removeOutlinePath(e);this.remainingOutlines.clear()}setOutlinePath(e,i){e=this.getOutlinePath(e),e.setAttribute("d",i),e.setAttribute("fill",this.style.colourTertiary)}getOutlinePath(e){return this.outlines.has(e)||this.outlines.set(e,q(F.PATH,{class:"blocklyOutlinePath",d:""},this.svgRoot)),this.remainingOutlines.delete(e),this.outlines.get(e)}removeOutlinePath(e){let i,r;(i=this.outlines.get(e))==null||(r=i.parentNode)==null||r.removeChild(this.outlines.get(e)),this.outlines.delete(e)}},Nb=class extends Ap{constructor(e){super(e)}makeConstants_(){return new VC}makeRenderInfo_(e){return new jC(this,e)}makeDrawer_(e,i){return new zC(e,i)}makePathObject(e,i){return new KC(e,i,this.getConstants())}getConstants(){return this.constants_}};Fc("zelos",Nb);var qC=class{constructor(e){this.staticConn=this.draggedConn=this.markerConn=this.fadedBlock=null,this.workspace=e.workspace}previewReplacement(e,i,r){n.disable$$module$build$src$core$events$utils();try{this.hidePreview(),this.fadedBlock=r,r.fadeForReplacement(!0),this.workspace.getRenderer().shouldHighlightConnection(i)&&(i.highlight(),this.staticConn=i)}finally{n.enable$$module$build$src$core$events$utils()}}previewConnection(e,i){if(e!==this.draggedConn||i!==this.staticConn){n.disable$$module$build$src$core$events$utils();try{this.hidePreview(),this.shouldUseMarkerPreview(e,i)&&(this.markerConn=this.previewMarker(e,i)),this.workspace.getRenderer().shouldHighlightConnection(i)&&i.highlight(),this.draggedConn=e,this.staticConn=i}finally{n.enable$$module$build$src$core$events$utils()}}}shouldUseMarkerPreview(e,i){return i.type===Ie.PREVIOUS_STATEMENT||i.type===Ie.NEXT_STATEMENT||!(this.workspace.getRenderer()instanceof Nb)}previewMarker(e,i){const r=e.getSourceBlock(),a=this.createInsertionMarker(r),u=this.getMatchingConnection(r,a,e);if(!u)return null;a.queueRender(),Ls(),u.connect(i);const f={x:i.x-u.x,y:i.y-u.y},E=u.getOffsetInBlock().clone();return Tn().then(()=>{if(!a.isDeadOrDying()){n.disable$$module$build$src$core$events$utils();try{a==null||a.positionNearConnection(u,f,E),a==null||a.getSvgRoot().setAttribute("visibility","visible")}finally{n.enable$$module$build$src$core$events$utils()}}}),u}serializeBlockToInsertionMarker(e){const i=Mi(e,{addCoordinates:!1,addInputBlocks:!1,addNextBlocks:!1,doFullSerialization:!1});if(!i)throw Error("Failed to serialize source block. ".concat(e.toDevString()));return i}createInsertionMarker(e){e=this.serializeBlockToInsertionMarker(e),e=ks(e,this.workspace);for(const i of e.getDescendants(!1))i.setInsertionMarker(!0);return e.initSvg(),e.getSvgRoot().setAttribute("visibility","hidden"),e}getMatchingConnection(e,i,r){if(e=e.getConnections_(!0),i=i.getConnections_(!0),e.length!==i.length)return null;for(let a=0;a<e.length;a++)if(e[a]===r)return i[a];return null}hidePreview(){n.disable$$module$build$src$core$events$utils();try{this.staticConn&&(this.staticConn.unhighlight(),this.staticConn=null),this.fadedBlock&&(this.fadedBlock.fadeForReplacement(!1),this.fadedBlock=null),this.markerConn&&(this.hideInsertionMarker(this.markerConn),this.draggedConn=this.markerConn=null)}finally{n.enable$$module$build$src$core$events$utils()}}hideInsertionMarker(e){const i=e.getSourceBlock(),r=i.outputConnection;let a;if((a=i.previousConnection)!=null&&a.targetConnection||r!=null&&r.targetConnection)i.unplug(!0);else{let u;(u=e.targetBlock())==null||u.unplug(!1)}i.dispose()}dispose(){this.hidePreview()}};s(oe.CONNECTION_PREVIEWER,mi,qC);var Ws={};Ws.Align=n.Align$$module$build$src$core$inputs$align,Ws.DummyInput=Rn,Ws.EndRowInput=os,Ws.Input=aa,Ws.StatementInput=vi,Ws.ValueInput=n.ValueInput$$module$build$src$core$inputs$value_input,Ws.inputTypes=n.inputTypes$$module$build$src$core$inputs$input_types;var JC=!1,ZC;n.CodeGenerator$$module$build$src$core$generator=class{constructor(e){this.forBlock=Object.create(null),this.FUNCTION_NAME_PLACEHOLDER_="{leCUI8hutHZI4480Dc}",this.STATEMENT_SUFFIX=this.STATEMENT_PREFIX=this.INFINITE_LOOP_TRAP=null,this.INDENT="  ",this.COMMENT_WRAP=60,this.ORDER_OVERRIDES=[],this.isInitialized=null,this.RESERVED_WORDS_="",this.definitions_=Object.create(null),this.functionNames_=Object.create(null),this.nameDB_=void 0,this.name_=e,this.FUNCTION_NAME_PLACEHOLDER_REGEXP_=new RegExp(this.FUNCTION_NAME_PLACEHOLDER_,"g")}workspaceToCode(e){e||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),e=_());var i=[];this.init(e),e=e.getTopBlocks(!0);for(let r=0,a;a=e[r];r++){let u=this.blockToCode(a);Array.isArray(u)&&(u=u[0]),u&&(a.outputConnection&&(u=this.scrubNakedValue(u),this.STATEMENT_PREFIX&&!a.suppressPrefixSuffix&&(u=this.injectId(this.STATEMENT_PREFIX,a)+u),this.STATEMENT_SUFFIX&&!a.suppressPrefixSuffix&&(u+=this.injectId(this.STATEMENT_SUFFIX,a))),i.push(u))}return i=i.join("\n"),i=this.finish(i),i=i.replace(/^\s+\n/,""),i=i.replace(/\n\s+$/,"\n"),i=i.replace(/[ \t]+\n/g,"\n")}prefixLines(e,i){return i+e.replace(/(?!\n$)\n/g,"\n"+i)}allNestedComments(e){const i=[];e=e.getDescendants(!0);for(let r=0;r<e.length;r++){const a=e[r].getCommentText();a&&i.push(a)}return i.length&&i.push(""),i.join("\n")}blockToCode(e,i){if(this.isInitialized===!1&&console.warn("CodeGenerator init was not called before blockToCode was called."),!e)return"";if(!e.isEnabled())return i?"":this.blockToCode(e.getNextBlock());if(e.isInsertionMarker())return i?"":this.blockToCode(e.getChildren(!1)[0]);var r=this.forBlock[e.type];if(typeof r!="function")throw Error("".concat(this.name_," generator does not know how to generate code ")+'for block type "'.concat(e.type,'".'));if(r=r.call(e,e,this),Array.isArray(r)){if(!e.outputConnection)throw TypeError("Expecting string from statement block: "+e.type);return[this.scrub_(e,r[0],i),r[1]]}if(typeof r=="string")return this.STATEMENT_PREFIX&&!e.suppressPrefixSuffix&&(r=this.injectId(this.STATEMENT_PREFIX,e)+r),this.STATEMENT_SUFFIX&&!e.suppressPrefixSuffix&&(r+=this.injectId(this.STATEMENT_SUFFIX,e)),this.scrub_(e,r,i);if(r===null)return"";throw SyntaxError("Invalid code generated: "+r)}valueToCode(e,i,r){if(isNaN(r))throw TypeError("Expecting valid order from block: "+e.type);var a=e.getInputTargetBlock(i);if(!a&&!e.getInput(i))throw ReferenceError('Input "'.concat(i,'" doesn\'t exist on "').concat(e.type,'"'));if(!a||(i=this.blockToCode(a),i===""))return"";if(!Array.isArray(i))throw TypeError("Expecting tuple from value block: ".concat(a.type," See ")+"developers.google.com/blockly/guides/create-custom-blocks/generating-code for more information");if(e=i[0],i=i[1],isNaN(i))throw TypeError("Expecting valid order from value block: "+a.type);if(!e)return"";a=!1;var u=Math.floor(r);const f=Math.floor(i);if(u<=f&&(u!==f||u!==0&&u!==99)){for(a=!0,u=0;u<this.ORDER_OVERRIDES.length;u++)if(this.ORDER_OVERRIDES[u][0]===r&&this.ORDER_OVERRIDES[u][1]===i){a=!1;break}}return a&&(e="("+e+")"),e}statementToCode(e,i){const r=e.getInputTargetBlock(i);if(!r&&!e.getInput(i))throw ReferenceError('Input "'.concat(i,'" doesn\'t exist on "').concat(e.type,'"'));if(e=this.blockToCode(r),typeof e!="string")throw TypeError("Expecting code from statement block: "+(r&&r.type));return e&&(e=this.prefixLines(e,this.INDENT)),e}addLoopTrap(e,i){return this.INFINITE_LOOP_TRAP&&(e=this.prefixLines(this.injectId(this.INFINITE_LOOP_TRAP,i),this.INDENT)+e),this.STATEMENT_SUFFIX&&!i.suppressPrefixSuffix&&(e=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,i),this.INDENT)+e),this.STATEMENT_PREFIX&&!i.suppressPrefixSuffix&&(e+=this.prefixLines(this.injectId(this.STATEMENT_PREFIX,i),this.INDENT)),e}injectId(e,i){return i=i.id.replace(/\$/g,"$$$$"),e.replace(/%1/g,"'"+i+"'")}addReservedWords(e){this.RESERVED_WORDS_+=e+","}provideFunction_(e,i){if(!this.definitions_[e]){const r=this.nameDB_.getDistinctName(e,n.NameType$$module$build$src$core$names.PROCEDURE);this.functionNames_[e]=r,Array.isArray(i)&&(i=i.join("\n")),i=i.trim().replace(this.FUNCTION_NAME_PLACEHOLDER_REGEXP_,r);let a;for(;a!==i;)a=i,i=i.replace(/^(( {2})*) {2}/gm,"$1\0");i=i.replace(/\0/g,this.INDENT),this.definitions_[e]=i}return this.functionNames_[e]}getVariableName(e){return this.getName(e,n.NameType$$module$build$src$core$names.VARIABLE)}getProcedureName(e){return this.getName(e,n.NameType$$module$build$src$core$names.PROCEDURE)}getName(e,i){if(!this.nameDB_)throw Error("Name database is not defined. You must initialize `nameDB_` in your generator class and call `init` first.");return this.nameDB_.getName(e,i)}init(e){this.definitions_=Object.create(null),this.functionNames_=Object.create(null)}scrub_(e,i,r){return i}finish(e){return this.definitions_=Object.create(null),this.functionNames_=Object.create(null),e}scrubNakedValue(e){return e}},ZC={},ZC.CodeGenerator=n.CodeGenerator$$module$build$src$core$generator;var Mb=class extends Ep{constructor(e){super(e)}setMetrics_(e){if(this.isVisible()){var i=this.workspace_.getMetricsManager(),r=i.getScrollMetrics(),a=i.getViewMetrics();i=i.getAbsoluteMetrics(),typeof e.y=="number"&&(this.workspace_.scrollY=-(r.top+(r.height-a.height)*e.y)),this.workspace_.translate(this.workspace_.scrollX+i.left,this.workspace_.scrollY+i.top)}}getX(){if(!this.isVisible())return 0;var e=this.targetWorkspace.getMetricsManager();const i=e.getAbsoluteMetrics(),r=e.getViewMetrics();return e=e.getToolboxMetrics(),this.targetWorkspace.toolboxPosition===this.toolboxPosition_?this.targetWorkspace.getToolbox()?this.toolboxPosition_===He.LEFT?e.width:r.width-this.getWidth():this.toolboxPosition_===He.LEFT?0:r.width:this.toolboxPosition_===He.LEFT?0:r.width+i.left-this.getWidth()}getY(){return 0}position(){if(this.isVisible()&&this.targetWorkspace.isVisible()){var e=this.targetWorkspace.getMetricsManager().getViewMetrics();this.height_=e.height;var i=this.getWidth()-this.CORNER_RADIUS;this.setBackgroundPath(i,e.height-2*this.CORNER_RADIUS),e=this.getX(),i=this.getY(),this.positionAt_(this.getWidth(),this.getHeight(),e,i)}}setBackgroundPath(e,i){const r=this.toolboxPosition_===He.RIGHT;var a=e+this.CORNER_RADIUS;a=["M "+(r?a:0)+",0"],a.push("h",r?-e:e),a.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,r?0:1,r?-this.CORNER_RADIUS:this.CORNER_RADIUS,this.CORNER_RADIUS),a.push("v",Math.max(0,i)),a.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,r?0:1,r?this.CORNER_RADIUS:-this.CORNER_RADIUS,this.CORNER_RADIUS),a.push("h",r?e:-e),a.push("z"),this.svgBackground_.setAttribute("d",a.join(" "))}scrollToStart(){let e;(e=this.workspace_.scrollbar)==null||e.setY(0)}wheel_(e){var i=j(e);if(i.y){const r=this.workspace_.getMetricsManager(),a=r.getScrollMetrics();i=r.getViewMetrics().top-a.top+i.y;let u;(u=this.workspace_.scrollbar)==null||u.setY(i),Dc(this.workspace_),En()}e.preventDefault(),e.stopPropagation()}layout_(e){this.workspace_.scale=this.targetWorkspace.scale;var i=this.MARGIN;const r=this.RTL?i:i+this.tabWidth_;for(const a of e)a.getElement().moveBy(r,i),i+=a.getElement().getBoundingRectangle().getHeight()}isDragTowardWorkspace(e){e=Math.atan2(e.y,e.x)/Math.PI*180;const i=this.dragAngleRange_;return e<i&&e>-i||e<-180+i||e>180-i}getClientRect(){if(!this.svgGroup_||this.autoClose||!this.isVisible())return null;const e=this.svgGroup_.getBoundingClientRect(),i=e.left;return this.toolboxPosition_===He.LEFT?new Be(-1e9,1e9,-1e9,i+e.width):new Be(-1e9,1e9,i,1e9)}reflowInternal_(){this.workspace_.scale=this.getFlyoutScale();let e=this.getContents().reduce((i,r)=>Math.max(i,r.getElement().getBoundingRectangle().getWidth()),0);if(e+=this.MARGIN*1.5+this.tabWidth_,e*=this.workspace_.scale,e+=Ht.scrollbarThickness,this.getWidth()!==e){if(this.RTL)for(const i of this.getContents()){const r=i.getElement().getBoundingRectangle().left,a=e/this.workspace_.scale-i.getElement().getBoundingRectangle().getWidth()-this.MARGIN-this.tabWidth_;i.getElement().moveBy(a-r,0)}this.targetWorkspace.scrollbar||this.autoClose||this.targetWorkspace.getFlyout()!==this||this.toolboxPosition_!==He.LEFT||this.targetWorkspace.translate(this.targetWorkspace.scrollX+e,this.targetWorkspace.scrollY),this.width_=e,this.position(),this.targetWorkspace.resizeContents(),this.targetWorkspace.recordDragTargets()}}};Mb.registryName="verticalFlyout",s(oe.FLYOUTS_VERTICAL_TOOLBOX,mi,Mb);var QC=class extends Ep{constructor(e){super(e),this.horizontalLayout=!0}setMetrics_(e){if(this.isVisible()){var i=this.workspace_.getMetricsManager(),r=i.getScrollMetrics(),a=i.getViewMetrics();i=i.getAbsoluteMetrics(),typeof e.x=="number"&&(this.workspace_.scrollX=-(r.left+(r.width-a.width)*e.x)),this.workspace_.translate(this.workspace_.scrollX+i.left,this.workspace_.scrollY+i.top)}}getX(){return 0}getY(){if(!this.isVisible())return 0;var e=this.targetWorkspace.getMetricsManager();const i=e.getAbsoluteMetrics(),r=e.getViewMetrics();e=e.getToolboxMetrics();const a=this.toolboxPosition_===He.TOP;return this.targetWorkspace.toolboxPosition===this.toolboxPosition_?this.targetWorkspace.getToolbox()?a?e.height:r.height-this.getHeight():a?0:r.height:a?0:r.height+i.top-this.getHeight()}position(){if(this.isVisible()&&this.targetWorkspace.isVisible()){var e=this.targetWorkspace.getMetricsManager().getViewMetrics();this.width_=e.width,e=e.width-2*this.CORNER_RADIUS;var i=this.getHeight()-this.CORNER_RADIUS;this.setBackgroundPath(e,i),e=this.getX(),i=this.getY(),this.positionAt_(this.getWidth(),this.getHeight(),e,i)}}setBackgroundPath(e,i){const r=this.toolboxPosition_===He.TOP,a=["M 0,"+(r?0:this.CORNER_RADIUS)];r?(a.push("h",e+2*this.CORNER_RADIUS),a.push("v",i),a.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,this.CORNER_RADIUS),a.push("h",-e),a.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,-this.CORNER_RADIUS)):(a.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,-this.CORNER_RADIUS),a.push("h",e),a.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,this.CORNER_RADIUS),a.push("v",i),a.push("h",-e-2*this.CORNER_RADIUS)),a.push("z"),this.svgBackground_.setAttribute("d",a.join(" "))}scrollToStart(){let e;(e=this.workspace_.scrollbar)==null||e.setX(this.RTL?1/0:0)}wheel_(e){var i=j(e);if(i=i.x||i.y){const r=this.workspace_.getMetricsManager(),a=r.getScrollMetrics();i=r.getViewMetrics().left-a.left+i;let u;(u=this.workspace_.scrollbar)==null||u.setX(i),Dc(this.workspace_),En()}e.preventDefault(),e.stopPropagation()}layout_(e){this.workspace_.scale=this.targetWorkspace.scale;const i=this.MARGIN;let r=i+this.tabWidth_;this.RTL&&(e=e.reverse());for(const a of e)e=a.getElement().getBoundingRectangle(),e=this.RTL?r+e.getWidth():r,a.getElement().moveBy(e,i),r+=a.getElement().getBoundingRectangle().getWidth()}isDragTowardWorkspace(e){e=Math.atan2(e.y,e.x)/Math.PI*180;const i=this.dragAngleRange_;return e<90+i&&e>90-i||e>-90-i&&e<-90+i}getClientRect(){if(!this.svgGroup_||this.autoClose||!this.isVisible())return null;const e=this.svgGroup_.getBoundingClientRect(),i=e.top;return this.toolboxPosition_===He.TOP?new Be(-1e9,i+e.height,-1e9,1e9):new Be(i,1e9,-1e9,1e9)}reflowInternal_(){this.workspace_.scale=this.getFlyoutScale();let e=this.getContents().reduce((i,r)=>Math.max(i,r.getElement().getBoundingRectangle().getHeight()),0);e+=this.MARGIN*1.5,e*=this.workspace_.scale,e+=Ht.scrollbarThickness,this.getHeight()!==e&&(this.targetWorkspace.scrollbar||this.autoClose||this.targetWorkspace.getFlyout()!==this||this.toolboxPosition_!==He.TOP||this.targetWorkspace.translate(this.targetWorkspace.scrollX,this.targetWorkspace.scrollY+e),this.height_=e,this.position(),this.targetWorkspace.resizeContents(),this.targetWorkspace.recordDragTargets())}};s(oe.FLYOUTS_HORIZONTAL_TOOLBOX,mi,QC);var $u=class extends Lo{constructor(e,i,r,a,u){super(lt.SKIP_SETUP),this.defaultType="",this.variableTypes=[],this.variable=null,this.SERIALIZABLE=!0,this.menuGenerator_=$u.dropdownCreate,this.defaultVariableName=typeof e=="string"?e:"",this.size_=new Ue(0,0),e!==lt.SKIP_SETUP&&(u?this.configure_(u):this.setTypes(r,a),i&&this.setValidator(i))}configure_(e){super.configure_(e),this.setTypes(e.variableTypes,e.defaultType)}initModel(){var e=this.getSourceBlock();if(!e)throw new Vt;this.variable||(e=n.getOrCreateVariablePackage$$module$build$src$core$variables(e.workspace,null,this.defaultVariableName,this.defaultType),this.doValueUpdate_(e.getId()))}initView(){super.initView(),fe(this.fieldGroup_,"blocklyVariableField")}shouldAddBorderRect_(){const e=this.getSourceBlock();if(!e)throw new Vt;return super.shouldAddBorderRect_()&&(!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||e.type!=="variables_get")}fromXml(e){var i=this.getSourceBlock();if(!i)throw new Vt;const r=e.getAttribute("id"),a=e.textContent,u=e.getAttribute("variabletype")||e.getAttribute("variableType")||"";if(i=n.getOrCreateVariablePackage$$module$build$src$core$variables(i.workspace,r,a,u),u!==null&&u!==i.getType())throw Error("Serialized variable type with id '"+i.getId()+"' had type "+i.getType()+", and does not match variable field that references it: "+vn(e)+".");this.setValue(i.getId())}toXml(e){return this.initModel(),e.id=this.variable.getId(),e.textContent=this.variable.getName(),this.variable.getType()&&e.setAttribute("variabletype",this.variable.getType()),e}saveState(e){var i=this.saveLegacyState($u);return i!==null||(this.initModel(),i={id:this.variable.getId()},e&&(i.name=this.variable.getName(),i.type=this.variable.getType())),i}loadState(e){const i=this.getSourceBlock();if(!i)throw new Vt;this.loadLegacyState($u,e)||(e=n.getOrCreateVariablePackage$$module$build$src$core$variables(i.workspace,e.id||null,e.name,e.type||""),this.setValue(e.getId()))}setSourceBlock(e){if(e.isShadow())throw Error("Variable fields are not allowed to exist on shadow blocks.");super.setSourceBlock(e)}getValue(){return this.variable?this.variable.getId():null}getText(){return this.variable?this.variable.getName():""}getVariable(){return this.variable}getDefaultType(){return this.defaultType}getValidator(){return this.variable?this.validator_:null}doClassValidation_(e){if(e===null)return null;var i=this.getSourceBlock();if(!i)throw new Vt;return i=n.getVariable$$module$build$src$core$variables(i.workspace,e),i?(i=i.getType(),this.typeIsAllowed(i)?e:(console.warn("Variable type doesn't match this field!  Type was "+i),null)):(console.warn("Variable id doesn't point to a real variable! ID was "+e),null)}doValueUpdate_(e){const i=this.getSourceBlock();if(!i)throw new Vt;this.variable=n.getVariable$$module$build$src$core$variables(i.workspace,e),super.doValueUpdate_(e)}typeIsAllowed(e){const i=this.getVariableTypes();if(!i)return!0;for(let r=0;r<i.length;r++)if(e===i[r])return!0;return!1}getVariableTypes(){if(this.variableTypes)return this.variableTypes;if(!this.sourceBlock_||this.sourceBlock_.isDeadOrDying())return[""];let e=this.sourceBlock_.workspace.getVariableMap().getTypes();if(this.sourceBlock_.isInFlyout){const i=this.sourceBlock_.workspace.getPotentialVariableMap();if(!i)return e;e=Array.from(new Set([...e,...i.getTypes()]))}return e}setTypes(e=null,i=""){var r=this.getText();if(Array.isArray(e)){if(e.length===0)throw Error("'variableTypes' of field variable ".concat(r," was an empty list. If you want to include all variable types, pass 'null' instead."));r=!1;for(let a=0;a<e.length;a++)e[a]===i&&(r=!0);if(!r)throw Error("Invalid default type '"+i+"' in the definition of a FieldVariable")}else if(e!==null)throw Error("'variableTypes' was not an array or null in the definition of FieldVariable ".concat(r));this.defaultType=i,this.variableTypes=e}refreshVariableName(){this.forceRerender()}onItemSelected_(e,i){if(e=i.getValue(),this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()){if(e===rb&&this.variable){n.renameVariable$$module$build$src$core$variables(this.sourceBlock_.workspace,this.variable);return}if(e===lb&&this.variable){e=this.variable.getWorkspace(),n.deleteVariable$$module$build$src$core$variables(e,this.variable,this.sourceBlock_);return}}this.setValue(e)}referencesVariables(){return!0}static fromJson(e){return new this(Bt(e.variable),void 0,void 0,void 0,e)}static dropdownCreate(){if(!this.variable)throw Error("Tried to call dropdownCreate on a variable field with no variable selected.");const e=this.getText();let i=[];var r=this.getSourceBlock();if(r&&!r.isDeadOrDying()){r=r.workspace;const f=this.getVariableTypes();for(let E=0;E<f.length;E++){const C=f[E],Q=r.getVariableMap().getVariablesOfType(C);if(i=i.concat(Q),r.isFlyout){var a=void 0,u=void 0;i=i.concat((u=(a=r.getPotentialVariableMap())==null?void 0:a.getVariablesOfType(C))!=null?u:[])}}}for(i.sort(xl),a=[],u=0;u<i.length;u++)a[u]=[i[u].getName(),i[u].getId()];return a.push([n.Msg$$module$build$src$core$msg.RENAME_VARIABLE,rb]),n.Msg$$module$build$src$core$msg.DELETE_VARIABLE&&a.push([n.Msg$$module$build$src$core$msg.DELETE_VARIABLE.replace("%1",e),lb]),a}};yn("field_variable",$u);var xb=class extends ma{constructor(e,i,r,a,u,f){super(lt.SKIP_SETUP),this.min_=-1/0,this.max_=1/0,this.precision_=0,this.decimalPlaces=null,this.spellcheck_=!1,e!==lt.SKIP_SETUP&&(f?this.configure_(f):this.setConstraints(i,r,a),this.setValue(e),u&&this.setValidator(u))}configure_(e){super.configure_(e),this.setMinInternal(e.min),this.setMaxInternal(e.max),this.setPrecisionInternal(e.precision)}setConstraints(e,i,r){this.setMinInternal(e),this.setMaxInternal(i),this.setPrecisionInternal(r),this.setValue(this.getValue())}setMin(e){this.setMinInternal(e),this.setValue(this.getValue())}setMinInternal(e){e==null?this.min_=-1/0:(e=Number(e),isNaN(e)||(this.min_=e))}getMin(){return this.min_}setMax(e){this.setMaxInternal(e),this.setValue(this.getValue())}setMaxInternal(e){e==null?this.max_=1/0:(e=Number(e),isNaN(e)||(this.max_=e))}getMax(){return this.max_}setPrecision(e){this.setPrecisionInternal(e),this.setValue(this.getValue())}setPrecisionInternal(e){this.precision_=Number(e)||0;let i=String(this.precision_);i.includes("e")&&(i=this.precision_.toLocaleString("en-US",{maximumFractionDigits:20}));const r=i.indexOf(".");this.decimalPlaces=r===-1?e?0:null:i.length-r-1}getPrecision(){return this.precision_}doClassValidation_(e){return e===null||(e="".concat(e).replace(/O/gi,"0"),e=e.replace(/,/g,""),e=e.replace(/infinity/i,"Infinity"),e=Number(e||0),isNaN(e))?null:(e=Math.min(Math.max(e,this.min_),this.max_),this.precision_&&isFinite(e)&&(e=Math.round(e/this.precision_)*this.precision_),this.decimalPlaces!==null&&(e=Number(e.toFixed(this.decimalPlaces))),e)}widgetCreate_(){const e=super.widgetCreate_();return this.min_>-1/0&&(e.min="".concat(this.min_),qt(e,Ft.VALUEMIN,this.min_)),this.max_<1/0&&(e.max="".concat(this.max_),qt(e,Ft.VALUEMAX,this.max_)),e}initView(){super.initView(),this.fieldGroup_&&fe(this.fieldGroup_,"blocklyNumberField")}static fromJson(e){return new this(e.value,void 0,void 0,void 0,void 0,e)}};yn("field_number",xb),xb.prototype.DEFAULT_VALUE=0;var ew=class extends Xr{constructor(e,i,r){super(String(e!=null?e:""),i,r),this.EDITABLE=!1,this.SERIALIZABLE=!0}static fromJson(e){return new this(Bt(e.text),void 0,e)}};yn("field_label_serializable",ew);var qr=class extends lt{constructor(e,i,r){super(lt.SKIP_SETUP),this.SERIALIZABLE=!0,this.value_=this.value_,this.checkChar=qr.CHECK_CHAR,e!==lt.SKIP_SETUP&&(r&&this.configure_(r),this.setValue(e),i&&this.setValidator(i))}configure_(e){super.configure_(e),e.checkCharacter&&(this.checkChar=e.checkCharacter)}saveState(){const e=this.saveLegacyState(qr);return e!==null?e:this.getValueBoolean()}initView(){super.initView();const e=this.getTextElement();fe(this.fieldGroup_,"blocklyCheckboxField"),e.style.display=this.value_?"block":"none"}render_(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_()),this.updateSize_(this.getConstants().FIELD_CHECKBOX_X_OFFSET)}getDisplayText_(){return this.checkChar}setCheckCharacter(e){this.checkChar=e||qr.CHECK_CHAR,this.forceRerender()}showEditor_(){this.setValue(!this.value_)}doClassValidation_(e){return e===!0||e==="TRUE"?"TRUE":e===!1||e==="FALSE"?"FALSE":null}doValueUpdate_(e){this.value_=this.convertValueToBool(e),this.textElement_&&(this.textElement_.style.display=this.value_?"block":"none")}getValue(){return this.value_?"TRUE":"FALSE"}getValueBoolean(){return this.value_}getText(){return String(this.convertValueToBool(this.value_))}convertValueToBool(e){return typeof e=="string"?e==="TRUE":!!e}static fromJson(e){return new this(e.checked,void 0,e)}};qr.CHECK_CHAR="",yn("field_checkbox",qr),qr.prototype.DEFAULT_VALUE=!1;var tw=class{constructor(e,i){this.draggable=e,this.workspace=i,this.dragTarget=null,this.startLoc=e.getRelativeToSurfaceXY()}onDragStart(e){n.getGroup$$module$build$src$core$events$utils()||n.setGroup$$module$build$src$core$events$utils(!0),this.draggable.startDrag(e)}onDrag(e,i){this.moveDraggable(e,i),i=this.getRoot(this.draggable),xi(i)&&i.setDeleteStyle(this.wouldDeleteDraggable(e,i)),this.updateDragTarget(e)}updateDragTarget(e){e=this.workspace.getDragTarget(e);const i=this.getRoot(this.draggable);if(this.dragTarget!==e){let r;(r=this.dragTarget)==null||r.onDragExit(i),e==null||e.onDragEnter(i)}e==null||e.onDragOver(i),this.dragTarget=e}moveDraggable(e,i){i=this.pixelsToWorkspaceUnits(i),i=ne.sum(this.startLoc,i),this.draggable.drag(i,e)}wouldDeleteDraggable(e,i){return(e=this.workspace.getDragTarget(e))&&this.workspace.getComponentManager().hasCapability(e.id,It.Capability.DELETE_AREA)?e.wouldDelete(i):!1}onDragEnd(e){const i=n.getGroup$$module$build$src$core$events$utils();var r=this.workspace.getDragTarget(e);const a=this.getRoot(this.draggable);if(r){let u;(u=this.dragTarget)==null||u.onDrop(a)}this.shouldReturnToStart(e,a)&&this.draggable.revertDrag(),(r=xi(a)&&this.wouldDeleteDraggable(e,a))&&this.draggable instanceof ht&&yh(this.draggable.getRootBlock()),this.draggable.endDrag(e),r&&xi(a)&&(n.setGroup$$module$build$src$core$events$utils(i),a.dispose()),n.setGroup$$module$build$src$core$events$utils(!1),!r&&Uo(this.draggable)&&n.getFocusManager$$module$build$src$core$focus_manager().focusNode(this.draggable)}getRoot(e){return e instanceof ht?e.getRootBlock():e}shouldReturnToStart(e,i){return(e=this.workspace.getDragTarget(e))?e.shouldPreventMove(i):!1}pixelsToWorkspaceUnits(e){return e=new ne(e.x/this.workspace.scale,e.y/this.workspace.scale),this.workspace.isMutator&&e.scale(1/this.workspace.options.parentWorkspace.scale),e}};s(oe.BLOCK_DRAGGER,mi,tw);var _u={};_u.BlockDragStrategy=rC,_u.BubbleDragStrategy=eC,_u.CommentDragStrategy=YR,_u.Dragger=tw;var Db=class extends In{constructor(e,i,r){super(e?e.workspace.id:void 0),this.type=z.BLOCK_DRAG,e&&(this.blockId=e.id,this.isStart=i,this.blocks=r)}toJson(){const e=super.toJson();if(this.isStart===void 0)throw Error("Whether this event is the start of a drag is undefined. Either pass the value to the constructor, or call fromJson");if(this.blockId===void 0)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");return e.isStart=this.isStart,e.blockId=this.blockId,e.blocks=this.blocks,e}static fromJson(e,i,r){return i=super.fromJson(e,i,r!=null?r:new Db),i.isStart=e.isStart,i.blockId=e.blockId,i.blocks=e.blocks,i}};s(oe.EVENT,z.BLOCK_DRAG,Db);var Pb=class extends Ur{constructor(e,i,r,a){super(e),this.type=z.BLOCK_FIELD_INTERMEDIATE_CHANGE,this.recordUndo=!1,e&&(this.name=i,this.oldValue=r,this.newValue=a)}toJson(){const e=super.toJson();if(!this.name)throw Error("The changed field name is undefined. Either pass a name to the constructor, or call fromJson.");return e.name=this.name,e.oldValue=this.oldValue,e.newValue=this.newValue,e}static fromJson(e,i,r){return i=super.fromJson(e,i,r!=null?r:new Pb),i.name=e.name,i.oldValue=e.oldValue,i.newValue=e.newValue,i}isNull(){return this.oldValue===this.newValue}run(e){var i=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");if(i=i.getBlockById(this.blockId),!i)throw Error("The associated block is undefined. Either pass a block to the constructor, or call fromJson");e=e?this.newValue:this.oldValue,(i=i.getField(this.name))?i.setValue(e):console.warn("Can't set non-existent field: "+this.name)}};s(oe.EVENT,z.BLOCK_FIELD_INTERMEDIATE_CHANGE,Pb);var Bb=class extends Ur{constructor(e){super(e),this.type=z.BLOCK_MOVE,e&&(e.isShadow()&&(this.recordUndo=!1),e=this.currentLocation(),this.oldParentId=e.parentId,this.oldInputName=e.inputName,this.oldCoordinate=e.coordinate)}toJson(){const e=super.toJson();return e.oldParentId=this.oldParentId,e.oldInputName=this.oldInputName,this.oldCoordinate&&(e.oldCoordinate="".concat(Math.round(this.oldCoordinate.x),", ")+"".concat(Math.round(this.oldCoordinate.y))),e.newParentId=this.newParentId,e.newInputName=this.newInputName,this.newCoordinate&&(e.newCoordinate="".concat(Math.round(this.newCoordinate.x),", ")+"".concat(Math.round(this.newCoordinate.y))),this.reason&&(e.reason=this.reason),this.recordUndo||(e.recordUndo=this.recordUndo),e}static fromJson(e,i,r){return i=super.fromJson(e,i,r!=null?r:new Bb),i.oldParentId=e.oldParentId,i.oldInputName=e.oldInputName,e.oldCoordinate&&(r=e.oldCoordinate.split(","),i.oldCoordinate=new ne(Number(r[0]),Number(r[1]))),i.newParentId=e.newParentId,i.newInputName=e.newInputName,e.newCoordinate&&(r=e.newCoordinate.split(","),i.newCoordinate=new ne(Number(r[0]),Number(r[1]))),e.reason!==void 0&&(i.reason=e.reason),e.recordUndo!==void 0&&(i.recordUndo=e.recordUndo),i}recordNew(){const e=this.currentLocation();this.newParentId=e.parentId,this.newInputName=e.inputName,this.newCoordinate=e.coordinate}setReason(e){this.reason=e}currentLocation(){var e=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");var i=e.getBlockById(this.blockId);if(!i)throw Error("The block associated with the block move event could not be found");e={};const r=i.getParent();return r?(e.parentId=r.id,(i=r.getInputWithBlock(i))&&(e.inputName=i.name)):e.coordinate=i.getRelativeToSurfaceXY(),e}isNull(){return this.oldParentId===this.newParentId&&this.oldInputName===this.newInputName&&ne.equals(this.oldCoordinate,this.newCoordinate)}run(e){var i=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");var r=i.getBlockById(this.blockId);if(r){var a=e?this.newParentId:this.oldParentId,u=e?this.newInputName:this.oldInputName;if(e=e?this.newCoordinate:this.oldCoordinate,a){var f=i.getBlockById(a);if(!f){console.warn("Can't connect to non-existent block: "+a);return}}if(r.getParent()&&r.unplug(),e)u=r.getRelativeToSurfaceXY(),r.moveBy(e.x-u.x,e.y-u.y,this.reason);else{i=r.outputConnection,(!i||r.previousConnection&&r.previousConnection.isConnected())&&(i=r.previousConnection);let E,C;r=(C=i)==null?void 0:C.type,u?(r=f.getInput(u))&&(E=r.connection):r===Ie.PREVIOUS_STATEMENT&&(E=f.nextConnection),E&&i?i.connect(E):console.warn("Can't connect to non-existent input: "+u)}}else console.warn("Can't move non-existent block: "+this.blockId)}};s(oe.EVENT,z.BLOCK_MOVE,Bb);var Ub=class extends In{constructor(e,i,r){super(e?e.workspace.id:void 0),this.type=z.BUBBLE_OPEN,e&&(this.blockId=e.id,this.isOpen=i,this.bubbleType=r)}toJson(){const e=super.toJson();if(this.isOpen===void 0)throw Error("Whether this event is for opening the bubble is undefined. Either pass the value to the constructor, or call fromJson");if(!this.bubbleType)throw Error("The type of bubble is undefined. Either pass the value to the constructor, or call fromJson");return e.isOpen=this.isOpen,e.bubbleType=this.bubbleType,e.blockId=this.blockId||"",e}static fromJson(e,i,r){return i=super.fromJson(e,i,r!=null?r:new Ub),i.isOpen=e.isOpen,i.bubbleType=e.bubbleType,i.blockId=e.blockId,i}},Hb;(function(e){e.MUTATOR="mutator",e.COMMENT="comment",e.WARNING="warning"})(Hb||(Hb={})),s(oe.EVENT,z.BUBBLE_OPEN,Ub);var kn=class extends ql{constructor(e){super(),this.isBlank=!e,e&&(this.commentId=e.id,this.workspaceId=e.workspace.id,this.group=n.getGroup$$module$build$src$core$events$utils(),this.recordUndo=ae())}toJson(){const e=super.toJson();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");return e.commentId=this.commentId,e}static fromJson(e,i,r){return i=super.fromJson(e,i,r!=null?r:new kn),i.commentId=e.commentId,i}static CommentCreateDeleteHelper(e,i){const r=e.getEventWorkspace_();if(i){if(!e.json)throw Error("Encountered a comment event without proper json");Cc(e.json,r)}else{if(!e.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");(i=r.getCommentById(e.commentId))?i.dispose():console.warn("Can't delete non-existent comment: "+e.commentId)}}},Fb=class extends kn{constructor(e,i,r){super(e),this.type=z.COMMENT_CHANGE,e&&(this.oldContents_=typeof i>"u"?"":i,this.newContents_=typeof r>"u"?"":r)}toJson(){const e=super.toJson();if(!this.oldContents_)throw Error("The old contents is undefined. Either pass a value to the constructor, or call fromJson");if(!this.newContents_)throw Error("The new contents is undefined. Either pass a value to the constructor, or call fromJson");return e.oldContents=this.oldContents_,e.newContents=this.newContents_,e}static fromJson(e,i,r){return i=super.fromJson(e,i,r!=null?r:new Fb),i.oldContents_=e.oldContents,i.newContents_=e.newContents,i}isNull(){return this.oldContents_===this.newContents_}run(e){var i=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");if(i=i.getCommentById(this.commentId)){var r=e?this.newContents_:this.oldContents_;if(r===void 0)throw Error(e?"The new contents is undefined. Either pass a value to the constructor, or call fromJson":"The old contents is undefined. Either pass a value to the constructor, or call fromJson");i.setText(r)}else console.warn("Can't change non-existent comment: "+this.commentId)}};s(oe.EVENT,z.COMMENT_CHANGE,Fb);var Gb=class extends kn{constructor(e,i){super(e),this.newCollapsed=i,this.type=z.COMMENT_COLLAPSE}toJson(){const e=super.toJson();if(this.newCollapsed===void 0)throw Error("The new collapse value undefined. Either call recordNew, or call fromJson");return e.newCollapsed=this.newCollapsed,e}static fromJson(e,i,r){return i=super.fromJson(e,i,r!=null?r:new Gb),i.newCollapsed=e.newCollapsed,i}run(e){var i=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");(i=i.getCommentById(this.commentId))?i.setCollapsed(e?!!this.newCollapsed:!this.newCollapsed):console.warn("Can't collapse or uncollapse non-existent comment: "+this.commentId)}};s(oe.EVENT,z.COMMENT_COLLAPSE,Gb);var Vb=class extends kn{constructor(e){super(e),this.type=z.COMMENT_CREATE,e&&(this.xml=Bc(e),this.json=Nl(e,{addCoordinates:!0}))}toJson(){const e=super.toJson();if(!this.xml)throw Error("The comment XML is undefined. Either pass a comment to the constructor, or call fromJson");if(!this.json)throw Error("The comment JSON is undefined. Either pass a block to the constructor, or call fromJson");return e.xml=vn(this.xml),e.json=this.json,e}static fromJson(e,i,r){return i=super.fromJson(e,i,r!=null?r:new Vb),i.xml=n.textToDom$$module$build$src$core$utils$xml(e.xml),i.json=e.json,i}run(e){kn.CommentCreateDeleteHelper(this,e)}};s(oe.EVENT,z.COMMENT_CREATE,Vb);var zb=class extends kn{constructor(e){super(e),this.type=z.COMMENT_DELETE,e&&(this.xml=Bc(e),this.json=Nl(e,{addCoordinates:!0}))}run(e){kn.CommentCreateDeleteHelper(this,!e)}toJson(){const e=super.toJson();if(!this.xml)throw Error("The comment XML is undefined. Either pass a comment to the constructor, or call fromJson");if(!this.json)throw Error("The comment JSON is undefined. Either pass a block to the constructor, or call fromJson");return e.xml=vn(this.xml),e.json=this.json,e}static fromJson(e,i,r){return i=super.fromJson(e,i,r!=null?r:new zb),i.xml=n.textToDom$$module$build$src$core$utils$xml(e.xml),i.json=e.json,i}};s(oe.EVENT,z.COMMENT_DELETE,zb);var Wb=class extends In{constructor(e,i){super(e?e.workspace.id:void 0),this.type=z.COMMENT_DRAG,e&&(this.commentId=e.id,this.isStart=i)}toJson(){const e=super.toJson();if(this.isStart===void 0)throw Error("Whether this event is the start of a drag is undefined. Either pass the value to the constructor, or call fromJson");if(this.commentId===void 0)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");return e.isStart=this.isStart,e.commentId=this.commentId,e}static fromJson(e,i,r){return i=super.fromJson(e,i,r!=null?r:new Wb),i.isStart=e.isStart,i.commentId=e.commentId,i}};s(oe.EVENT,z.COMMENT_DRAG,Wb);var Xb=class extends kn{constructor(e){super(e),this.type=z.COMMENT_MOVE,e&&(this.comment_=e,this.oldCoordinate_=e.getRelativeToSurfaceXY())}recordNew(){if(this.newCoordinate_)throw Error("Tried to record the new position of a comment on the same event twice.");if(!this.comment_)throw Error("The comment is undefined. Pass a comment to the constructor if you want to use the record functionality");this.newCoordinate_=this.comment_.getRelativeToSurfaceXY()}setReason(e){this.reason=e}setOldCoordinate(e){this.oldCoordinate_=e}toJson(){const e=super.toJson();if(!this.oldCoordinate_)throw Error("The old comment position is undefined. Either pass a comment to the constructor, or call fromJson");if(!this.newCoordinate_)throw Error("The new comment position is undefined. Either call recordNew, or call fromJson");return e.oldCoordinate="".concat(Math.round(this.oldCoordinate_.x),", ")+"".concat(Math.round(this.oldCoordinate_.y)),e.newCoordinate=Math.round(this.newCoordinate_.x)+","+Math.round(this.newCoordinate_.y),e}static fromJson(e,i,r){return i=super.fromJson(e,i,r!=null?r:new Xb),r=e.oldCoordinate.split(","),i.oldCoordinate_=new ne(Number(r[0]),Number(r[1])),r=e.newCoordinate.split(","),i.newCoordinate_=new ne(Number(r[0]),Number(r[1])),i}isNull(){return ne.equals(this.oldCoordinate_,this.newCoordinate_)}run(e){var i=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");if(i=i.getCommentById(this.commentId)){if(e=e?this.newCoordinate_:this.oldCoordinate_,!e)throw Error("Either oldCoordinate_ or newCoordinate_ is undefined. Either pass a comment to the constructor and call recordNew, or call fromJson");i.moveTo(e)}else console.warn("Can't move non-existent comment: "+this.commentId)}};s(oe.EVENT,z.COMMENT_MOVE,Xb);var Yb=class extends kn{constructor(e){super(e),this.type=z.COMMENT_RESIZE,e&&(this.oldSize=e.getSize())}recordCurrentSizeAsNewSize(){if(this.newSize)throw Error("Tried to record the new size of a comment on the same event twice.");var e=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");if(e=e.getCommentById(this.commentId),!e)throw Error("The comment associated with the comment resize event could not be found");this.newSize=e.getSize()}toJson(){const e=super.toJson();if(!this.oldSize)throw Error("The old comment size is undefined. Either pass a comment to the constructor, or call fromJson");if(!this.newSize)throw Error("The new comment size is undefined. Either call recordCurrentSizeAsNewSize, or call fromJson");return e.oldWidth=Math.round(this.oldSize.width),e.oldHeight=Math.round(this.oldSize.height),e.newWidth=Math.round(this.newSize.width),e.newHeight=Math.round(this.newSize.height),e}static fromJson(e,i,r){return i=super.fromJson(e,i,r!=null?r:new Yb),i.oldSize=new Ue(e.oldWidth,e.oldHeight),i.newSize=new Ue(e.newWidth,e.newHeight),i}isNull(){return Ue.equals(this.oldSize,this.newSize)}run(e){var i=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");if(i=i.getCommentById(this.commentId)){if(e=e?this.newSize:this.oldSize,!e)throw Error("Either oldSize or newSize is undefined. Either pass a comment to the constructor and call recordCurrentSizeAsNewSize, or call fromJson");i.setSize(e)}else console.warn("Can't resize non-existent comment: "+this.commentId)}};s(oe.EVENT,z.COMMENT_RESIZE,Yb);var jb=class extends In{constructor(e,i,r){super(r),this.type=z.TOOLBOX_ITEM_SELECT,this.oldItem=e!=null?e:void 0,this.newItem=i!=null?i:void 0}toJson(){const e=super.toJson();return e.oldItem=this.oldItem,e.newItem=this.newItem,e}static fromJson(e,i,r){return i=super.fromJson(e,i,r!=null?r:new jb),i.oldItem=e.oldItem,i.newItem=e.newItem,i}};s(oe.EVENT,z.TOOLBOX_ITEM_SELECT,jb);var Kb=class extends pa{constructor(e,i,r){super(e),this.oldType=i,this.newType=r,this.type=z.VAR_TYPE_CHANGE}toJson(){const e=super.toJson();if(!this.oldType||!this.newType)throw Error("The variable's types are undefined. Either pass them to the constructor, or call fromJson");return e.oldType=this.oldType,e.newType=this.newType,e}static fromJson(e,i,r){return i=super.fromJson(e,i,r!=null?r:new Kb),i.oldType=e.oldType,i.newType=e.newType,i}run(e){const i=this.getEventWorkspace_();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.oldType||!this.newType)throw Error("The variable's types are undefined. Either pass them to the constructor, or call fromJson");const r=i.getVariableMap().getVariableById(this.varId);r&&(e?i.getVariableMap().changeVariableType(r,this.newType):i.getVariableMap().changeVariableType(r,this.oldType))}};s(oe.EVENT,z.VAR_TYPE_CHANGE,Kb);var ow=class extends ql{constructor(e){super(),this.isBlank=!0,this.recordUndo=!1,this.type=z.FINISHED_LOADING,this.isBlank=!!e,e&&(this.workspaceId=e.id)}};s(oe.EVENT,z.FINISHED_LOADING,ow);var iw,nw,sw,rw,lw,aw,cw,uw,dw,hw,pw,fw,gw,mw,$w,_w,bw,Tw,Ew,vw,yw,Sw,Iw,Ow,be;n.BLOCK_CHANGE$$module$build$src$core$events$events=z.BLOCK_CHANGE,n.BLOCK_CREATE$$module$build$src$core$events$events=z.BLOCK_CREATE,n.BLOCK_DELETE$$module$build$src$core$events$events=z.BLOCK_DELETE,iw=z.BLOCK_DRAG,n.BLOCK_MOVE$$module$build$src$core$events$events=z.BLOCK_MOVE,nw=z.BLOCK_FIELD_INTERMEDIATE_CHANGE,sw=z.BUBBLE_OPEN,rw=z.BLOCK_CHANGE,lw=z.CLICK,aw=z.COMMENT_CHANGE,cw=z.COMMENT_CREATE,uw=z.COMMENT_DELETE,dw=z.COMMENT_MOVE,hw=z.COMMENT_RESIZE,pw=z.COMMENT_DRAG,fw=z.BLOCK_CREATE,gw=z.BLOCK_DELETE,mw=z.FINISHED_LOADING,$w=z.BLOCK_MOVE,_w=z.SELECTED,bw=z.THEME_CHANGE,Tw=z.TOOLBOX_ITEM_SELECT,Ew=z.TRASHCAN_OPEN,vw=z.UI,yw=z.VAR_CREATE,Sw=z.VAR_DELETE,Iw=z.VAR_RENAME,Ow=z.VIEWPORT_CHANGE,be={},be.Abstract=ql,be.BLOCK_CHANGE=n.BLOCK_CHANGE$$module$build$src$core$events$events,be.BLOCK_CREATE=n.BLOCK_CREATE$$module$build$src$core$events$events,be.BLOCK_DELETE=n.BLOCK_DELETE$$module$build$src$core$events$events,be.BLOCK_DRAG=iw,be.BLOCK_FIELD_INTERMEDIATE_CHANGE=nw,be.BLOCK_MOVE=n.BLOCK_MOVE$$module$build$src$core$events$events,be.BUBBLE_OPEN=sw,be.BUMP_EVENTS=XO,be.BlockBase=Ur,be.BlockChange=Hr,be.BlockCreate=tb,be.BlockDelete=sb,be.BlockDrag=Db,be.BlockFieldIntermediateChange=Pb,be.BlockMove=Bb,be.BubbleOpen=Ub,be.BubbleType=Hb,be.CHANGE=rw,be.CLICK=lw,be.COMMENT_CHANGE=aw,be.COMMENT_CREATE=cw,be.COMMENT_DELETE=uw,be.COMMENT_DRAG=pw,be.COMMENT_MOVE=dw,be.COMMENT_RESIZE=hw,be.CREATE=fw,be.Click=I_,be.ClickTarget=O_,be.CommentBase=kn,be.CommentChange=Fb,be.CommentCollapse=Gb,be.CommentCreate=Vb,be.CommentDelete=zb,be.CommentDrag=Wb,be.CommentMove=Xb,be.CommentResize=Yb,be.DELETE=gw,be.FINISHED_LOADING=mw,be.FinishedLoading=ow,be.MOVE=$w,be.SELECTED=_w,be.Selected=nb,be.THEME_CHANGE=bw,be.TOOLBOX_ITEM_SELECT=Tw,be.TRASHCAN_OPEN=Ew,be.ThemeChange=ob,be.ToolboxItemSelect=jb,be.TrashcanOpen=Cb,be.UI=vw,be.UiBase=In,be.VAR_CREATE=yw,be.VAR_DELETE=Sw,be.VAR_RENAME=Iw,be.VIEWPORT_CHANGE=Ow,be.VarBase=pa,be.VarCreate=Ib,be.VarDelete=Ob,be.VarRename=Rb,be.VarTypeChange=Kb,be.ViewportChange=ib,be.clearPendingUndo=Re,be.disable=n.disable$$module$build$src$core$events$utils,be.disableOrphans=ro,be.enable=n.enable$$module$build$src$core$events$utils,be.filter=$e,be.fire=V,be.fromJson=ot,be.get=ge,be.getDescendantIds=we,be.getGroup=n.getGroup$$module$build$src$core$events$utils,be.getRecordUndo=ae,be.isEnabled=ke,be.setGroup=n.setGroup$$module$build$src$core$events$utils,be.setRecordUndo=n.setRecordUndo$$module$build$src$core$events$utils;var Nn={};Nn.BottomRow=WC,Nn.ConstantProvider=VC,Nn.Drawer=zC,Nn.PathObject=KC,Nn.RenderInfo=jC,Nn.Renderer=Nb,Nn.RightConnectionShape=XC,Nn.StatementInput=Dp,Nn.TopRow=YC,m_();var co={};co.registerCleanup=e_,co.registerCollapse=o_,co.registerCollapseExpandBlock=c_,co.registerComment=l_,co.registerCommentCreate=g_,co.registerCommentDelete=p_,co.registerCommentDuplicate=f_,co.registerCommentOptions=CO,co.registerDefaultOptions=m_,co.registerDelete=d_,co.registerDeleteAll=s_,co.registerDisable=u_,co.registerDuplicate=r_,co.registerExpand=i_,co.registerHelp=h_,co.registerInline=a_,co.registerRedo=Q$,co.registerUndo=Z$;var qb="button",Rw=class{load(e,i){return e=new Jo(i.getWorkspace(),i.targetWorkspace,e,!1),e.show(),new ua(e,qb)}gapForItem(e,i){return i}disposeItem(e){e=e.getElement(),e instanceof Jo&&e.dispose()}getType(){return qb}};s(oe.FLYOUT_INFLATER,qb,Rw);var bu={};bu.Bubble=nt,bu.MiniWorkspaceBubble=es,bu.TextBubble=lC,bu.TextInputBubble=mp;var k1="WORKSPACE_AT_BLOCK_CAPACITY",Jb="block",Cw=class{constructor(){this.permanentlyDisabledBlocks=new Set,this.listeners=new Map,this.capacityWrapper=this.filterFlyoutBasedOnCapacity.bind(this)}load(e,i){return this.setFlyout(i),e=this.createBlock(e,i.getWorkspace()),e.isEnabled()?this.updateStateBasedOnCapacity(e):this.permanentlyDisabledBlocks.add(e),e.getDescendants(!1).forEach(r=>r.isInFlyout=!0),this.addBlockListeners(e),new ua(e,Jb)}createBlock(e,i){return e.blockxml?(e=typeof e.blockxml=="string"?n.textToDom$$module$build$src$core$utils$xml(e.blockxml):e.blockxml,i=Lr(e,i)):(e.enabled===void 0&&(e.enabled=e.disabled!=="true"&&e.disabled!==!0),e.disabledReasons===void 0&&e.enabled===!1&&(e.disabledReasons=[Di]),"x"in e&&delete e.x,"y"in e&&delete e.y,i=Pl(e,i)),i}gapForItem(e,i){let r;return e.gap?r=parseInt(String(e.gap)):e.blockxml&&(e=typeof e.blockxml=="string"?n.textToDom$$module$build$src$core$utils$xml(e.blockxml):e.blockxml,r=parseInt(e.getAttribute("gap"))),!r||isNaN(r)?i:r}disposeItem(e){e=e.getElement(),e instanceof ht&&(this.removeListeners(e.id),e.dispose(!1,!1))}removeListeners(e){let i;((i=this.listeners.get(e))!=null?i:[]).forEach(r=>L(r)),this.listeners.delete(e)}setFlyout(e){if(this.flyout!==e){if(this.flyout){let r;(r=this.flyout.targetWorkspace)==null||r.removeChangeListener(this.capacityWrapper)}this.flyout=e;var i;(i=this.flyout.targetWorkspace)==null||i.addChangeListener(this.capacityWrapper)}}updateStateBasedOnCapacity(e){let i,r;const a=(i=this.flyout)==null||(r=i.targetWorkspace)==null?void 0:r.isCapacityAvailable(Ne(e));for(;e;)e.setDisabledReason(!a,k1),e=e.getNextBlock()}addBlockListeners(e){const i=[];i.push(S(e.getSvgRoot(),"pointerdown",e,r=>{let a,u;const f=(a=this.flyout)==null||(u=a.targetWorkspace)==null?void 0:u.getGesture(r);f&&this.flyout&&(f.setStartBlock(e),f.handleFlyoutStart(r,this.flyout))})),i.push(w(e.getSvgRoot(),"pointermove",null,()=>{let r,a;!((r=this.flyout)==null||(a=r.targetWorkspace)==null)&&a.isDragging()||e.addSelect()})),i.push(w(e.getSvgRoot(),"pointerleave",null,()=>{let r,a;!((r=this.flyout)==null||(a=r.targetWorkspace)==null)&&a.isDragging()||e.removeSelect()})),this.listeners.set(e.id,i)}filterFlyoutBasedOnCapacity(e){!this.flyout||e&&e.type!==z.BLOCK_CREATE&&e.type!==z.BLOCK_DELETE||this.flyout.getWorkspace().getTopBlocks(!1).forEach(i=>{this.permanentlyDisabledBlocks.has(i)||this.updateStateBasedOnCapacity(i)})}getType(){return Jb}};s(oe.FLYOUT_INFLATER,Jb,Cw);var ww=class extends Rp{constructor(){super(),this.FIELD_TEXT_BASELINE_CENTER=!1,this.DARK_PATH_OFFSET=1,this.MAX_BOTTOM_WIDTH=30,this.STATEMENT_BOTTOM_SPACER=-this.NOTCH_HEIGHT/2}getCSS_(e){return super.getCSS_(e).concat(["".concat(e," .blocklyInsertionMarker>.blocklyPathLight,"),"".concat(e," .blocklyInsertionMarker>.blocklyPathDark {"),"fill-opacity: ".concat(this.INSERTION_MARKER_OPACITY,";"),"stroke: none;","}"])}},Aw=class{constructor(e){this.inlineSteps_=this.steps_="",this.info_=e,this.RTL_=this.info_.RTL,e=e.getRenderer(),this.constants_=e.getConstants(),this.highlightConstants_=e.getHighlightConstants(),this.highlightOffset=this.highlightConstants_.OFFSET,this.outsideCornerPaths_=this.highlightConstants_.OUTSIDE_CORNER,this.insideCornerPaths_=this.highlightConstants_.INSIDE_CORNER,this.puzzleTabPaths_=this.highlightConstants_.PUZZLE_TAB,this.notchPaths_=this.highlightConstants_.NOTCH,this.startPaths_=this.highlightConstants_.START_HAT,this.jaggedTeethPaths_=this.highlightConstants_.JAGGED_TEETH}getPath(){return this.steps_+"\n"+this.inlineSteps_}drawTopCorner(e){this.steps_+=kt(e.xPos,this.info_.startY);for(let i=0,r;r=e.elements[i];i++)x.isLeftSquareCorner(r)?this.steps_+=this.highlightConstants_.START_POINT:x.isLeftRoundedCorner(r)?this.steps_+=this.outsideCornerPaths_.topLeft(this.RTL_):x.isPreviousConnection(r)?this.steps_+=this.notchPaths_.pathLeft:x.isHat(r)?this.steps_+=this.startPaths_.path(this.RTL_):x.isSpacer(r)&&r.width!==0&&(this.steps_+=Le("H",r.xPos+r.width-this.highlightOffset));this.steps_+=Le("H",e.xPos+e.width-this.highlightOffset)}drawJaggedEdge_(e){this.info_.RTL&&(this.steps_+=this.jaggedTeethPaths_.pathLeft+Le("v",e.height-this.jaggedTeethPaths_.height-this.highlightOffset))}drawValueInput(e){const i=e.getLastInput();if(this.RTL_){const r=e.height-i.connectionHeight;this.steps_+=_o(i.xPos+i.width-this.highlightOffset,e.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)+Le("v",r)}else this.steps_+=_o(i.xPos+i.width,e.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)}drawStatementInput(e){const i=e.getLastInput();if(i)if(this.RTL_){const r=e.height-2*this.insideCornerPaths_.height;this.steps_+=_o(i.xPos,e.yPos)+this.insideCornerPaths_.pathTop(this.RTL_)+Le("v",r)+this.insideCornerPaths_.pathBottom(this.RTL_)+Sn(e.width-i.xPos-this.insideCornerPaths_.width,0)}else this.steps_+=_o(i.xPos,e.yPos+e.height)+this.insideCornerPaths_.pathBottom(this.RTL_)+Sn(e.width-i.xPos-this.insideCornerPaths_.width,0)}drawRightSideRow(e){const i=e.xPos+e.width-this.highlightOffset;e instanceof vb&&e.followsStatement&&(this.steps_+=Le("H",i)),this.RTL_&&(this.steps_+=Le("H",i),e.height>this.highlightOffset&&(this.steps_+=Le("V",e.yPos+e.height-this.highlightOffset)))}drawBottomRow(e){if(this.RTL_)this.steps_+=Le("V",e.baseline-this.highlightOffset);else{const i=this.info_.bottomRow.elements[0];x.isLeftSquareCorner(i)?this.steps_+=_o(e.xPos+this.highlightOffset,e.baseline-this.highlightOffset):x.isLeftRoundedCorner(i)&&(this.steps_+=_o(e.xPos,e.baseline),this.steps_+=this.outsideCornerPaths_.bottomLeft())}}drawLeft(){var e=this.info_.outputConnection;e&&(e=e.connectionOffsetY+e.height,this.RTL_?this.steps_+=_o(this.info_.startX,e):(this.steps_+=_o(this.info_.startX+this.highlightOffset,this.info_.bottomRow.baseline-this.highlightOffset),this.steps_+=Le("V",e)),this.steps_+=this.puzzleTabPaths_.pathUp(this.RTL_)),this.RTL_||(e=this.info_.topRow,x.isLeftRoundedCorner(e.elements[0])?this.steps_+=Le("V",this.outsideCornerPaths_.height):this.steps_+=Le("V",e.capline+this.highlightOffset))}drawInlineInput(e){const i=this.highlightOffset,r=e.xPos+e.connectionWidth;var a=e.centerline-e.height/2;const u=e.width-e.connectionWidth,f=a+i;this.RTL_?(a=e.connectionOffsetY-i,e=e.height-(e.connectionOffsetY+e.connectionHeight)+i,this.inlineSteps_+=_o(r-i,f)+Le("v",a)+this.puzzleTabPaths_.pathDown(this.RTL_)+Le("v",e)+Le("h",u)):this.inlineSteps_+=_o(e.xPos+e.width+i,f)+Le("v",e.height)+Le("h",-u)+_o(r,a+e.connectionOffsetY)+this.puzzleTabPaths_.pathDown(this.RTL_)}},Lw=class extends Cp{constructor(e,i){super(e,i),this.highlighter_=new Aw(i)}draw(){this.drawOutline_(),this.drawInternals_(),this.updateConnectionHighlights();const e=this.block_.pathObject;e.setPath(this.outlinePath_+"\n"+this.inlinePath_),e.setHighlightPath(this.highlighter_.getPath()),this.info_.RTL&&e.flipRTL(),this.recordSizeOnBlock_()}drawTop_(){this.highlighter_.drawTopCorner(this.info_.topRow),this.highlighter_.drawRightSideRow(this.info_.topRow),super.drawTop_()}drawJaggedEdge_(e){this.highlighter_.drawJaggedEdge_(e),super.drawJaggedEdge_(e)}drawValueInput_(e){this.highlighter_.drawValueInput(e),super.drawValueInput_(e)}drawStatementInput_(e){this.highlighter_.drawStatementInput(e),super.drawStatementInput_(e)}drawRightSideRow_(e){this.highlighter_.drawRightSideRow(e),this.outlinePath_+=Le("H",e.xPos+e.width)+Le("V",e.yPos+e.height)}drawBottom_(){this.highlighter_.drawBottomRow(this.info_.bottomRow),super.drawBottom_()}drawLeft_(){this.highlighter_.drawLeft(),super.drawLeft_()}drawInlineInput_(e){this.highlighter_.drawInlineInput(e),super.drawInlineInput_(e)}positionInlineInputConnection_(e){const i=e.centerline-e.height/2;if(e.connectionModel){let r=e.xPos+e.connectionWidth+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(r*=-1),e.connectionModel.setOffsetInBlock(r,i+e.connectionOffsetY+this.constants_.DARK_PATH_OFFSET)}}positionStatementInputConnection_(e){const i=e.getLastInput();if(i!=null&&i.connectionModel){let r=e.xPos+e.statementEdge+i.notchOffset;r=this.info_.RTL?r*-1:r+this.constants_.DARK_PATH_OFFSET,i.connectionModel.setOffsetInBlock(r,e.yPos+this.constants_.DARK_PATH_OFFSET)}}positionExternalValueConnection_(e){const i=e.getLastInput();if(i&&i.connectionModel){let r=e.xPos+e.width+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(r*=-1),i.connectionModel.setOffsetInBlock(r,e.yPos)}}positionNextConnection_(){const e=this.info_.bottomRow;if(e.connection){const i=e.connection,r=i.xPos;i.connectionModel.setOffsetInBlock((this.info_.RTL?-r:r)+this.constants_.DARK_PATH_OFFSET/2,e.baseline+this.constants_.DARK_PATH_OFFSET)}}},kw=class{constructor(e){this.OFFSET=.5,this.constantProvider=e,this.START_POINT=kt(this.OFFSET,this.OFFSET)}init(){this.INSIDE_CORNER=this.makeInsideCorner(),this.OUTSIDE_CORNER=this.makeOutsideCorner(),this.PUZZLE_TAB=this.makePuzzleTab(),this.NOTCH=this.makeNotch(),this.JAGGED_TEETH=this.makeJaggedTeeth(),this.START_HAT=this.makeStartHat()}makeInsideCorner(){const e=this.constantProvider.CORNER_RADIUS,i=this.OFFSET,r=(1-Math.SQRT1_2)*(e+i)-i,a=kt(r,r)+Ut("a","0 0,0",e,Ae(-r-i,e-r)),u=Ut("a","0 0,0",e+i,Ae(e+i,e+i)),f=kt(r,-r)+Ut("a","0 0,0",e+i,Ae(e-r,r+i));return{width:e+i,height:e,pathTop(E){return E?a:""},pathBottom(E){return E?u:f}}}makeOutsideCorner(){const e=this.constantProvider.CORNER_RADIUS,i=this.OFFSET,r=(1-Math.SQRT1_2)*(e-i)+i,a=kt(r,r)+Ut("a","0 0,1",e-i,Ae(e-r,-r+i)),u=kt(i,e)+Ut("a","0 0,1",e-i,Ae(e,-e+i)),f=-r,E=kt(r,f)+Ut("a","0 0,1",e-i,Ae(-r+i,-f-e));return{height:e,topLeft(C){return C?a:u},bottomLeft(){return E}}}makePuzzleTab(){const e=this.constantProvider.TAB_WIDTH,i=this.constantProvider.TAB_HEIGHT,r=kt(-2,-i+2.5+.9)+Sn(e*-.45,-2.1),a=Le("v",2.5)+kt(-e*.97,2.5)+ni("q",[Ae(-e*.05,10),Ae(e*.3,9.5)])+kt(e*.67,-1.9)+Le("v",2.5),u=Le("v",-1.5)+kt(e*-.92,-.5)+ni("q",[Ae(e*-.19,-5.5),Ae(0,-11)])+kt(e*.92,1),f=kt(-5,i-.7)+Sn(e*.46,-2.1);return{width:e,height:i,pathUp(E){return E?r:u},pathDown(E){return E?a:f}}}makeNotch(){return{pathLeft:Le("h",this.OFFSET)+this.constantProvider.NOTCH.pathLeft}}makeJaggedTeeth(){return{pathLeft:Sn(5.1,2.6)+kt(-10.2,6.8)+Sn(5.1,2.6),height:12,width:10.2}}makeStartHat(){const e=this.constantProvider.START_HAT.height,i=kt(25,-8.7)+ni("c",[Ae(29.7,-6.2),Ae(57.2,-.5),Ae(75,8.7)]),r=ni("c",[Ae(17.8,-9.2),Ae(45.3,-14.9),Ae(75,-8.7)])+_o(100.5,e+.5);return{path(a){return a?i:r}}}},Nw=class extends Tb{constructor(e,i){super(e,i),this.constants_=e,this.connectedBlock&&(this.width+=this.constants_.DARK_PATH_OFFSET,this.height+=this.constants_.DARK_PATH_OFFSET)}},Mw=class extends Op{constructor(e,i){super(e,i),this.constants_=e,this.connectedBlock&&(this.height+=this.constants_.DARK_PATH_OFFSET)}},xw=class extends fu{constructor(e,i){super(e,i),this.renderer_=e}getRenderer(){return this.renderer_}populateBottomRow_(){super.populateBottomRow_(),this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1]instanceof vi||(this.bottomRow.minHeight=this.constants_.MEDIUM_PADDING-this.constants_.DARK_PATH_OFFSET)}addInput_(e,i){this.isInline&&e instanceof n.ValueInput$$module$build$src$core$inputs$value_input?(i.elements.push(new Nw(this.constants_,e)),i.hasInlineInput=!0):e instanceof vi?(i.elements.push(new Mw(this.constants_,e)),i.hasStatement=!0):e instanceof n.ValueInput$$module$build$src$core$inputs$value_input?(i.elements.push(new _b(this.constants_,e)),i.hasExternalInput=!0):(e instanceof Rn||e instanceof os)&&(i.minHeight=Math.max(i.minHeight,this.constants_.DUMMY_INPUT_MIN_HEIGHT),i.hasDummyInput=!0),this.isInline||i.align!==null||(i.align=e.align)}addElemSpacing_(){let e=!1;for(let r=0,a;a=this.rows[r];r++)a.hasExternalInput&&(e=!0);for(let r=0,a;a=this.rows[r];r++){var i=a.elements;if(a.elements=[],a.startsWithElemSpacer()&&a.elements.push(new yi(this.constants_,this.getInRowSpacing_(null,i[0]))),i.length){for(let u=0;u<i.length-1;u++){a.elements.push(i[u]);const f=this.getInRowSpacing_(i[u],i[u+1]);a.elements.push(new yi(this.constants_,f))}a.elements.push(i[i.length-1]),a.endsWithElemSpacer()&&(i=this.getInRowSpacing_(i[i.length-1],null),e&&a.hasDummyInput&&(i+=this.constants_.TAB_WIDTH),a.elements.push(new yi(this.constants_,i)))}}}getInRowSpacing_(e,i){if(!e)return i&&x.isField(i)&&i.isEditable?this.constants_.MEDIUM_PADDING:i&&x.isInlineInput(i)?this.constants_.MEDIUM_LARGE_PADDING:i&&x.isStatementInput(i)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!x.isInput(e)&&(!i||x.isStatementInput(i)))return x.isField(e)&&e.isEditable?e.width===0?this.constants_.NO_PADDING:this.constants_.MEDIUM_PADDING:x.isIcon(e)?this.constants_.LARGE_PADDING*2+1:x.isHat(e)?this.constants_.NO_PADDING:x.isPreviousOrNextConnection(e)?this.constants_.LARGE_PADDING:x.isLeftRoundedCorner(e)?this.constants_.MIN_BLOCK_WIDTH:x.isJaggedEdge(e)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(x.isInput(e)&&!i){if(x.isExternalInput(e))return this.constants_.NO_PADDING;if(x.isInlineInput(e))return this.constants_.LARGE_PADDING;if(x.isStatementInput(e))return this.constants_.NO_PADDING}if(!x.isInput(e)&&i&&x.isInput(i)){if(x.isField(e)&&e.isEditable){if(x.isInlineInput(i)||x.isExternalInput(i))return this.constants_.SMALL_PADDING}else{if(x.isInlineInput(i)||x.isExternalInput(i))return this.constants_.MEDIUM_LARGE_PADDING;if(x.isStatementInput(i))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(x.isIcon(e)&&i&&!x.isInput(i))return this.constants_.LARGE_PADDING;if(x.isInlineInput(e)&&i&&x.isField(i))return i.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(x.isLeftSquareCorner(e)&&i){if(x.isHat(i))return this.constants_.NO_PADDING;if(x.isPreviousConnection(i))return i.notchOffset;if(x.isNextConnection(i))return i.notchOffset+(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2}if(x.isLeftRoundedCorner(e)&&i){if(x.isPreviousConnection(i))return i.notchOffset-this.constants_.CORNER_RADIUS;if(x.isNextConnection(i))return i.notchOffset-this.constants_.CORNER_RADIUS+(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2}return x.isField(e)&&i&&x.isField(i)&&e.isEditable===i.isEditable?e.width===0?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING:i&&x.isJaggedEdge(i)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getSpacerRowHeight_(e,i){return x.isTopRow(e)&&x.isBottomRow(i)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:x.isTopRow(e)||x.isBottomRow(i)?this.constants_.NO_PADDING:e.hasExternalInput&&i.hasExternalInput?this.constants_.LARGE_PADDING:!e.hasStatement&&i.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:e.hasStatement&&i.hasStatement||!e.hasStatement&&i.hasDummyInput||e.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getElemCenterline_(e,i){if(x.isSpacer(i))return e.yPos+i.height/2;if(x.isBottomRow(e))return e=e.yPos+e.height-e.descenderHeight,x.isNextConnection(i)?e+i.height/2:e-i.height/2;if(x.isTopRow(e))return x.isHat(i)?e.capline-i.height/2:e.capline+i.height/2;let r=e.yPos;return x.isField(i)||x.isIcon(i)?(r+=i.height/2,(e.hasInlineInput||e.hasStatement)&&i.height+this.constants_.TALL_INPUT_FIELD_OFFSET_Y<=e.height&&(r+=this.constants_.TALL_INPUT_FIELD_OFFSET_Y)):r=x.isInlineInput(i)?r+i.height/2:r+e.height/2,r}alignRowElements_(){if(this.isInline){var e=0,i=new WeakMap,r=null;for(let a=this.rows.length-1,u;u=this.rows[a];a--)i.set(u,e),x.isInputRow(u)&&(u.hasStatement&&this.alignStatementRow_(u),r&&r.hasStatement&&u.width<r.width?i.set(u,r.width):e=u.hasStatement?u.width:Math.max(e,u.width),r=u);e=0;for(let a=0,u;u=this.rows[a];a++)u.hasStatement?e=this.getDesiredRowWidth_(u):x.isSpacer(u)?u.width=Math.max(e,i.get(u)):(r=u.width,e=Math.max(e,i.get(u))-r,e>0&&this.addAlignmentPadding_(u,e),e=u.width)}else super.alignRowElements_()}getDesiredRowWidth_(e){return this.isInline&&e.hasStatement?this.statementEdge+this.constants_.MAX_BOTTOM_WIDTH+this.startX:super.getDesiredRowWidth_(e)}finalize_(){let e=0,i=0;for(let a=0,u;u=this.rows[a];a++){u.yPos=i,u.xPos=this.startX,i+=u.height,e=Math.max(e,u.widthWithConnectedBlocks);var r=i-this.topRow.ascenderHeight;u===this.bottomRow&&r<this.constants_.MIN_BLOCK_HEIGHT&&(r=this.constants_.MIN_BLOCK_HEIGHT-r,this.bottomRow.height+=r,i+=r),this.recordElemPositions_(u)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(r=this.block_.nextConnection.targetBlock())&&(e=Math.max(e,r.getHeightWidth().width-this.constants_.DARK_PATH_OFFSET)),this.bottomRow.baseline=i-this.bottomRow.descenderHeight,this.widthWithChildren=e+this.startX+this.constants_.DARK_PATH_OFFSET,this.width+=this.constants_.DARK_PATH_OFFSET,this.height=i+this.constants_.DARK_PATH_OFFSET,this.startY=this.topRow.capline}},Dw=class extends wp{constructor(e,i,r){super(e,i,r),this.constants=r,this.colourDark="#000000",this.svgPathDark=q(F.PATH,{class:"blocklyPathDark",transform:"translate(1,1)"}),this.svgRoot.insertBefore(this.svgPathDark,this.svgPath),this.svgPathLight=q(F.PATH,{class:"blocklyPathLight"},this.svgRoot)}setPath(e){this.svgPath.setAttribute("d",e),this.svgPathDark.setAttribute("d",e)}setHighlightPath(e){this.svgPathLight.setAttribute("d",e)}flipRTL(){this.svgPath.setAttribute("transform","scale(-1 1)"),this.svgPathLight.setAttribute("transform","scale(-1 1)"),this.svgPathDark.setAttribute("transform","translate(1,1) scale(-1 1)")}applyColour(e){if(this.svgPathLight.style.display="",this.svgPathDark.style.display="",!this.style.colourTertiary)throw Error("The renderer did not properly initialize the tertiary colour of the block style");this.svgPathLight.setAttribute("stroke",this.style.colourTertiary),this.svgPathDark.setAttribute("fill",this.colourDark),super.applyColour(e),this.svgPath.setAttribute("stroke","none")}setStyle(e){this.style=e,this.colourDark=wr("#000",this.style.colourPrimary,.2)||this.colourDark}updateHighlighted(e){super.updateHighlighted(e),this.svgPathLight.style.display=e?"none":"inline"}updateShadow_(e){if(e){if(this.svgPathLight.style.display="none",!this.style.colourSecondary)throw Error("The renderer did not properly initialize the secondary colour of the block style block style");this.svgPathDark.setAttribute("fill",this.style.colourSecondary),this.svgPath.setAttribute("stroke","none"),this.svgPath.setAttribute("fill",this.style.colourSecondary)}}updateDisabled_(e){super.updateDisabled_(e),e&&this.svgPath.setAttribute("stroke","none")}},Pw=class extends Ap{constructor(e){super(e),this.highlightConstants=null}init(e,i){super.init(e,i),this.highlightConstants=this.makeHighlightConstants_(),this.highlightConstants.init()}refreshDom(e,i,r){super.refreshDom(e,i,r),this.getHighlightConstants().init()}makeConstants_(){return new ww}makeRenderInfo_(e){return new xw(this,e)}makeDrawer_(e,i){return new Lw(e,i)}makePathObject(e,i){return new Dw(e,i,this.getConstants())}makeHighlightConstants_(){return new kw(this.getConstants())}getHighlightConstants(){if(!this.highlightConstants)throw Error("Cannot access the highlight constants because init has not been called");return this.highlightConstants}};Fc("geras",Pw);var Mn={};Mn.ConstantProvider=ww,Mn.Drawer=Lw,Mn.HighlightConstantProvider=kw,Mn.Highlighter=Aw,Mn.InlineInput=Nw,Mn.PathObject=Dw,Mn.RenderInfo=xw,Mn.Renderer=Pw,Mn.StatementInput=Mw;var Bw=class extends fu{constructor(e,i){super(e,i)}getRenderer(){return this.renderer_}addElemSpacing_(){let e=!1;for(var i=0;i<this.rows.length;i++)if(this.rows[i].hasExternalInput){e=!0;break}for(i=0;i<this.rows.length;i++){const a=this.rows[i];var r=a.elements;if(a.elements=[],a.startsWithElemSpacer()&&a.elements.push(new yi(this.constants_,this.getInRowSpacing_(null,r[0]))),r.length){for(let u=0;u<r.length-1;u++){a.elements.push(r[u]);const f=this.getInRowSpacing_(r[u],r[u+1]);a.elements.push(new yi(this.constants_,f))}a.elements.push(r[r.length-1]),a.endsWithElemSpacer()&&(r=this.getInRowSpacing_(r[r.length-1],null),e&&a.hasDummyInput&&(r+=this.constants_.TAB_WIDTH),a.elements.push(new yi(this.constants_,r)))}}}getInRowSpacing_(e,i){if(!e)return i&&x.isField(i)&&i.isEditable?this.constants_.MEDIUM_PADDING:i&&x.isInlineInput(i)?this.constants_.MEDIUM_LARGE_PADDING:i&&x.isStatementInput(i)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!x.isInput(e)&&!i)return x.isField(e)&&e.isEditable?e.width===0?this.constants_.NO_PADDING:this.constants_.MEDIUM_PADDING:x.isIcon(e)?this.constants_.LARGE_PADDING*2+1:x.isHat(e)?this.constants_.NO_PADDING:x.isPreviousOrNextConnection(e)?this.constants_.LARGE_PADDING:x.isLeftRoundedCorner(e)?this.constants_.MIN_BLOCK_WIDTH:x.isJaggedEdge(e)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(x.isInput(e)&&!i){if(x.isExternalInput(e))return this.constants_.NO_PADDING;if(x.isInlineInput(e))return this.constants_.LARGE_PADDING;if(x.isStatementInput(e))return this.constants_.NO_PADDING}if(!x.isInput(e)&&i&&x.isInput(i)){if(x.isField(e)&&e.isEditable){if(x.isInlineInput(i)||x.isExternalInput(i))return this.constants_.SMALL_PADDING}else{if(x.isInlineInput(i)||x.isExternalInput(i))return this.constants_.MEDIUM_LARGE_PADDING;if(x.isStatementInput(i))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(x.isIcon(e)&&i&&!x.isInput(i))return this.constants_.LARGE_PADDING;if(x.isInlineInput(e)&&i&&x.isField(i))return i.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(x.isLeftSquareCorner(e)&&i){if(x.isHat(i))return this.constants_.NO_PADDING;if(x.isPreviousConnection(i)||x.isNextConnection(i))return i.notchOffset}return x.isLeftRoundedCorner(e)&&i?i.notchOffset-this.constants_.CORNER_RADIUS:x.isField(e)&&i&&x.isField(i)&&e.isEditable===i.isEditable?e.width===0?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING:i&&x.isJaggedEdge(i)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getSpacerRowHeight_(e,i){return x.isTopRow(e)&&x.isBottomRow(i)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:x.isTopRow(e)||x.isBottomRow(i)?this.constants_.NO_PADDING:e.hasExternalInput&&i.hasExternalInput?this.constants_.LARGE_PADDING:!e.hasStatement&&i.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:e.hasStatement&&i.hasStatement||e.hasDummyInput||i.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getElemCenterline_(e,i){if(x.isSpacer(i))return e.yPos+i.height/2;if(x.isBottomRow(e))return e=e.yPos+e.height-e.descenderHeight,x.isNextConnection(i)?e+i.height/2:e-i.height/2;if(x.isTopRow(e))return x.isHat(i)?e.capline-i.height/2:e.capline+i.height/2;let r=e.yPos;return r=x.isField(i)&&e.hasStatement?r+(this.constants_.TALL_INPUT_FIELD_OFFSET_Y+i.height/2):r+e.height/2}finalize_(){let e=0,i=0;for(var r=0;r<this.rows.length;r++){const u=this.rows[r];u.yPos=i,u.xPos=this.startX,i+=u.height,e=Math.max(e,u.widthWithConnectedBlocks);var a=i-this.topRow.ascenderHeight;u===this.bottomRow&&a<this.constants_.MIN_BLOCK_HEIGHT&&(a=this.constants_.MIN_BLOCK_HEIGHT-a,this.bottomRow.height+=a,i+=a),this.recordElemPositions_(u)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(r=this.block_.nextConnection.targetBlock())&&(e=Math.max(e,r.getHeightWidth().width)),this.bottomRow.baseline=i-this.bottomRow.descenderHeight,this.widthWithChildren=e+this.startX,this.height=i,this.startY=this.topRow.capline}},Uw=class extends Ap{constructor(e){super(e)}makeRenderInfo_(e){return new Bw(this,e)}};Fc("thrasos",Uw);var Zb={};Zb.RenderInfo=Bw,Zb.Renderer=Uw;var N1={colour_blocks:{colourPrimary:"#CF63CF",colourSecondary:"#C94FC9",colourTertiary:"#BD42BD"},list_blocks:{colourPrimary:"#9966FF",colourSecondary:"#855CD6",colourTertiary:"#774DCB"},logic_blocks:{colourPrimary:"#4C97FF",colourSecondary:"#4280D7",colourTertiary:"#3373CC"},loop_blocks:{colourPrimary:"#0fBD8C",colourSecondary:"#0DA57A",colourTertiary:"#0B8E69"},math_blocks:{colourPrimary:"#59C059",colourSecondary:"#46B946",colourTertiary:"#389438"},procedure_blocks:{colourPrimary:"#FF6680",colourSecondary:"#FF4D6A",colourTertiary:"#FF3355"},text_blocks:{colourPrimary:"#FFBF00",colourSecondary:"#E6AC00",colourTertiary:"#CC9900"},variable_blocks:{colourPrimary:"#FF8C1A",colourSecondary:"#FF8000",colourTertiary:"#DB6E00"},variable_dynamic_blocks:{colourPrimary:"#FF8C1A",colourSecondary:"#FF8000",colourTertiary:"#DB6E00"},hat_blocks:{colourPrimary:"#4C97FF",colourSecondary:"#4280D7",colourTertiary:"#3373CC",hat:"cap"}},M1={colour_category:{colour:"#CF63CF"},list_category:{colour:"#9966FF"},logic_category:{colour:"#4C97FF"},loop_category:{colour:"#0fBD8C"},math_category:{colour:"#59C059"},procedure_category:{colour:"#FF6680"},text_category:{colour:"#FFBF00"},variable_category:{colour:"#FF8C1A"},variable_dynamic_category:{colour:"#FF8C1A"}},x1=new Wr("zelos",N1,M1),D1={Classic:pp,Zelos:x1},Qb=class{constructor(e,i,r){this.id_=e.toolboxitemid||P(),this.level_=(this.parent_=r||null)?this.parent_.getLevel()+1:0,this.toolboxItemDef_=e,this.parentToolbox_=i,this.workspace_=this.parentToolbox_.getWorkspace()}init(){}getDiv(){return null}getClickTarget(){return null}getId(){return this.id_}getParent(){return null}getLevel(){return this.level_}isSelectable(){return!1}isCollapsible(){return!1}dispose(){}setVisible_(e){}getFocusableElement(){const e=this.getDiv();if(!e)throw Error("Trying to access toolbox item before DOM is initialized.");if(!(e instanceof HTMLElement))throw Error("Toolbox item div is unexpectedly not an HTML element.");return e}getFocusableTree(){return this.parentToolbox_}onNodeFocus(){}onNodeBlur(){}canBeFocused(){return!0}},cn=class extends Qb{constructor(e,i,r){super(e,i,r),this.colour_=this.name_="",this.labelDom_=this.iconDom_=this.rowContents_=this.rowDiv_=this.htmlDiv_=null,this.isDisabled_=this.isHidden_=!1,this.flyoutItems_=[],this.cssConfig_=this.makeDefaultCssConfig_()}init(){this.parseCategoryDef_(this.toolboxItemDef_),this.parseContents_(this.toolboxItemDef_),this.createDom_(),this.toolboxItemDef_.hidden==="true"&&this.hide()}makeDefaultCssConfig_(){return{container:"blocklyToolboxCategoryContainer",row:"blocklyToolboxCategory",rowcontentcontainer:"blocklyTreeRowContentContainer",icon:"blocklyToolboxCategoryIcon",label:"blocklyToolboxCategoryLabel",contents:"blocklyToolboxCategoryGroup",selected:"blocklyToolboxSelected",openicon:"blocklyToolboxCategoryIconOpen",closedicon:"blocklyToolboxCategoryIconClosed"}}parseContents_(e){if("custom"in e)this.flyoutItems_=e.custom;else if(e=e.contents)for(let i=0;i<e.length;i++){const r=e[i];Array.isArray(this.flyoutItems_)&&this.flyoutItems_.push(r)}}parseCategoryDef_(e){this.name_="name"in e?Bt(e.name):"",this.colour_=this.getColour_(e),Object.assign(this.cssConfig_,e.cssconfig||e.cssConfig)}createDom_(){this.htmlDiv_=this.createContainer_(),bn(this.htmlDiv_,_i.TREEITEM),qt(this.htmlDiv_,Ft.SELECTED,!1),qt(this.htmlDiv_,Ft.LEVEL,this.level_+1),this.rowDiv_=this.createRowContainer_(),this.rowDiv_.style.pointerEvents="auto",this.htmlDiv_.appendChild(this.rowDiv_),this.rowContents_=this.createRowContentsContainer_(),this.rowContents_.style.pointerEvents="none",this.rowDiv_.appendChild(this.rowContents_),this.iconDom_=this.createIconDom_(),bn(this.iconDom_,_i.PRESENTATION),this.rowContents_.appendChild(this.iconDom_),this.labelDom_=this.createLabelDom_(this.name_),this.rowContents_.appendChild(this.labelDom_);const e=this.labelDom_.getAttribute("id");return e&&qt(this.htmlDiv_,Ft.LABELLEDBY,e),this.addColourBorder_(this.colour_),this.htmlDiv_}createContainer_(){const e=document.createElement("div");e.tabIndex=-1,e.id=this.getId();const i=this.cssConfig_.container;return i&&fe(e,i),e}createRowContainer_(){const e=document.createElement("div");var i=this.cssConfig_.row;return i&&fe(e,i),i="".concat(cn.nestedPadding*this.getLevel(),"px"),this.workspace_.RTL?e.style.paddingRight=i:e.style.paddingLeft=i,e}createRowContentsContainer_(){const e=document.createElement("div"),i=this.cssConfig_.rowcontentcontainer;return i&&fe(e,i),e}createIconDom_(){const e=document.createElement("span");if(!this.parentToolbox_.isHorizontal()){const i=this.cssConfig_.icon;i&&fe(e,i)}return e.style.display="inline-block",e}createLabelDom_(e){const i=document.createElement("span");return i.setAttribute("id",this.getId()+".label"),i.textContent=e,(e=this.cssConfig_.label)&&fe(i,e),i}refreshTheme(){this.colour_=this.getColour_(this.toolboxItemDef_),this.addColourBorder_(this.colour_)}addColourBorder_(e){e&&(e=cn.borderWidth+"px solid "+(e||"#ddd"),this.workspace_.RTL?this.rowDiv_.style.borderRight=e:this.rowDiv_.style.borderLeft=e)}getColour_(e){const i=e.categorystyle||e.categoryStyle;if((e=e.colour)&&i)console.warn('Toolbox category "'+this.name_+'" must not have both a style and a colour');else{if(i)return this.getColourfromStyle(i);if(e)return this.parseColour(e)}return""}getColourfromStyle(e){var i=this.workspace_.getTheme();if(e&&i){if((i=i.categoryStyles[e])&&i.colour)return this.parseColour(i.colour);console.warn('Style "'+e+'" must exist and contain a colour value')}return""}getClickTarget(){return this.rowDiv_}parseColour(e){if(e=Bt(e),e==null||e==="")return"";var i=Number(e);return isNaN(i)?(i=Cr(e))?i:(console.warn('Toolbox category "'+this.name_+'" has unrecognized colour attribute: '+e),""):i$(i)}openIcon_(e){if(e){var i=this.cssConfig_.closedicon;i&&Co(e,i),(i=this.cssConfig_.openicon)&&fe(e,i)}}closeIcon_(e){if(e){var i=this.cssConfig_.openicon;i&&Co(e,i),(i=this.cssConfig_.closedicon)&&fe(e,i)}}setVisible_(e){this.htmlDiv_.style.display=e?"block":"none",this.isHidden_=!e,this.parentToolbox_.getSelectedItem()===this&&this.parentToolbox_.clearSelection()}hide(){this.setVisible_(!1)}show(){this.setVisible_(!0)}isVisible(){return!this.isHidden_&&this.allAncestorsExpanded_()}allAncestorsExpanded_(){let e=this;for(;e.getParent();)if(e=e.getParent(),!e.isExpanded())return!1;return!0}isSelectable(){return this.isVisible()&&!this.isDisabled_}onClick(e){}setSelected(e){if(this.rowDiv_){var i=this.cssConfig_.selected;if(e){const r=this.parseColour(cn.defaultBackgroundColour);this.rowDiv_.style.backgroundColor=this.colour_||r,i&&fe(this.rowDiv_,i)}else this.rowDiv_.style.backgroundColor="",i&&De(this.rowDiv_,i);qt(this.htmlDiv_,Ft.SELECTED,e)}}setDisabled(e){this.isDisabled_=e,this.getDiv().setAttribute("disabled","".concat(e)),e?this.getDiv().setAttribute("disabled","true"):this.getDiv().removeAttribute("disabled")}getName(){return this.name_}getParent(){return this.parent_}getDiv(){return this.htmlDiv_}getContents(){return this.flyoutItems_}updateFlyoutContents(e){this.flyoutItems_=[],this.toolboxItemDef_=typeof e=="string"?{kind:this.toolboxItemDef_.kind,custom:e,id:this.toolboxItemDef_.id,categorystyle:this.toolboxItemDef_.categorystyle,colour:this.toolboxItemDef_.colour,cssconfig:this.toolboxItemDef_.cssconfig,hidden:this.toolboxItemDef_.hidden}:{kind:this.toolboxItemDef_.kind,name:"name"in this.toolboxItemDef_?this.toolboxItemDef_.name:"",contents:Pe(e),id:this.toolboxItemDef_.id,categorystyle:this.toolboxItemDef_.categorystyle,colour:this.toolboxItemDef_.colour,cssconfig:this.toolboxItemDef_.cssconfig,hidden:this.toolboxItemDef_.hidden},this.parseContents_(this.toolboxItemDef_)}dispose(){Xe(this.htmlDiv_)}};cn.registrationName="category",cn.nestedPadding=19,cn.borderWidth=8,cn.defaultBackgroundColour="#57e",ye('\n.blocklyToolboxCategory:not(.blocklyToolboxSelected):hover {\n  background-color: rgba(255, 255, 255, .2);\n}\n\n.blocklyToolbox[layout="h"] .blocklyToolboxCategoryContainer {\n  margin: 1px 5px 1px 0;\n}\n\n.blocklyToolbox[dir="RTL"][layout="h"] .blocklyToolboxCategoryContainer {\n  margin: 1px 0 1px 5px;\n}\n\n.blocklyToolboxCategory {\n  height: 22px;\n  line-height: 22px;\n  margin-bottom: 3px;\n  padding-right: 8px;\n  white-space: nowrap;\n}\n\n.blocklyToolbox[dir="RTL"] .blocklyToolboxCategory {\n  margin-left: 8px;\n  padding-right: 0;\n}\n\n.blocklyToolboxCategoryIcon {\n  background-image: url(<<<PATH>>>/sprites.png);\n  height: 16px;\n  vertical-align: middle;\n  visibility: hidden;\n  width: 16px;\n}\n\n.blocklyToolboxCategoryIconClosed {\n  background-position: -32px -1px;\n}\n\n.blocklyToolbox[dir="RTL"] .blocklyToolboxCategoryIconClosed {\n  background-position: 0 -1px;\n}\n\n.blocklyToolboxSelected>.blocklyToolboxCategoryIconClosed {\n  background-position: -32px -17px;\n}\n\n.blocklyToolbox[dir="RTL"] .blocklyToolboxSelected>.blocklyToolboxCategoryIconClosed {\n  background-position: 0 -17px;\n}\n\n.blocklyToolboxCategoryIconOpen {\n  background-position: -16px -1px;\n}\n\n.blocklyToolboxSelected>.blocklyToolboxCategoryIconOpen {\n  background-position: -16px -17px;\n}\n\n.blocklyToolboxCategoryLabel {\n  cursor: default;\n  font: 16px sans-serif;\n  padding: 0 3px;\n  vertical-align: middle;\n}\n\n.blocklyToolboxDelete .blocklyToolboxCategoryLabel {\n  cursor: url("<<<PATH>>>/handdelete.cur"), auto;\n}\n\n.blocklyToolboxSelected .blocklyToolboxCategoryLabel {\n  color: #fff;\n}\n'),s(oe.TOOLBOX_ITEM,cn.registrationName,cn);var Tu=class extends Qb{constructor(e,i){super(e,i),this.cssConfig_={container:"blocklyTreeSeparator"},this.htmlDiv=null,Object.assign(this.cssConfig_,e.cssconfig||e.cssConfig)}init(){this.createDom_()}createDom_(){const e=document.createElement("div");e.tabIndex=-1,e.id=this.getId();const i=this.cssConfig_.container;return i&&fe(e,i),this.htmlDiv=e}getDiv(){return this.htmlDiv}dispose(){Xe(this.htmlDiv)}};Tu.registrationName="sep",ye('\n.blocklyTreeSeparator {\n  border-bottom: solid #e5e5e5 1px;\n  height: 0;\n  margin: 5px 0;\n}\n\n.blocklyToolbox[layout="h"] .blocklyTreeSeparator {\n  border-right: solid #e5e5e5 1px;\n  border-bottom: none;\n  height: auto;\n  margin: 0 5px 0 5px;\n  padding: 5px 0;\n  width: 0;\n}\n'),s(oe.TOOLBOX_ITEM,Tu.registrationName,Tu);var $a=class extends cn{constructor(e,i,r){super(e,i,r),this.subcategoriesDiv_=null,this.expanded_=!1,this.toolboxItems_=[]}makeDefaultCssConfig_(){const e=super.makeDefaultCssConfig_();return e.contents="blocklyToolboxCategoryGroup",e}parseContents_(e){if("custom"in e)this.flyoutItems_=e.custom;else{const i=e.contents;if(i){this.flyoutItems_=[],e=!0;for(let r=0;r<i.length;r++){const a=i[r];!h(oe.TOOLBOX_ITEM,a.kind)||a.kind.toLowerCase()===Tu.registrationName&&e?(this.flyoutItems_.push(a),e=!0):(this.createToolboxItem(a),e=!1)}}}}createToolboxItem(e){let i=e.kind;i.toUpperCase()==="CATEGORY"&&Ko(e)&&(i=$a.registrationName),e=new(p(oe.TOOLBOX_ITEM,i))(e,this.parentToolbox_,this),this.toolboxItems_.push(e)}init(){super.init(),this.setExpanded(this.toolboxItemDef_.expanded==="true"||this.toolboxItemDef_.expanded===!0)}createDom_(){super.createDom_();const e=this.getChildToolboxItems();return this.subcategoriesDiv_=this.createSubCategoriesDom_(e),bn(this.subcategoriesDiv_,_i.GROUP),this.htmlDiv_.appendChild(this.subcategoriesDiv_),this.closeIcon_(this.iconDom_),qt(this.htmlDiv_,Ft.EXPANDED,!1),this.htmlDiv_}createIconDom_(){const e=document.createElement("span");if(!this.parentToolbox_.isHorizontal()){const i=this.cssConfig_.icon;i&&fe(e,i),e.style.visibility="visible"}return e.style.display="inline-block",e}createSubCategoriesDom_(e){const i=document.createElement("div");i.style.display="none";var r=this.cssConfig_.contents;for(r&&fe(i,r),r=0;r<e.length;r++){const a=e[r];a.init();const u=a.getDiv();if(i.appendChild(u),a.getClickTarget){let f;(f=a.getClickTarget())==null||f.setAttribute("id",a.getId())}}return i}setExpanded(e){if(this.expanded_!==e){if(this.expanded_=e)this.subcategoriesDiv_.style.display="block",this.openIcon_(this.iconDom_);else{let i;(i=this.parentToolbox_.getFlyout())==null||i.setVisible(!1),this.subcategoriesDiv_.style.display="none",this.closeIcon_(this.iconDom_)}qt(this.htmlDiv_,Ft.EXPANDED,e),this.parentToolbox_.handleToolboxItemResize()}}setVisible_(e){this.htmlDiv_.style.display=e?"block":"none";const i=this.getChildToolboxItems();for(let r=0;r<i.length;r++)i[r].setVisible_(e);this.isHidden_=!e,this.parentToolbox_.getSelectedItem()===this&&this.parentToolbox_.clearSelection()}isExpanded(){return this.expanded_}isCollapsible(){return!0}onClick(e){this.toggleExpanded()}toggleExpanded(){this.setExpanded(!this.expanded_)}getDiv(){return this.htmlDiv_}getChildToolboxItems(){return this.toolboxItems_}};$a.registrationName="collapsibleCategory",s(oe.TOOLBOX_ITEM,$a.registrationName,$a);var Hw=class extends bp{constructor(e){super(),this.id="toolbox",this.contentsDiv_=this.HtmlDiv=null,this.isVisible_=!1,this.height_=this.width_=0,this.flyout=null,this.contents=new Map,this.previouslySelectedItem_=this.selectedItem_=null,this.boundEvents_=[],this.workspace_=e,this.toolboxDef_=e.options.languageTree||{contents:[]},this.horizontalLayout=e.options.horizontalLayout,this.RTL=e.options.RTL,this.toolboxPosition=e.options.toolboxPosition}onShortcut(e){return!1}init(){var e=this.workspace_;const i=e.getParentSvg();this.flyout=this.createFlyout_(),this.HtmlDiv=this.createDom_(this.workspace_);const r=this.flyout.createDom("svg");fe(r,"blocklyToolboxFlyout"),Xo(r,i),this.setVisible(!0),this.flyout.init(e),this.render(this.toolboxDef_),e=e.getThemeManager(),e.subscribe(this.HtmlDiv,"toolboxBackgroundColour","background-color"),e.subscribe(this.HtmlDiv,"toolboxForegroundColour","color"),this.workspace_.getComponentManager().addComponent({component:this,weight:It.ComponentWeight.TOOLBOX_WEIGHT,capabilities:[It.Capability.AUTOHIDEABLE,It.Capability.DELETE_AREA,It.Capability.DRAG_TARGET]}),n.getFocusManager$$module$build$src$core$focus_manager().registerTree(this,!0)}createDom_(e){e=e.getParentSvg();const i=this.createContainer_();return i.id=P(),this.contentsDiv_=this.createContentsContainer_(),bn(this.contentsDiv_,_i.TREE),i.appendChild(this.contentsDiv_),e.parentNode.insertBefore(i,e),this.attachEvents_(i,this.contentsDiv_),i}createContainer_(){const e=document.createElement("div");return e.setAttribute("layout",this.isHorizontal()?"h":"v"),fe(e,"blocklyToolbox"),e.setAttribute("dir",this.RTL?"RTL":"LTR"),e}createContentsContainer_(){const e=document.createElement("div");return fe(e,"blocklyToolboxCategoryGroup"),this.isHorizontal()&&(e.style.flexDirection="row"),e}attachEvents_(e,i){e=S(e,"pointerdown",this,this.onClick_,!1),this.boundEvents_.push(e),i=S(i,"keydown",this,this.onKeyDown_,!1),this.boundEvents_.push(i)}onClick_(e){if(Y(e)||e.target===this.HtmlDiv)_().hideChaff(!1);else{var i=e.target.getAttribute("id");i&&(i=this.getToolboxItemById(i),i.isSelectable()&&(this.setSelectedItem(i),i.onClick(e))),_().hideChaff(!0)}I()}onKeyDown_(e){let i=!1;switch(e.key){case"ArrowDown":i=this.selectNext();break;case"ArrowUp":i=this.selectPrevious();break;case"ArrowLeft":i=this.selectParent();break;case"ArrowRight":i=this.selectChild();break;case"Enter":case" ":this.selectedItem_&&this.selectedItem_.isCollapsible()&&(this.selectedItem_.toggleExpanded(),i=!0);break;default:i=!1}!i&&this.selectedItem_&&this.selectedItem_.onKeyDown&&(i=this.selectedItem_.onKeyDown(e)),i&&e.preventDefault()}createFlyout_(){const e=this.workspace_,i=e.copyOptionsForFlyout();return i.toolboxPosition=e.options.toolboxPosition,new(e.horizontalLayout?b(oe.FLYOUTS_HORIZONTAL_TOOLBOX,e.options,!0):b(oe.FLYOUTS_VERTICAL_TOOLBOX,e.options,!0))(i)}render(e){this.toolboxDef_=e,this.contents.forEach(i=>i.dispose()),this.contents.clear(),this.renderContents_(e.contents),this.position(),this.handleToolboxItemResize()}renderContents_(e){const i=document.createDocumentFragment();for(let r=0;r<e.length;r++)this.createToolboxItem(e[r],i);this.contentsDiv_.appendChild(i)}createToolboxItem(e,i){var r=e.kind;r.toUpperCase()==="CATEGORY"&&Ko(e)&&(r=$a.registrationName),(r=p(oe.TOOLBOX_ITEM,r.toLowerCase()))&&(e=new r(e,this),e.init(),this.addToolboxItem_(e),(r=e.getDiv())&&i.appendChild(r),e.getClickTarget()&&e.getClickTarget().setAttribute("id",e.getId()))}addToolboxItem_(e){if(this.contents.set(e.getId(),e),e.isCollapsible()){e=e.getChildToolboxItems();for(let i=0;i<e.length;i++)this.addToolboxItem_(e[i])}}getToolboxItems(){return[...this.contents.values()]}addStyle(e){e&&this.HtmlDiv&&fe(this.HtmlDiv,e)}removeStyle(e){e&&this.HtmlDiv&&De(this.HtmlDiv,e)}getClientRect(){if(!this.HtmlDiv||!this.isVisible_)return null;var e=this.HtmlDiv.getBoundingClientRect();const i=e.top,r=i+e.height,a=e.left;return e=a+e.width,this.toolboxPosition===He.TOP?new Be(-1e7,r,-1e7,1e7):this.toolboxPosition===He.BOTTOM?new Be(i,1e7,-1e7,1e7):this.toolboxPosition===He.LEFT?new Be(-1e7,1e7,-1e7,e):new Be(-1e7,1e7,a,1e7)}wouldDelete(e){return e instanceof ht?this.updateWouldDelete_(!e.getParent()&&e.isDeletable()):this.updateWouldDelete_(xi(e)&&e.isDeletable()),this.wouldDelete_}onDragEnter(e){this.updateCursorDeleteStyle_(!0)}onDragExit(e){this.updateCursorDeleteStyle_(!1)}onDrop(e){this.updateCursorDeleteStyle_(!1)}updateWouldDelete_(e){e!==this.wouldDelete_&&(this.updateCursorDeleteStyle_(!1),this.wouldDelete_=e,this.updateCursorDeleteStyle_(!0))}updateCursorDeleteStyle_(e){const i=this.wouldDelete_?"blocklyToolboxDelete":"blocklyToolboxGrab";e?this.addStyle(i):this.removeStyle(i)}getToolboxItemById(e){return this.contents.get(e)||null}getWidth(){return this.width_}getHeight(){return this.height_}getFlyout(){return this.flyout}getWorkspace(){return this.workspace_}getSelectedItem(){return this.selectedItem_}getPreviouslySelectedItem(){return this.previouslySelectedItem_}isHorizontal(){return this.horizontalLayout}position(){const e=this.workspace_.getMetrics(),i=this.HtmlDiv;i&&(this.horizontalLayout?(i.style.left="0",i.style.height="auto",i.style.width="100%",this.height_=i.offsetHeight,this.width_=e.viewWidth,this.toolboxPosition===He.TOP?i.style.top="0":i.style.bottom="0"):(this.toolboxPosition===He.RIGHT?i.style.right="0":i.style.left="0",i.style.height="100%",this.width_=i.offsetWidth,this.height_=e.viewHeight),this.flyout.position())}handleToolboxItemResize(){const e=this.workspace_;var i=this.HtmlDiv.getBoundingClientRect();const r=this.getFlyout(),a=this.toolboxPosition===He.LEFT?e.scrollX+i.width+(r!=null&&r.isVisible()?r.getWidth():0):e.scrollX;i=this.toolboxPosition===He.TOP?e.scrollY+i.height+(r!=null&&r.isVisible()?r.getHeight():0):e.scrollY,e.translate(a,i),ii(e)}clearSelection(){this.setSelectedItem(null)}refreshTheme(){this.contents.forEach(e=>{e.refreshTheme&&e.refreshTheme()})}refreshSelection(){this.selectedItem_&&this.selectedItem_.isSelectable()&&this.selectedItem_.getContents().length&&this.flyout.show(this.selectedItem_.getContents())}setVisible(e){this.isVisible_!==e&&(this.HtmlDiv.style.display=e?"block":"none",this.isVisible_=e,this.workspace_.recordDragTargets())}autoHide(e){!e&&this.flyout&&this.flyout.autoClose&&this.clearSelection()}setSelectedItem(e){const i=this.selectedItem_;!e&&!i||e&&!LO(e)||(this.shouldDeselectItem_(i,e)&&i!==null&&this.deselectItem_(i),this.shouldSelectItem_(i,e)&&e!==null&&this.selectItem_(i,e),this.updateFlyout_(i,e),this.fireSelectEvent(i,e))}shouldDeselectItem_(e,i){return e!==null&&(!e.isCollapsible()||e!==i)}shouldSelectItem_(e,i){return i!==null&&i!==e}deselectItem_(e){this.selectedItem_=null,this.previouslySelectedItem_=e,e.setSelected(!1),qt(this.contentsDiv_,Ft.ACTIVEDESCENDANT,"")}selectItem_(e,i){this.selectedItem_=i,this.previouslySelectedItem_=e,i.setSelected(!0),qt(this.contentsDiv_,Ft.ACTIVEDESCENDANT,i.getId())}selectItemByPosition(e){(e=this.getToolboxItems()[e])&&this.setSelectedItem(e)}updateFlyout_(e,i){i&&(e!==i||i.isCollapsible())&&i.getContents().length?(this.flyout.show(i.getContents()),this.flyout.scrollToStart()):this.flyout.hide()}fireSelectEvent(e,i){const r=e&&e.getName();let a=i&&i.getName();e===i&&(a=null),e=new(ge(z.TOOLBOX_ITEM_SELECT))(r,a,this.workspace_.id),V(e)}selectParent(){return this.selectedItem_?this.selectedItem_.isCollapsible()&&this.selectedItem_.isExpanded()?(this.selectedItem_.toggleExpanded(),!0):this.selectedItem_.getParent()&&this.selectedItem_.getParent().isSelectable()?(this.setSelectedItem(this.selectedItem_.getParent()),!0):!1:!1}selectChild(){if(!this.selectedItem_||!this.selectedItem_.isCollapsible())return!1;const e=this.selectedItem_;return e.isExpanded()?this.selectNext():e.toggleExpanded(),!0}selectNext(){if(!this.selectedItem_)return!1;const e=[...this.contents.values()];let i=e.indexOf(this.selectedItem_)+1;if(i>-1&&i<e.length){let r=e[i];for(;r&&!r.isSelectable();)r=e[++i];if(r&&r.isSelectable())return this.setSelectedItem(r),!0}return!1}selectPrevious(){if(!this.selectedItem_)return!1;const e=[...this.contents.values()];let i=e.indexOf(this.selectedItem_)-1;if(i>-1&&i<e.length){let r=e[i];for(;r&&!r.isSelectable();)r=e[--i];if(r&&r.isSelectable())return this.setSelectedItem(r),!0}return!1}dispose(){this.workspace_.getComponentManager().removeComponent("toolbox"),this.flyout.dispose(),this.contents.forEach(e=>e.dispose());for(let e=0;e<this.boundEvents_.length;e++)L(this.boundEvents_[e]);this.boundEvents_=[],this.contents.clear(),this.HtmlDiv&&(this.workspace_.getThemeManager().unsubscribe(this.HtmlDiv),Xe(this.HtmlDiv)),n.getFocusManager$$module$build$src$core$focus_manager().unregisterTree(this)}getFocusableElement(){if(!this.HtmlDiv)throw Error("Toolbox DOM has not yet been created.");return this.HtmlDiv}getFocusableTree(){return this}onNodeFocus(){}onNodeBlur(){}canBeFocused(){return!0}getRootFocusableNode(){return this}getRestoredFocusableNode(e){if(!e||e===this){let i;return(i=this.getToolboxItems().find(r=>r.isSelectable()))!=null?i:null}return null}getNestedTrees(){return[]}lookUpFocusableNode(e){return this.getToolboxItemById(e)}onTreeFocus(e,i){e!==this?this.getSelectedItem()!==e&&this.setSelectedItem(e):this.clearSelection()}onTreeBlur(e){let i;e&&e===((i=this.flyout)==null?void 0:i.getWorkspace())||this.autoHide(!1)}};ye('\n.blocklyToolboxDelete {\n  cursor: url("<<<PATH>>>/handdelete.cur"), auto;\n}\n\n.blocklyToolboxGrab {\n  cursor: url("<<<PATH>>>/handclosed.cur"), auto;\n  cursor: grabbing;\n  cursor: -webkit-grabbing;\n}\n\n/* Category tree in Toolbox. */\n.blocklyToolbox {\n  box-sizing: border-box;\n  user-select: none;\n  -ms-user-select: none;\n  -webkit-user-select: none;\n  background-color: #ddd;\n  overflow-x: visible;\n  overflow-y: auto;\n  padding: 4px 0 4px 0;\n  position: absolute;\n  z-index: 70;  /* so blocks go under toolbox when dragging */\n  -webkit-tap-highlight-color: transparent;  /* issue #1345 */\n}\n\n.blocklyToolboxCategoryGroup {\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: column;\n}\n\n.blocklyToolboxCategoryGroup:focus {\n  outline: none;\n}\n'),s(oe.TOOLBOX,mi,Hw);var P1="12.3.1",B1=Ie.INPUT_VALUE,U1=Ie.OUTPUT_VALUE,H1=Ie.NEXT_STATEMENT,F1=Ie.PREVIOUS_STATEMENT,G1=He.TOP,V1=He.BOTTOM,z1=He.LEFT,W1=He.RIGHT;ha.prototype.newBlock=function(e,i){return new ca(this,e,i)},Vo.prototype.newBlock=function(e,i){return new ht(this,e,i)},ha.prototype.newComment=function(e){return new dp(this,e)},Vo.prototype.newComment=function(e){return new Qn(this,e)},Vo.newTrashcan=function(e){return new DC(e)},es.prototype.newWorkspaceSvg=function(e){return new Vo(e)},n.Names$$module$build$src$core$names.prototype.populateProcedures=function(e){e=Hc(e),e=e[0].concat(e[1]);for(let i=0;i<e.length;i++)this.getName(e[i][0],n.Names$$module$build$src$core$names.NameType.PROCEDURE)};var W={};return W.Block=ca,W.BlockFlyoutInflater=Cw,W.BlockNavigationPolicy=pC,W.BlockSvg=ht,W.Blocks=St,W.ButtonFlyoutInflater=Rw,W.COLLAPSED_FIELD_NAME=jh,W.COLLAPSED_INPUT_NAME=Zc,W.COLLAPSE_CHARS=iC,W.CodeGenerator=n.CodeGenerator$$module$build$src$core$generator,W.CollapsibleToolboxCategory=$a,W.ComponentManager=It,W.Connection=qe,W.ConnectionChecker=kC,W.ConnectionDB=la,W.ConnectionNavigationPolicy=fC,W.ConnectionType=Ie,W.ContextMenu=zr,W.ContextMenuItems=co,W.ContextMenuRegistry=Ge,W.Css=w_,W.DELETE_VARIABLE_ID=lb,W.DeleteArea=bp,W.DragTarget=aC,W.DropDownDiv=Ho,W.Events=be,W.Extensions=rn,W.Field=lt,W.FieldCheckbox=qr,W.FieldDropdown=Lo,W.FieldImage=Kr,W.FieldLabel=Xr,W.FieldLabelSerializable=ew,W.FieldNavigationPolicy=gC,W.FieldNumber=xb,W.FieldTextInput=n.FieldTextInput$$module$build$src$core$field_textinput,W.FieldVariable=$u,W.Flyout=Ep,W.FlyoutButton=Jo,W.FlyoutButtonNavigationPolicy=uC,W.FlyoutItem=ua,W.FlyoutMetricsManager=cC,W.FlyoutNavigationPolicy=dC,W.FlyoutNavigator=bC,W.FlyoutSeparator=Tp,W.FlyoutSeparatorNavigationPolicy=hC,W.FocusManager=Ao,W.FocusableTreeTraverser=To,W.Generator=n.CodeGenerator$$module$build$src$core$generator,W.Gesture=yp,W.Grid=fb,W.HorizontalFlyout=QC,W.INPUT_VALUE=B1,W.Input=aa,W.InsertionMarkerPreviewer=qC,W.KeyboardNavigationController=EC,W.LabelFlyoutInflater=GC,W.LineCursor=gb,W.Marker=yC,W.MarkerManager=mb,W.Menu=x_,W.MenuItem=Yh,W.MetricsManager=cb,W.Msg=n.Msg$$module$build$src$core$msg,W.NEXT_STATEMENT=H1,W.Names=n.Names$$module$build$src$core$names,W.Navigator=hb,W.OPPOSITE_TYPE=Yr,W.OUTPUT_VALUE=U1,W.Options=On,W.PREVIOUS_STATEMENT=F1,W.PROCEDURE_CATEGORY_NAME=Sp,W.Procedures=Go,W.RENAME_VARIABLE_ID=rb,W.RenderedConnection=Eo,W.Scrollbar=Ht,W.ScrollbarPair=pb,W.SeparatorFlyoutInflater=TC,W.ShortcutItems=Ln,W.ShortcutRegistry=dt,W.TOOLBOX_AT_BOTTOM=V1,W.TOOLBOX_AT_LEFT=z1,W.TOOLBOX_AT_RIGHT=W1,W.TOOLBOX_AT_TOP=G1,W.Theme=Wr,W.ThemeManager=LC,W.Themes=D1,W.Toast=Pr,W.Toolbox=Hw,W.ToolboxCategory=cn,W.ToolboxItem=Qb,W.ToolboxSeparator=Tu,W.Tooltip=bi,W.Touch=Nr,W.Trashcan=DC,W.UnattachedFieldError=Vt,W.VARIABLE_CATEGORY_NAME=H_,W.VARIABLE_DYNAMIC_CATEGORY_NAME=Sb,W.VERSION=P1,W.VariableMap=xC,W.VariableModel=MC,W.Variables=Gt,W.VariablesDynamic=Vs,W.VerticalFlyout=Mb,W.WidgetDiv=sn,W.Workspace=ha,W.WorkspaceAudio=NC,W.WorkspaceDragger=vC,W.WorkspaceNavigationPolicy=_C,W.WorkspaceSvg=Vo,W.Xml=Fo,W.ZoomControls=aR,W.blockAnimations=cu,W.blockRendering=st,W.browserEvents=Yn,W.bubbles=bu,W.bumpObjects=_p,W.clipboard=an,W.comments=zs,W.common=ao,W.config=n.config$$module$build$src$core$config,W.constants=a1,W.defineBlocksWithJsonArray=y,W.dialog=Zn,W.dragging=_u,W.fieldRegistry=hp,W.geras=Mn,W.getFocusManager=n.getFocusManager$$module$build$src$core$focus_manager,W.getMainWorkspace=_,W.getSelected=D,W.hasBubble=Rr,W.hideChaff=kO,W.icons=Gs,W.inject=bO,W.inputs=Ws,W.isCopyable=Gc,W.isDeletable=xi,W.isDraggable=Kl,W.isIcon=v$,W.isObservable=Ih,W.isPaster=wO,W.isRenderedElement=AO,W.isSelectable=gi,W.isSerializable=wc,W.isVariableBackedParameterModel=ym,W.keyboardNavigationController=vp,W.layers=c1,W.navigateBlock=on,W.navigateStacks=jl,W.procedures=Go,W.registry=Xn,W.renderManagement=qh,W.serialization=L1,W.setLocale=U_,W.setParentContainer=jo,W.svgResize=ii,W.thrasos=Zb,W.uiPosition=Dr,W.utils=Ct,W.zelos=Nn,W.__namespace__=n,W})}(eE)),eE.exports}var tE={exports:{}},Ak;function SX(){return Ak||(Ak=1,function(t,o){(function(n,s){t.exports=s()})(nr,function(){var n=n||{Msg:Object.create(null)};return n.Msg.ADD_COMMENT="Add Comment",n.Msg.ALT_KEY="Alt",n.Msg.CANNOT_DELETE_VARIABLE_PROCEDURE="Can't delete the variable '%1' because it's part of the definition of the function '%2'",n.Msg.CHANGE_VALUE_TITLE="Change value:",n.Msg.CHROME_OS="ChromeOS",n.Msg.CLEAN_UP="Clean up Blocks",n.Msg.CLOSE="Close",n.Msg.COLLAPSED_WARNINGS_WARNING="Collapsed blocks contain warnings.",n.Msg.COLLAPSE_ALL="Collapse Blocks",n.Msg.COLLAPSE_BLOCK="Collapse Block",n.Msg.COLOUR_BLEND_COLOUR1="colour 1",n.Msg.COLOUR_BLEND_COLOUR2="colour 2",n.Msg.COLOUR_BLEND_HELPURL="https://meyerweb.com/eric/tools/color-blend/#:::rgbp",n.Msg.COLOUR_BLEND_RATIO="ratio",n.Msg.COLOUR_BLEND_TITLE="blend",n.Msg.COLOUR_BLEND_TOOLTIP="Blends two colours together with a given ratio (0.0 - 1.0).",n.Msg.COLOUR_PICKER_HELPURL="https://en.wikipedia.org/wiki/Color",n.Msg.COLOUR_PICKER_TOOLTIP="Choose a colour from the palette.",n.Msg.COLOUR_RANDOM_HELPURL="http://randomcolour.com",n.Msg.COLOUR_RANDOM_TITLE="random colour",n.Msg.COLOUR_RANDOM_TOOLTIP="Choose a colour at random.",n.Msg.COLOUR_RGB_BLUE="blue",n.Msg.COLOUR_RGB_GREEN="green",n.Msg.COLOUR_RGB_HELPURL="https://www.december.com/html/spec/colorpercompact.html",n.Msg.COLOUR_RGB_RED="red",n.Msg.COLOUR_RGB_TITLE="colour with",n.Msg.COLOUR_RGB_TOOLTIP="Create a colour with the specified amount of red, green, and blue. All values must be between 0 and 100.",n.Msg.COMMAND_KEY=" Command",n.Msg.CONTROLS_FLOW_STATEMENTS_HELPURL="https://github.com/google/blockly/wiki/Loops#loop-termination-blocks",n.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK="break out of loop",n.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE="continue with next iteration of loop",n.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK="Break out of the containing loop.",n.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE="Skip the rest of this loop, and continue with the next iteration.",n.Msg.CONTROLS_FLOW_STATEMENTS_WARNING="Warning: This block may only be used within a loop.",n.Msg.CONTROLS_FOREACH_HELPURL="https://github.com/google/blockly/wiki/Loops#for-each",n.Msg.CONTROLS_FOREACH_TITLE="for each item %1 in list %2",n.Msg.CONTROLS_FOREACH_TOOLTIP="For each item in a list, set the variable '%1' to the item, and then do some statements.",n.Msg.CONTROLS_FOR_HELPURL="https://github.com/google/blockly/wiki/Loops#count-with",n.Msg.CONTROLS_FOR_TITLE="count with %1 from %2 to %3 by %4",n.Msg.CONTROLS_FOR_TOOLTIP="Have the variable '%1' take on the values from the start number to the end number, counting by the specified interval, and do the specified blocks.",n.Msg.CONTROLS_IF_ELSEIF_TOOLTIP="Add a condition to the if block.",n.Msg.CONTROLS_IF_ELSE_TOOLTIP="Add a final, catch-all condition to the if block.",n.Msg.CONTROLS_IF_HELPURL="https://github.com/google/blockly/wiki/IfElse",n.Msg.CONTROLS_IF_IF_TOOLTIP="Add, remove, or reorder sections to reconfigure this if block.",n.Msg.CONTROLS_IF_MSG_ELSE="else",n.Msg.CONTROLS_IF_MSG_ELSEIF="else if",n.Msg.CONTROLS_IF_MSG_IF="if",n.Msg.CONTROLS_IF_TOOLTIP_1="If a value is true, then do some statements.",n.Msg.CONTROLS_IF_TOOLTIP_2="If a value is true, then do the first block of statements. Otherwise, do the second block of statements.",n.Msg.CONTROLS_IF_TOOLTIP_3="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements.",n.Msg.CONTROLS_IF_TOOLTIP_4="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements. If none of the values are true, do the last block of statements.",n.Msg.CONTROLS_REPEAT_HELPURL="https://en.wikipedia.org/wiki/For_loop",n.Msg.CONTROLS_REPEAT_INPUT_DO="do",n.Msg.CONTROLS_REPEAT_TITLE="repeat %1 times",n.Msg.CONTROLS_REPEAT_TOOLTIP="Do some statements several times.",n.Msg.CONTROLS_WHILEUNTIL_HELPURL="https://github.com/google/blockly/wiki/Loops#repeat",n.Msg.CONTROLS_WHILEUNTIL_OPERATOR_UNTIL="repeat until",n.Msg.CONTROLS_WHILEUNTIL_OPERATOR_WHILE="repeat while",n.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL="While a value is false, then do some statements.",n.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_WHILE="While a value is true, then do some statements.",n.Msg.CONTROL_KEY="Ctrl",n.Msg.COPY_SHORTCUT="Copy",n.Msg.CUT_SHORTCUT="Cut",n.Msg.DELETE_ALL_BLOCKS="Delete all %1 blocks?",n.Msg.DELETE_BLOCK="Delete Block",n.Msg.DELETE_VARIABLE="Delete the '%1' variable",n.Msg.DELETE_VARIABLE_CONFIRMATION="Delete %1 uses of the '%2' variable?",n.Msg.DELETE_X_BLOCKS="Delete %1 Blocks",n.Msg.DIALOG_CANCEL="Cancel",n.Msg.DIALOG_OK="OK",n.Msg.DISABLE_BLOCK="Disable Block",n.Msg.DUPLICATE_BLOCK="Duplicate",n.Msg.DUPLICATE_COMMENT="Duplicate Comment",n.Msg.EDIT_BLOCK_CONTENTS="Edit Block contents",n.Msg.ENABLE_BLOCK="Enable Block",n.Msg.EXPAND_ALL="Expand Blocks",n.Msg.EXPAND_BLOCK="Expand Block",n.Msg.EXTERNAL_INPUTS="External Inputs",n.Msg.HELP="Help",n.Msg.HELP_PROMPT="Press %1 for help on keyboard controls",n.Msg.INLINE_INPUTS="Inline Inputs",n.Msg.KEYBOARD_NAV_CONSTRAINED_MOVE_HINT="Use the arrow keys to move, then %1 to accept the position",n.Msg.KEYBOARD_NAV_COPIED_HINT="Copied. Press %1 to paste.",n.Msg.KEYBOARD_NAV_CUT_HINT="Cut. Press %1 to paste.",n.Msg.KEYBOARD_NAV_UNCONSTRAINED_MOVE_HINT="Hold %1 and use arrow keys to move freely, then %2 to accept the position",n.Msg.LINUX="Linux",n.Msg.LISTS_CREATE_EMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#create-empty-list",n.Msg.LISTS_CREATE_EMPTY_TITLE="create empty list",n.Msg.LISTS_CREATE_EMPTY_TOOLTIP="Returns a list, of length 0, containing no data records",n.Msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD="list",n.Msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP="Add, remove, or reorder sections to reconfigure this list block.",n.Msg.LISTS_CREATE_WITH_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",n.Msg.LISTS_CREATE_WITH_INPUT_WITH="create list with",n.Msg.LISTS_CREATE_WITH_ITEM_TOOLTIP="Add an item to the list.",n.Msg.LISTS_CREATE_WITH_TOOLTIP="Create a list with any number of items.",n.Msg.LISTS_GET_INDEX_FIRST="first",n.Msg.LISTS_GET_INDEX_FROM_END="# from end",n.Msg.LISTS_GET_INDEX_FROM_START="#",n.Msg.LISTS_GET_INDEX_GET="get",n.Msg.LISTS_GET_INDEX_GET_REMOVE="get and remove",n.Msg.LISTS_GET_INDEX_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-items-from-a-list",n.Msg.LISTS_GET_INDEX_LAST="last",n.Msg.LISTS_GET_INDEX_RANDOM="random",n.Msg.LISTS_GET_INDEX_REMOVE="remove",n.Msg.LISTS_GET_INDEX_TAIL="",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST="Returns the first item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM="Returns the item at the specified position in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST="Returns the last item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM="Returns a random item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST="Removes and returns the first item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM="Removes and returns the item at the specified position in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST="Removes and returns the last item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM="Removes and returns a random item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST="Removes the first item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM="Removes the item at the specified position in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST="Removes the last item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM="Removes a random item in a list.",n.Msg.LISTS_GET_SUBLIST_END_FROM_END="to # from end",n.Msg.LISTS_GET_SUBLIST_END_FROM_START="to #",n.Msg.LISTS_GET_SUBLIST_END_LAST="to last",n.Msg.LISTS_GET_SUBLIST_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-a-sublist",n.Msg.LISTS_GET_SUBLIST_START_FIRST="get sub-list from first",n.Msg.LISTS_GET_SUBLIST_START_FROM_END="get sub-list from # from end",n.Msg.LISTS_GET_SUBLIST_START_FROM_START="get sub-list from #",n.Msg.LISTS_GET_SUBLIST_TAIL="",n.Msg.LISTS_GET_SUBLIST_TOOLTIP="Creates a copy of the specified portion of a list.",n.Msg.LISTS_INDEX_FROM_END_TOOLTIP="%1 is the last item.",n.Msg.LISTS_INDEX_FROM_START_TOOLTIP="%1 is the first item.",n.Msg.LISTS_INDEX_OF_FIRST="find first occurrence of item",n.Msg.LISTS_INDEX_OF_HELPURL="https://github.com/google/blockly/wiki/Lists#finding-items-in-a-list",n.Msg.LISTS_INDEX_OF_LAST="find last occurrence of item",n.Msg.LISTS_INDEX_OF_TOOLTIP="Returns the index of the first/last occurrence of the item in the list. Returns %1 if item is not found.",n.Msg.LISTS_INLIST="in list",n.Msg.LISTS_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#is-empty",n.Msg.LISTS_ISEMPTY_TITLE="%1 is empty",n.Msg.LISTS_ISEMPTY_TOOLTIP="Returns true if the list is empty.",n.Msg.LISTS_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Lists#length-of",n.Msg.LISTS_LENGTH_TITLE="length of %1",n.Msg.LISTS_LENGTH_TOOLTIP="Returns the length of a list.",n.Msg.LISTS_REPEAT_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",n.Msg.LISTS_REPEAT_TITLE="create list with item %1 repeated %2 times",n.Msg.LISTS_REPEAT_TOOLTIP="Creates a list consisting of the given value repeated the specified number of times.",n.Msg.LISTS_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Lists#reversing-a-list",n.Msg.LISTS_REVERSE_MESSAGE0="reverse %1",n.Msg.LISTS_REVERSE_TOOLTIP="Reverse a copy of a list.",n.Msg.LISTS_SET_INDEX_HELPURL="https://github.com/google/blockly/wiki/Lists#in-list--set",n.Msg.LISTS_SET_INDEX_INPUT_TO="as",n.Msg.LISTS_SET_INDEX_INSERT="insert at",n.Msg.LISTS_SET_INDEX_SET="set",n.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST="Inserts the item at the start of a list.",n.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM="Inserts the item at the specified position in a list.",n.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST="Append the item to the end of a list.",n.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM="Inserts the item randomly in a list.",n.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST="Sets the first item in a list.",n.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM="Sets the item at the specified position in a list.",n.Msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST="Sets the last item in a list.",n.Msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM="Sets a random item in a list.",n.Msg.LISTS_SORT_HELPURL="https://github.com/google/blockly/wiki/Lists#sorting-a-list",n.Msg.LISTS_SORT_ORDER_ASCENDING="ascending",n.Msg.LISTS_SORT_ORDER_DESCENDING="descending",n.Msg.LISTS_SORT_TITLE="sort %1 %2 %3",n.Msg.LISTS_SORT_TOOLTIP="Sort a copy of a list.",n.Msg.LISTS_SORT_TYPE_IGNORECASE="alphabetic, ignore case",n.Msg.LISTS_SORT_TYPE_NUMERIC="numeric",n.Msg.LISTS_SORT_TYPE_TEXT="alphabetic",n.Msg.LISTS_SPLIT_HELPURL="https://github.com/google/blockly/wiki/Lists#splitting-strings-and-joining-lists",n.Msg.LISTS_SPLIT_LIST_FROM_TEXT="make list from text",n.Msg.LISTS_SPLIT_TEXT_FROM_LIST="make text from list",n.Msg.LISTS_SPLIT_TOOLTIP_JOIN="Join a list of texts into one text, separated by a delimiter.",n.Msg.LISTS_SPLIT_TOOLTIP_SPLIT="Split text into a list of texts, breaking at each delimiter.",n.Msg.LISTS_SPLIT_WITH_DELIMITER="with delimiter",n.Msg.LOGIC_BOOLEAN_FALSE="false",n.Msg.LOGIC_BOOLEAN_HELPURL="https://github.com/google/blockly/wiki/Logic#values",n.Msg.LOGIC_BOOLEAN_TOOLTIP="Returns either true or false.",n.Msg.LOGIC_BOOLEAN_TRUE="true",n.Msg.LOGIC_COMPARE_HELPURL="https://en.wikipedia.org/wiki/Inequality_(mathematics)",n.Msg.LOGIC_COMPARE_TOOLTIP_EQ="Return true if both inputs equal each other.",n.Msg.LOGIC_COMPARE_TOOLTIP_GT="Return true if the first input is greater than the second input.",n.Msg.LOGIC_COMPARE_TOOLTIP_GTE="Return true if the first input is greater than or equal to the second input.",n.Msg.LOGIC_COMPARE_TOOLTIP_LT="Return true if the first input is smaller than the second input.",n.Msg.LOGIC_COMPARE_TOOLTIP_LTE="Return true if the first input is smaller than or equal to the second input.",n.Msg.LOGIC_COMPARE_TOOLTIP_NEQ="Return true if both inputs are not equal to each other.",n.Msg.LOGIC_NEGATE_HELPURL="https://github.com/google/blockly/wiki/Logic#not",n.Msg.LOGIC_NEGATE_TITLE="not %1",n.Msg.LOGIC_NEGATE_TOOLTIP="Returns true if the input is false. Returns false if the input is true.",n.Msg.LOGIC_NULL="null",n.Msg.LOGIC_NULL_HELPURL="https://en.wikipedia.org/wiki/Nullable_type",n.Msg.LOGIC_NULL_TOOLTIP="Returns null.",n.Msg.LOGIC_OPERATION_AND="and",n.Msg.LOGIC_OPERATION_HELPURL="https://github.com/google/blockly/wiki/Logic#logical-operations",n.Msg.LOGIC_OPERATION_OR="or",n.Msg.LOGIC_OPERATION_TOOLTIP_AND="Return true if both inputs are true.",n.Msg.LOGIC_OPERATION_TOOLTIP_OR="Return true if at least one of the inputs is true.",n.Msg.LOGIC_TERNARY_CONDITION="test",n.Msg.LOGIC_TERNARY_HELPURL="https://en.wikipedia.org/wiki/%3F:",n.Msg.LOGIC_TERNARY_IF_FALSE="if false",n.Msg.LOGIC_TERNARY_IF_TRUE="if true",n.Msg.LOGIC_TERNARY_TOOLTIP="Check the condition in 'test'. If the condition is true, returns the 'if true' value; otherwise returns the 'if false' value.",n.Msg.MAC_OS="macOS",n.Msg.MATH_ADDITION_SYMBOL="+",n.Msg.MATH_ARITHMETIC_HELPURL="https://en.wikipedia.org/wiki/Arithmetic",n.Msg.MATH_ARITHMETIC_TOOLTIP_ADD="Return the sum of the two numbers.",n.Msg.MATH_ARITHMETIC_TOOLTIP_DIVIDE="Return the quotient of the two numbers.",n.Msg.MATH_ARITHMETIC_TOOLTIP_MINUS="Return the difference of the two numbers.",n.Msg.MATH_ARITHMETIC_TOOLTIP_MULTIPLY="Return the product of the two numbers.",n.Msg.MATH_ARITHMETIC_TOOLTIP_POWER="Return the first number raised to the power of the second number.",n.Msg.MATH_ATAN2_HELPURL="https://en.wikipedia.org/wiki/Atan2",n.Msg.MATH_ATAN2_TITLE="atan2 of X:%1 Y:%2",n.Msg.MATH_ATAN2_TOOLTIP="Return the arctangent of point (X, Y) in degrees from -180 to 180.",n.Msg.MATH_CHANGE_HELPURL="https://en.wikipedia.org/wiki/Programming_idiom#Incrementing_a_counter",n.Msg.MATH_CHANGE_TITLE="change %1 by %2",n.Msg.MATH_CHANGE_TOOLTIP="Add a number to variable '%1'.",n.Msg.MATH_CONSTANT_HELPURL="https://en.wikipedia.org/wiki/Mathematical_constant",n.Msg.MATH_CONSTANT_TOOLTIP="Return one of the common constants:  (3.141), e (2.718),  (1.618), sqrt(2) (1.414), sqrt() (0.707), or  (infinity).",n.Msg.MATH_CONSTRAIN_HELPURL="https://en.wikipedia.org/wiki/Clamping_(graphics)",n.Msg.MATH_CONSTRAIN_TITLE="constrain %1 low %2 high %3",n.Msg.MATH_CONSTRAIN_TOOLTIP="Constrain a number to be between the specified limits (inclusive).",n.Msg.MATH_DIVISION_SYMBOL="",n.Msg.MATH_IS_DIVISIBLE_BY="is divisible by",n.Msg.MATH_IS_EVEN="is even",n.Msg.MATH_IS_NEGATIVE="is negative",n.Msg.MATH_IS_ODD="is odd",n.Msg.MATH_IS_POSITIVE="is positive",n.Msg.MATH_IS_PRIME="is prime",n.Msg.MATH_IS_TOOLTIP="Check if a number is an even, odd, prime, whole, positive, negative, or if it is divisible by certain number. Returns true or false.",n.Msg.MATH_IS_WHOLE="is whole",n.Msg.MATH_MODULO_HELPURL="https://en.wikipedia.org/wiki/Modulo_operation",n.Msg.MATH_MODULO_TITLE="remainder of %1  %2",n.Msg.MATH_MODULO_TOOLTIP="Return the remainder from dividing the two numbers.",n.Msg.MATH_MULTIPLICATION_SYMBOL="",n.Msg.MATH_NUMBER_HELPURL="https://en.wikipedia.org/wiki/Number",n.Msg.MATH_NUMBER_TOOLTIP="A number.",n.Msg.MATH_ONLIST_HELPURL="",n.Msg.MATH_ONLIST_OPERATOR_AVERAGE="average of list",n.Msg.MATH_ONLIST_OPERATOR_MAX="max of list",n.Msg.MATH_ONLIST_OPERATOR_MEDIAN="median of list",n.Msg.MATH_ONLIST_OPERATOR_MIN="min of list",n.Msg.MATH_ONLIST_OPERATOR_MODE="modes of list",n.Msg.MATH_ONLIST_OPERATOR_RANDOM="random item of list",n.Msg.MATH_ONLIST_OPERATOR_STD_DEV="standard deviation of list",n.Msg.MATH_ONLIST_OPERATOR_SUM="sum of list",n.Msg.MATH_ONLIST_TOOLTIP_AVERAGE="Return the average (arithmetic mean) of the numeric values in the list.",n.Msg.MATH_ONLIST_TOOLTIP_MAX="Return the largest number in the list.",n.Msg.MATH_ONLIST_TOOLTIP_MEDIAN="Return the median number in the list.",n.Msg.MATH_ONLIST_TOOLTIP_MIN="Return the smallest number in the list.",n.Msg.MATH_ONLIST_TOOLTIP_MODE="Return a list of the most common item(s) in the list.",n.Msg.MATH_ONLIST_TOOLTIP_RANDOM="Return a random element from the list.",n.Msg.MATH_ONLIST_TOOLTIP_STD_DEV="Return the standard deviation of the list.",n.Msg.MATH_ONLIST_TOOLTIP_SUM="Return the sum of all the numbers in the list.",n.Msg.MATH_POWER_SYMBOL="^",n.Msg.MATH_RANDOM_FLOAT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation",n.Msg.MATH_RANDOM_FLOAT_TITLE_RANDOM="random fraction",n.Msg.MATH_RANDOM_FLOAT_TOOLTIP="Return a random fraction between 0.0 (inclusive) and 1.0 (exclusive).",n.Msg.MATH_RANDOM_INT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation",n.Msg.MATH_RANDOM_INT_TITLE="random integer from %1 to %2",n.Msg.MATH_RANDOM_INT_TOOLTIP="Return a random integer between the two specified limits, inclusive.",n.Msg.MATH_ROUND_HELPURL="https://en.wikipedia.org/wiki/Rounding",n.Msg.MATH_ROUND_OPERATOR_ROUND="round",n.Msg.MATH_ROUND_OPERATOR_ROUNDDOWN="round down",n.Msg.MATH_ROUND_OPERATOR_ROUNDUP="round up",n.Msg.MATH_ROUND_TOOLTIP="Round a number up or down.",n.Msg.MATH_SINGLE_HELPURL="https://en.wikipedia.org/wiki/Square_root",n.Msg.MATH_SINGLE_OP_ABSOLUTE="absolute",n.Msg.MATH_SINGLE_OP_ROOT="square root",n.Msg.MATH_SINGLE_TOOLTIP_ABS="Return the absolute value of a number.",n.Msg.MATH_SINGLE_TOOLTIP_EXP="Return e to the power of a number.",n.Msg.MATH_SINGLE_TOOLTIP_LN="Return the natural logarithm of a number.",n.Msg.MATH_SINGLE_TOOLTIP_LOG10="Return the base 10 logarithm of a number.",n.Msg.MATH_SINGLE_TOOLTIP_NEG="Return the negation of a number.",n.Msg.MATH_SINGLE_TOOLTIP_POW10="Return 10 to the power of a number.",n.Msg.MATH_SINGLE_TOOLTIP_ROOT="Return the square root of a number.",n.Msg.MATH_SUBTRACTION_SYMBOL="-",n.Msg.MATH_TRIG_ACOS="acos",n.Msg.MATH_TRIG_ASIN="asin",n.Msg.MATH_TRIG_ATAN="atan",n.Msg.MATH_TRIG_COS="cos",n.Msg.MATH_TRIG_HELPURL="https://en.wikipedia.org/wiki/Trigonometric_functions",n.Msg.MATH_TRIG_SIN="sin",n.Msg.MATH_TRIG_TAN="tan",n.Msg.MATH_TRIG_TOOLTIP_ACOS="Return the arccosine of a number.",n.Msg.MATH_TRIG_TOOLTIP_ASIN="Return the arcsine of a number.",n.Msg.MATH_TRIG_TOOLTIP_ATAN="Return the arctangent of a number.",n.Msg.MATH_TRIG_TOOLTIP_COS="Return the cosine of a degree (not radian).",n.Msg.MATH_TRIG_TOOLTIP_SIN="Return the sine of a degree (not radian).",n.Msg.MATH_TRIG_TOOLTIP_TAN="Return the tangent of a degree (not radian).",n.Msg.MOVE_BLOCK="Move Block",n.Msg.NEW_COLOUR_VARIABLE="Create colour variable...",n.Msg.NEW_NUMBER_VARIABLE="Create number variable...",n.Msg.NEW_STRING_VARIABLE="Create string variable...",n.Msg.NEW_VARIABLE="Create variable...",n.Msg.NEW_VARIABLE_TITLE="New variable name:",n.Msg.NEW_VARIABLE_TYPE_TITLE="New variable type:",n.Msg.OPTION_KEY=" Option",n.Msg.ORDINAL_NUMBER_SUFFIX="",n.Msg.PASTE_SHORTCUT="Paste",n.Msg.PROCEDURES_ALLOW_STATEMENTS="allow statements",n.Msg.PROCEDURES_BEFORE_PARAMS="with:",n.Msg.PROCEDURES_CALLNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",n.Msg.PROCEDURES_CALLNORETURN_TOOLTIP="Run the user-defined function '%1'.",n.Msg.PROCEDURES_CALLRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",n.Msg.PROCEDURES_CALLRETURN_TOOLTIP="Run the user-defined function '%1' and use its output.",n.Msg.PROCEDURES_CALL_BEFORE_PARAMS="with:",n.Msg.PROCEDURES_CALL_DISABLED_DEF_WARNING="Can't run the user-defined function '%1' because the definition block is disabled.",n.Msg.PROCEDURES_CREATE_DO="Create '%1'",n.Msg.PROCEDURES_DEFNORETURN_COMMENT="Describe this function...",n.Msg.PROCEDURES_DEFNORETURN_DO="",n.Msg.PROCEDURES_DEFNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",n.Msg.PROCEDURES_DEFNORETURN_PROCEDURE="do something",n.Msg.PROCEDURES_DEFNORETURN_TITLE="to",n.Msg.PROCEDURES_DEFNORETURN_TOOLTIP="Creates a function with no output.",n.Msg.PROCEDURES_DEFRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",n.Msg.PROCEDURES_DEFRETURN_RETURN="return",n.Msg.PROCEDURES_DEFRETURN_TOOLTIP="Creates a function with an output.",n.Msg.PROCEDURES_DEF_DUPLICATE_WARNING="Warning: This function has duplicate parameters.",n.Msg.PROCEDURES_HIGHLIGHT_DEF="Highlight function definition",n.Msg.PROCEDURES_IFRETURN_HELPURL="https://c2.com/cgi/wiki?GuardClause",n.Msg.PROCEDURES_IFRETURN_TOOLTIP="If a value is true, then return a second value.",n.Msg.PROCEDURES_IFRETURN_WARNING="Warning: This block may be used only within a function definition.",n.Msg.PROCEDURES_MUTATORARG_TITLE="input name:",n.Msg.PROCEDURES_MUTATORARG_TOOLTIP="Add an input to the function.",n.Msg.PROCEDURES_MUTATORCONTAINER_TITLE="inputs",n.Msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP="Add, remove, or reorder inputs to this function.",n.Msg.REDO="Redo",n.Msg.REMOVE_COMMENT="Remove Comment",n.Msg.RENAME_VARIABLE="Rename variable...",n.Msg.RENAME_VARIABLE_TITLE="Rename all '%1' variables to:",n.Msg.SHORTCUTS_CODE_NAVIGATION="Code navigation",n.Msg.SHORTCUTS_EDITING="Editing",n.Msg.SHORTCUTS_GENERAL="General",n.Msg.TEXT_APPEND_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",n.Msg.TEXT_APPEND_TITLE="to %1 append text %2",n.Msg.TEXT_APPEND_TOOLTIP="Append some text to variable '%1'.",n.Msg.TEXT_CHANGECASE_HELPURL="https://github.com/google/blockly/wiki/Text#adjusting-text-case",n.Msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE="to lower case",n.Msg.TEXT_CHANGECASE_OPERATOR_TITLECASE="to Title Case",n.Msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE="to UPPER CASE",n.Msg.TEXT_CHANGECASE_TOOLTIP="Return a copy of the text in a different case.",n.Msg.TEXT_CHARAT_FIRST="get first letter",n.Msg.TEXT_CHARAT_FROM_END="get letter # from end",n.Msg.TEXT_CHARAT_FROM_START="get letter #",n.Msg.TEXT_CHARAT_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-text",n.Msg.TEXT_CHARAT_LAST="get last letter",n.Msg.TEXT_CHARAT_RANDOM="get random letter",n.Msg.TEXT_CHARAT_TAIL="",n.Msg.TEXT_CHARAT_TITLE="in text %1 %2",n.Msg.TEXT_CHARAT_TOOLTIP="Returns the letter at the specified position.",n.Msg.TEXT_COUNT_HELPURL="https://github.com/google/blockly/wiki/Text#counting-substrings",n.Msg.TEXT_COUNT_MESSAGE0="count %1 in %2",n.Msg.TEXT_COUNT_TOOLTIP="Count how many times some text occurs within some other text.",n.Msg.TEXT_CREATE_JOIN_ITEM_TOOLTIP="Add an item to the text.",n.Msg.TEXT_CREATE_JOIN_TITLE_JOIN="join",n.Msg.TEXT_CREATE_JOIN_TOOLTIP="Add, remove, or reorder sections to reconfigure this text block.",n.Msg.TEXT_GET_SUBSTRING_END_FROM_END="to letter # from end",n.Msg.TEXT_GET_SUBSTRING_END_FROM_START="to letter #",n.Msg.TEXT_GET_SUBSTRING_END_LAST="to last letter",n.Msg.TEXT_GET_SUBSTRING_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-a-region-of-text",n.Msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT="in text",n.Msg.TEXT_GET_SUBSTRING_START_FIRST="get substring from first letter",n.Msg.TEXT_GET_SUBSTRING_START_FROM_END="get substring from letter # from end",n.Msg.TEXT_GET_SUBSTRING_START_FROM_START="get substring from letter #",n.Msg.TEXT_GET_SUBSTRING_TAIL="",n.Msg.TEXT_GET_SUBSTRING_TOOLTIP="Returns a specified portion of the text.",n.Msg.TEXT_INDEXOF_HELPURL="https://github.com/google/blockly/wiki/Text#finding-text",n.Msg.TEXT_INDEXOF_OPERATOR_FIRST="find first occurrence of text",n.Msg.TEXT_INDEXOF_OPERATOR_LAST="find last occurrence of text",n.Msg.TEXT_INDEXOF_TITLE="in text %1 %2 %3",n.Msg.TEXT_INDEXOF_TOOLTIP="Returns the index of the first/last occurrence of the first text in the second text. Returns %1 if text is not found.",n.Msg.TEXT_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Text#checking-for-empty-text",n.Msg.TEXT_ISEMPTY_TITLE="%1 is empty",n.Msg.TEXT_ISEMPTY_TOOLTIP="Returns true if the provided text is empty.",n.Msg.TEXT_JOIN_HELPURL="https://github.com/google/blockly/wiki/Text#text-creation",n.Msg.TEXT_JOIN_TITLE_CREATEWITH="create text with",n.Msg.TEXT_JOIN_TOOLTIP="Create a piece of text by joining together any number of items.",n.Msg.TEXT_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",n.Msg.TEXT_LENGTH_TITLE="length of %1",n.Msg.TEXT_LENGTH_TOOLTIP="Returns the number of letters (including spaces) in the provided text.",n.Msg.TEXT_PRINT_HELPURL="https://github.com/google/blockly/wiki/Text#printing-text",n.Msg.TEXT_PRINT_TITLE="print %1",n.Msg.TEXT_PRINT_TOOLTIP="Print the specified text, number or other value.",n.Msg.TEXT_PROMPT_HELPURL="https://github.com/google/blockly/wiki/Text#getting-input-from-the-user",n.Msg.TEXT_PROMPT_TOOLTIP_NUMBER="Prompt for user for a number.",n.Msg.TEXT_PROMPT_TOOLTIP_TEXT="Prompt for user for some text.",n.Msg.TEXT_PROMPT_TYPE_NUMBER="prompt for number with message",n.Msg.TEXT_PROMPT_TYPE_TEXT="prompt for text with message",n.Msg.TEXT_REPLACE_HELPURL="https://github.com/google/blockly/wiki/Text#replacing-substrings",n.Msg.TEXT_REPLACE_MESSAGE0="replace %1 with %2 in %3",n.Msg.TEXT_REPLACE_TOOLTIP="Replace all occurances of some text within some other text.",n.Msg.TEXT_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Text#reversing-text",n.Msg.TEXT_REVERSE_MESSAGE0="reverse %1",n.Msg.TEXT_REVERSE_TOOLTIP="Reverses the order of the characters in the text.",n.Msg.TEXT_TEXT_HELPURL="https://en.wikipedia.org/wiki/String_(computer_science)",n.Msg.TEXT_TEXT_TOOLTIP="A letter, word, or line of text.",n.Msg.TEXT_TRIM_HELPURL="https://github.com/google/blockly/wiki/Text#trimming-removing-spaces",n.Msg.TEXT_TRIM_OPERATOR_BOTH="trim spaces from both sides of",n.Msg.TEXT_TRIM_OPERATOR_LEFT="trim spaces from left side of",n.Msg.TEXT_TRIM_OPERATOR_RIGHT="trim spaces from right side of",n.Msg.TEXT_TRIM_TOOLTIP="Return a copy of the text with spaces removed from one or both ends.",n.Msg.TODAY="Today",n.Msg.UNDO="Undo",n.Msg.UNKNOWN="Unknown",n.Msg.UNNAMED_KEY="unnamed",n.Msg.VARIABLES_DEFAULT_NAME="item",n.Msg.VARIABLES_GET_CREATE_SET="Create 'set %1'",n.Msg.VARIABLES_GET_HELPURL="https://github.com/google/blockly/wiki/Variables#get",n.Msg.VARIABLES_GET_TOOLTIP="Returns the value of this variable.",n.Msg.VARIABLES_SET="set %1 to %2",n.Msg.VARIABLES_SET_CREATE_GET="Create 'get %1'",n.Msg.VARIABLES_SET_HELPURL="https://github.com/google/blockly/wiki/Variables#set",n.Msg.VARIABLES_SET_TOOLTIP="Sets this variable to be equal to the input.",n.Msg.VARIABLE_ALREADY_EXISTS="A variable named '%1' already exists.",n.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE="A variable named '%1' already exists for another type: '%2'.",n.Msg.VARIABLE_ALREADY_EXISTS_FOR_A_PARAMETER="A variable named '%1' already exists as a parameter in the procedure '%2'.",n.Msg.WINDOWS="Windows",n.Msg.WORKSPACE_ARIA_LABEL="Blockly Workspace",n.Msg.WORKSPACE_COMMENT_DEFAULT_TEXT="Say something...",n.Msg.CONTROLS_FOREACH_INPUT_DO=n.Msg.CONTROLS_REPEAT_INPUT_DO,n.Msg.CONTROLS_FOR_INPUT_DO=n.Msg.CONTROLS_REPEAT_INPUT_DO,n.Msg.CONTROLS_IF_ELSEIF_TITLE_ELSEIF=n.Msg.CONTROLS_IF_MSG_ELSEIF,n.Msg.CONTROLS_IF_ELSE_TITLE_ELSE=n.Msg.CONTROLS_IF_MSG_ELSE,n.Msg.CONTROLS_IF_IF_TITLE_IF=n.Msg.CONTROLS_IF_MSG_IF,n.Msg.CONTROLS_IF_MSG_THEN=n.Msg.CONTROLS_REPEAT_INPUT_DO,n.Msg.CONTROLS_WHILEUNTIL_INPUT_DO=n.Msg.CONTROLS_REPEAT_INPUT_DO,n.Msg.LISTS_CREATE_WITH_ITEM_TITLE=n.Msg.VARIABLES_DEFAULT_NAME,n.Msg.LISTS_GET_INDEX_INPUT_IN_LIST=n.Msg.LISTS_INLIST,n.Msg.LISTS_GET_SUBLIST_INPUT_IN_LIST=n.Msg.LISTS_INLIST,n.Msg.LISTS_INDEX_OF_INPUT_IN_LIST=n.Msg.LISTS_INLIST,n.Msg.LISTS_SET_INDEX_INPUT_IN_LIST=n.Msg.LISTS_INLIST,n.Msg.MATH_CHANGE_TITLE_ITEM=n.Msg.VARIABLES_DEFAULT_NAME,n.Msg.PROCEDURES_DEFRETURN_COMMENT=n.Msg.PROCEDURES_DEFNORETURN_COMMENT,n.Msg.PROCEDURES_DEFRETURN_DO=n.Msg.PROCEDURES_DEFNORETURN_DO,n.Msg.PROCEDURES_DEFRETURN_PROCEDURE=n.Msg.PROCEDURES_DEFNORETURN_PROCEDURE,n.Msg.PROCEDURES_DEFRETURN_TITLE=n.Msg.PROCEDURES_DEFNORETURN_TITLE,n.Msg.TEXT_APPEND_VARIABLE=n.Msg.VARIABLES_DEFAULT_NAME,n.Msg.TEXT_CREATE_JOIN_ITEM_TITLE_ITEM=n.Msg.VARIABLES_DEFAULT_NAME,n.Msg.COLOUR_HUE="20",n.Msg.LISTS_HUE="260",n.Msg.LOGIC_HUE="210",n.Msg.LOOPS_HUE="120",n.Msg.MATH_HUE="230",n.Msg.PROCEDURES_HUE="290",n.Msg.TEXTS_HUE="160",n.Msg.VARIABLES_DYNAMIC_HUE="310",n.Msg.VARIABLES_HUE="330",n.Msg})}(tE)),tE.exports}var oE={exports:{}},Lk;function jD(){return Lk||(Lk=1,function(t,o){(function(n,s){t.exports=s(gS())})(nr,function(n){var s=n.__namespace__,l=s.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"variables_get_dynamic",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_dynamic_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableDynamicSetterGetter"]},{type:"variables_set_dynamic",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_dynamic_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableDynamicSetterGetter"]}]),c={customContextMenu:function(_){if(this.isInFlyout)(this.type==="variables_get_dynamic"||this.type==="variables_get_reporter_dynamic")&&(D={text:s.Msg$$module$build$src$core$msg.RENAME_VARIABLE,enabled:!0,callback:d(this)},B=this.getField("VAR").getText(),B={text:s.Msg$$module$build$src$core$msg.DELETE_VARIABLE.replace("%1",B),enabled:!0,callback:h(this)},_.unshift(D),_.unshift(B));else{if(this.type==="variables_get_dynamic")var O="variables_set_dynamic",D=s.Msg$$module$build$src$core$msg.VARIABLES_GET_CREATE_SET;else O="variables_get_dynamic",D=s.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET;var B=this.getField("VAR");O={type:O,fields:{VAR:B.saveState(!0)}},_.push({enabled:this.workspace.remainingCapacity()>0,text:D.replace("%1",B.getText()),callback:s.callbackFactory$$module$build$src$core$contextmenu(this,O)})}},onchange:function(_){_=this.getFieldValue("VAR"),_=s.getVariable$$module$build$src$core$variables(this.workspace,_),this.type==="variables_get_dynamic"?this.outputConnection.setCheck(_.getType()):this.getInput("VALUE").connection.setCheck(_.getType())}},d=function(_){return function(){const O=_.workspace,D=_.getField("VAR").getVariable();s.renameVariable$$module$build$src$core$variables(O,D)}},h=function(_){return function(){const O=_.getField("VAR").getVariable();O&&s.deleteVariable$$module$build$src$core$variables(O.getWorkspace(),O,_)}};s.registerMixin$$module$build$src$core$extensions("contextMenu_variableDynamicSetterGetter",c),s.defineBlocks$$module$build$src$core$common(l);var p={blocks:l},g=s.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"variables_get",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableSetterGetter"]},{type:"variables_set",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableSetterGetter"]}]),$={customContextMenu:function(_){if(this.isInFlyout)(this.type==="variables_get"||this.type==="variables_get_reporter")&&(D={text:s.Msg$$module$build$src$core$msg.RENAME_VARIABLE,enabled:!0,callback:b(this)},B=this.getField("VAR").getText(),B={text:s.Msg$$module$build$src$core$msg.DELETE_VARIABLE.replace("%1",B),enabled:!0,callback:T(this)},_.unshift(D),_.unshift(B));else{if(this.type==="variables_get")var O="variables_set",D=s.Msg$$module$build$src$core$msg.VARIABLES_GET_CREATE_SET;else O="variables_get",D=s.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET;var B=this.getField("VAR");O={type:O,fields:{VAR:B.saveState(!0)}},_.push({enabled:this.workspace.remainingCapacity()>0,text:D.replace("%1",B.getText()),callback:s.callbackFactory$$module$build$src$core$contextmenu(this,O)})}}},b=function(_){return function(){const O=_.workspace,D=_.getField("VAR").getVariable();s.renameVariable$$module$build$src$core$variables(O,D)}},T=function(_){return function(){const O=_.getField("VAR").getVariable();O&&s.deleteVariable$$module$build$src$core$variables(O.getWorkspace(),O,_)}};s.registerMixin$$module$build$src$core$extensions("contextMenu_variableSetterGetter",$),s.defineBlocks$$module$build$src$core$common(g);var v={blocks:g},I=s.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"text",message0:"%1",args0:[{type:"field_input",name:"TEXT",text:""}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_TEXT_HELPURL}",tooltip:"%{BKY_TEXT_TEXT_TOOLTIP}",extensions:["text_quotes","parent_tooltip_when_inline"]},{type:"text_join",message0:"",output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_JOIN_HELPURL}",tooltip:"%{BKY_TEXT_JOIN_TOOLTIP}",mutator:"text_join_mutator"},{type:"text_create_join_container",message0:"%{BKY_TEXT_CREATE_JOIN_TITLE_JOIN} %1 %2",args0:[{type:"input_dummy"},{type:"input_statement",name:"STACK"}],style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_TOOLTIP}",enableContextMenu:!1},{type:"text_create_join_item",message0:"%{BKY_TEXT_CREATE_JOIN_ITEM_TITLE_ITEM}",previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_ITEM_TOOLTIP}",enableContextMenu:!1},{type:"text_append",message0:"%{BKY_TEXT_APPEND_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_TEXT_APPEND_VARIABLE}"},{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",extensions:["text_append_tooltip"]},{type:"text_length",message0:"%{BKY_TEXT_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"text_blocks",tooltip:"%{BKY_TEXT_LENGTH_TOOLTIP}",helpUrl:"%{BKY_TEXT_LENGTH_HELPURL}"},{type:"text_isEmpty",message0:"%{BKY_TEXT_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"text_blocks",tooltip:"%{BKY_TEXT_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_TEXT_ISEMPTY_HELPURL}"},{type:"text_indexOf",message0:"%{BKY_TEXT_INDEXOF_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"END",options:[["%{BKY_TEXT_INDEXOF_OPERATOR_FIRST}","FIRST"],["%{BKY_TEXT_INDEXOF_OPERATOR_LAST}","LAST"]]},{type:"input_value",name:"FIND",check:"String"}],output:"Number",style:"text_blocks",helpUrl:"%{BKY_TEXT_INDEXOF_HELPURL}",inputsInline:!0,extensions:["text_indexOf_tooltip"]},{type:"text_charAt",message0:"%{BKY_TEXT_CHARAT_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"WHERE",options:[["%{BKY_TEXT_CHARAT_FROM_START}","FROM_START"],["%{BKY_TEXT_CHARAT_FROM_END}","FROM_END"],["%{BKY_TEXT_CHARAT_FIRST}","FIRST"],["%{BKY_TEXT_CHARAT_LAST}","LAST"],["%{BKY_TEXT_CHARAT_RANDOM}","RANDOM"]]}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_CHARAT_HELPURL}",inputsInline:!0,mutator:"text_charAt_mutator"}]),k={init:function(){this.WHERE_OPTIONS_1=[[s.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_START_FROM_START,"FROM_START"],[s.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_START_FROM_END,"FROM_END"],[s.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[s.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_END_FROM_START,"FROM_START"],[s.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_END_FROM_END,"FROM_END"],[s.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_END_LAST,"LAST"]],this.setHelpUrl(s.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("STRING").setCheck("String").appendField(s.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT);const _=O=>{const D=s.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this["WHERE_OPTIONS_"+O]});return D.setValidator(function(B){const de=this.getValue();B=B==="FROM_START"||B==="FROM_END",B!==(de==="FROM_START"||de==="FROM_END")&&this.getSourceBlock().updateAt_(O,B)}),D};this.appendDummyInput("WHERE1_INPUT").appendField(_(1),"WHERE1"),this.appendDummyInput("AT1"),this.appendDummyInput("WHERE2_INPUT").appendField(_(2),"WHERE2"),this.appendDummyInput("AT2"),s.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL&&this.appendDummyInput("TAIL").appendField(s.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL),this.setInputsInline(!0),this.setOutput(!0,"String"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(s.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TOOLTIP)},mutationToDom:function(){const _=s.createElement$$module$build$src$core$utils$xml("mutation");var O=this.getInput("AT1")instanceof s.ValueInput$$module$build$src$core$inputs$value_input;return _.setAttribute("at1","".concat(O)),O=this.getInput("AT2")instanceof s.ValueInput$$module$build$src$core$inputs$value_input,_.setAttribute("at2","".concat(O)),_},domToMutation:function(_){const O=_.getAttribute("at1")==="true";_=_.getAttribute("at2")==="true",this.updateAt_(1,O),this.updateAt_(2,_)},updateAt_:function(_,O){this.removeInput("AT"+_),this.removeInput("ORDINAL"+_,!0),O?(this.appendValueInput("AT"+_).setCheck("Number"),s.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+_).appendField(s.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+_),_===2&&s.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(s.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL)),_===1&&(this.moveInputBefore("AT1","WHERE2_INPUT"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","WHERE2_INPUT"))}};I.text_getSubstring=k,I.text_changeCase={init:function(){const _=[[s.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE,"UPPERCASE"],[s.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE,"LOWERCASE"],[s.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_OPERATOR_TITLECASE,"TITLECASE"]];this.setHelpUrl(s.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(s.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:_}),"CASE"),this.setOutput(!0,"String"),this.setTooltip(s.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_TOOLTIP)}},I.text_trim={init:function(){const _=[[s.Msg$$module$build$src$core$msg.TEXT_TRIM_OPERATOR_BOTH,"BOTH"],[s.Msg$$module$build$src$core$msg.TEXT_TRIM_OPERATOR_LEFT,"LEFT"],[s.Msg$$module$build$src$core$msg.TEXT_TRIM_OPERATOR_RIGHT,"RIGHT"]];this.setHelpUrl(s.Msg$$module$build$src$core$msg.TEXT_TRIM_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(s.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:_}),"MODE"),this.setOutput(!0,"String"),this.setTooltip(s.Msg$$module$build$src$core$msg.TEXT_TRIM_TOOLTIP)}},I.text_print={init:function(){this.jsonInit({message0:s.Msg$$module$build$src$core$msg.TEXT_PRINT_TITLE,args0:[{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:s.Msg$$module$build$src$core$msg.TEXT_PRINT_TOOLTIP,helpUrl:s.Msg$$module$build$src$core$msg.TEXT_PRINT_HELPURL})}};var G={updateType_:function(_){this.outputConnection.setCheck(_==="NUMBER"?"Number":"String")},mutationToDom:function(){const _=s.createElement$$module$build$src$core$utils$xml("mutation");return _.setAttribute("type",this.getFieldValue("TYPE")),_},domToMutation:function(_){this.updateType_(_.getAttribute("type"))}};I.text_prompt_ext=Object.assign({},G,{init:function(){var _=[[s.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[s.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]];this.setHelpUrl(s.Msg$$module$build$src$core$msg.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks"),_=s.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:_}),_.setValidator(O=>{this.updateType_(O)}),this.appendValueInput("TEXT").appendField(_,"TYPE"),this.setOutput(!0,"String"),this.setTooltip(()=>this.getFieldValue("TYPE")==="TEXT"?s.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_TEXT:s.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_NUMBER)}}),I.text_prompt=Object.assign({},G,{init:function(){this.mixin(R);var _=[[s.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[s.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]];this.setHelpUrl(s.Msg$$module$build$src$core$msg.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks"),_=s.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:_}),_.setValidator(O=>{this.updateType_(O)}),this.appendDummyInput().appendField(_,"TYPE").appendField(this.newQuote_(!0)).appendField(s.fromJson$$module$build$src$core$field_registry({type:"field_input",text:""}),"TEXT").appendField(this.newQuote_(!1)),this.setOutput(!0,"String"),this.setTooltip(()=>this.getFieldValue("TYPE")==="TEXT"?s.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_TEXT:s.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_NUMBER)}}),I.text_count={init:function(){this.jsonInit({message0:s.Msg$$module$build$src$core$msg.TEXT_COUNT_MESSAGE0,args0:[{type:"input_value",name:"SUB",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"Number",inputsInline:!0,style:"text_blocks",tooltip:s.Msg$$module$build$src$core$msg.TEXT_COUNT_TOOLTIP,helpUrl:s.Msg$$module$build$src$core$msg.TEXT_COUNT_HELPURL})}},I.text_replace={init:function(){this.jsonInit({message0:s.Msg$$module$build$src$core$msg.TEXT_REPLACE_MESSAGE0,args0:[{type:"input_value",name:"FROM",check:"String"},{type:"input_value",name:"TO",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:s.Msg$$module$build$src$core$msg.TEXT_REPLACE_TOOLTIP,helpUrl:s.Msg$$module$build$src$core$msg.TEXT_REPLACE_HELPURL})}},I.text_reverse={init:function(){this.jsonInit({message0:s.Msg$$module$build$src$core$msg.TEXT_REVERSE_MESSAGE0,args0:[{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:s.Msg$$module$build$src$core$msg.TEXT_REVERSE_TOOLTIP,helpUrl:s.Msg$$module$build$src$core$msg.TEXT_REVERSE_HELPURL})}};var R={QUOTE_IMAGE_LEFT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAn0lEQVQI1z3OMa5BURSF4f/cQhAKjUQhuQmFNwGJEUi0RKN5rU7FHKhpjEH3TEMtkdBSCY1EIv8r7nFX9e29V7EBAOvu7RPjwmWGH/VuF8CyN9/OAdvqIXYLvtRaNjx9mMTDyo+NjAN1HNcl9ZQ5oQMM3dgDUqDo1l8DzvwmtZN7mnD+PkmLa+4mhrxVA9fRowBWmVBhFy5gYEjKMfz9AylsaRRgGzvZAAAAAElFTkSuQmCC",QUOTE_IMAGE_RIGHT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAqUlEQVQI1z3KvUpCcRiA8ef9E4JNHhI0aFEacm1o0BsI0Slx8wa8gLauoDnoBhq7DcfWhggONDmJJgqCPA7neJ7p934EOOKOnM8Q7PDElo/4x4lFb2DmuUjcUzS3URnGib9qaPNbuXvBO3sGPHJDRG6fGVdMSeWDP2q99FQdFrz26Gu5Tq7dFMzUvbXy8KXeAj57cOklgA+u1B5AoslLtGIHQMaCVnwDnADZIFIrXsoXrgAAAABJRU5ErkJggg==",QUOTE_IMAGE_WIDTH:12,QUOTE_IMAGE_HEIGHT:12,quoteField_:function(_){for(let O=0,D;D=this.inputList[O];O++)for(let B=0,de;de=D.fieldRow[B];B++)if(_===de.name){D.insertFieldAt(B,this.newQuote_(!0)),D.insertFieldAt(B+2,this.newQuote_(!1));return}console.warn('field named "'+_+'" not found in '+this.toDevString())},newQuote_:function(_){return _=this.RTL?!_:_,s.fromJson$$module$build$src$core$field_registry({type:"field_image",src:_?this.QUOTE_IMAGE_LEFT_DATAURI:this.QUOTE_IMAGE_RIGHT_DATAURI,width:this.QUOTE_IMAGE_WIDTH,height:this.QUOTE_IMAGE_HEIGHT,alt:_?"":""})}},S=function(){this.mixin(R),this.quoteField_("TEXT")},w={itemCount_:0,mutationToDom:function(){const _=s.createElement$$module$build$src$core$utils$xml("mutation");return _.setAttribute("items","".concat(this.itemCount_)),_},domToMutation:function(_){this.itemCount_=parseInt(_.getAttribute("items"),10),this.updateShape_()},saveExtraState:function(){return{itemCount:this.itemCount_}},loadExtraState:function(_){this.itemCount_=_.itemCount,this.updateShape_()},decompose:function(_){const O=_.newBlock("text_create_join_container");O.initSvg();let D=O.getInput("STACK").connection;for(let B=0;B<this.itemCount_;B++){const de=_.newBlock("text_create_join_item");de.initSvg(),D.connect(de.previousConnection),D=de.nextConnection}return O},compose:function(_){var O=_.getInputTargetBlock("STACK");for(_=[];O;)O.isInsertionMarker()||_.push(O.valueConnection_),O=O.getNextBlock();for(O=0;O<this.itemCount_;O++){const D=this.getInput("ADD"+O).connection.targetConnection;D&&!_.includes(D)&&D.disconnect()}for(this.itemCount_=_.length,this.updateShape_(),O=0;O<this.itemCount_;O++){let D;(D=_[O])==null||D.reconnect(this,"ADD"+O)}},saveConnections:function(_){_=_.getInputTargetBlock("STACK");let O=0;for(;_;){if(_.isInsertionMarker()){_=_.getNextBlock();continue}const D=this.getInput("ADD"+O);_.valueConnection_=D&&D.connection.targetConnection,_=_.getNextBlock(),O++}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(this.newQuote_(!0)).appendField(this.newQuote_(!1));for(var _=0;_<this.itemCount_;_++)if(!this.getInput("ADD"+_)){const O=this.appendValueInput("ADD"+_).setAlign(s.Align$$module$build$src$core$inputs$align.RIGHT);_===0&&O.appendField(s.Msg$$module$build$src$core$msg.TEXT_JOIN_TITLE_CREATEWITH)}for(_=this.itemCount_;this.getInput("ADD"+_);_++)this.removeInput("ADD"+_)}},L=function(){this.mixin(R),this.itemCount_=2,this.updateShape_(),this.setMutator(new s.MutatorIcon$$module$build$src$core$icons$mutator_icon(["text_create_join_item"],this))};s.register$$module$build$src$core$extensions("text_append_tooltip",s.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_TEXT_APPEND_TOOLTIP}","VAR"));var H=function(){this.setTooltip(()=>s.Msg$$module$build$src$core$msg.TEXT_INDEXOF_TOOLTIP.replace("%1",this.workspace.options.oneBasedIndex?"0":"-1"))},Y={isAt_:!1,mutationToDom:function(){const _=s.createElement$$module$build$src$core$utils$xml("mutation");return _.setAttribute("at","".concat(this.isAt_)),_},domToMutation:function(_){_=_.getAttribute("at")!=="false",this.updateAt_(_)},updateAt_:function(_){this.removeInput("AT",!0),this.removeInput("ORDINAL",!0),_&&(this.appendValueInput("AT").setCheck("Number"),s.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(s.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)),s.Msg$$module$build$src$core$msg.TEXT_CHARAT_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(s.Msg$$module$build$src$core$msg.TEXT_CHARAT_TAIL)),this.isAt_=_}},K=function(){this.getField("WHERE").setValidator(function(_){_=_==="FROM_START"||_==="FROM_END";const O=this.getSourceBlock();_!==O.isAt_&&O.updateAt_(_)}),this.updateAt_(!0),this.setTooltip(()=>{var _=this.getFieldValue("WHERE");let O=s.Msg$$module$build$src$core$msg.TEXT_CHARAT_TOOLTIP;return(_==="FROM_START"||_==="FROM_END")&&(_=_==="FROM_START"?s.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_START_TOOLTIP:s.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_END_TOOLTIP)&&(O+="  "+_.replace("%1",this.workspace.options.oneBasedIndex?"#1":"#0")),O})};s.register$$module$build$src$core$extensions("text_indexOf_tooltip",H),s.register$$module$build$src$core$extensions("text_quotes",S),s.registerMixin$$module$build$src$core$extensions("quote_image_mixin",R),s.registerMutator$$module$build$src$core$extensions("text_join_mutator",w,L),s.registerMutator$$module$build$src$core$extensions("text_charAt_mutator",Y,K),s.defineBlocks$$module$build$src$core$common(I);var j={blocks:I},P={},J={setStatements_:function(_){this.hasStatements_!==_&&(_?(this.appendStatementInput("STACK").appendField(s.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_DO),this.getInput("RETURN")&&this.moveInputBefore("STACK","RETURN")):this.removeInput("STACK",!0),this.hasStatements_=_)},updateParams_:function(){let _="";this.arguments_.length&&(_=s.Msg$$module$build$src$core$msg.PROCEDURES_BEFORE_PARAMS+" "+this.arguments_.join(", ")),s.disable$$module$build$src$core$events$utils();try{this.setFieldValue(_,"PARAMS")}finally{s.enable$$module$build$src$core$events$utils()}},mutationToDom:function(_){const O=s.createElement$$module$build$src$core$utils$xml("mutation");_&&O.setAttribute("name",this.getFieldValue("NAME"));for(let D=0;D<this.argumentVarModels_.length;D++){const B=s.createElement$$module$build$src$core$utils$xml("arg"),de=this.argumentVarModels_[D];B.setAttribute("name",de.getName()),B.setAttribute("varid",de.getId()),_&&this.paramIds_&&B.setAttribute("paramId",this.paramIds_[D]),O.appendChild(B)}return this.hasStatements_||O.setAttribute("statements","false"),O},domToMutation:function(_){this.arguments_=[],this.argumentVarModels_=[];for(let D=0,B;B=_.childNodes[D];D++)if(B.nodeName.toLowerCase()==="arg"){var O=B;const de=O.getAttribute("name");O=O.getAttribute("varid")||O.getAttribute("varId"),this.arguments_.push(de),O=s.getOrCreateVariablePackage$$module$build$src$core$variables(this.workspace,O,de,""),O!==null?this.argumentVarModels_.push(O):console.log('Failed to create a variable named "'.concat(de,'", ignoring.'))}this.updateParams_(),s.mutateCallers$$module$build$src$core$procedures(this),this.setStatements_(_.getAttribute("statements")!=="false")},saveExtraState:function(){if(!this.argumentVarModels_.length&&this.hasStatements_)return null;const _=Object.create(null);if(this.argumentVarModels_.length){_.params=[];for(let O=0;O<this.argumentVarModels_.length;O++)_.params.push({name:this.argumentVarModels_[O].getName(),id:this.argumentVarModels_[O].getId()})}return this.hasStatements_||(_.hasStatements=!1),_},loadExtraState:function(_){if(this.arguments_=[],this.argumentVarModels_=[],_.params)for(let D=0;D<_.params.length;D++){var O=_.params[D];O=s.getOrCreateVariablePackage$$module$build$src$core$variables(this.workspace,O.id,O.name,""),this.arguments_.push(O.getName()),this.argumentVarModels_.push(O)}this.updateParams_(),s.mutateCallers$$module$build$src$core$procedures(this),this.setStatements_(_.hasStatements!==!1)},decompose:function(_){const O=s.createElement$$module$build$src$core$utils$xml("block");O.setAttribute("type","procedures_mutatorcontainer");var D=s.createElement$$module$build$src$core$utils$xml("statement");D.setAttribute("name","STACK"),O.appendChild(D);for(let de=0;de<this.arguments_.length;de++){const Ze=s.createElement$$module$build$src$core$utils$xml("block");Ze.setAttribute("type","procedures_mutatorarg");var B=s.createElement$$module$build$src$core$utils$xml("field");B.setAttribute("name","NAME");const jo=s.createTextNode$$module$build$src$core$utils$xml(this.arguments_[de]);B.appendChild(jo),Ze.appendChild(B),B=s.createElement$$module$build$src$core$utils$xml("next"),Ze.appendChild(B),D.appendChild(Ze),D=B}return _=s.domToBlock$$module$build$src$core$xml(O,_),this.type==="procedures_defreturn"?_.setFieldValue(this.hasStatements_,"STATEMENTS"):_.removeInput("STATEMENT_INPUT"),s.mutateCallers$$module$build$src$core$procedures(this),_},compose:function(_){this.arguments_=[],this.paramIds_=[],this.argumentVarModels_=[];let O=_.getInputTargetBlock("STACK");for(;O&&!O.isInsertionMarker();){var D=O.getFieldValue("NAME");this.arguments_.push(D),D=this.workspace.getVariable(D,""),this.argumentVarModels_.push(D),this.paramIds_.push(O.id),O=O.nextConnection&&O.nextConnection.targetBlock()}if(this.updateParams_(),s.mutateCallers$$module$build$src$core$procedures(this),_=_.getFieldValue("STATEMENTS"),_!==null&&(_=_==="TRUE",this.hasStatements_!==_))if(_){this.setStatements_(!0);var B;(B=this.statementConnection_)==null||B.reconnect(this,"STACK"),this.statementConnection_=null}else B=this.getInput("STACK").connection,(this.statementConnection_=B.targetConnection)&&(B=B.targetBlock(),B.unplug(),B.bumpNeighbours()),this.setStatements_(!1)},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},renameVarById:function(_,O){var D=this.workspace.getVariableById(_);if(D.getType()===""){D=D.getName(),O=this.workspace.getVariableById(O);var B=!1;for(let de=0;de<this.argumentVarModels_.length;de++)this.argumentVarModels_[de].getId()===_&&(this.arguments_[de]=O.getName(),this.argumentVarModels_[de]=O,B=!0);B&&(this.displayRenamedVar_(D,O.getName()),s.mutateCallers$$module$build$src$core$procedures(this))}},updateVarName:function(_){const O=_.getName();let D=!1,B;for(let de=0;de<this.argumentVarModels_.length;de++)this.argumentVarModels_[de].getId()===_.getId()&&(B=this.arguments_[de],this.arguments_[de]=O,D=!0);D&&(this.displayRenamedVar_(B,O),s.mutateCallers$$module$build$src$core$procedures(this))},displayRenamedVar_:function(_,O){this.updateParams_();var D=this.getIcon(s.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE);if(D&&D.bubbleIsVisible()){D=D.getWorkspace().getAllBlocks(!1);for(let B=0,de;de=D[B];B++)de.type==="procedures_mutatorarg"&&s.Names$$module$build$src$core$names.equals(_,de.getFieldValue("NAME"))&&de.setFieldValue(O,"NAME")}},customContextMenu:function(_){if(!this.isInFlyout){var O=this.getFieldValue("NAME"),D={type:this.callType_,extraState:{name:O,params:this.arguments_}};if(_.push({enabled:!0,text:s.Msg$$module$build$src$core$msg.PROCEDURES_CREATE_DO.replace("%1",O),callback:s.callbackFactory$$module$build$src$core$contextmenu(this,D)}),!this.isCollapsed())for(O=0;O<this.argumentVarModels_.length;O++){D=this.argumentVarModels_[O];const B={type:"variables_get",fields:{VAR:{name:D.getName(),id:D.getId(),type:D.getType()}}};_.push({enabled:!0,text:s.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET.replace("%1",D.getName()),callback:s.callbackFactory$$module$build$src$core$contextmenu(this,B)})}}}};P.procedures_defnoreturn=Object.assign({},J,{init:function(){var _=s.findLegalName$$module$build$src$core$procedures("",this);_=s.fromJson$$module$build$src$core$field_registry({type:"field_input",text:_}),_.setValidator(s.rename$$module$build$src$core$procedures),_.setSpellcheck(!1),this.appendDummyInput().appendField(s.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_TITLE).appendField(_,"NAME").appendField("","PARAMS"),this.setMutator(new s.MutatorIcon$$module$build$src$core$icons$mutator_icon(["procedures_mutatorarg"],this)),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&s.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_COMMENT&&this.setCommentText(s.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip(s.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_TOOLTIP),this.setHelpUrl(s.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!1]},callType_:"procedures_callnoreturn"}),P.procedures_defreturn=Object.assign({},J,{init:function(){var _=s.findLegalName$$module$build$src$core$procedures("",this);_=s.fromJson$$module$build$src$core$field_registry({type:"field_input",text:_}),_.setValidator(s.rename$$module$build$src$core$procedures),_.setSpellcheck(!1),this.appendDummyInput().appendField(s.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_TITLE).appendField(_,"NAME").appendField("","PARAMS"),this.appendValueInput("RETURN").setAlign(s.Align$$module$build$src$core$inputs$align.RIGHT).appendField(s.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.setMutator(new s.MutatorIcon$$module$build$src$core$icons$mutator_icon(["procedures_mutatorarg"],this)),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&s.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_COMMENT&&this.setCommentText(s.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip(s.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_TOOLTIP),this.setHelpUrl(s.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!0]},callType_:"procedures_callreturn"});var ie={init:function(){this.appendDummyInput().appendField(s.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORCONTAINER_TITLE),this.appendStatementInput("STACK"),this.appendDummyInput("STATEMENT_INPUT").appendField(s.Msg$$module$build$src$core$msg.PROCEDURES_ALLOW_STATEMENTS).appendField(s.fromJson$$module$build$src$core$field_registry({type:"field_checkbox",checked:!0}),"STATEMENTS"),this.setStyle("procedure_blocks"),this.setTooltip(s.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP),this.contextMenu=!1}};P.procedures_mutatorcontainer=ie;var ce=class extends s.FieldTextInput$$module$build$src$core$field_textinput{constructor(){super(...arguments),this.editingInteractively=!1}showEditor_(_){super.showEditor_(_),this.editingInteractively=!0,this.editingVariable=void 0}onFinishEditing_(_){super.onFinishEditing_(_),this.editingInteractively=!1}},me={init:function(){const _=new ce(s.DEFAULT_ARG$$module$build$src$core$procedures,this.validator_);this.appendDummyInput().appendField(s.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORARG_TITLE).appendField(_,"NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip(s.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORARG_TOOLTIP),this.contextMenu=!1},validator_:function(_){var O=this.getSourceBlock();const D=O.workspace.getRootWorkspace();if(_=_.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,""),!_)return null;const B=(O.workspace.targetWorkspace||O.workspace).getAllBlocks(!1),de=_.toLowerCase();for(let Ze=0;Ze<B.length;Ze++){if(B[Ze].id===this.getSourceBlock().id)continue;const jo=B[Ze].getFieldValue("NAME");if(jo&&jo.toLowerCase()===de)return null}return O.isInFlyout||((O=D.getVariable(_,""))&&O.getName()!==_&&D.renameVariableById(O.getId(),_),O||(this.editingInteractively?this.editingVariable?D.renameVariableById(this.editingVariable.getId(),_):this.editingVariable=D.createVariable(_,""):D.createVariable(_,""))),_}};P.procedures_mutatorarg=me;var ve="DISABLED_PROCEDURE_DEFINITION",Te={getProcedureCall:function(){return this.getFieldValue("NAME")},renameProcedure:function(_,O){s.Names$$module$build$src$core$names.equals(_,this.getProcedureCall())&&(this.setFieldValue(O,"NAME"),this.setTooltip((this.outputConnection?s.Msg$$module$build$src$core$msg.PROCEDURES_CALLRETURN_TOOLTIP:s.Msg$$module$build$src$core$msg.PROCEDURES_CALLNORETURN_TOOLTIP).replace("%1",O)))},setProcedureParameters_:function(_,O){var D=s.getDefinition$$module$build$src$core$procedures(this.getProcedureCall(),this.workspace);if((D=(D=D&&D.getIcon(s.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE))&&D.bubbleIsVisible())?this.setCollapsed(!1):(this.quarkConnections_={},this.quarkIds_=null),_.join("\n")===this.arguments_.join("\n"))this.quarkIds_=O;else{if(O.length!==_.length)throw RangeError("paramNames and paramIds must be the same length.");this.quarkIds_||(this.quarkConnections_={},this.quarkIds_=[]);for(let de=0;de<this.arguments_.length;de++){var B=this.getInput("ARG"+de);B&&(B=B.connection.targetConnection,this.quarkConnections_[this.quarkIds_[de]]=B,D&&B&&!O.includes(this.quarkIds_[de])&&(B.disconnect(),B.getSourceBlock().bumpNeighbours()))}for(this.arguments_=[].concat(_),this.argumentVarModels_=[],_=0;_<this.arguments_.length;_++)D=s.getOrCreateVariablePackage$$module$build$src$core$variables(this.workspace,null,this.arguments_[_],""),this.argumentVarModels_.push(D);if(this.updateShape_(),this.quarkIds_=O){for(O=0;O<this.arguments_.length;O++)if(_=this.quarkIds_[O],_ in this.quarkConnections_){let de;(de=this.quarkConnections_[_])!=null&&de.reconnect(this,"ARG"+O)||delete this.quarkConnections_[_]}}}},updateShape_:function(){for(var _=0;_<this.arguments_.length;_++){var O=this.getField("ARGNAME"+_);if(O){s.disable$$module$build$src$core$events$utils();try{O.setValue(this.arguments_[_])}finally{s.enable$$module$build$src$core$events$utils()}}else O=s.fromJson$$module$build$src$core$field_registry({type:"field_label",text:this.arguments_[_]}),this.appendValueInput("ARG"+_).setAlign(s.Align$$module$build$src$core$inputs$align.RIGHT).appendField(O,"ARGNAME"+_)}for(_=this.arguments_.length;this.getInput("ARG"+_);_++)this.removeInput("ARG"+_);(_=this.getInput("TOPROW"))&&(this.arguments_.length?this.getField("WITH")||_.appendField(s.Msg$$module$build$src$core$msg.PROCEDURES_CALL_BEFORE_PARAMS,"WITH"):this.getField("WITH")&&_.removeField("WITH"))},mutationToDom:function(){const _=s.createElement$$module$build$src$core$utils$xml("mutation");_.setAttribute("name",this.getProcedureCall());for(let O=0;O<this.arguments_.length;O++){const D=s.createElement$$module$build$src$core$utils$xml("arg");D.setAttribute("name",this.arguments_[O]),_.appendChild(D)}return _},domToMutation:function(_){var O=_.getAttribute("name");this.renameProcedure(this.getProcedureCall(),O),O=[];const D=[];for(let B=0,de;de=_.childNodes[B];B++)de.nodeName.toLowerCase()==="arg"&&(O.push(de.getAttribute("name")),D.push(de.getAttribute("paramId")));this.setProcedureParameters_(O,D)},saveExtraState:function(){const _=Object.create(null);return _.name=this.getProcedureCall(),this.arguments_.length&&(_.params=this.arguments_),_},loadExtraState:function(_){if(this.renameProcedure(this.getProcedureCall(),_.name),_=_.params){const O=[];O.length=_.length,O.fill(null),this.setProcedureParameters_(_,O)}},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},onchange:function(_){if(this.workspace&&!this.workspace.isFlyout&&_.recordUndo)if(_.type===s.BLOCK_CREATE$$module$build$src$core$events$events&&_.ids.includes(this.id)){var O=this.getProcedureCall(),D=s.getDefinition$$module$build$src$core$procedures(O,this.workspace);if(!D||D.type===this.defType_&&JSON.stringify(D.getVars())===JSON.stringify(this.arguments_)||(D=null),D)D.isEnabled()||(this.setDisabledReason(!0,ve),this.setWarningText(s.Msg$$module$build$src$core$msg.PROCEDURES_CALL_DISABLED_DEF_WARNING.replace("%1",O)));else{s.setGroup$$module$build$src$core$events$utils(_.group),_=s.createElement$$module$build$src$core$utils$xml("xml"),O=s.createElement$$module$build$src$core$utils$xml("block"),O.setAttribute("type",this.defType_),D=this.getRelativeToSurfaceXY();var B=D.y+s.config$$module$build$src$core$config.snapRadius*2;O.setAttribute("x","".concat(D.x+s.config$$module$build$src$core$config.snapRadius*(this.RTL?-1:1))),O.setAttribute("y","".concat(B)),D=this.mutationToDom(),O.appendChild(D),D=s.createElement$$module$build$src$core$utils$xml("field"),D.setAttribute("name","NAME"),B=this.getProcedureCall();const de=s.findLegalName$$module$build$src$core$procedures(B,this);B!==de&&this.renameProcedure(B,de),D.appendChild(s.createTextNode$$module$build$src$core$utils$xml(B)),O.appendChild(D),_.appendChild(O),s.domToWorkspace$$module$build$src$core$xml(_,this.workspace),s.setGroup$$module$build$src$core$events$utils(!1)}}else _.type===s.BLOCK_DELETE$$module$build$src$core$events$events?(O=this.getProcedureCall(),s.getDefinition$$module$build$src$core$procedures(O,this.workspace)||(s.setGroup$$module$build$src$core$events$utils(_.group),this.dispose(!0),s.setGroup$$module$build$src$core$events$utils(!1))):_.type===s.BLOCK_CHANGE$$module$build$src$core$events$events&&_.element==="disabled"&&(O=this.getProcedureCall(),(B=s.getDefinition$$module$build$src$core$procedures(O,this.workspace))&&B.id===_.blockId&&((D=s.getGroup$$module$build$src$core$events$utils())&&console.log("Saw an existing group while responding to a definition change"),s.setGroup$$module$build$src$core$events$utils(_.group),_=B.isEnabled(),this.setDisabledReason(!_,ve),this.setWarningText(_?null:s.Msg$$module$build$src$core$msg.PROCEDURES_CALL_DISABLED_DEF_WARNING.replace("%1",O)),s.setGroup$$module$build$src$core$events$utils(D)))},customContextMenu:function(_){if(this.workspace.isMovable()){var O=this.getProcedureCall(),D=this.workspace;_.push({enabled:!0,text:s.Msg$$module$build$src$core$msg.PROCEDURES_HIGHLIGHT_DEF,callback:function(){const B=s.getDefinition$$module$build$src$core$procedures(O,D);B&&(D.centerOnBlock(B.id),s.getFocusManager$$module$build$src$core$focus_manager().focusNode(B))}})}}};P.procedures_callnoreturn=Object.assign({},Te,{init:function(){this.appendDummyInput("TOPROW").appendField("","NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setHelpUrl(s.Msg$$module$build$src$core$msg.PROCEDURES_CALLNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.quarkConnections_={},this.quarkIds_=null},defType_:"procedures_defnoreturn"}),P.procedures_callreturn=Object.assign({},Te,{init:function(){this.appendDummyInput("TOPROW").appendField("","NAME"),this.setOutput(!0),this.setStyle("procedure_blocks"),this.setHelpUrl(s.Msg$$module$build$src$core$msg.PROCEDURES_CALLRETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.quarkConnections_={},this.quarkIds_=null},defType_:"procedures_defreturn"});var ee="UNPARENTED_IFRETURN",he={init:function(){this.appendValueInput("CONDITION").setCheck("Boolean").appendField(s.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_IF),this.appendValueInput("VALUE").appendField(s.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip(s.Msg$$module$build$src$core$msg.PROCEDURES_IFRETURN_TOOLTIP),this.setHelpUrl(s.Msg$$module$build$src$core$msg.PROCEDURES_IFRETURN_HELPURL),this.hasReturnValue_=!0},mutationToDom:function(){const _=s.createElement$$module$build$src$core$utils$xml("mutation");return _.setAttribute("value",String(Number(this.hasReturnValue_))),_},domToMutation:function(_){this.hasReturnValue_=_.getAttribute("value")==="1",this.hasReturnValue_||(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(s.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN))},onchange:function(_){if(!(this.workspace.isDragging&&this.workspace.isDragging()||_.type!==s.BLOCK_MOVE$$module$build$src$core$events$events&&_.type!==s.BLOCK_CREATE$$module$build$src$core$events$events)){_=!1;var O=this;do{if(this.FUNCTION_TYPES.includes(O.type)){_=!0;break}O=O.getSurroundParent()}while(O);if(_?(O.type==="procedures_defnoreturn"&&this.hasReturnValue_?(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(s.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!1):O.type!=="procedures_defreturn"||this.hasReturnValue_||(this.removeInput("VALUE"),this.appendValueInput("VALUE").appendField(s.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!0),this.setWarningText(null)):this.setWarningText(s.Msg$$module$build$src$core$msg.PROCEDURES_IFRETURN_WARNING),!this.isInFlyout)try{s.setRecordUndo$$module$build$src$core$events$utils(!1),this.setDisabledReason(!_,ee)}finally{s.setRecordUndo$$module$build$src$core$events$utils(!0)}}},FUNCTION_TYPES:["procedures_defnoreturn","procedures_defreturn"]};P.procedures_ifreturn=he,s.defineBlocks$$module$build$src$core$common(P);var pe={blocks:P},ae=s.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"math_number",message0:"%1",args0:[{type:"field_number",name:"NUM",value:0}],output:"Number",helpUrl:"%{BKY_MATH_NUMBER_HELPURL}",style:"math_blocks",tooltip:"%{BKY_MATH_NUMBER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"math_arithmetic",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ADDITION_SYMBOL}","ADD"],["%{BKY_MATH_SUBTRACTION_SYMBOL}","MINUS"],["%{BKY_MATH_MULTIPLICATION_SYMBOL}","MULTIPLY"],["%{BKY_MATH_DIVISION_SYMBOL}","DIVIDE"],["%{BKY_MATH_POWER_SYMBOL}","POWER"]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ARITHMETIC_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_single",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_SINGLE_OP_ROOT}","ROOT"],["%{BKY_MATH_SINGLE_OP_ABSOLUTE}","ABS"],["-","NEG"],["ln","LN"],["log10","LOG10"],["e^","EXP"],["10^","POW10"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_SINGLE_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_trig",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_TRIG_SIN}","SIN"],["%{BKY_MATH_TRIG_COS}","COS"],["%{BKY_MATH_TRIG_TAN}","TAN"],["%{BKY_MATH_TRIG_ASIN}","ASIN"],["%{BKY_MATH_TRIG_ACOS}","ACOS"],["%{BKY_MATH_TRIG_ATAN}","ATAN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_TRIG_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_constant",message0:"%1",args0:[{type:"field_dropdown",name:"CONSTANT",options:[["","PI"],["e","E"],["","GOLDEN_RATIO"],["sqrt(2)","SQRT2"],["sqrt()","SQRT1_2"],["","INFINITY"]]}],output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTANT_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTANT_HELPURL}"},{type:"math_number_property",message0:"%1 %2",args0:[{type:"input_value",name:"NUMBER_TO_CHECK",check:"Number"},{type:"field_dropdown",name:"PROPERTY",options:[["%{BKY_MATH_IS_EVEN}","EVEN"],["%{BKY_MATH_IS_ODD}","ODD"],["%{BKY_MATH_IS_PRIME}","PRIME"],["%{BKY_MATH_IS_WHOLE}","WHOLE"],["%{BKY_MATH_IS_POSITIVE}","POSITIVE"],["%{BKY_MATH_IS_NEGATIVE}","NEGATIVE"],["%{BKY_MATH_IS_DIVISIBLE_BY}","DIVISIBLE_BY"]]}],inputsInline:!0,output:"Boolean",style:"math_blocks",tooltip:"%{BKY_MATH_IS_TOOLTIP}",mutator:"math_is_divisibleby_mutator"},{type:"math_change",message0:"%{BKY_MATH_CHANGE_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_MATH_CHANGE_TITLE_ITEM}"},{type:"input_value",name:"DELTA",check:"Number"}],previousStatement:null,nextStatement:null,style:"variable_blocks",helpUrl:"%{BKY_MATH_CHANGE_HELPURL}",extensions:["math_change_tooltip"]},{type:"math_round",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ROUND_OPERATOR_ROUND}","ROUND"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDUP}","ROUNDUP"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDDOWN}","ROUNDDOWN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ROUND_HELPURL}",tooltip:"%{BKY_MATH_ROUND_TOOLTIP}"},{type:"math_on_list",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ONLIST_OPERATOR_SUM}","SUM"],["%{BKY_MATH_ONLIST_OPERATOR_MIN}","MIN"],["%{BKY_MATH_ONLIST_OPERATOR_MAX}","MAX"],["%{BKY_MATH_ONLIST_OPERATOR_AVERAGE}","AVERAGE"],["%{BKY_MATH_ONLIST_OPERATOR_MEDIAN}","MEDIAN"],["%{BKY_MATH_ONLIST_OPERATOR_MODE}","MODE"],["%{BKY_MATH_ONLIST_OPERATOR_STD_DEV}","STD_DEV"],["%{BKY_MATH_ONLIST_OPERATOR_RANDOM}","RANDOM"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ONLIST_HELPURL}",mutator:"math_modes_of_list_mutator",extensions:["math_op_tooltip"]},{type:"math_modulo",message0:"%{BKY_MATH_MODULO_TITLE}",args0:[{type:"input_value",name:"DIVIDEND",check:"Number"},{type:"input_value",name:"DIVISOR",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_MODULO_TOOLTIP}",helpUrl:"%{BKY_MATH_MODULO_HELPURL}"},{type:"math_constrain",message0:"%{BKY_MATH_CONSTRAIN_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"Number"},{type:"input_value",name:"LOW",check:"Number"},{type:"input_value",name:"HIGH",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTRAIN_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTRAIN_HELPURL}"},{type:"math_random_int",message0:"%{BKY_MATH_RANDOM_INT_TITLE}",args0:[{type:"input_value",name:"FROM",check:"Number"},{type:"input_value",name:"TO",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_INT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_INT_HELPURL}"},{type:"math_random_float",message0:"%{BKY_MATH_RANDOM_FLOAT_TITLE_RANDOM}",output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_FLOAT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_FLOAT_HELPURL}"},{type:"math_atan2",message0:"%{BKY_MATH_ATAN2_TITLE}",args0:[{type:"input_value",name:"X",check:"Number"},{type:"input_value",name:"Y",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_ATAN2_TOOLTIP}",helpUrl:"%{BKY_MATH_ATAN2_HELPURL}"}]),V={ADD:"%{BKY_MATH_ARITHMETIC_TOOLTIP_ADD}",MINUS:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MINUS}",MULTIPLY:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MULTIPLY}",DIVIDE:"%{BKY_MATH_ARITHMETIC_TOOLTIP_DIVIDE}",POWER:"%{BKY_MATH_ARITHMETIC_TOOLTIP_POWER}",ROOT:"%{BKY_MATH_SINGLE_TOOLTIP_ROOT}",ABS:"%{BKY_MATH_SINGLE_TOOLTIP_ABS}",NEG:"%{BKY_MATH_SINGLE_TOOLTIP_NEG}",LN:"%{BKY_MATH_SINGLE_TOOLTIP_LN}",LOG10:"%{BKY_MATH_SINGLE_TOOLTIP_LOG10}",EXP:"%{BKY_MATH_SINGLE_TOOLTIP_EXP}",POW10:"%{BKY_MATH_SINGLE_TOOLTIP_POW10}",SIN:"%{BKY_MATH_TRIG_TOOLTIP_SIN}",COS:"%{BKY_MATH_TRIG_TOOLTIP_COS}",TAN:"%{BKY_MATH_TRIG_TOOLTIP_TAN}",ASIN:"%{BKY_MATH_TRIG_TOOLTIP_ASIN}",ACOS:"%{BKY_MATH_TRIG_TOOLTIP_ACOS}",ATAN:"%{BKY_MATH_TRIG_TOOLTIP_ATAN}",SUM:"%{BKY_MATH_ONLIST_TOOLTIP_SUM}",MIN:"%{BKY_MATH_ONLIST_TOOLTIP_MIN}",MAX:"%{BKY_MATH_ONLIST_TOOLTIP_MAX}",AVERAGE:"%{BKY_MATH_ONLIST_TOOLTIP_AVERAGE}",MEDIAN:"%{BKY_MATH_ONLIST_TOOLTIP_MEDIAN}",MODE:"%{BKY_MATH_ONLIST_TOOLTIP_MODE}",STD_DEV:"%{BKY_MATH_ONLIST_TOOLTIP_STD_DEV}",RANDOM:"%{BKY_MATH_ONLIST_TOOLTIP_RANDOM}"};s.register$$module$build$src$core$extensions("math_op_tooltip",s.buildTooltipForDropdown$$module$build$src$core$extensions("OP",V));var Se={mutationToDom:function(){const _=s.createElement$$module$build$src$core$utils$xml("mutation"),O=this.getFieldValue("PROPERTY")==="DIVISIBLE_BY";return _.setAttribute("divisor_input",String(O)),_},domToMutation:function(_){_=_.getAttribute("divisor_input")==="true",this.updateShape_(_)},updateShape_:function(_){const O=this.getInput("DIVISOR");_?O||this.appendValueInput("DIVISOR").setCheck("Number"):O&&this.removeInput("DIVISOR")}},le=function(){this.getField("PROPERTY").setValidator(function(_){_=_==="DIVISIBLE_BY",this.getSourceBlock().updateShape_(_)})};s.registerMutator$$module$build$src$core$extensions("math_is_divisibleby_mutator",Se,le),s.register$$module$build$src$core$extensions("math_change_tooltip",s.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_MATH_CHANGE_TOOLTIP}","VAR"));var Ee={updateType_:function(_){_==="MODE"?this.outputConnection.setCheck("Array"):this.outputConnection.setCheck("Number")},mutationToDom:function(){const _=s.createElement$$module$build$src$core$utils$xml("mutation");return _.setAttribute("op",this.getFieldValue("OP")),_},domToMutation:function(_){if(_=_.getAttribute("op"),_===null)throw new TypeError("xmlElement had no op attribute");this.updateType_(_)}},$e=function(){this.getField("OP").setValidator((function(_){this.updateType_(_)}).bind(this))};s.registerMutator$$module$build$src$core$extensions("math_modes_of_list_mutator",Ee,$e),s.defineBlocks$$module$build$src$core$common(ae);var Re={blocks:ae},ke=s.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"controls_repeat_ext",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"input_value",name:"TIMES",check:"Number"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_repeat",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"field_number",name:"TIMES",value:10,min:0,precision:1}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_whileUntil",message0:"%1 %2",args0:[{type:"field_dropdown",name:"MODE",options:[["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_WHILE}","WHILE"],["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_UNTIL}","UNTIL"]]},{type:"input_value",name:"BOOL",check:"Boolean"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_WHILEUNTIL_HELPURL}",extensions:["controls_whileUntil_tooltip"]},{type:"controls_for",message0:"%{BKY_CONTROLS_FOR_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"FROM",check:"Number",align:"RIGHT"},{type:"input_value",name:"TO",check:"Number",align:"RIGHT"},{type:"input_value",name:"BY",check:"Number",align:"RIGHT"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],inputsInline:!0,previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOR_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_for_tooltip"]},{type:"controls_forEach",message0:"%{BKY_CONTROLS_FOREACH_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"LIST",check:"Array"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOREACH_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_forEach_tooltip"]},{type:"controls_flow_statements",message0:"%1",args0:[{type:"field_dropdown",name:"FLOW",options:[["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK}","BREAK"],["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE}","CONTINUE"]]}],previousStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FLOW_STATEMENTS_HELPURL}",suppressPrefixSuffix:!0,extensions:["controls_flow_tooltip","controls_flow_in_loop_check"]}]),Ye={WHILE:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_WHILE}",UNTIL:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL}"};s.register$$module$build$src$core$extensions("controls_whileUntil_tooltip",s.buildTooltipForDropdown$$module$build$src$core$extensions("MODE",Ye));var we={BREAK:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK}",CONTINUE:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE}"};s.register$$module$build$src$core$extensions("controls_flow_tooltip",s.buildTooltipForDropdown$$module$build$src$core$extensions("FLOW",we));var ot={customContextMenu:function(_){if(!this.isInFlyout){var O=this.getField("VAR"),D=O.getVariable().getName();this.isCollapsed()||D===null||(O={type:"variables_get",fields:{VAR:O.saveState(!0)}},_.push({enabled:!0,text:s.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET.replace("%1",D),callback:s.callbackFactory$$module$build$src$core$contextmenu(this,O)}))}}};s.registerMixin$$module$build$src$core$extensions("contextMenu_newGetVariableBlock",ot),s.register$$module$build$src$core$extensions("controls_for_tooltip",s.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_CONTROLS_FOR_TOOLTIP}","VAR")),s.register$$module$build$src$core$extensions("controls_forEach_tooltip",s.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_CONTROLS_FOREACH_TOOLTIP}","VAR"));var ge=new Set(["controls_repeat","controls_repeat_ext","controls_forEach","controls_for","controls_whileUntil"]),ro="CONTROL_FLOW_NOT_IN_LOOP",q={getSurroundLoop:function(){let _=this;do{if(ge.has(_.type))return _;_=_.getSurroundParent()}while(_);return null},onchange:function(_){const O=this.workspace;if(O.isDragging&&!O.isDragging()&&(_.type===s.BLOCK_MOVE$$module$build$src$core$events$events||_.type===s.BLOCK_CREATE$$module$build$src$core$events$events)&&(_=!!this.getSurroundLoop(),this.setWarningText(_?null:s.Msg$$module$build$src$core$msg.CONTROLS_FLOW_STATEMENTS_WARNING),!this.isInFlyout))try{s.setRecordUndo$$module$build$src$core$events$utils(!1),this.setDisabledReason(!_,ro)}finally{s.setRecordUndo$$module$build$src$core$events$utils(!0)}}};s.registerMixin$$module$build$src$core$extensions("controls_flow_in_loop_check",q),s.defineBlocks$$module$build$src$core$common(ke);var fe={blocks:ke,loopTypes:ge},Co=s.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"logic_boolean",message0:"%1",args0:[{type:"field_dropdown",name:"BOOL",options:[["%{BKY_LOGIC_BOOLEAN_TRUE}","TRUE"],["%{BKY_LOGIC_BOOLEAN_FALSE}","FALSE"]]}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_BOOLEAN_TOOLTIP}",helpUrl:"%{BKY_LOGIC_BOOLEAN_HELPURL}"},{type:"controls_if",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],previousStatement:null,nextStatement:null,style:"logic_blocks",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",suppressPrefixSuffix:!0,mutator:"controls_if_mutator",extensions:["controls_if_tooltip"]},{type:"controls_ifelse",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],message2:"%{BKY_CONTROLS_IF_MSG_ELSE} %1",args2:[{type:"input_statement",name:"ELSE"}],previousStatement:null,nextStatement:null,style:"logic_blocks",tooltip:"%{BKYCONTROLS_IF_TOOLTIP_2}",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",suppressPrefixSuffix:!0,extensions:["controls_if_tooltip"]},{type:"logic_compare",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A"},{type:"field_dropdown",name:"OP",options:[["=","EQ"],["","NEQ"],["<","LT"],["","LTE"],[">","GT"],["","GTE"]]},{type:"input_value",name:"B"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_COMPARE_HELPURL}",extensions:["logic_compare","logic_op_tooltip"]},{type:"logic_operation",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Boolean"},{type:"field_dropdown",name:"OP",options:[["%{BKY_LOGIC_OPERATION_AND}","AND"],["%{BKY_LOGIC_OPERATION_OR}","OR"]]},{type:"input_value",name:"B",check:"Boolean"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_OPERATION_HELPURL}",extensions:["logic_op_tooltip"]},{type:"logic_negate",message0:"%{BKY_LOGIC_NEGATE_TITLE}",args0:[{type:"input_value",name:"BOOL",check:"Boolean"}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_NEGATE_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NEGATE_HELPURL}"},{type:"logic_null",message0:"%{BKY_LOGIC_NULL}",output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_NULL_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NULL_HELPURL}"},{type:"logic_ternary",message0:"%{BKY_LOGIC_TERNARY_CONDITION} %1",args0:[{type:"input_value",name:"IF",check:"Boolean"}],message1:"%{BKY_LOGIC_TERNARY_IF_TRUE} %1",args1:[{type:"input_value",name:"THEN"}],message2:"%{BKY_LOGIC_TERNARY_IF_FALSE} %1",args2:[{type:"input_value",name:"ELSE"}],output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_TERNARY_TOOLTIP}",helpUrl:"%{BKY_LOGIC_TERNARY_HELPURL}",extensions:["logic_ternary"]},{type:"controls_if_if",message0:"%{BKY_CONTROLS_IF_IF_TITLE_IF}",nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_IF_TOOLTIP}"},{type:"controls_if_elseif",message0:"%{BKY_CONTROLS_IF_ELSEIF_TITLE_ELSEIF}",previousStatement:null,nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSEIF_TOOLTIP}"},{type:"controls_if_else",message0:"%{BKY_CONTROLS_IF_ELSE_TITLE_ELSE}",previousStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSE_TOOLTIP}"}]),De={EQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_EQ}",NEQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_NEQ}",LT:"%{BKY_LOGIC_COMPARE_TOOLTIP_LT}",LTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_LTE}",GT:"%{BKY_LOGIC_COMPARE_TOOLTIP_GT}",GTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_GTE}",AND:"%{BKY_LOGIC_OPERATION_TOOLTIP_AND}",OR:"%{BKY_LOGIC_OPERATION_TOOLTIP_OR}"};s.register$$module$build$src$core$extensions("logic_op_tooltip",s.buildTooltipForDropdown$$module$build$src$core$extensions("OP",De));var Po={elseifCount_:0,elseCount_:0,mutationToDom:function(){if(!this.elseifCount_&&!this.elseCount_)return null;const _=s.createElement$$module$build$src$core$utils$xml("mutation");return this.elseifCount_&&_.setAttribute("elseif",String(this.elseifCount_)),this.elseCount_&&_.setAttribute("else","1"),_},domToMutation:function(_){this.elseifCount_=parseInt(_.getAttribute("elseif"),10)||0,this.elseCount_=parseInt(_.getAttribute("else"),10)||0,this.rebuildShape_()},saveExtraState:function(){if(!this.elseifCount_&&!this.elseCount_)return null;const _=Object.create(null);return this.elseifCount_&&(_.elseIfCount=this.elseifCount_),this.elseCount_&&(_.hasElse=!0),_},loadExtraState:function(_){this.elseifCount_=_.elseIfCount||0,this.elseCount_=_.hasElse?1:0,this.updateShape_()},decompose:function(_){const O=_.newBlock("controls_if_if");O.initSvg();let D=O.nextConnection;for(let B=1;B<=this.elseifCount_;B++){const de=_.newBlock("controls_if_elseif");de.initSvg(),D.connect(de.previousConnection),D=de.nextConnection}return this.elseCount_&&(_=_.newBlock("controls_if_else"),_.initSvg(),D.connect(_.previousConnection)),O},compose:function(_){_=_.nextConnection.targetBlock(),this.elseCount_=this.elseifCount_=0;const O=[null],D=[null];let B=null;for(;_;){if(!_.isInsertionMarker())switch(_.type){case"controls_if_elseif":this.elseifCount_++,O.push(_.valueConnection_),D.push(_.statementConnection_);break;case"controls_if_else":this.elseCount_++,B=_.statementConnection_;break;default:throw TypeError("Unknown block type: "+_.type)}_=_.getNextBlock()}this.updateShape_(),this.reconnectChildBlocks_(O,D,B)},saveConnections:function(_){_=_.nextConnection.targetBlock();let O=1;for(;_;){if(!_.isInsertionMarker())switch(_.type){case"controls_if_elseif":var D=this.getInput("IF"+O);const B=this.getInput("DO"+O);_.valueConnection_=D&&D.connection.targetConnection,_.statementConnection_=B&&B.connection.targetConnection,O++;break;case"controls_if_else":D=this.getInput("ELSE"),_.statementConnection_=D&&D.connection.targetConnection;break;default:throw TypeError("Unknown block type: "+_.type)}_=_.getNextBlock()}},rebuildShape_:function(){const _=[null],O=[null];let D=null;this.getInput("ELSE")&&(D=this.getInput("ELSE").connection.targetConnection);for(let B=1;this.getInput("IF"+B);B++){const de=this.getInput("IF"+B),Ze=this.getInput("DO"+B);_.push(de.connection.targetConnection),O.push(Ze.connection.targetConnection)}this.updateShape_(),this.reconnectChildBlocks_(_,O,D)},updateShape_:function(){this.getInput("ELSE")&&this.removeInput("ELSE");for(var _=1;this.getInput("IF"+_);_++)this.removeInput("IF"+_),this.removeInput("DO"+_);for(_=1;_<=this.elseifCount_;_++)this.appendValueInput("IF"+_).setCheck("Boolean").appendField(s.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_ELSEIF),this.appendStatementInput("DO"+_).appendField(s.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_THEN);this.elseCount_&&this.appendStatementInput("ELSE").appendField(s.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_ELSE)},reconnectChildBlocks_:function(_,O,D){for(let B=1;B<=this.elseifCount_;B++){let de;(de=_[B])==null||de.reconnect(this,"IF"+B);let Ze;(Ze=O[B])==null||Ze.reconnect(this,"DO"+B)}D==null||D.reconnect(this,"ELSE")}};s.registerMutator$$module$build$src$core$extensions("controls_if_mutator",Po,null,["controls_if_elseif","controls_if_else"]);var Xe=function(){this.setTooltip((function(){if(this.elseifCount_||this.elseCount_){if(!this.elseifCount_&&this.elseCount_)return s.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_2;if(this.elseifCount_&&!this.elseCount_)return s.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_3;if(this.elseifCount_&&this.elseCount_)return s.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_4}else return s.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_1;return""}).bind(this))};s.register$$module$build$src$core$extensions("controls_if_tooltip",Xe);var Xo={onchange:function(_){this.prevBlocks_||(this.prevBlocks_=[null,null]);var O=this.getInputTargetBlock("A");const D=this.getInputTargetBlock("B");O&&D&&!this.workspace.connectionChecker.doTypeChecks(O.outputConnection,D.outputConnection)&&(s.setGroup$$module$build$src$core$events$utils(_.group),_=this.prevBlocks_[0],_!==O&&(O.unplug(),!_||_.isDisposed()||_.isShadow()||this.getInput("A").connection.connect(_.outputConnection)),O=this.prevBlocks_[1],O!==D&&(D.unplug(),!O||O.isDisposed()||O.isShadow()||this.getInput("B").connection.connect(O.outputConnection)),this.bumpNeighbours(),s.setGroup$$module$build$src$core$events$utils(!1)),this.prevBlocks_[0]=this.getInputTargetBlock("A"),this.prevBlocks_[1]=this.getInputTargetBlock("B")}},Bo=function(){this.mixin(Xo)};s.register$$module$build$src$core$extensions("logic_compare",Bo);var bt={prevParentConnection_:null,onchange:function(_){const O=this.getInputTargetBlock("THEN"),D=this.getInputTargetBlock("ELSE"),B=this.outputConnection.targetConnection;if((O||D)&&B)for(let de=0;de<2;de++){const Ze=de===1?O:D;Ze&&!Ze.workspace.connectionChecker.doTypeChecks(Ze.outputConnection,B)&&(s.setGroup$$module$build$src$core$events$utils(_.group),B===this.prevParentConnection_?(this.unplug(),B.getSourceBlock().bumpNeighbours()):(Ze.unplug(),Ze.bumpNeighbours()),s.setGroup$$module$build$src$core$events$utils(!1))}this.prevParentConnection_=B}};s.registerMixin$$module$build$src$core$extensions("logic_ternary",bt),s.defineBlocks$$module$build$src$core$common(Co);var wo={blocks:Co},Tt=s.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"lists_create_empty",message0:"%{BKY_LISTS_CREATE_EMPTY_TITLE}",output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_CREATE_EMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_CREATE_EMPTY_HELPURL}"},{type:"lists_repeat",message0:"%{BKY_LISTS_REPEAT_TITLE}",args0:[{type:"input_value",name:"ITEM"},{type:"input_value",name:"NUM",check:"Number"}],output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_LISTS_REPEAT_HELPURL}"},{type:"lists_reverse",message0:"%{BKY_LISTS_REVERSE_MESSAGE0}",args0:[{type:"input_value",name:"LIST",check:"Array"}],output:"Array",inputsInline:!0,style:"list_blocks",tooltip:"%{BKY_LISTS_REVERSE_TOOLTIP}",helpUrl:"%{BKY_LISTS_REVERSE_HELPURL}"},{type:"lists_isEmpty",message0:"%{BKY_LISTS_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"list_blocks",tooltip:"%{BKY_LISTS_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_ISEMPTY_HELPURL}"},{type:"lists_length",message0:"%{BKY_LISTS_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"list_blocks",tooltip:"%{BKY_LISTS_LENGTH_TOOLTIP}",helpUrl:"%{BKY_LISTS_LENGTH_HELPURL}"}]),tn={init:function(){this.setHelpUrl(s.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_HELPURL),this.setStyle("list_blocks"),this.itemCount_=3,this.updateShape_(),this.setOutput(!0,"Array"),this.setMutator(new s.MutatorIcon$$module$build$src$core$icons$mutator_icon(["lists_create_with_item"],this)),this.setTooltip(s.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_TOOLTIP)},mutationToDom:function(){const _=s.createElement$$module$build$src$core$utils$xml("mutation");return _.setAttribute("items",String(this.itemCount_)),_},domToMutation:function(_){if(_=_.getAttribute("items"),!_)throw new TypeError("element did not have items");this.itemCount_=parseInt(_,10),this.updateShape_()},saveExtraState:function(){return{itemCount:this.itemCount_}},loadExtraState:function(_){this.itemCount_=_.itemCount,this.updateShape_()},decompose:function(_){const O=_.newBlock("lists_create_with_container");O.initSvg();let D=O.getInput("STACK").connection;for(let B=0;B<this.itemCount_;B++){const de=_.newBlock("lists_create_with_item");if(de.initSvg(),!de.previousConnection)throw Error("itemBlock has no previousConnection");D.connect(de.previousConnection),D=de.nextConnection}return O},compose:function(_){var O=_.getInputTargetBlock("STACK");for(_=[];O;)O.isInsertionMarker()||_.push(O.valueConnection_),O=O.getNextBlock();for(O=0;O<this.itemCount_;O++){const D=this.getInput("ADD"+O).connection.targetConnection;D&&!_.includes(D)&&D.disconnect()}for(this.itemCount_=_.length,this.updateShape_(),O=0;O<this.itemCount_;O++){let D;(D=_[O])==null||D.reconnect(this,"ADD"+O)}},saveConnections:function(_){_=_.getInputTargetBlock("STACK");let O=0;for(;_;){if(_.isInsertionMarker()){_=_.getNextBlock();continue}const D=this.getInput("ADD"+O);let B;_.valueConnection_=(B=D)==null?void 0:B.connection.targetConnection,_=_.getNextBlock(),O++}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(s.Msg$$module$build$src$core$msg.LISTS_CREATE_EMPTY_TITLE);for(var _=0;_<this.itemCount_;_++)if(!this.getInput("ADD"+_)){const O=this.appendValueInput("ADD"+_).setAlign(s.Align$$module$build$src$core$inputs$align.RIGHT);_===0&&O.appendField(s.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_INPUT_WITH)}for(_=this.itemCount_;this.getInput("ADD"+_);_++)this.removeInput("ADD"+_)}};Tt.lists_create_with=tn;var Yo={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField(s.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD),this.appendStatementInput("STACK"),this.setTooltip(s.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP),this.contextMenu=!1}};Tt.lists_create_with_container=Yo;var M={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField(s.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_ITEM_TITLE),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(s.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_ITEM_TOOLTIP),this.contextMenu=!1}};Tt.lists_create_with_item=M;var Uo={init:function(){var _=[[s.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_FIRST,"FIRST"],[s.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_LAST,"LAST"]];if(this.setHelpUrl(s.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_HELPURL),this.setStyle("list_blocks"),this.setOutput(!0,"Number"),this.appendValueInput("VALUE").setCheck("Array").appendField(s.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_INPUT_IN_LIST),_=s.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:_}),!_)throw Error("field_dropdown not found");this.appendValueInput("FIND").appendField(_,"END"),this.setInputsInline(!0),this.setTooltip(()=>s.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_TOOLTIP.replace("%1",this.workspace.options.oneBasedIndex?"0":"-1"))}};Tt.lists_indexOf=Uo;var gi={init:function(){var _=[[s.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_GET,"GET"],[s.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_GET_REMOVE,"GET_REMOVE"],[s.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_REMOVE,"REMOVE"]];this.WHERE_OPTIONS=[[s.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[s.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[s.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FIRST,"FIRST"],[s.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_LAST,"LAST"],[s.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(s.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_HELPURL),this.setStyle("list_blocks"),_=s.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:_}),_.setValidator(function(O){O=O==="REMOVE",this.getSourceBlock().updateStatement_(O)}),this.appendValueInput("VALUE").setCheck("Array").appendField(s.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_INPUT_IN_LIST),this.appendDummyInput().appendField(_,"MODE").appendField("","SPACE"),_=s.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this.WHERE_OPTIONS}),_.setValidator(function(O){const D=this.getValue();O=O==="FROM_START"||O==="FROM_END",O!==(D==="FROM_START"||D==="FROM_END")&&this.getSourceBlock().updateAt_(O)}),this.appendDummyInput().appendField(_,"WHERE"),this.appendDummyInput("AT"),s.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TAIL&&this.appendDummyInput("TAIL").appendField(s.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TAIL),this.setInputsInline(!0),this.setOutput(!0),this.updateAt_(!0),this.setTooltip(()=>{const O=this.getFieldValue("MODE"),D=this.getFieldValue("WHERE");let B="";switch(O+" "+D){case"GET FROM_START":case"GET FROM_END":B=s.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM;break;case"GET FIRST":B=s.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST;break;case"GET LAST":B=s.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST;break;case"GET RANDOM":B=s.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM;break;case"GET_REMOVE FROM_START":case"GET_REMOVE FROM_END":B=s.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM;break;case"GET_REMOVE FIRST":B=s.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST;break;case"GET_REMOVE LAST":B=s.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST;break;case"GET_REMOVE RANDOM":B=s.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM;break;case"REMOVE FROM_START":case"REMOVE FROM_END":B=s.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM;break;case"REMOVE FIRST":B=s.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST;break;case"REMOVE LAST":B=s.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST;break;case"REMOVE RANDOM":B=s.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM}return(D==="FROM_START"||D==="FROM_END")&&(B+="  "+(D==="FROM_START"?s.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_START_TOOLTIP:s.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_END_TOOLTIP).replace("%1",this.workspace.options.oneBasedIndex?"#1":"#0")),B})},mutationToDom:function(){const _=s.createElement$$module$build$src$core$utils$xml("mutation");_.setAttribute("statement",String(!this.outputConnection));const O=this.getInput("AT")instanceof s.ValueInput$$module$build$src$core$inputs$value_input;return _.setAttribute("at",String(O)),_},domToMutation:function(_){const O=_.getAttribute("statement")==="true";this.updateStatement_(O),_=_.getAttribute("at")!=="false",this.updateAt_(_)},saveExtraState:function(){return this.outputConnection?null:{isStatement:!0}},loadExtraState:function(_){_.isStatement?this.updateStatement_(!0):typeof _=="string"&&this.domToMutation(s.textToDom$$module$build$src$core$utils$xml(_))},updateStatement_:function(_){_!==!this.outputConnection&&(this.unplug(!0,!0),_?(this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0)):(this.setPreviousStatement(!1),this.setNextStatement(!1),this.setOutput(!0)))},updateAt_:function(_){this.removeInput("AT"),this.removeInput("ORDINAL",!0),_?(this.appendValueInput("AT").setCheck("Number"),s.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(s.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"),s.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TAIL&&this.moveInputBefore("TAIL",null)}};Tt.lists_getIndex=gi;var et={init:function(){var _=[[s.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_SET,"SET"],[s.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_INSERT,"INSERT"]];this.WHERE_OPTIONS=[[s.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[s.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[s.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FIRST,"FIRST"],[s.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_LAST,"LAST"],[s.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(s.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField(s.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_INPUT_IN_LIST),_=s.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:_}),this.appendDummyInput().appendField(_,"MODE").appendField("","SPACE"),_=s.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this.WHERE_OPTIONS}),_.setValidator(function(O){const D=this.getValue();O=O==="FROM_START"||O==="FROM_END",O!==(D==="FROM_START"||D==="FROM_END")&&this.getSourceBlock().updateAt_(O)}),this.appendDummyInput().appendField(_,"WHERE"),this.appendDummyInput("AT"),this.appendValueInput("TO").appendField(s.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_INPUT_TO),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(s.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP),this.updateAt_(!0),this.setTooltip(()=>{const O=this.getFieldValue("MODE"),D=this.getFieldValue("WHERE");let B="";switch(O+" "+D){case"SET FROM_START":case"SET FROM_END":B=s.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM;break;case"SET FIRST":B=s.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST;break;case"SET LAST":B=s.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST;break;case"SET RANDOM":B=s.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM;break;case"INSERT FROM_START":case"INSERT FROM_END":B=s.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM;break;case"INSERT FIRST":B=s.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST;break;case"INSERT LAST":B=s.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST;break;case"INSERT RANDOM":B=s.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM}return(D==="FROM_START"||D==="FROM_END")&&(B+="  "+s.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_START_TOOLTIP.replace("%1",this.workspace.options.oneBasedIndex?"#1":"#0")),B})},mutationToDom:function(){const _=s.createElement$$module$build$src$core$utils$xml("mutation"),O=this.getInput("AT")instanceof s.ValueInput$$module$build$src$core$inputs$value_input;return _.setAttribute("at",String(O)),_},domToMutation:function(_){_=_.getAttribute("at")!=="false",this.updateAt_(_)},saveExtraState:function(){return null},loadExtraState:function(){},updateAt_:function(_){this.removeInput("AT"),this.removeInput("ORDINAL",!0),_?(this.appendValueInput("AT").setCheck("Number"),s.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(s.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"),this.moveInputBefore("AT","TO"),this.getInput("ORDINAL")&&this.moveInputBefore("ORDINAL","TO")}};Tt.lists_setIndex=et;var $t={init:function(){this.WHERE_OPTIONS_1=[[s.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_START_FROM_START,"FROM_START"],[s.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_START_FROM_END,"FROM_END"],[s.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[s.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_END_FROM_START,"FROM_START"],[s.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_END_FROM_END,"FROM_END"],[s.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_END_LAST,"LAST"]],this.setHelpUrl(s.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField(s.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_INPUT_IN_LIST);const _=O=>{const D=s.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this["WHERE_OPTIONS_"+O]});return D.setValidator(function(B){const de=this.getValue();B=B==="FROM_START"||B==="FROM_END",B!==(de==="FROM_START"||de==="FROM_END")&&this.getSourceBlock().updateAt_(O,B)}),D};this.appendDummyInput("WHERE1_INPUT").appendField(_(1),"WHERE1"),this.appendDummyInput("AT1"),this.appendDummyInput("WHERE2_INPUT").appendField(_(2),"WHERE2"),this.appendDummyInput("AT2"),s.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TAIL&&this.appendDummyInput("TAIL").appendField(s.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TAIL),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(s.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TOOLTIP)},mutationToDom:function(){const _=s.createElement$$module$build$src$core$utils$xml("mutation");var O=this.getInput("AT1")instanceof s.ValueInput$$module$build$src$core$inputs$value_input;return _.setAttribute("at1",String(O)),O=this.getInput("AT2")instanceof s.ValueInput$$module$build$src$core$inputs$value_input,_.setAttribute("at2",String(O)),_},domToMutation:function(_){const O=_.getAttribute("at1")==="true";_=_.getAttribute("at2")==="true",this.updateAt_(1,O),this.updateAt_(2,_)},saveExtraState:function(){return null},loadExtraState:function(){},updateAt_:function(_,O){this.removeInput("AT"+_),this.removeInput("ORDINAL"+_,!0),O?(this.appendValueInput("AT"+_).setCheck("Number"),s.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+_).appendField(s.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+_),_===1&&(this.moveInputBefore("AT1","WHERE2_INPUT"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","WHERE2_INPUT")),s.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TAIL&&this.moveInputBefore("TAIL",null)}};Tt.lists_getSublist=$t,Tt.lists_sort={init:function(){this.jsonInit({message0:"%{BKY_LISTS_SORT_TITLE}",args0:[{type:"field_dropdown",name:"TYPE",options:[["%{BKY_LISTS_SORT_TYPE_NUMERIC}","NUMERIC"],["%{BKY_LISTS_SORT_TYPE_TEXT}","TEXT"],["%{BKY_LISTS_SORT_TYPE_IGNORECASE}","IGNORE_CASE"]]},{type:"field_dropdown",name:"DIRECTION",options:[["%{BKY_LISTS_SORT_ORDER_ASCENDING}","1"],["%{BKY_LISTS_SORT_ORDER_DESCENDING}","-1"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_SORT_TOOLTIP}",helpUrl:"%{BKY_LISTS_SORT_HELPURL}"})}},Tt.lists_split={init:function(){const _=s.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:[[s.Msg$$module$build$src$core$msg.LISTS_SPLIT_LIST_FROM_TEXT,"SPLIT"],[s.Msg$$module$build$src$core$msg.LISTS_SPLIT_TEXT_FROM_LIST,"JOIN"]]});if(!_)throw Error("field_dropdown not found");_.setValidator(O=>{this.updateType_(O)}),this.setHelpUrl(s.Msg$$module$build$src$core$msg.LISTS_SPLIT_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("INPUT").setCheck("String").appendField(_,"MODE"),this.appendValueInput("DELIM").setCheck("String").appendField(s.Msg$$module$build$src$core$msg.LISTS_SPLIT_WITH_DELIMITER),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.setTooltip(()=>{const O=this.getFieldValue("MODE");if(O==="SPLIT")return s.Msg$$module$build$src$core$msg.LISTS_SPLIT_TOOLTIP_SPLIT;if(O==="JOIN")return s.Msg$$module$build$src$core$msg.LISTS_SPLIT_TOOLTIP_JOIN;throw Error("Unknown mode: "+O)})},updateType_:function(_){if(this.getFieldValue("MODE")!==_){const O=this.getInput("INPUT").connection;O.setShadowDom(null);const D=O.targetBlock();D&&(O.disconnect(),D.isShadow()?D.dispose(!1):this.bumpNeighbours())}_==="SPLIT"?(this.outputConnection.setCheck("Array"),this.getInput("INPUT").setCheck("String")):(this.outputConnection.setCheck("String"),this.getInput("INPUT").setCheck("Array"))},mutationToDom:function(){const _=s.createElement$$module$build$src$core$utils$xml("mutation");return _.setAttribute("mode",this.getFieldValue("MODE")),_},domToMutation:function(_){this.updateType_(_.getAttribute("mode"))},saveExtraState:function(){return{mode:this.getFieldValue("MODE")}},loadExtraState:function(_){this.updateType_(_.mode)}},s.defineBlocks$$module$build$src$core$common(Tt);var Lt={blocks:Tt},it=Object.assign({},Tt,Co,ke,ae,P,I,g,l),lo={blocks:it,lists:Lt,logic:wo,loops:fe,math:Re,procedures:pe,texts:j,variables:v,variablesDynamic:p};return lo.__namespace__=s,lo})}(oE)),oE.exports}(function(t,o){(function(n,s){t.exports=s(gS(),SX(),jD())})(nr,function(n,s,l){return n.setLocale(s),n})})(YD);var IX=YD.exports;const OX=Rs(IX),{Block:sq,BlockFlyoutInflater:rq,BlockNavigationPolicy:lq,BlockSvg:aq,Blocks:id,ButtonFlyoutInflater:cq,COLLAPSED_FIELD_NAME:uq,COLLAPSED_INPUT_NAME:dq,COLLAPSE_CHARS:hq,CodeGenerator:pq,CollapsibleToolboxCategory:fq,ComponentManager:gq,Connection:mq,ConnectionChecker:$q,ConnectionDB:_q,ConnectionNavigationPolicy:bq,ConnectionType:Tq,ContextMenu:Eq,ContextMenuItems:vq,ContextMenuRegistry:yq,Css:Sq,DELETE_VARIABLE_ID:Iq,DeleteArea:Oq,DragTarget:Rq,DropDownDiv:Cq,Events:iE,Extensions:wq,Field:Aq,FieldCheckbox:Lq,FieldDropdown:kq,FieldImage:Nq,FieldLabel:Mq,FieldLabelSerializable:xq,FieldNavigationPolicy:Dq,FieldNumber:Pq,FieldTextInput:Bq,FieldVariable:Uq,Flyout:Hq,FlyoutButton:Fq,FlyoutButtonNavigationPolicy:Gq,FlyoutItem:Vq,FlyoutMetricsManager:zq,FlyoutNavigationPolicy:Wq,FlyoutNavigator:Xq,FlyoutSeparator:Yq,FlyoutSeparatorNavigationPolicy:jq,FocusManager:Kq,FocusableTreeTraverser:qq,Generator:Jq,Gesture:Zq,Grid:Qq,HorizontalFlyout:eJ,INPUT_VALUE:tJ,Input:oJ,InsertionMarkerPreviewer:iJ,KeyboardNavigationController:nJ,LabelFlyoutInflater:sJ,LineCursor:rJ,Marker:lJ,MarkerManager:aJ,Menu:cJ,MenuItem:uJ,MetricsManager:dJ,Msg:si,NEXT_STATEMENT:hJ,Names:pJ,Navigator:fJ,OPPOSITE_TYPE:gJ,OUTPUT_VALUE:mJ,Options:$J,PREVIOUS_STATEMENT:_J,PROCEDURE_CATEGORY_NAME:bJ,Procedures:kk,RENAME_VARIABLE_ID:TJ,RenderedConnection:EJ,Scrollbar:vJ,ScrollbarPair:yJ,SeparatorFlyoutInflater:SJ,ShortcutItems:IJ,ShortcutRegistry:OJ,TOOLBOX_AT_BOTTOM:RJ,TOOLBOX_AT_LEFT:CJ,TOOLBOX_AT_RIGHT:wJ,TOOLBOX_AT_TOP:AJ,Theme:RX,ThemeManager:LJ,Themes:kJ,Toast:NJ,Toolbox:MJ,ToolboxCategory:xJ,ToolboxItem:DJ,ToolboxSeparator:PJ,Tooltip:BJ,Touch:UJ,Trashcan:HJ,UnattachedFieldError:FJ,VARIABLE_CATEGORY_NAME:GJ,VARIABLE_DYNAMIC_CATEGORY_NAME:VJ,VERSION:zJ,VariableMap:WJ,VariableModel:XJ,Variables:YJ,VariablesDynamic:jJ,VerticalFlyout:KJ,WidgetDiv:qJ,Workspace:JJ,WorkspaceAudio:ZJ,WorkspaceDragger:QJ,WorkspaceNavigationPolicy:eZ,WorkspaceSvg:tZ,Xml:oZ,ZoomControls:iZ,blockAnimations:nZ,blockRendering:sZ,browserEvents:rZ,bubbles:lZ,bumpObjects:aZ,clipboard:cZ,comments:uZ,common:dZ,config:hZ,constants:pZ,defineBlocksWithJsonArray:fZ,dialog:gZ,dragging:mZ,fieldRegistry:$Z,geras:_Z,getFocusManager:bZ,getMainWorkspace:TZ,getSelected:EZ,hasBubble:vZ,hideChaff:yZ,icons:SZ,inject:Nk,inputs:IZ,isCopyable:OZ,isDeletable:RZ,isDraggable:CZ,isIcon:wZ,isObservable:AZ,isPaster:LZ,isRenderedElement:kZ,isSelectable:NZ,isSerializable:MZ,isVariableBackedParameterModel:xZ,keyboardNavigationController:DZ,layers:PZ,navigateBlock:BZ,navigateStacks:UZ,procedures:HZ,registry:FZ,renderManagement:GZ,serialization:VZ,setLocale:CX,setParentContainer:zZ,svgResize:hf,thrasos:WZ,uiPosition:XZ,utils:Mk,zelos:YZ}=OX;var KD={exports:{}};(function(t,o){(function(n,s){t.exports=s(gS())})(nr,function(n){var s=n.__namespace__,l=function(m,y){return["[]",M.ATOMIC]},c=function(m,y){const N=Array(m.itemCount_);for(let U=0;U<m.itemCount_;U++)N[U]=y.valueToCode(m,"ADD"+U,M.NONE)||"null";return["["+N.join(", ")+"]",M.ATOMIC]},d=function(m,y){const N=y.provideFunction_("listsRepeat","\nfunction ".concat(y.FUNCTION_NAME_PLACEHOLDER_,"(value, n) {\n  var array = [];\n  for (var i = 0; i < n; i++) {\n    array[i] = value;\n  }\n  return array;\n}\n")),U=y.valueToCode(m,"ITEM",M.NONE)||"null";return m=y.valueToCode(m,"NUM",M.NONE)||"0",[N+"("+U+", "+m+")",M.FUNCTION_CALL]},h=function(m,y){return[(y.valueToCode(m,"VALUE",M.MEMBER)||"[]")+".length",M.MEMBER]},p=function(m,y){return["!"+(y.valueToCode(m,"VALUE",M.MEMBER)||"[]")+".length",M.LOGICAL_NOT]},g=function(m,y){const N=m.getFieldValue("END")==="FIRST"?"indexOf":"lastIndexOf",U=y.valueToCode(m,"FIND",M.NONE)||"''";return y=(y.valueToCode(m,"VALUE",M.MEMBER)||"[]")+"."+N+"("+U+")",m.workspace.options.oneBasedIndex?[y+" + 1",M.ADDITION]:[y,M.FUNCTION_CALL]},$=function(m,y){const N=m.getFieldValue("MODE")||"GET",U=m.getFieldValue("WHERE")||"FROM_START";var te=y.valueToCode(m,"VALUE",U==="RANDOM"?M.NONE:M.MEMBER)||"[]";switch(U){case"FIRST":if(N==="GET")return[te+"[0]",M.MEMBER];if(N==="GET_REMOVE")return[te+".shift()",M.MEMBER];if(N==="REMOVE")return te+".shift();\n";break;case"LAST":if(N==="GET")return[te+".slice(-1)[0]",M.MEMBER];if(N==="GET_REMOVE")return[te+".pop()",M.MEMBER];if(N==="REMOVE")return te+".pop();\n";break;case"FROM_START":if(m=y.getAdjusted(m,"AT"),N==="GET")return[te+"["+m+"]",M.MEMBER];if(N==="GET_REMOVE")return[te+".splice("+m+", 1)[0]",M.FUNCTION_CALL];if(N==="REMOVE")return te+".splice("+m+", 1);\n";break;case"FROM_END":if(m=y.getAdjusted(m,"AT",1,!0),N==="GET")return[te+".slice("+m+")[0]",M.FUNCTION_CALL];if(N==="GET_REMOVE")return[te+".splice("+m+", 1)[0]",M.FUNCTION_CALL];if(N==="REMOVE")return te+".splice("+m+", 1);";break;case"RANDOM":if(te=y.provideFunction_("listsGetRandomItem","\nfunction ".concat(y.FUNCTION_NAME_PLACEHOLDER_,"(list, remove) {\n  var x = Math.floor(Math.random() * list.length);\n  if (remove) {\n    return list.splice(x, 1)[0];\n  } else {\n    return list[x];\n  }\n}\n"))+"("+te+", "+(N!=="GET")+")",N==="GET"||N==="GET_REMOVE")return[te,M.FUNCTION_CALL];if(N==="REMOVE")return te+";\n"}throw Error("Unhandled combination (lists_getIndex).")},b=function(m,y){function N(){if(U.match(/^\w+$/))return"";const fo=y.nameDB_.getDistinctName("tmpList",s.NameType$$module$build$src$core$names.VARIABLE),$n="var "+fo+" = "+U+";\n";return U=fo,$n}let U=y.valueToCode(m,"LIST",M.MEMBER)||"[]";const te=m.getFieldValue("MODE")||"GET";var ye=m.getFieldValue("WHERE")||"FROM_START";const Me=y.valueToCode(m,"TO",M.ASSIGNMENT)||"null";switch(ye){case"FIRST":if(te==="SET")return U+"[0] = "+Me+";\n";if(te==="INSERT")return U+".unshift("+Me+");\n";break;case"LAST":if(te==="SET")return N()+(U+"["+U+".length - 1] = "+Me+";\n");if(te==="INSERT")return U+".push("+Me+");\n";break;case"FROM_START":if(m=y.getAdjusted(m,"AT"),te==="SET")return U+"["+m+"] = "+Me+";\n";if(te==="INSERT")return U+".splice("+m+", 0, "+Me+");\n";break;case"FROM_END":if(m=y.getAdjusted(m,"AT",1,!1,M.SUBTRACTION),ye=N(),te==="SET")return ye+(U+"["+U+".length - "+m+"] = "+Me+";\n");if(te==="INSERT")return ye+(U+".splice("+U+".length - "+m+", 0, "+Me+");\n");break;case"RANDOM":if(m=N(),ye=y.nameDB_.getDistinctName("tmpX",s.NameType$$module$build$src$core$names.VARIABLE),m+="var "+ye+" = Math.floor(Math.random() * "+U+".length);\n",te==="SET")return m+(U+"["+ye+"] = "+Me+";\n");if(te==="INSERT")return m+(U+".splice("+ye+", 0, "+Me+");\n")}throw Error("Unhandled combination (lists_setIndex).")},T=function(m,y){var N={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"},U=y.valueToCode(m,"LIST",M.MEMBER)||"[]";const te=m.getFieldValue("WHERE1"),ye=m.getFieldValue("WHERE2");if(te==="FIRST"&&ye==="LAST")U+=".slice(0)";else if(U.match(/^\w+$/)||te!=="FROM_END"&&ye==="FROM_START"){switch(te){case"FROM_START":N=y.getAdjusted(m,"AT1");break;case"FROM_END":N=y.getAdjusted(m,"AT1",1,!1,M.SUBTRACTION),N=U+".length - "+N;break;case"FIRST":N="0";break;default:throw Error("Unhandled option (lists_getSublist).")}switch(ye){case"FROM_START":y=y.getAdjusted(m,"AT2",1);break;case"FROM_END":y=y.getAdjusted(m,"AT2",0,!1,M.SUBTRACTION),y=U+".length - "+y;break;case"LAST":y=U+".length";break;default:throw Error("Unhandled option (lists_getSublist).")}U=U+".slice("+N+", "+y+")"}else{const Me=y.getAdjusted(m,"AT1");m=y.getAdjusted(m,"AT2"),U=y.provideFunction_("subsequence"+N[te]+N[ye],"\nfunction ".concat(y.FUNCTION_NAME_PLACEHOLDER_,"(sequence").concat(te==="FROM_END"||te==="FROM_START"?", at1":"").concat(ye==="FROM_END"||ye==="FROM_START"?", at2":"",") {\n  var start = ").concat(gi("sequence",te,"at1"),";\n  var end = ").concat(gi("sequence",ye,"at2")," + 1;\n  return sequence.slice(start, end);\n}\n"))+"("+U+(te==="FROM_END"||te==="FROM_START"?", "+Me:"")+(ye==="FROM_END"||ye==="FROM_START"?", "+m:"")+")"}return[U,M.FUNCTION_CALL]},v=function(m,y){const N=y.valueToCode(m,"LIST",M.FUNCTION_CALL)||"[]",U=m.getFieldValue("DIRECTION")==="1"?1:-1;return m=m.getFieldValue("TYPE"),y=y.provideFunction_("listsGetSortCompare","\nfunction ".concat(y.FUNCTION_NAME_PLACEHOLDER_,"(type, direction) {\n  var compareFuncs = {\n    'NUMERIC': function(a, b) {\n        return Number(a) - Number(b); },\n    'TEXT': function(a, b) {\n        return String(a) > String(b) ? 1 : -1; },\n    'IGNORE_CASE': function(a, b) {\n        return String(a).toLowerCase() > String(b).toLowerCase() ? 1 : -1; },\n  };\n  var compare = compareFuncs[type];\n  return function(a, b) { return compare(a, b) * direction; };\n}\n      ")),[N+".slice().sort("+y+'("'+m+'", '+U+"))",M.FUNCTION_CALL]},I=function(m,y){let N=y.valueToCode(m,"INPUT",M.MEMBER);if(y=y.valueToCode(m,"DELIM",M.NONE)||"''",m=m.getFieldValue("MODE"),m==="SPLIT")N||(N="''"),m="split";else if(m==="JOIN")N||(N="[]"),m="join";else throw Error("Unknown mode: "+m);return[N+"."+m+"("+y+")",M.FUNCTION_CALL]},k=function(m,y){return[(y.valueToCode(m,"LIST",M.FUNCTION_CALL)||"[]")+".slice().reverse()",M.FUNCTION_CALL]},G=function(m,y){var N=0;let U="";y.STATEMENT_PREFIX&&(U+=y.injectId(y.STATEMENT_PREFIX,m));do{const te=y.valueToCode(m,"IF"+N,M.NONE)||"false";let ye=y.statementToCode(m,"DO"+N);y.STATEMENT_SUFFIX&&(ye=y.prefixLines(y.injectId(y.STATEMENT_SUFFIX,m),y.INDENT)+ye),U+=(N>0?" else ":"")+"if ("+te+") {\n"+ye+"}",N++}while(m.getInput("IF"+N));return(m.getInput("ELSE")||y.STATEMENT_SUFFIX)&&(N=m.getInput("ELSE")?y.statementToCode(m,"ELSE"):"",y.STATEMENT_SUFFIX&&(N=y.prefixLines(y.injectId(y.STATEMENT_SUFFIX,m),y.INDENT)+N),U+=" else {\n"+N+"}"),U+"\n"},R=function(m,y){const N={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[m.getFieldValue("OP")],U=N==="=="||N==="!="?M.EQUALITY:M.RELATIONAL,te=y.valueToCode(m,"A",U)||"0";return m=y.valueToCode(m,"B",U)||"0",[te+" "+N+" "+m,U]},S=function(m,y){const N=m.getFieldValue("OP")==="AND"?"&&":"||",U=N==="&&"?M.LOGICAL_AND:M.LOGICAL_OR;let te=y.valueToCode(m,"A",U);return m=y.valueToCode(m,"B",U),te||m?(y=N==="&&"?"true":"false",te||(te=y),m||(m=y)):m=te="false",[te+" "+N+" "+m,U]},w=function(m,y){const N=M.LOGICAL_NOT;return["!"+(y.valueToCode(m,"BOOL",N)||"true"),N]},L=function(m,y){return[m.getFieldValue("BOOL")==="TRUE"?"true":"false",M.ATOMIC]},H=function(m,y){return["null",M.ATOMIC]},Y=function(m,y){const N=y.valueToCode(m,"IF",M.CONDITIONAL)||"false",U=y.valueToCode(m,"THEN",M.CONDITIONAL)||"null";return m=y.valueToCode(m,"ELSE",M.CONDITIONAL)||"null",[N+" ? "+U+" : "+m,M.CONDITIONAL]},K=function(m,y){let N;N=m.getField("TIMES")?String(Number(m.getFieldValue("TIMES"))):y.valueToCode(m,"TIMES",M.ASSIGNMENT)||"0";let U=y.statementToCode(m,"DO");U=y.addLoopTrap(U,m),m="";const te=y.nameDB_.getDistinctName("count",s.NameType$$module$build$src$core$names.VARIABLE);let ye=N;return N.match(/^\w+$/)||s.isNumber$$module$build$src$core$utils$string(N)||(ye=y.nameDB_.getDistinctName("repeat_end",s.NameType$$module$build$src$core$names.VARIABLE),m+="var "+ye+" = "+N+";\n"),m+("for (var "+te+" = 0; "+te+" < "+ye+"; "+te+"++) {\n"+U+"}\n")},j=function(m,y){const N=m.getFieldValue("MODE")==="UNTIL";let U=y.valueToCode(m,"BOOL",N?M.LOGICAL_NOT:M.NONE)||"false",te=y.statementToCode(m,"DO");return te=y.addLoopTrap(te,m),N&&(U="!"+U),"while ("+U+") {\n"+te+"}\n"},P=function(m,y){var N=y.getVariableName(m.getFieldValue("VAR")),U=y.valueToCode(m,"FROM",M.ASSIGNMENT)||"0",te=y.valueToCode(m,"TO",M.ASSIGNMENT)||"0";const ye=y.valueToCode(m,"BY",M.ASSIGNMENT)||"1";let Me=y.statementToCode(m,"DO");if(Me=y.addLoopTrap(Me,m),s.isNumber$$module$build$src$core$utils$string(U)&&s.isNumber$$module$build$src$core$utils$string(te)&&s.isNumber$$module$build$src$core$utils$string(ye))y=Number(U)<=Number(te),m="for ("+N+" = "+U+"; "+N+(y?" <= ":" >= ")+te+"; "+N,N=Math.abs(Number(ye)),m=N===1?m+(y?"++":"--"):m+((y?" += ":" -= ")+N),m+=") {\n"+Me+"}\n";else{m="";let fo=U;U.match(/^\w+$/)||s.isNumber$$module$build$src$core$utils$string(U)||(fo=y.nameDB_.getDistinctName(N+"_start",s.NameType$$module$build$src$core$names.VARIABLE),m+="var "+fo+" = "+U+";\n"),U=te,te.match(/^\w+$/)||s.isNumber$$module$build$src$core$utils$string(te)||(U=y.nameDB_.getDistinctName(N+"_end",s.NameType$$module$build$src$core$names.VARIABLE),m+="var "+U+" = "+te+";\n"),te=y.nameDB_.getDistinctName(N+"_inc",s.NameType$$module$build$src$core$names.VARIABLE),m+="var "+te+" = ",m=s.isNumber$$module$build$src$core$utils$string(ye)?m+(Math.abs(Number(ye))+";\n"):m+("Math.abs("+ye+");\n"),m+="if ("+fo+" > "+U+") {\n",m+=y.INDENT+te+" = -"+te+";\n",m=m+"}\nfor ("+(N+" = "+fo+"; "+te+" >= 0 ? "+N+" <= "+U+" : "+N+" >= "+U+"; "+N+" += "+te+") {\n"+Me+"}\n")}return m},J=function(m,y){const N=y.getVariableName(m.getFieldValue("VAR"));var U=y.valueToCode(m,"LIST",M.ASSIGNMENT)||"[]";let te=y.statementToCode(m,"DO");te=y.addLoopTrap(te,m),m="";let ye=U;return U.match(/^\w+$/)||(ye=y.nameDB_.getDistinctName(N+"_list",s.NameType$$module$build$src$core$names.VARIABLE),m+="var "+ye+" = "+U+";\n"),U=y.nameDB_.getDistinctName(N+"_index",s.NameType$$module$build$src$core$names.VARIABLE),te=y.INDENT+N+" = "+ye+"["+U+"];\n"+te,m+("for (var "+U+" in "+ye+") {\n"+te+"}\n")},ie=function(m,y){let N="";if(y.STATEMENT_PREFIX&&(N+=y.injectId(y.STATEMENT_PREFIX,m)),y.STATEMENT_SUFFIX&&(N+=y.injectId(y.STATEMENT_SUFFIX,m)),y.STATEMENT_PREFIX){const U=m.getSurroundLoop();U&&!U.suppressPrefixSuffix&&(N+=y.injectId(y.STATEMENT_PREFIX,U))}switch(m.getFieldValue("FLOW")){case"BREAK":return N+"break;\n";case"CONTINUE":return N+"continue;\n"}throw Error("Unknown flow statement.")},ce=function(m,y){return m=Number(m.getFieldValue("NUM")),[String(m),m>=0?M.ATOMIC:M.UNARY_NEGATION]},me=function(m,y){var N={ADD:[" + ",M.ADDITION],MINUS:[" - ",M.SUBTRACTION],MULTIPLY:[" * ",M.MULTIPLICATION],DIVIDE:[" / ",M.DIVISION],POWER:[null,M.NONE]}[m.getFieldValue("OP")];const U=N[0];N=N[1];const te=y.valueToCode(m,"A",N)||"0";return m=y.valueToCode(m,"B",N)||"0",U?[te+U+m,N]:["Math.pow("+te+", "+m+")",M.FUNCTION_CALL]},ve=function(m,y){const N=m.getFieldValue("OP");let U;if(N==="NEG")return m=y.valueToCode(m,"NUM",M.UNARY_NEGATION)||"0",m[0]==="-"&&(m=" "+m),["-"+m,M.UNARY_NEGATION];switch(m=N==="SIN"||N==="COS"||N==="TAN"?y.valueToCode(m,"NUM",M.DIVISION)||"0":y.valueToCode(m,"NUM",M.NONE)||"0",N){case"ABS":U="Math.abs("+m+")";break;case"ROOT":U="Math.sqrt("+m+")";break;case"LN":U="Math.log("+m+")";break;case"EXP":U="Math.exp("+m+")";break;case"POW10":U="Math.pow(10,"+m+")";break;case"ROUND":U="Math.round("+m+")";break;case"ROUNDUP":U="Math.ceil("+m+")";break;case"ROUNDDOWN":U="Math.floor("+m+")";break;case"SIN":U="Math.sin("+m+" / 180 * Math.PI)";break;case"COS":U="Math.cos("+m+" / 180 * Math.PI)";break;case"TAN":U="Math.tan("+m+" / 180 * Math.PI)"}if(U)return[U,M.FUNCTION_CALL];switch(N){case"LOG10":U="Math.log("+m+") / Math.log(10)";break;case"ASIN":U="Math.asin("+m+") / Math.PI * 180";break;case"ACOS":U="Math.acos("+m+") / Math.PI * 180";break;case"ATAN":U="Math.atan("+m+") / Math.PI * 180";break;default:throw Error("Unknown math operator: "+N)}return[U,M.DIVISION]},Te=function(m,y){return{PI:["Math.PI",M.MEMBER],E:["Math.E",M.MEMBER],GOLDEN_RATIO:["(1 + Math.sqrt(5)) / 2",M.DIVISION],SQRT2:["Math.SQRT2",M.MEMBER],SQRT1_2:["Math.SQRT1_2",M.MEMBER],INFINITY:["Infinity",M.ATOMIC]}[m.getFieldValue("CONSTANT")]},ee=function(m,y){var N={EVEN:[" % 2 === 0",M.MODULUS,M.EQUALITY],ODD:[" % 2 === 1",M.MODULUS,M.EQUALITY],WHOLE:[" % 1 === 0",M.MODULUS,M.EQUALITY],POSITIVE:[" > 0",M.RELATIONAL,M.RELATIONAL],NEGATIVE:[" < 0",M.RELATIONAL,M.RELATIONAL],DIVISIBLE_BY:[null,M.MODULUS,M.EQUALITY],PRIME:[null,M.NONE,M.FUNCTION_CALL]};const U=m.getFieldValue("PROPERTY"),[te,ye,Me]=N[U];return N=y.valueToCode(m,"NUMBER_TO_CHECK",ye)||"0",U==="PRIME"?m=y.provideFunction_("mathIsPrime","\nfunction ".concat(y.FUNCTION_NAME_PLACEHOLDER_,"(n) {\n  // https://en.wikipedia.org/wiki/Primality_test#Naive_methods\n  if (n == 2 || n == 3) {\n    return true;\n  }\n  // False if n is NaN, negative, is 1, or not whole.\n  // And false if n is divisible by 2 or 3.\n  if (isNaN(n) || n <= 1 || n % 1 !== 0 || n % 2 === 0 || n % 3 === 0) {\n    return false;\n  }\n  // Check all the numbers of form 6k +/- 1, up to sqrt(n).\n  for (var x = 6; x <= Math.sqrt(n) + 1; x += 6) {\n    if (n % (x - 1) === 0 || n % (x + 1) === 0) {\n      return false;\n    }\n  }\n  return true;\n}\n"))+"("+N+")":U==="DIVISIBLE_BY"?(m=y.valueToCode(m,"DIVISOR",M.MODULUS)||"0",m=N+" % "+m+" === 0"):m=N+te,[m,Me]},he=function(m,y){const N=y.valueToCode(m,"DELTA",M.ADDITION)||"0";return m=y.getVariableName(m.getFieldValue("VAR")),m+" = (typeof "+m+" === 'number' ? "+m+" : 0) + "+N+";\n"},pe=function(m,y){var N=m.getFieldValue("OP");switch(N){case"SUM":m=y.valueToCode(m,"LIST",M.MEMBER)||"[]",m+=".reduce(function(x, y) {return x + y;}, 0)";break;case"MIN":m=y.valueToCode(m,"LIST",M.NONE)||"[]",m="Math.min.apply(null, "+m+")";break;case"MAX":m=y.valueToCode(m,"LIST",M.NONE)||"[]",m="Math.max.apply(null, "+m+")";break;case"AVERAGE":N=y.provideFunction_("mathMean","\nfunction ".concat(y.FUNCTION_NAME_PLACEHOLDER_,"(myList) {\n  return myList.reduce(function(x, y) {return x + y;}, 0) / myList.length;\n}\n")),m=y.valueToCode(m,"LIST",M.NONE)||"[]",m=N+"("+m+")";break;case"MEDIAN":N=y.provideFunction_("mathMedian","\nfunction ".concat(y.FUNCTION_NAME_PLACEHOLDER_,"(myList) {\n  var localList = myList.filter(function (x) {return typeof x === 'number';});\n  if (!localList.length) return null;\n  localList.sort(function(a, b) {return b - a;});\n  if (localList.length % 2 === 0) {\n    return (localList[localList.length / 2 - 1] + localList[localList.length / 2]) / 2;\n  } else {\n    return localList[(localList.length - 1) / 2];\n  }\n}\n")),m=y.valueToCode(m,"LIST",M.NONE)||"[]",m=N+"("+m+")";break;case"MODE":N=y.provideFunction_("mathModes","\nfunction ".concat(y.FUNCTION_NAME_PLACEHOLDER_,"(values) {\n  var modes = [];\n  var counts = [];\n  var maxCount = 0;\n  for (var i = 0; i < values.length; i++) {\n    var value = values[i];\n    var found = false;\n    var thisCount;\n    for (var j = 0; j < counts.length; j++) {\n      if (counts[j][0] === value) {\n        thisCount = ++counts[j][1];\n        found = true;\n        break;\n      }\n    }\n    if (!found) {\n      counts.push([value, 1]);\n      thisCount = 1;\n    }\n    maxCount = Math.max(thisCount, maxCount);\n  }\n  for (var j = 0; j < counts.length; j++) {\n    if (counts[j][1] === maxCount) {\n      modes.push(counts[j][0]);\n    }\n  }\n  return modes;\n}\n")),m=y.valueToCode(m,"LIST",M.NONE)||"[]",m=N+"("+m+")";break;case"STD_DEV":N=y.provideFunction_("mathStandardDeviation","\nfunction ".concat(y.FUNCTION_NAME_PLACEHOLDER_,"(numbers) {\n  var n = numbers.length;\n  if (!n) return null;\n  var mean = numbers.reduce(function(x, y) {return x + y;}) / n;\n  var variance = 0;\n  for (var j = 0; j < n; j++) {\n    variance += Math.pow(numbers[j] - mean, 2);\n  }\n  variance /= n;\n  return Math.sqrt(variance);\n}\n")),m=y.valueToCode(m,"LIST",M.NONE)||"[]",m=N+"("+m+")";break;case"RANDOM":N=y.provideFunction_("mathRandomList","\nfunction ".concat(y.FUNCTION_NAME_PLACEHOLDER_,"(list) {\n  var x = Math.floor(Math.random() * list.length);\n  return list[x];\n}\n")),m=y.valueToCode(m,"LIST",M.NONE)||"[]",m=N+"("+m+")";break;default:throw Error("Unknown operator: "+N)}return[m,M.FUNCTION_CALL]},ae=function(m,y){const N=y.valueToCode(m,"DIVIDEND",M.MODULUS)||"0";return m=y.valueToCode(m,"DIVISOR",M.MODULUS)||"0",[N+" % "+m,M.MODULUS]},V=function(m,y){const N=y.valueToCode(m,"VALUE",M.NONE)||"0",U=y.valueToCode(m,"LOW",M.NONE)||"0";return m=y.valueToCode(m,"HIGH",M.NONE)||"Infinity",["Math.min(Math.max("+N+", "+U+"), "+m+")",M.FUNCTION_CALL]},Se=function(m,y){const N=y.valueToCode(m,"FROM",M.NONE)||"0";return m=y.valueToCode(m,"TO",M.NONE)||"0",[y.provideFunction_("mathRandomInt","\nfunction ".concat(y.FUNCTION_NAME_PLACEHOLDER_,"(a, b) {\n  if (a > b) {\n    // Swap a and b to ensure a is smaller.\n    var c = a;\n    a = b;\n    b = c;\n  }\n  return Math.floor(Math.random() * (b - a + 1) + a);\n}\n"))+"("+N+", "+m+")",M.FUNCTION_CALL]},le=function(m,y){return["Math.random()",M.FUNCTION_CALL]},Ee=function(m,y){const N=y.valueToCode(m,"X",M.NONE)||"0";return["Math.atan2("+(y.valueToCode(m,"Y",M.NONE)||"0")+", "+N+") / Math.PI * 180",M.DIVISION]},$e=function(m,y){const N=y.getProcedureName(m.getFieldValue("NAME"));var U="";y.STATEMENT_PREFIX&&(U+=y.injectId(y.STATEMENT_PREFIX,m)),y.STATEMENT_SUFFIX&&(U+=y.injectId(y.STATEMENT_SUFFIX,m)),U&&(U=y.prefixLines(U,y.INDENT));let te="";y.INFINITE_LOOP_TRAP&&(te=y.prefixLines(y.injectId(y.INFINITE_LOOP_TRAP,m),y.INDENT));let ye="";m.getInput("STACK")&&(ye=y.statementToCode(m,"STACK"));let Me="";m.getInput("RETURN")&&(Me=y.valueToCode(m,"RETURN",M.NONE)||"");let fo="";ye&&Me&&(fo=U),Me&&(Me=y.INDENT+"return "+Me+";\n");const $n=[],Ni=m.getVars();for(let go=0;go<Ni.length;go++)$n[go]=y.getVariableName(Ni[go]);return U="function "+N+"("+$n.join(", ")+") {\n"+U+te+ye+fo+Me+"}",U=y.scrub_(m,U),y.definitions_["%"+N]=U,null},Re=function(m,y){const N=y.getProcedureName(m.getFieldValue("NAME")),U=[],te=m.getVars();for(let ye=0;ye<te.length;ye++)U[ye]=y.valueToCode(m,"ARG"+ye,M.NONE)||"null";return[N+"("+U.join(", ")+")",M.FUNCTION_CALL]},ke=function(m,y){return y.forBlock.procedures_callreturn(m,y)[0]+";\n"},Ye=function(m,y){let N="if ("+(y.valueToCode(m,"CONDITION",M.NONE)||"false")+") {\n";return y.STATEMENT_SUFFIX&&(N+=y.prefixLines(y.injectId(y.STATEMENT_SUFFIX,m),y.INDENT)),m.hasReturnValue_?(m=y.valueToCode(m,"VALUE",M.NONE)||"null",N+=y.INDENT+"return "+m+";\n"):N+=y.INDENT+"return;\n",N+"}\n"},we=function(m,y){return[y.quote_(m.getFieldValue("TEXT")),M.ATOMIC]},ot=function(m,y){switch(m.itemCount_){case 0:return["''",M.ATOMIC];case 1:return m=y.valueToCode(m,"ADD0",M.NONE)||"''",O(m);case 2:var N=y.valueToCode(m,"ADD0",M.NONE)||"''";return m=y.valueToCode(m,"ADD1",M.NONE)||"''",[O(N)[0]+" + "+O(m)[0],M.ADDITION];default:N=Array(m.itemCount_);for(let U=0;U<m.itemCount_;U++)N[U]=y.valueToCode(m,"ADD"+U,M.NONE)||"''";return["["+N.join(",")+"].join('')",M.FUNCTION_CALL]}},ge=function(m,y){const N=y.getVariableName(m.getFieldValue("VAR"));return m=y.valueToCode(m,"TEXT",M.NONE)||"''",N+" += "+O(m)[0]+";\n"},ro=function(m,y){return[(y.valueToCode(m,"VALUE",M.MEMBER)||"''")+".length",M.MEMBER]},q=function(m,y){return["!"+(y.valueToCode(m,"VALUE",M.MEMBER)||"''")+".length",M.LOGICAL_NOT]},fe=function(m,y){const N=m.getFieldValue("END")==="FIRST"?"indexOf":"lastIndexOf",U=y.valueToCode(m,"FIND",M.NONE)||"''";return y=(y.valueToCode(m,"VALUE",M.MEMBER)||"''")+"."+N+"("+U+")",m.workspace.options.oneBasedIndex?[y+" + 1",M.ADDITION]:[y,M.FUNCTION_CALL]},Co=function(m,y){const N=m.getFieldValue("WHERE")||"FROM_START",U=y.valueToCode(m,"VALUE",N==="RANDOM"?M.NONE:M.MEMBER)||"''";switch(N){case"FIRST":return[U+".charAt(0)",M.FUNCTION_CALL];case"LAST":return[U+".slice(-1)",M.FUNCTION_CALL];case"FROM_START":return m=y.getAdjusted(m,"AT"),[U+".charAt("+m+")",M.FUNCTION_CALL];case"FROM_END":return m=y.getAdjusted(m,"AT",1,!0),[U+".slice("+m+").charAt(0)",M.FUNCTION_CALL];case"RANDOM":return[y.provideFunction_("textRandomLetter","\nfunction ".concat(y.FUNCTION_NAME_PLACEHOLDER_,"(text) {\n  var x = Math.floor(Math.random() * text.length);\n  return text[x];\n}\n"))+"("+U+")",M.FUNCTION_CALL]}throw Error("Unhandled option (text_charAt).")},De=function(m,y){var N={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"};const U=m.getFieldValue("WHERE1"),te=m.getFieldValue("WHERE2");var ye=U!=="FROM_END"&&U!=="LAST"&&te!=="FROM_END"&&te!=="LAST",Me=y.valueToCode(m,"STRING",ye?M.MEMBER:M.NONE)||"''";if(U==="FIRST"&&te==="LAST")return[Me,M.NONE];if(Me.match(/^'?\w+'?$/)||ye){switch(U){case"FROM_START":N=y.getAdjusted(m,"AT1");break;case"FROM_END":N=y.getAdjusted(m,"AT1",1,!1,M.SUBTRACTION),N=Me+".length - "+N;break;case"FIRST":N="0";break;default:throw Error("Unhandled option (text_getSubstring).")}switch(te){case"FROM_START":y=y.getAdjusted(m,"AT2",1);break;case"FROM_END":y=y.getAdjusted(m,"AT2",0,!1,M.SUBTRACTION),y=Me+".length - "+y;break;case"LAST":y=Me+".length";break;default:throw Error("Unhandled option (text_getSubstring).")}Me=Me+".slice("+N+", "+y+")"}else ye=y.getAdjusted(m,"AT1"),m=y.getAdjusted(m,"AT2"),Me=y.provideFunction_("subsequence"+N[U]+N[te],"\nfunction ".concat(y.FUNCTION_NAME_PLACEHOLDER_,"(sequence").concat(U==="FROM_END"||U==="FROM_START"?", at1":"").concat(te==="FROM_END"||te==="FROM_START"?", at2":"",") {\n  var start = ").concat(D("sequence",U,"at1"),";\n  var end = ").concat(D("sequence",te,"at2")," + 1;\n  return sequence.slice(start, end);\n}\n"))+"("+Me+(U==="FROM_END"||U==="FROM_START"?", "+ye:"")+(te==="FROM_END"||te==="FROM_START"?", "+m:"")+")";return[Me,M.FUNCTION_CALL]},Po=function(m,y){const N={UPPERCASE:".toUpperCase()",LOWERCASE:".toLowerCase()",TITLECASE:null}[m.getFieldValue("CASE")];return m=y.valueToCode(m,"TEXT",N?M.MEMBER:M.NONE)||"''",[N?m+N:y.provideFunction_("textToTitleCase","\nfunction ".concat(y.FUNCTION_NAME_PLACEHOLDER_,"(str) {\n  return str.replace(/\\S+/g,\n      function(txt) {return txt[0].toUpperCase() + txt.substring(1).toLowerCase();});\n}\n"))+"("+m+")",M.FUNCTION_CALL]},Xe=function(m,y){const N={LEFT:".replace(/^[\\s\\xa0]+/, '')",RIGHT:".replace(/[\\s\\xa0]+$/, '')",BOTH:".trim()"}[m.getFieldValue("MODE")];return[(y.valueToCode(m,"TEXT",M.MEMBER)||"''")+N,M.FUNCTION_CALL]},Xo=function(m,y){return"window.alert("+(y.valueToCode(m,"TEXT",M.NONE)||"''")+");\n"},Bo=function(m,y){return y="window.prompt("+(m.getField("TEXT")?y.quote_(m.getFieldValue("TEXT")):y.valueToCode(m,"TEXT",M.NONE)||"''")+")",m.getFieldValue("TYPE")==="NUMBER"&&(y="Number("+y+")"),[y,M.FUNCTION_CALL]},bt=function(m,y){const N=y.valueToCode(m,"TEXT",M.NONE)||"''";return m=y.valueToCode(m,"SUB",M.NONE)||"''",[y.provideFunction_("textCount","\nfunction ".concat(y.FUNCTION_NAME_PLACEHOLDER_,"(haystack, needle) {\n  if (needle.length === 0) {\n    return haystack.length + 1;\n  } else {\n    return haystack.split(needle).length - 1;\n  }\n}\n"))+"("+N+", "+m+")",M.FUNCTION_CALL]},wo=function(m,y){const N=y.valueToCode(m,"TEXT",M.NONE)||"''",U=y.valueToCode(m,"FROM",M.NONE)||"''";return m=y.valueToCode(m,"TO",M.NONE)||"''",[y.provideFunction_("textReplace","\nfunction ".concat(y.FUNCTION_NAME_PLACEHOLDER_,"(haystack, needle, replacement) {\n  needle = needle.replace(/([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])/g, '\\\\$1')\n                 .replace(/\\x08/g, '\\\\x08');\n  return haystack.replace(new RegExp(needle, 'g'), replacement);\n}\n"))+"("+N+", "+U+", "+m+")",M.FUNCTION_CALL]},Tt=function(m,y){return[(y.valueToCode(m,"TEXT",M.MEMBER)||"''")+".split('').reverse().join('')",M.FUNCTION_CALL]},tn=function(m,y){return[y.getVariableName(m.getFieldValue("VAR")),M.ATOMIC]},Yo=function(m,y){const N=y.valueToCode(m,"VALUE",M.ASSIGNMENT)||"0";return y.getVariableName(m.getFieldValue("VAR"))+" = "+N+";\n"},M;(function(m){m[m.ATOMIC=0]="ATOMIC",m[m.NEW=1.1]="NEW",m[m.MEMBER=1.2]="MEMBER",m[m.FUNCTION_CALL=2]="FUNCTION_CALL",m[m.INCREMENT=3]="INCREMENT",m[m.DECREMENT=3]="DECREMENT",m[m.BITWISE_NOT=4.1]="BITWISE_NOT",m[m.UNARY_PLUS=4.2]="UNARY_PLUS",m[m.UNARY_NEGATION=4.3]="UNARY_NEGATION",m[m.LOGICAL_NOT=4.4]="LOGICAL_NOT",m[m.TYPEOF=4.5]="TYPEOF",m[m.VOID=4.6]="VOID",m[m.DELETE=4.7]="DELETE",m[m.AWAIT=4.8]="AWAIT",m[m.EXPONENTIATION=5]="EXPONENTIATION",m[m.MULTIPLICATION=5.1]="MULTIPLICATION",m[m.DIVISION=5.2]="DIVISION",m[m.MODULUS=5.3]="MODULUS",m[m.SUBTRACTION=6.1]="SUBTRACTION",m[m.ADDITION=6.2]="ADDITION",m[m.BITWISE_SHIFT=7]="BITWISE_SHIFT",m[m.RELATIONAL=8]="RELATIONAL",m[m.IN=8]="IN",m[m.INSTANCEOF=8]="INSTANCEOF",m[m.EQUALITY=9]="EQUALITY",m[m.BITWISE_AND=10]="BITWISE_AND",m[m.BITWISE_XOR=11]="BITWISE_XOR",m[m.BITWISE_OR=12]="BITWISE_OR",m[m.LOGICAL_AND=13]="LOGICAL_AND",m[m.LOGICAL_OR=14]="LOGICAL_OR",m[m.CONDITIONAL=15]="CONDITIONAL",m[m.ASSIGNMENT=16]="ASSIGNMENT",m[m.YIELD=17]="YIELD",m[m.COMMA=18]="COMMA",m[m.NONE=99]="NONE"})(M||(M={}));var Uo=class extends s.CodeGenerator$$module$build$src$core$generator{constructor(m="JavaScript"){super(m),this.ORDER_OVERRIDES=[[M.FUNCTION_CALL,M.MEMBER],[M.FUNCTION_CALL,M.FUNCTION_CALL],[M.MEMBER,M.MEMBER],[M.MEMBER,M.FUNCTION_CALL],[M.LOGICAL_NOT,M.LOGICAL_NOT],[M.MULTIPLICATION,M.MULTIPLICATION],[M.ADDITION,M.ADDITION],[M.LOGICAL_AND,M.LOGICAL_AND],[M.LOGICAL_OR,M.LOGICAL_OR]],this.isInitialized=!1;for(const y in M)m=M[y],typeof m!="string"&&(this["ORDER_"+y]=m);this.addReservedWords("break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,new,return,super,switch,this,throw,try,typeof,var,void,while,with,yield,enum,implements,interface,let,package,private,protected,public,static,await,null,true,false,arguments,"+Object.getOwnPropertyNames(globalThis).join(","))}init(m){super.init(m),this.nameDB_?this.nameDB_.reset():this.nameDB_=new s.Names$$module$build$src$core$names(this.RESERVED_WORDS_),this.nameDB_.setVariableMap(m.getVariableMap()),this.nameDB_.populateVariables(m),this.nameDB_.populateProcedures(m);const y=[];var N=s.allDeveloperVariables$$module$build$src$core$variables(m);for(let U=0;U<N.length;U++)y.push(this.nameDB_.getName(N[U],s.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE));for(m=s.allUsedVarModels$$module$build$src$core$variables(m),N=0;N<m.length;N++)y.push(this.nameDB_.getName(m[N].getId(),s.NameType$$module$build$src$core$names.VARIABLE));y.length&&(this.definitions_.variables="var "+y.join(", ")+";"),this.isInitialized=!0}finish(m){const y=Object.values(this.definitions_);return super.finish(m),this.isInitialized=!1,this.nameDB_.reset(),y.join("\n\n")+"\n\n\n"+m}scrubNakedValue(m){return m+";\n"}quote_(m){return m=m.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'"),"'"+m+"'"}multiline_quote_(m){return m.split(/\n/g).map(this.quote_).join(" + '\\n' +\n")}scrub_(m,y,N=!1){let U="";if(!m.outputConnection||!m.outputConnection.targetConnection){var te=m.getCommentText();te&&(te=s.wrap$$module$build$src$core$utils$string(te,this.COMMENT_WRAP-3),U+=this.prefixLines(te+"\n","// "));for(let ye=0;ye<m.inputList.length;ye++)m.inputList[ye].type===s.inputTypes$$module$build$src$core$inputs$input_types.VALUE&&(te=m.inputList[ye].connection.targetBlock())&&(te=this.allNestedComments(te))&&(U+=this.prefixLines(te,"// "))}return m=m.nextConnection&&m.nextConnection.targetBlock(),N=N?"":this.blockToCode(m),U+y+N}getAdjusted(m,y,N=0,U=!1,te=M.NONE){m.workspace.options.oneBasedIndex&&N--;const ye=m.workspace.options.oneBasedIndex?"1":"0";let Me=te;return N>0?Me=M.ADDITION:N<0?Me=M.SUBTRACTION:U&&(Me=M.UNARY_NEGATION),m=this.valueToCode(m,y,Me)||ye,N===0&&!U?m:s.isNumber$$module$build$src$core$utils$string(m)?(m=String(Number(m)+N),U&&(m=String(-Number(m))),m):(N>0?m="".concat(m," + ").concat(N):N<0&&(m="".concat(m," - ").concat(-N)),U&&(m=N?"-(".concat(m,")"):"-".concat(m)),Math.floor(te)>=Math.floor(Me)&&(m="(".concat(m,")")),m)}},gi=function(m,y,N){return y==="FIRST"?"0":y==="FROM_END"?m+".length - 1 - "+N:y==="LAST"?m+".length - 1":N},et={};et.lists_create_empty=l,et.lists_create_with=c,et.lists_getIndex=$,et.lists_getSublist=T,et.lists_indexOf=g,et.lists_isEmpty=p,et.lists_length=h,et.lists_repeat=d,et.lists_reverse=k,et.lists_setIndex=b,et.lists_sort=v,et.lists_split=I;var $t={};$t.controls_if=G,$t.controls_ifelse=G,$t.logic_boolean=L,$t.logic_compare=R,$t.logic_negate=w,$t.logic_null=H,$t.logic_operation=S,$t.logic_ternary=Y;var Lt={};Lt.controls_flow_statements=ie,Lt.controls_for=P,Lt.controls_forEach=J,Lt.controls_repeat=K,Lt.controls_repeat_ext=K,Lt.controls_whileUntil=j;var it={};it.math_arithmetic=me,it.math_atan2=Ee,it.math_change=he,it.math_constant=Te,it.math_constrain=V,it.math_modulo=ae,it.math_number=ce,it.math_number_property=ee,it.math_on_list=pe,it.math_random_float=le,it.math_random_int=Se,it.math_round=ve,it.math_single=ve,it.math_trig=ve;var lo={};lo.procedures_callnoreturn=ke,lo.procedures_callreturn=Re,lo.procedures_defnoreturn=$e,lo.procedures_defreturn=$e,lo.procedures_ifreturn=Ye;var _=/^\s*'([^']|\\')*'\s*$/,O=function(m){return _.test(m)?[m,M.ATOMIC]:["String("+m+")",M.FUNCTION_CALL]},D=function(m,y,N){return y==="FIRST"?"0":y==="FROM_END"?m+".length - 1 - "+N:y==="LAST"?m+".length - 1":N},B={};B.text=we,B.text_append=ge,B.text_changeCase=Po,B.text_charAt=Co,B.text_count=bt,B.text_getSubstring=De,B.text_indexOf=fe,B.text_isEmpty=q,B.text_join=ot,B.text_length=ro,B.text_print=Xo,B.text_prompt=Bo,B.text_prompt_ext=Bo,B.text_replace=wo,B.text_reverse=Tt,B.text_trim=Xe;var de={};de.variables_get=tn,de.variables_set=Yo;var Ze={};Ze.variables_get_dynamic=tn,Ze.variables_set_dynamic=Yo;var jo=new Uo,ii=Object.assign({},et,$t,Lt,it,lo,B,de,Ze);for(const m in ii)jo.forBlock[m]=ii[m];var Ne={};return Ne.JavascriptGenerator=Uo,Ne.Order=M,Ne.javascriptGenerator=jo,Ne.__namespace__=s,Ne})})(KD);var wX=KD.exports;const AX=Rs(wX),{JavascriptGenerator:jZ,Order:Gi,javascriptGenerator:Zo}=AX,xk=RX.defineTheme("steamg",{name:"steamg",blockStyles:{math_blocks:{colourPrimary:"#0077b6",colourSecondary:"#005f8f",colourTertiary:"#004a70"},variable_blocks:{colourPrimary:"#8e44ad",colourSecondary:"#7d3c98",colourTertiary:"#6c3483"},loop_blocks:{colourPrimary:"#27ae60",colourSecondary:"#229954",colourTertiary:"#1e8449"},logic_blocks:{colourPrimary:"#f39c12",colourSecondary:"#d68910",colourTertiary:"#b9770e"},text_blocks:{colourPrimary:"#e74c3c",colourSecondary:"#cb4335",colourTertiary:"#b03a2e"},list_blocks:{colourPrimary:"#2980b9",colourSecondary:"#2471a3",colourTertiary:"#1f618d"},procedure_blocks:{colourPrimary:"#9b59b6",colourSecondary:"#884ea0",colourTertiary:"#76448a"}},categoryStyles:{math_category:{colour:"#0077b6"},variable_category:{colour:"#8e44ad"},loop_category:{colour:"#27ae60"},logic_category:{colour:"#f39c12"},text_category:{colour:"#e74c3c"},list_category:{colour:"#2980b9"},procedure_category:{colour:"#9b59b6"}},componentStyles:{workspaceBackgroundColour:"#fafafa",toolboxBackgroundColour:"#ffffff",flyoutBackgroundColour:"#f0f0f0",flyoutOpacity:.9,scrollbarColour:"#ccc",insertionMarkerColour:"#0077b6"},fontStyle:{family:"system-ui, -apple-system, sans-serif",weight:"normal",size:12}});var qD={exports:{}};(function(t,o){(function(n,s){t.exports=s()})(nr,function(){var n=n||{Msg:Object.create(null)};return n.Msg.ADD_COMMENT="Aadir comentario",n.Msg.ALT_KEY="Alt",n.Msg.CANNOT_DELETE_VARIABLE_PROCEDURE="No se puede eliminar la variable '%1' porque es parte de la definicin de la funcin '%2'",n.Msg.CHANGE_VALUE_TITLE="Cambiar el valor:",n.Msg.CHROME_OS="ChromeOS",n.Msg.CLEAN_UP="Limpiar los bloques",n.Msg.CLOSE="Close",n.Msg.COLLAPSED_WARNINGS_WARNING="Bloques colapsados contienen advertencias.",n.Msg.COLLAPSE_ALL="Contraer bloques",n.Msg.COLLAPSE_BLOCK="Contraer bloque",n.Msg.COLOUR_BLEND_COLOUR1="color 1",n.Msg.COLOUR_BLEND_COLOUR2="color 2",n.Msg.COLOUR_BLEND_HELPURL="https://meyerweb.com/eric/tools/color-blend/#:::rgbp",n.Msg.COLOUR_BLEND_RATIO="proporcin",n.Msg.COLOUR_BLEND_TITLE="combinar",n.Msg.COLOUR_BLEND_TOOLTIP="Combina dos colores con una proporcin determinada (0,0 - 1,0).",n.Msg.COLOUR_PICKER_HELPURL="https://es.wikipedia.org/wiki/Color",n.Msg.COLOUR_PICKER_TOOLTIP="Elige un color de la paleta.",n.Msg.COLOUR_RANDOM_HELPURL="http://randomcolour.com",n.Msg.COLOUR_RANDOM_TITLE="color aleatorio",n.Msg.COLOUR_RANDOM_TOOLTIP="Elige un color al azar.",n.Msg.COLOUR_RGB_BLUE="azul",n.Msg.COLOUR_RGB_GREEN="verde",n.Msg.COLOUR_RGB_HELPURL="https://www.december.com/html/spec/colorpercompact.html",n.Msg.COLOUR_RGB_RED="rojo",n.Msg.COLOUR_RGB_TITLE="colorear con",n.Msg.COLOUR_RGB_TOOLTIP="Crea un color con cantidades especficas de rojo, verde y azul. Todos los valores deben encontrarse entre 0 y 100.",n.Msg.COMMAND_KEY=" Command",n.Msg.CONTROLS_FLOW_STATEMENTS_HELPURL="https://github.com/google/blockly/wiki/Loops#loop-termination-blocks",n.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK="romper el bucle",n.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE="continuar con la siguiente iteracin del bucle",n.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK="Romper el bucle que lo contiene.",n.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE="Saltar el resto de este bucle, y continuar con la siguiente iteracin.",n.Msg.CONTROLS_FLOW_STATEMENTS_WARNING="Atencin: este bloque puede usarse solamente dentro de un bucle.",n.Msg.CONTROLS_FOREACH_HELPURL="https://es.wikipedia.org/wiki/Foreach",n.Msg.CONTROLS_FOREACH_TITLE="para cada elemento %1 en la lista %2",n.Msg.CONTROLS_FOREACH_TOOLTIP="Para cada elemento en una lista, establecer la variable '%1' al elemento y luego hacer algunas declaraciones.",n.Msg.CONTROLS_FOR_HELPURL="https://github.com/google/blockly/wiki/Loops#count-with",n.Msg.CONTROLS_FOR_TITLE="contar con %1 desde %2 hasta %3 de a %4",n.Msg.CONTROLS_FOR_TOOLTIP='Hacer que la variable "%1" tome los valores desde el nmero de inicio hasta el nmero final, contando con el intervalo especificado, y hacer los bloques especificados.',n.Msg.CONTROLS_IF_ELSEIF_TOOLTIP="Agregar una condicin a este bloque.",n.Msg.CONTROLS_IF_ELSE_TOOLTIP="Agregar una condicin general final a este bloque.",n.Msg.CONTROLS_IF_HELPURL="https://github.com/google/blockly/wiki/IfElse",n.Msg.CONTROLS_IF_IF_TOOLTIP="Agregar, eliminar o reordenar las secciones para reconfigurar este bloque.",n.Msg.CONTROLS_IF_MSG_ELSE="sino",n.Msg.CONTROLS_IF_MSG_ELSEIF="sino si",n.Msg.CONTROLS_IF_MSG_IF="si",n.Msg.CONTROLS_IF_TOOLTIP_1="Si un valor es verdadero, entonces hacer algunas declaraciones.",n.Msg.CONTROLS_IF_TOOLTIP_2="Si un valor es verdadero, entonces hacer el primer bloque de declaraciones.  De lo contrario, hacer el segundo bloque de declaraciones.",n.Msg.CONTROLS_IF_TOOLTIP_3="Si el primer valor es verdadero, entonces hacer el primer bloque de declaraciones. De lo contrario, si el segundo valor es verdadero, hacer el segundo bloque de declaraciones.",n.Msg.CONTROLS_IF_TOOLTIP_4="Si el primer valor es verdadero, entonces hacer el primer bloque de declaraciones. De lo contrario, si el segundo valor es verdadero, hacer el segundo bloque de declaraciones. Si ninguno de los valores son verdaderos, hacer el ltimo bloque de declaraciones.",n.Msg.CONTROLS_REPEAT_HELPURL="https://es.wikipedia.org/wiki/Bucle_for",n.Msg.CONTROLS_REPEAT_INPUT_DO="hacer",n.Msg.CONTROLS_REPEAT_TITLE="repetir %1 veces",n.Msg.CONTROLS_REPEAT_TOOLTIP="Hacer algunas declaraciones varias veces.",n.Msg.CONTROLS_WHILEUNTIL_HELPURL="https://github.com/google/blockly/wiki/Loops#repeat",n.Msg.CONTROLS_WHILEUNTIL_OPERATOR_UNTIL="repetir hasta",n.Msg.CONTROLS_WHILEUNTIL_OPERATOR_WHILE="repetir mientras",n.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL="Mientras un valor sea falso, entonces hacer algunas declaraciones.",n.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_WHILE="Mientras un valor sea verdadero, entonces hacer algunas declaraciones.",n.Msg.CONTROL_KEY="Ctrl",n.Msg.COPY_SHORTCUT="Copy",n.Msg.CUT_SHORTCUT="Cut",n.Msg.DELETE_ALL_BLOCKS="Eliminar todos los %1 bloques?",n.Msg.DELETE_BLOCK="Eliminar bloque",n.Msg.DELETE_VARIABLE="Borrar la variable '%1'",n.Msg.DELETE_VARIABLE_CONFIRMATION="Borrar %1 usos de la variable '%2'?",n.Msg.DELETE_X_BLOCKS="Eliminar %1 bloques",n.Msg.DIALOG_CANCEL="Cancelar",n.Msg.DIALOG_OK="Aceptar",n.Msg.DISABLE_BLOCK="Desactivar bloque",n.Msg.DUPLICATE_BLOCK="Duplicar",n.Msg.DUPLICATE_COMMENT="Duplicar comentario",n.Msg.EDIT_BLOCK_CONTENTS="Edit Block contents",n.Msg.ENABLE_BLOCK="Activar bloque",n.Msg.EXPAND_ALL="Expandir bloques",n.Msg.EXPAND_BLOCK="Expandir bloque",n.Msg.EXTERNAL_INPUTS="Entradas externas",n.Msg.HELP="Ayuda",n.Msg.HELP_PROMPT="Press %1 for help on keyboard controls",n.Msg.INLINE_INPUTS="Entradas en lnea",n.Msg.KEYBOARD_NAV_CONSTRAINED_MOVE_HINT="Use the arrow keys to move, then %1 to accept the position",n.Msg.KEYBOARD_NAV_COPIED_HINT="Copied. Press %1 to paste.",n.Msg.KEYBOARD_NAV_CUT_HINT="Cut. Press %1 to paste.",n.Msg.KEYBOARD_NAV_UNCONSTRAINED_MOVE_HINT="Hold %1 and use arrow keys to move freely, then %2 to accept the position",n.Msg.LINUX="Linux",n.Msg.LISTS_CREATE_EMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#create-empty-list",n.Msg.LISTS_CREATE_EMPTY_TITLE="crear lista vaca",n.Msg.LISTS_CREATE_EMPTY_TOOLTIP="Devuelve una lista, de longitud 0, sin ningn dato",n.Msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD="lista",n.Msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP="Agregar, eliminar o reorganizar las secciones para reconfigurar este bloque de lista.",n.Msg.LISTS_CREATE_WITH_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",n.Msg.LISTS_CREATE_WITH_INPUT_WITH="crear lista con",n.Msg.LISTS_CREATE_WITH_ITEM_TOOLTIP="Agregar un elemento a la lista.",n.Msg.LISTS_CREATE_WITH_TOOLTIP="Crear una lista con cualquier nmero de elementos.",n.Msg.LISTS_GET_INDEX_FIRST="primero",n.Msg.LISTS_GET_INDEX_FROM_END="# del final",n.Msg.LISTS_GET_INDEX_FROM_START="#",n.Msg.LISTS_GET_INDEX_GET="obtener",n.Msg.LISTS_GET_INDEX_GET_REMOVE="obtener y eliminar",n.Msg.LISTS_GET_INDEX_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-items-from-a-list",n.Msg.LISTS_GET_INDEX_LAST="ltimo",n.Msg.LISTS_GET_INDEX_RANDOM="aleatorio",n.Msg.LISTS_GET_INDEX_REMOVE="eliminar",n.Msg.LISTS_GET_INDEX_TAIL="",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST="Devuelve el primer elemento de una lista.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM="Devuelve el elemento en la posicin especificada en una lista.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST="Devuelve el ltimo elemento de una lista.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM="Devuelve un elemento aleatorio en una lista.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST="Elimina y devuelve el primer elemento de una lista.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM="Elimina y devuelve el elemento en la posicin especificada en una lista.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST="Elimina y devuelve el ltimo elemento de una lista.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM="Elimina y devuelve un elemento aleatorio en una lista.",n.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST="Elimina el primer elemento de una lista.",n.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM="Elimina el elemento en la posicin especificada en una lista.",n.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST="Elimina el ltimo elemento de una lista.",n.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM="Elimina un elemento aleatorio en una lista.",n.Msg.LISTS_GET_SUBLIST_END_FROM_END="hasta # del final",n.Msg.LISTS_GET_SUBLIST_END_FROM_START="hasta #",n.Msg.LISTS_GET_SUBLIST_END_LAST="hasta el ltimo",n.Msg.LISTS_GET_SUBLIST_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-a-sublist",n.Msg.LISTS_GET_SUBLIST_START_FIRST="obtener sublista desde el primero",n.Msg.LISTS_GET_SUBLIST_START_FROM_END="obtener sublista desde # del final",n.Msg.LISTS_GET_SUBLIST_START_FROM_START="obtener sublista desde #",n.Msg.LISTS_GET_SUBLIST_TAIL="",n.Msg.LISTS_GET_SUBLIST_TOOLTIP="Crea una copia de la parte especificada de una lista.",n.Msg.LISTS_INDEX_FROM_END_TOOLTIP="%1 es el ltimo elemento.",n.Msg.LISTS_INDEX_FROM_START_TOOLTIP="%1 es el primer elemento.",n.Msg.LISTS_INDEX_OF_FIRST="encontrar la primera aparicin del elemento",n.Msg.LISTS_INDEX_OF_HELPURL="https://github.com/google/blockly/wiki/Lists#finding-items-in-a-list",n.Msg.LISTS_INDEX_OF_LAST="encontrar la ltima aparicin del elemento",n.Msg.LISTS_INDEX_OF_TOOLTIP="Devuelve el ndice de la primera/ltima aparicin del elemento en la lista. Devuelve %1 si el elemento no se encuentra.",n.Msg.LISTS_INLIST="en la lista",n.Msg.LISTS_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#is-empty",n.Msg.LISTS_ISEMPTY_TITLE="%1 est vaca",n.Msg.LISTS_ISEMPTY_TOOLTIP="Devuelve verdadero si la lista est vaca.",n.Msg.LISTS_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Lists#length-of",n.Msg.LISTS_LENGTH_TITLE="longitud de %1",n.Msg.LISTS_LENGTH_TOOLTIP="Devuelve la longitud de una lista.",n.Msg.LISTS_REPEAT_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",n.Msg.LISTS_REPEAT_TITLE="crear lista con el elemento %1 repetido %2 veces",n.Msg.LISTS_REPEAT_TOOLTIP="Crea una lista que consta de un valor dado repetido el nmero de veces especificado.",n.Msg.LISTS_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Lists#reversing-a-list",n.Msg.LISTS_REVERSE_MESSAGE0="invertir %1",n.Msg.LISTS_REVERSE_TOOLTIP="Invertir una copia de una lista.",n.Msg.LISTS_SET_INDEX_HELPURL="https://github.com/google/blockly/wiki/Lists#in-list--set",n.Msg.LISTS_SET_INDEX_INPUT_TO="como",n.Msg.LISTS_SET_INDEX_INSERT="insertar en",n.Msg.LISTS_SET_INDEX_SET="establecer",n.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST="Inserta el elemento al inicio de una lista.",n.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM="Inserta el elemento en la posicin especificada en una lista.",n.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST="Aade el elemento al final de una lista.",n.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM="Inserta el elemento aleatoriamente en una lista.",n.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST="Establece el primer elemento de una lista.",n.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM="Establece el elemento en la posicin especificada en una lista.",n.Msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST="Establece el ltimo elemento de una lista.",n.Msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM="Establece un elemento aleatorio en una lista.",n.Msg.LISTS_SORT_HELPURL="https://github.com/google/blockly/wiki/Lists#sorting-a-list",n.Msg.LISTS_SORT_ORDER_ASCENDING="ascendente",n.Msg.LISTS_SORT_ORDER_DESCENDING="descendente",n.Msg.LISTS_SORT_TITLE="orden %1 %2 %3",n.Msg.LISTS_SORT_TOOLTIP="Ordenar una copia de una lista.",n.Msg.LISTS_SORT_TYPE_IGNORECASE="alfabtico, ignorar mayscula/minscula",n.Msg.LISTS_SORT_TYPE_NUMERIC="numrico",n.Msg.LISTS_SORT_TYPE_TEXT="alfabtico",n.Msg.LISTS_SPLIT_HELPURL="https://github.com/google/blockly/wiki/Lists#splitting-strings-and-joining-lists",n.Msg.LISTS_SPLIT_LIST_FROM_TEXT="hacer lista a partir de texto",n.Msg.LISTS_SPLIT_TEXT_FROM_LIST="hacer texto a partir de lista",n.Msg.LISTS_SPLIT_TOOLTIP_JOIN="Unir una lista de textos en un solo texto, separado por un delimitador.",n.Msg.LISTS_SPLIT_TOOLTIP_SPLIT="Dividir el texto en una lista de textos, separando en cada delimitador.",n.Msg.LISTS_SPLIT_WITH_DELIMITER="con delimitador",n.Msg.LOGIC_BOOLEAN_FALSE="falso",n.Msg.LOGIC_BOOLEAN_HELPURL="https://github.com/google/blockly/wiki/Logic#values",n.Msg.LOGIC_BOOLEAN_TOOLTIP="Devuelve verdadero o falso.",n.Msg.LOGIC_BOOLEAN_TRUE="verdadero",n.Msg.LOGIC_COMPARE_HELPURL="https://es.wikipedia.org/wiki/Desigualdad_matemtica",n.Msg.LOGIC_COMPARE_TOOLTIP_EQ="Devuelve verdadero si ambas entradas son iguales.",n.Msg.LOGIC_COMPARE_TOOLTIP_GT="Devuelve verdadero si la primera entrada es mayor que la segunda entrada.",n.Msg.LOGIC_COMPARE_TOOLTIP_GTE="Devuelve verdadero si la primera entrada es mayor o igual a la segunda entrada.",n.Msg.LOGIC_COMPARE_TOOLTIP_LT="Devuelve verdadero si la primera entrada es menor que la segunda entrada.",n.Msg.LOGIC_COMPARE_TOOLTIP_LTE="Devuelve verdadero si la primera entrada es menor que o igual a la segunda entrada.",n.Msg.LOGIC_COMPARE_TOOLTIP_NEQ="Devuelve verdadero si ambas entradas son distintas.",n.Msg.LOGIC_NEGATE_HELPURL="https://github.com/google/blockly/wiki/Logic#not",n.Msg.LOGIC_NEGATE_TITLE="no %1",n.Msg.LOGIC_NEGATE_TOOLTIP="Devuelve verdadero si la entrada es falsa. Devuelve falso si la entrada es verdadera.",n.Msg.LOGIC_NULL="nulo",n.Msg.LOGIC_NULL_HELPURL="https://en.wikipedia.org/wiki/Nullable_type",n.Msg.LOGIC_NULL_TOOLTIP="Devuelve nulo.",n.Msg.LOGIC_OPERATION_AND="y",n.Msg.LOGIC_OPERATION_HELPURL="https://github.com/google/blockly/wiki/Logic#logical-operations",n.Msg.LOGIC_OPERATION_OR="o",n.Msg.LOGIC_OPERATION_TOOLTIP_AND="Devuelve verdadero si ambas entradas son verdaderas.",n.Msg.LOGIC_OPERATION_TOOLTIP_OR="Devuelve verdadero si al menos una de las entradas es verdadera.",n.Msg.LOGIC_TERNARY_CONDITION="prueba",n.Msg.LOGIC_TERNARY_HELPURL="https://en.wikipedia.org/wiki/%3F:",n.Msg.LOGIC_TERNARY_IF_FALSE="si es falso",n.Msg.LOGIC_TERNARY_IF_TRUE="si es verdadero",n.Msg.LOGIC_TERNARY_TOOLTIP='Comprueba la condicin en "prueba". Si la condicin es verdadera, devuelve el valor "si es verdadero"; de lo contrario, devuelve el valor "si es falso".',n.Msg.MAC_OS="macOS",n.Msg.MATH_ADDITION_SYMBOL="+",n.Msg.MATH_ARITHMETIC_HELPURL="https://es.wikipedia.org/wiki/Aritmtica",n.Msg.MATH_ARITHMETIC_TOOLTIP_ADD="Devuelve la suma de ambos nmeros.",n.Msg.MATH_ARITHMETIC_TOOLTIP_DIVIDE="Devuelve el cociente de ambos nmeros.",n.Msg.MATH_ARITHMETIC_TOOLTIP_MINUS="Devuelve la diferencia de ambos nmeros.",n.Msg.MATH_ARITHMETIC_TOOLTIP_MULTIPLY="Devuelve el producto de ambos nmeros.",n.Msg.MATH_ARITHMETIC_TOOLTIP_POWER="Devuelve el primer nmero elevado a la potencia del segundo.",n.Msg.MATH_ATAN2_HELPURL="https://es.wikipedia.org/wiki/Arcotangente_de_dos_par%C3%A1metros",n.Msg.MATH_ATAN2_TITLE="Arcotangente de X:%1 Y:%2",n.Msg.MATH_ATAN2_TOOLTIP="Regresar el arcotangente del punto (X,Y) en grados de -180 a 180.",n.Msg.MATH_CHANGE_HELPURL="https://en.wikipedia.org/wiki/Programming_idiom#Incrementing_a_counter",n.Msg.MATH_CHANGE_TITLE="aadir %2 a %1",n.Msg.MATH_CHANGE_TOOLTIP="Aadir un nmero a la variable %1.",n.Msg.MATH_CONSTANT_HELPURL="https://es.wikipedia.org/wiki/Anexo:Constantes_matemticas",n.Msg.MATH_CONSTANT_TOOLTIP="Devuelve una de las constantes comunes:  (3.141), e (2.718),  (1.618), sqrt(2) (1.414), sqrt() (0.707) o  (infinito).",n.Msg.MATH_CONSTRAIN_HELPURL="https://en.wikipedia.org/wiki/Clamping_(graphics)",n.Msg.MATH_CONSTRAIN_TITLE="limitar %1 entre %2 y %3",n.Msg.MATH_CONSTRAIN_TOOLTIP="Limitar un nmero entre los lmites especificados (inclusive).",n.Msg.MATH_DIVISION_SYMBOL="",n.Msg.MATH_IS_DIVISIBLE_BY="es divisible por",n.Msg.MATH_IS_EVEN="es par",n.Msg.MATH_IS_NEGATIVE="es negativo",n.Msg.MATH_IS_ODD="es impar",n.Msg.MATH_IS_POSITIVE="es positivo",n.Msg.MATH_IS_PRIME="es primo",n.Msg.MATH_IS_TOOLTIP="Comprueba si un nmero es par, impar, primo, entero, positivo, negativo, o si es divisible por un nmero determinado. Devuelve verdadero o falso.",n.Msg.MATH_IS_WHOLE="es entero",n.Msg.MATH_MODULO_HELPURL="https://en.wikipedia.org/wiki/Modulo_operation",n.Msg.MATH_MODULO_TITLE="resto de %1  %2",n.Msg.MATH_MODULO_TOOLTIP="Devuelve el resto al dividir los dos nmeros.",n.Msg.MATH_MULTIPLICATION_SYMBOL="",n.Msg.MATH_NUMBER_HELPURL="https://es.wikipedia.org/wiki/Nmero",n.Msg.MATH_NUMBER_TOOLTIP="Un nmero.",n.Msg.MATH_ONLIST_HELPURL="",n.Msg.MATH_ONLIST_OPERATOR_AVERAGE="promedio de la lista",n.Msg.MATH_ONLIST_OPERATOR_MAX="mximo de la lista",n.Msg.MATH_ONLIST_OPERATOR_MEDIAN="mediana de la lista",n.Msg.MATH_ONLIST_OPERATOR_MIN="mnimo de la lista",n.Msg.MATH_ONLIST_OPERATOR_MODE="modas de la lista",n.Msg.MATH_ONLIST_OPERATOR_RANDOM="elemento aleatorio de la lista",n.Msg.MATH_ONLIST_OPERATOR_STD_DEV="desviacin estndar de la lista",n.Msg.MATH_ONLIST_OPERATOR_SUM="suma de la lista",n.Msg.MATH_ONLIST_TOOLTIP_AVERAGE="Devuelve el promedio (media aritmtica) de los valores numricos en la lista.",n.Msg.MATH_ONLIST_TOOLTIP_MAX="Devuelve el nmero ms grande en la lista.",n.Msg.MATH_ONLIST_TOOLTIP_MEDIAN="Devuelve la mediana en la lista.",n.Msg.MATH_ONLIST_TOOLTIP_MIN="Devuelve el nmero ms pequeo en la lista.",n.Msg.MATH_ONLIST_TOOLTIP_MODE="Devuelve una lista de los elementos ms comunes en la lista.",n.Msg.MATH_ONLIST_TOOLTIP_RANDOM="Devuelve un elemento aleatorio de la lista.",n.Msg.MATH_ONLIST_TOOLTIP_STD_DEV="Devuelve la desviacin estndar de la lista.",n.Msg.MATH_ONLIST_TOOLTIP_SUM="Devuelve la suma de todos los nmeros en la lista.",n.Msg.MATH_POWER_SYMBOL="^",n.Msg.MATH_RANDOM_FLOAT_HELPURL="https://es.wikipedia.org/wiki/Generador_de_nmeros_aleatorios",n.Msg.MATH_RANDOM_FLOAT_TITLE_RANDOM="fraccin aleatoria",n.Msg.MATH_RANDOM_FLOAT_TOOLTIP="Devuelve una fraccin aleatoria entre 0,0 (ambos inclusive) y 1.0 (exclusivo).",n.Msg.MATH_RANDOM_INT_HELPURL="https://es.wikipedia.org/wiki/Generador_de_nmeros_aleatorios",n.Msg.MATH_RANDOM_INT_TITLE="entero aleatorio de %1 a %2",n.Msg.MATH_RANDOM_INT_TOOLTIP="Devuelve un entero aleatorio entre los dos lmites especificados, inclusive.",n.Msg.MATH_ROUND_HELPURL="https://es.wikipedia.org/wiki/Redondeo",n.Msg.MATH_ROUND_OPERATOR_ROUND="redondear",n.Msg.MATH_ROUND_OPERATOR_ROUNDDOWN="redondear a la baja",n.Msg.MATH_ROUND_OPERATOR_ROUNDUP="redondear al alza",n.Msg.MATH_ROUND_TOOLTIP="Redondear un nmero al alza o a la baja.",n.Msg.MATH_SINGLE_HELPURL="https://es.wikipedia.org/wiki/Ra%C3%ADz_cuadrada",n.Msg.MATH_SINGLE_OP_ABSOLUTE="absoluto",n.Msg.MATH_SINGLE_OP_ROOT="raz cuadrada",n.Msg.MATH_SINGLE_TOOLTIP_ABS="Devuelve el valor absoluto de un nmero.",n.Msg.MATH_SINGLE_TOOLTIP_EXP="Devuelve e a la potencia de un nmero.",n.Msg.MATH_SINGLE_TOOLTIP_LN="Devuelve el logaritmo natural de un nmero.",n.Msg.MATH_SINGLE_TOOLTIP_LOG10="Devuelve el logaritmo base 10 de un nmero.",n.Msg.MATH_SINGLE_TOOLTIP_NEG="Devuelve la negacin de un nmero.",n.Msg.MATH_SINGLE_TOOLTIP_POW10="Devuelve 10 a la potencia de un nmero.",n.Msg.MATH_SINGLE_TOOLTIP_ROOT="Devuelve la raz cuadrada de un nmero.",n.Msg.MATH_SUBTRACTION_SYMBOL="-",n.Msg.MATH_TRIG_ACOS="acos",n.Msg.MATH_TRIG_ASIN="asin",n.Msg.MATH_TRIG_ATAN="atan",n.Msg.MATH_TRIG_COS="cos",n.Msg.MATH_TRIG_HELPURL="https://es.wikipedia.org/wiki/Funcin_trigonomtrica",n.Msg.MATH_TRIG_SIN="sin",n.Msg.MATH_TRIG_TAN="tan",n.Msg.MATH_TRIG_TOOLTIP_ACOS="Devuelve el arcocoseno de un nmero.",n.Msg.MATH_TRIG_TOOLTIP_ASIN="Devuelve el arcoseno de un nmero.",n.Msg.MATH_TRIG_TOOLTIP_ATAN="Devuelve el arcotangente de un nmero.",n.Msg.MATH_TRIG_TOOLTIP_COS="Devuelve el coseno de un grado (no radin).",n.Msg.MATH_TRIG_TOOLTIP_SIN="Devuelve el seno de un grado (no radin).",n.Msg.MATH_TRIG_TOOLTIP_TAN="Devuelve la tangente de un grado (no radin).",n.Msg.MOVE_BLOCK="Move Block",n.Msg.NEW_COLOUR_VARIABLE="Crear una variable de color...",n.Msg.NEW_NUMBER_VARIABLE="Crear una variable de nmero...",n.Msg.NEW_STRING_VARIABLE="Crear una variable de cadena...",n.Msg.NEW_VARIABLE="Crear variable...",n.Msg.NEW_VARIABLE_TITLE="Nombre de variable nueva:",n.Msg.NEW_VARIABLE_TYPE_TITLE="Nuevo tipo de variable:",n.Msg.OPTION_KEY=" Option",n.Msg.ORDINAL_NUMBER_SUFFIX="",n.Msg.PASTE_SHORTCUT="Paste",n.Msg.PROCEDURES_ALLOW_STATEMENTS="permitir declaraciones",n.Msg.PROCEDURES_BEFORE_PARAMS="con:",n.Msg.PROCEDURES_CALLNORETURN_HELPURL="https://es.wikipedia.org/wiki/Subrutina",n.Msg.PROCEDURES_CALLNORETURN_TOOLTIP="Ejecuta la funcin definida por el usuario '%1'.",n.Msg.PROCEDURES_CALLRETURN_HELPURL="https://es.wikipedia.org/wiki/Subrutina",n.Msg.PROCEDURES_CALLRETURN_TOOLTIP="Ejecuta la funcin definida por el usuario '%1' y usa su salida.",n.Msg.PROCEDURES_CALL_BEFORE_PARAMS="con:",n.Msg.PROCEDURES_CALL_DISABLED_DEF_WARNING="No se puede ejecutar la funcin definida por el usuario '%1' porque el bloque de definicin est deshabilitado.",n.Msg.PROCEDURES_CREATE_DO="Crear '%1'",n.Msg.PROCEDURES_DEFNORETURN_COMMENT="Describe esta funcin...",n.Msg.PROCEDURES_DEFNORETURN_DO="",n.Msg.PROCEDURES_DEFNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",n.Msg.PROCEDURES_DEFNORETURN_PROCEDURE="hacer algo",n.Msg.PROCEDURES_DEFNORETURN_TITLE="para",n.Msg.PROCEDURES_DEFNORETURN_TOOLTIP="Crea una funcin sin salida.",n.Msg.PROCEDURES_DEFRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",n.Msg.PROCEDURES_DEFRETURN_RETURN="devuelve",n.Msg.PROCEDURES_DEFRETURN_TOOLTIP="Crea una funcin con una salida.",n.Msg.PROCEDURES_DEF_DUPLICATE_WARNING="Advertencia: Esta funcin tiene parmetros duplicados.",n.Msg.PROCEDURES_HIGHLIGHT_DEF="Destacar definicin de la funcin",n.Msg.PROCEDURES_IFRETURN_HELPURL="https://c2.com/cgi/wiki?GuardClause",n.Msg.PROCEDURES_IFRETURN_TOOLTIP="Si un valor es verdadero, entonces devuelve un segundo valor.",n.Msg.PROCEDURES_IFRETURN_WARNING="Advertencia: Este bloque solo puede ser utilizado dentro de la definicin de una funcin.",n.Msg.PROCEDURES_MUTATORARG_TITLE="nombre de entrada:",n.Msg.PROCEDURES_MUTATORARG_TOOLTIP="Aadir una entrada a la funcin.",n.Msg.PROCEDURES_MUTATORCONTAINER_TITLE="entradas",n.Msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP="Aadir, eliminar o reordenar entradas para esta funcin.",n.Msg.REDO="Rehacer",n.Msg.REMOVE_COMMENT="Eliminar comentario",n.Msg.RENAME_VARIABLE="Renombrar variable...",n.Msg.RENAME_VARIABLE_TITLE="Renombrar todas las variables '%1' a:",n.Msg.SHORTCUTS_CODE_NAVIGATION="Code navigation",n.Msg.SHORTCUTS_EDITING="Editing",n.Msg.SHORTCUTS_GENERAL="General",n.Msg.TEXT_APPEND_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",n.Msg.TEXT_APPEND_TITLE="a %1 aade el texto %2",n.Msg.TEXT_APPEND_TOOLTIP="Aadir texto a la variable '%1'.",n.Msg.TEXT_CHANGECASE_HELPURL="https://github.com/google/blockly/wiki/Text#adjusting-text-case",n.Msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE="a minsculas",n.Msg.TEXT_CHANGECASE_OPERATOR_TITLECASE="a Maysculas Cada Palabra",n.Msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE="a MAYSCULAS",n.Msg.TEXT_CHANGECASE_TOOLTIP="Devuelve una copia del texto en un tamao diferente.",n.Msg.TEXT_CHARAT_FIRST="obtener la primera letra",n.Msg.TEXT_CHARAT_FROM_END="obtener la letra # del final",n.Msg.TEXT_CHARAT_FROM_START="obtener la letra #",n.Msg.TEXT_CHARAT_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-text",n.Msg.TEXT_CHARAT_LAST="obtener la ltima letra",n.Msg.TEXT_CHARAT_RANDOM="obtener letra aleatoria",n.Msg.TEXT_CHARAT_TAIL="",n.Msg.TEXT_CHARAT_TITLE="en el texto %1 %2",n.Msg.TEXT_CHARAT_TOOLTIP="Devuelve la letra en la posicin especificada.",n.Msg.TEXT_COUNT_HELPURL="https://github.com/google/blockly/wiki/Text#counting-substrings",n.Msg.TEXT_COUNT_MESSAGE0="contar %1 en %2",n.Msg.TEXT_COUNT_TOOLTIP="Cuantas veces aparece un texto dentro de otro texto.",n.Msg.TEXT_CREATE_JOIN_ITEM_TOOLTIP="Agregar un elemento al texto.",n.Msg.TEXT_CREATE_JOIN_TITLE_JOIN="unir",n.Msg.TEXT_CREATE_JOIN_TOOLTIP="Agregar, eliminar o reordenar las secciones para reconfigurar este bloque de texto.",n.Msg.TEXT_GET_SUBSTRING_END_FROM_END="hasta la letra # del final",n.Msg.TEXT_GET_SUBSTRING_END_FROM_START="hasta la letra #",n.Msg.TEXT_GET_SUBSTRING_END_LAST="hasta la ltima letra",n.Msg.TEXT_GET_SUBSTRING_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-a-region-of-text",n.Msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT="en el texto",n.Msg.TEXT_GET_SUBSTRING_START_FIRST="obtener subcadena desde la primera letra",n.Msg.TEXT_GET_SUBSTRING_START_FROM_END="obtener subcadena desde la letra # del final",n.Msg.TEXT_GET_SUBSTRING_START_FROM_START="obtener subcadena desde la letra #",n.Msg.TEXT_GET_SUBSTRING_TAIL="",n.Msg.TEXT_GET_SUBSTRING_TOOLTIP="Devuelve una porcin determinada del texto.",n.Msg.TEXT_INDEXOF_HELPURL="https://github.com/google/blockly/wiki/Text#finding-text",n.Msg.TEXT_INDEXOF_OPERATOR_FIRST="encontrar la primera aparicin del texto",n.Msg.TEXT_INDEXOF_OPERATOR_LAST="encontrar la ltima aparicin del texto",n.Msg.TEXT_INDEXOF_TITLE="en el texto %1 %2 %3",n.Msg.TEXT_INDEXOF_TOOLTIP="Devuelve el ndice de la primera/ltima aparicin del primer texto en el segundo texto. Devuelve %1 si el texto no se encuentra.",n.Msg.TEXT_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Text#checking-for-empty-text",n.Msg.TEXT_ISEMPTY_TITLE="%1 est vaco",n.Msg.TEXT_ISEMPTY_TOOLTIP="Devuelve verdadero si el texto proporcionado est vaco.",n.Msg.TEXT_JOIN_HELPURL="https://github.com/google/blockly/wiki/Text#text-creation",n.Msg.TEXT_JOIN_TITLE_CREATEWITH="crear texto con",n.Msg.TEXT_JOIN_TOOLTIP="Crear un fragmento de texto al unir cualquier nmero de elementos.",n.Msg.TEXT_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",n.Msg.TEXT_LENGTH_TITLE="longitud de %1",n.Msg.TEXT_LENGTH_TOOLTIP="Devuelve el nmero de letras (espacios incluidos) del texto proporcionado.",n.Msg.TEXT_PRINT_HELPURL="https://github.com/google/blockly/wiki/Text#printing-text",n.Msg.TEXT_PRINT_TITLE="imprimir %1",n.Msg.TEXT_PRINT_TOOLTIP="Imprimir el texto, nmero u otro valor especificado.",n.Msg.TEXT_PROMPT_HELPURL="https://github.com/google/blockly/wiki/Text#getting-input-from-the-user",n.Msg.TEXT_PROMPT_TOOLTIP_NUMBER="Solicitar al usuario un nmero.",n.Msg.TEXT_PROMPT_TOOLTIP_TEXT="Solicitar al usuario un texto.",n.Msg.TEXT_PROMPT_TYPE_NUMBER="solicitar nmero con el mensaje",n.Msg.TEXT_PROMPT_TYPE_TEXT="solicitar texto con el mensaje",n.Msg.TEXT_REPLACE_HELPURL="https://github.com/google/blockly/wiki/Text#replacing-substrings",n.Msg.TEXT_REPLACE_MESSAGE0="reemplazar %1 con %2 en %3",n.Msg.TEXT_REPLACE_TOOLTIP="Reemplazar todas las veces que un texto dentro de otro texto.",n.Msg.TEXT_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Text#reversing-text",n.Msg.TEXT_REVERSE_MESSAGE0="invertir %1",n.Msg.TEXT_REVERSE_TOOLTIP="Invierte el orden de los caracteres en el texto.",n.Msg.TEXT_TEXT_HELPURL="https://es.wikipedia.org/wiki/Cadena_de_caracteres",n.Msg.TEXT_TEXT_TOOLTIP="Una letra, palabra o lnea de texto.",n.Msg.TEXT_TRIM_HELPURL="https://github.com/google/blockly/wiki/Text#trimming-removing-spaces",n.Msg.TEXT_TRIM_OPERATOR_BOTH="quitar espacios de ambos lados de",n.Msg.TEXT_TRIM_OPERATOR_LEFT="quitar espacios iniciales de",n.Msg.TEXT_TRIM_OPERATOR_RIGHT="quitar espacios finales de",n.Msg.TEXT_TRIM_TOOLTIP="Devuelve una copia del texto sin los espacios de uno o ambos extremos.",n.Msg.TODAY="Hoy",n.Msg.UNDO="Deshacer",n.Msg.UNKNOWN="Unknown",n.Msg.UNNAMED_KEY="sin nombre",n.Msg.VARIABLES_DEFAULT_NAME="elemento",n.Msg.VARIABLES_GET_CREATE_SET="Crear 'establecer %1'",n.Msg.VARIABLES_GET_HELPURL="https://github.com/google/blockly/wiki/Variables#get",n.Msg.VARIABLES_GET_TOOLTIP="Devuelve el valor de esta variable.",n.Msg.VARIABLES_SET="establecer %1 a %2",n.Msg.VARIABLES_SET_CREATE_GET="Crear 'obtener %1'",n.Msg.VARIABLES_SET_HELPURL="https://github.com/google/blockly/wiki/Variables#set",n.Msg.VARIABLES_SET_TOOLTIP="Establece esta variable para que sea igual a la entrada.",n.Msg.VARIABLE_ALREADY_EXISTS="Ya existe una variable nombrada '%1'.",n.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE="Ya existe una variable nombrada '%1' para otra variable del tipo: '%2'.",n.Msg.VARIABLE_ALREADY_EXISTS_FOR_A_PARAMETER="Ya existe una variable denominada '%1' como parmetro en el procedimiento '%2'.",n.Msg.WINDOWS="Windows",n.Msg.WORKSPACE_ARIA_LABEL="Espacio de trabajo de Blockly",n.Msg.WORKSPACE_COMMENT_DEFAULT_TEXT="Di algo",n.Msg.CONTROLS_FOREACH_INPUT_DO=n.Msg.CONTROLS_REPEAT_INPUT_DO,n.Msg.CONTROLS_FOR_INPUT_DO=n.Msg.CONTROLS_REPEAT_INPUT_DO,n.Msg.CONTROLS_IF_ELSEIF_TITLE_ELSEIF=n.Msg.CONTROLS_IF_MSG_ELSEIF,n.Msg.CONTROLS_IF_ELSE_TITLE_ELSE=n.Msg.CONTROLS_IF_MSG_ELSE,n.Msg.CONTROLS_IF_IF_TITLE_IF=n.Msg.CONTROLS_IF_MSG_IF,n.Msg.CONTROLS_IF_MSG_THEN=n.Msg.CONTROLS_REPEAT_INPUT_DO,n.Msg.CONTROLS_WHILEUNTIL_INPUT_DO=n.Msg.CONTROLS_REPEAT_INPUT_DO,n.Msg.LISTS_CREATE_WITH_ITEM_TITLE=n.Msg.VARIABLES_DEFAULT_NAME,n.Msg.LISTS_GET_INDEX_INPUT_IN_LIST=n.Msg.LISTS_INLIST,n.Msg.LISTS_GET_SUBLIST_INPUT_IN_LIST=n.Msg.LISTS_INLIST,n.Msg.LISTS_INDEX_OF_INPUT_IN_LIST=n.Msg.LISTS_INLIST,n.Msg.LISTS_SET_INDEX_INPUT_IN_LIST=n.Msg.LISTS_INLIST,n.Msg.MATH_CHANGE_TITLE_ITEM=n.Msg.VARIABLES_DEFAULT_NAME,n.Msg.PROCEDURES_DEFRETURN_COMMENT=n.Msg.PROCEDURES_DEFNORETURN_COMMENT,n.Msg.PROCEDURES_DEFRETURN_DO=n.Msg.PROCEDURES_DEFNORETURN_DO,n.Msg.PROCEDURES_DEFRETURN_PROCEDURE=n.Msg.PROCEDURES_DEFNORETURN_PROCEDURE,n.Msg.PROCEDURES_DEFRETURN_TITLE=n.Msg.PROCEDURES_DEFNORETURN_TITLE,n.Msg.TEXT_APPEND_VARIABLE=n.Msg.VARIABLES_DEFAULT_NAME,n.Msg.TEXT_CREATE_JOIN_ITEM_TITLE_ITEM=n.Msg.VARIABLES_DEFAULT_NAME,n.Msg.COLOUR_HUE="20",n.Msg.LISTS_HUE="260",n.Msg.LOGIC_HUE="210",n.Msg.LOOPS_HUE="120",n.Msg.MATH_HUE="230",n.Msg.PROCEDURES_HUE="290",n.Msg.TEXTS_HUE="160",n.Msg.VARIABLES_DYNAMIC_HUE="310",n.Msg.VARIABLES_HUE="330",n.Msg})})(qD);var LX=qD.exports;const kX=Rs(LX),{LOGIC_HUE:NX,LOOPS_HUE:MX,MATH_HUE:xX,TEXTS_HUE:DX,LISTS_HUE:PX,COLOUR_HUE:BX,VARIABLES_HUE:UX,VARIABLES_DYNAMIC_HUE:HX,PROCEDURES_HUE:FX,VARIABLES_DEFAULT_NAME:GX,UNNAMED_KEY:VX,TODAY:zX,DUPLICATE_BLOCK:WX,ADD_COMMENT:XX,REMOVE_COMMENT:YX,DUPLICATE_COMMENT:jX,EXTERNAL_INPUTS:KX,INLINE_INPUTS:qX,DELETE_BLOCK:JX,DELETE_X_BLOCKS:ZX,DELETE_ALL_BLOCKS:QX,CLEAN_UP:e6,CLOSE:t6,COLLAPSE_BLOCK:o6,COLLAPSE_ALL:i6,EXPAND_BLOCK:n6,EXPAND_ALL:s6,DISABLE_BLOCK:r6,ENABLE_BLOCK:l6,HELP:a6,UNDO:c6,REDO:u6,CHANGE_VALUE_TITLE:d6,RENAME_VARIABLE:h6,RENAME_VARIABLE_TITLE:p6,NEW_VARIABLE:f6,NEW_STRING_VARIABLE:g6,NEW_NUMBER_VARIABLE:m6,NEW_COLOUR_VARIABLE:$6,NEW_VARIABLE_TYPE_TITLE:_6,NEW_VARIABLE_TITLE:b6,VARIABLE_ALREADY_EXISTS:T6,VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE:E6,VARIABLE_ALREADY_EXISTS_FOR_A_PARAMETER:v6,DELETE_VARIABLE_CONFIRMATION:y6,CANNOT_DELETE_VARIABLE_PROCEDURE:S6,DELETE_VARIABLE:I6,COLOUR_PICKER_HELPURL:O6,COLOUR_PICKER_TOOLTIP:R6,COLOUR_RANDOM_HELPURL:C6,COLOUR_RANDOM_TITLE:w6,COLOUR_RANDOM_TOOLTIP:A6,COLOUR_RGB_HELPURL:L6,COLOUR_RGB_TITLE:k6,COLOUR_RGB_RED:N6,COLOUR_RGB_GREEN:M6,COLOUR_RGB_BLUE:x6,COLOUR_RGB_TOOLTIP:D6,COLOUR_BLEND_HELPURL:P6,COLOUR_BLEND_TITLE:B6,COLOUR_BLEND_COLOUR1:U6,COLOUR_BLEND_COLOUR2:H6,COLOUR_BLEND_RATIO:F6,COLOUR_BLEND_TOOLTIP:G6,CONTROLS_REPEAT_HELPURL:V6,CONTROLS_REPEAT_TITLE:z6,CONTROLS_REPEAT_INPUT_DO:W6,CONTROLS_REPEAT_TOOLTIP:X6,CONTROLS_WHILEUNTIL_HELPURL:Y6,CONTROLS_WHILEUNTIL_INPUT_DO:j6,CONTROLS_WHILEUNTIL_OPERATOR_WHILE:K6,CONTROLS_WHILEUNTIL_OPERATOR_UNTIL:q6,CONTROLS_WHILEUNTIL_TOOLTIP_WHILE:J6,CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL:Z6,CONTROLS_FOR_HELPURL:Q6,CONTROLS_FOR_TOOLTIP:e5,CONTROLS_FOR_TITLE:t5,CONTROLS_FOR_INPUT_DO:o5,CONTROLS_FOREACH_HELPURL:i5,CONTROLS_FOREACH_TITLE:n5,CONTROLS_FOREACH_INPUT_DO:s5,CONTROLS_FOREACH_TOOLTIP:r5,CONTROLS_FLOW_STATEMENTS_HELPURL:l5,CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK:a5,CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE:c5,CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK:u5,CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE:d5,CONTROLS_FLOW_STATEMENTS_WARNING:h5,CONTROLS_IF_HELPURL:p5,CONTROLS_IF_TOOLTIP_1:f5,CONTROLS_IF_TOOLTIP_2:g5,CONTROLS_IF_TOOLTIP_3:m5,CONTROLS_IF_TOOLTIP_4:$5,CONTROLS_IF_MSG_IF:_5,CONTROLS_IF_MSG_ELSEIF:b5,CONTROLS_IF_MSG_ELSE:T5,CONTROLS_IF_MSG_THEN:E5,CONTROLS_IF_IF_TITLE_IF:v5,CONTROLS_IF_IF_TOOLTIP:y5,CONTROLS_IF_ELSEIF_TITLE_ELSEIF:S5,CONTROLS_IF_ELSEIF_TOOLTIP:I5,CONTROLS_IF_ELSE_TITLE_ELSE:O5,CONTROLS_IF_ELSE_TOOLTIP:R5,LOGIC_COMPARE_HELPURL:C5,LOGIC_COMPARE_TOOLTIP_EQ:w5,LOGIC_COMPARE_TOOLTIP_NEQ:A5,LOGIC_COMPARE_TOOLTIP_LT:L5,LOGIC_COMPARE_TOOLTIP_LTE:k5,LOGIC_COMPARE_TOOLTIP_GT:N5,LOGIC_COMPARE_TOOLTIP_GTE:M5,LOGIC_OPERATION_HELPURL:x5,LOGIC_OPERATION_TOOLTIP_AND:D5,LOGIC_OPERATION_AND:P5,LOGIC_OPERATION_TOOLTIP_OR:B5,LOGIC_OPERATION_OR:U5,LOGIC_NEGATE_HELPURL:H5,LOGIC_NEGATE_TITLE:F5,LOGIC_NEGATE_TOOLTIP:G5,LOGIC_BOOLEAN_HELPURL:V5,LOGIC_BOOLEAN_TRUE:z5,LOGIC_BOOLEAN_FALSE:W5,LOGIC_BOOLEAN_TOOLTIP:X5,LOGIC_NULL_HELPURL:Y5,LOGIC_NULL:j5,LOGIC_NULL_TOOLTIP:K5,LOGIC_TERNARY_HELPURL:q5,LOGIC_TERNARY_CONDITION:J5,LOGIC_TERNARY_IF_TRUE:Z5,LOGIC_TERNARY_IF_FALSE:Q5,LOGIC_TERNARY_TOOLTIP:e3,MATH_NUMBER_HELPURL:t3,MATH_NUMBER_TOOLTIP:o3,MATH_ADDITION_SYMBOL:i3,MATH_SUBTRACTION_SYMBOL:n3,MATH_DIVISION_SYMBOL:s3,MATH_MULTIPLICATION_SYMBOL:r3,MATH_POWER_SYMBOL:l3,MATH_TRIG_SIN:a3,MATH_TRIG_COS:c3,MATH_TRIG_TAN:u3,MATH_TRIG_ASIN:d3,MATH_TRIG_ACOS:h3,MATH_TRIG_ATAN:p3,MATH_ARITHMETIC_HELPURL:f3,MATH_ARITHMETIC_TOOLTIP_ADD:g3,MATH_ARITHMETIC_TOOLTIP_MINUS:m3,MATH_ARITHMETIC_TOOLTIP_MULTIPLY:$3,MATH_ARITHMETIC_TOOLTIP_DIVIDE:_3,MATH_ARITHMETIC_TOOLTIP_POWER:b3,MATH_SINGLE_HELPURL:T3,MATH_SINGLE_OP_ROOT:E3,MATH_SINGLE_TOOLTIP_ROOT:v3,MATH_SINGLE_OP_ABSOLUTE:y3,MATH_SINGLE_TOOLTIP_ABS:S3,MATH_SINGLE_TOOLTIP_NEG:I3,MATH_SINGLE_TOOLTIP_LN:O3,MATH_SINGLE_TOOLTIP_LOG10:R3,MATH_SINGLE_TOOLTIP_EXP:C3,MATH_SINGLE_TOOLTIP_POW10:w3,MATH_TRIG_HELPURL:A3,MATH_TRIG_TOOLTIP_SIN:L3,MATH_TRIG_TOOLTIP_COS:k3,MATH_TRIG_TOOLTIP_TAN:N3,MATH_TRIG_TOOLTIP_ASIN:M3,MATH_TRIG_TOOLTIP_ACOS:x3,MATH_TRIG_TOOLTIP_ATAN:D3,MATH_CONSTANT_HELPURL:P3,MATH_CONSTANT_TOOLTIP:B3,MATH_IS_EVEN:U3,MATH_IS_ODD:H3,MATH_IS_PRIME:F3,MATH_IS_WHOLE:G3,MATH_IS_POSITIVE:V3,MATH_IS_NEGATIVE:z3,MATH_IS_DIVISIBLE_BY:W3,MATH_IS_TOOLTIP:X3,MATH_CHANGE_HELPURL:Y3,MATH_CHANGE_TITLE:j3,MATH_CHANGE_TITLE_ITEM:K3,MATH_CHANGE_TOOLTIP:q3,MATH_ROUND_HELPURL:J3,MATH_ROUND_TOOLTIP:Z3,MATH_ROUND_OPERATOR_ROUND:Q3,MATH_ROUND_OPERATOR_ROUNDUP:e8,MATH_ROUND_OPERATOR_ROUNDDOWN:t8,MATH_ONLIST_HELPURL:o8,MATH_ONLIST_OPERATOR_SUM:i8,MATH_ONLIST_TOOLTIP_SUM:n8,MATH_ONLIST_OPERATOR_MIN:s8,MATH_ONLIST_TOOLTIP_MIN:r8,MATH_ONLIST_OPERATOR_MAX:l8,MATH_ONLIST_TOOLTIP_MAX:a8,MATH_ONLIST_OPERATOR_AVERAGE:c8,MATH_ONLIST_TOOLTIP_AVERAGE:u8,MATH_ONLIST_OPERATOR_MEDIAN:d8,MATH_ONLIST_TOOLTIP_MEDIAN:h8,MATH_ONLIST_OPERATOR_MODE:p8,MATH_ONLIST_TOOLTIP_MODE:f8,MATH_ONLIST_OPERATOR_STD_DEV:g8,MATH_ONLIST_TOOLTIP_STD_DEV:m8,MATH_ONLIST_OPERATOR_RANDOM:$8,MATH_ONLIST_TOOLTIP_RANDOM:_8,MATH_MODULO_HELPURL:b8,MATH_MODULO_TITLE:T8,MATH_MODULO_TOOLTIP:E8,MATH_CONSTRAIN_HELPURL:v8,MATH_CONSTRAIN_TITLE:y8,MATH_CONSTRAIN_TOOLTIP:S8,MATH_RANDOM_INT_HELPURL:I8,MATH_RANDOM_INT_TITLE:O8,MATH_RANDOM_INT_TOOLTIP:R8,MATH_RANDOM_FLOAT_HELPURL:C8,MATH_RANDOM_FLOAT_TITLE_RANDOM:w8,MATH_RANDOM_FLOAT_TOOLTIP:A8,MATH_ATAN2_HELPURL:L8,MATH_ATAN2_TITLE:k8,MATH_ATAN2_TOOLTIP:N8,TEXT_TEXT_HELPURL:M8,TEXT_TEXT_TOOLTIP:x8,TEXT_JOIN_HELPURL:D8,TEXT_JOIN_TITLE_CREATEWITH:P8,TEXT_JOIN_TOOLTIP:B8,TEXT_CREATE_JOIN_TITLE_JOIN:U8,TEXT_CREATE_JOIN_TOOLTIP:H8,TEXT_CREATE_JOIN_ITEM_TITLE_ITEM:F8,TEXT_CREATE_JOIN_ITEM_TOOLTIP:G8,TEXT_APPEND_HELPURL:V8,TEXT_APPEND_TITLE:z8,TEXT_APPEND_VARIABLE:W8,TEXT_APPEND_TOOLTIP:X8,TEXT_LENGTH_HELPURL:Y8,TEXT_LENGTH_TITLE:j8,TEXT_LENGTH_TOOLTIP:K8,TEXT_ISEMPTY_HELPURL:q8,TEXT_ISEMPTY_TITLE:J8,TEXT_ISEMPTY_TOOLTIP:Z8,TEXT_INDEXOF_HELPURL:Q8,TEXT_INDEXOF_TOOLTIP:eY,TEXT_INDEXOF_TITLE:tY,TEXT_INDEXOF_OPERATOR_FIRST:oY,TEXT_INDEXOF_OPERATOR_LAST:iY,TEXT_CHARAT_HELPURL:nY,TEXT_CHARAT_TITLE:sY,TEXT_CHARAT_FROM_START:rY,TEXT_CHARAT_FROM_END:lY,TEXT_CHARAT_FIRST:aY,TEXT_CHARAT_LAST:cY,TEXT_CHARAT_RANDOM:uY,TEXT_CHARAT_TAIL:dY,TEXT_CHARAT_TOOLTIP:hY,TEXT_GET_SUBSTRING_TOOLTIP:pY,TEXT_GET_SUBSTRING_HELPURL:fY,TEXT_GET_SUBSTRING_INPUT_IN_TEXT:gY,TEXT_GET_SUBSTRING_START_FROM_START:mY,TEXT_GET_SUBSTRING_START_FROM_END:$Y,TEXT_GET_SUBSTRING_START_FIRST:_Y,TEXT_GET_SUBSTRING_END_FROM_START:bY,TEXT_GET_SUBSTRING_END_FROM_END:TY,TEXT_GET_SUBSTRING_END_LAST:EY,TEXT_GET_SUBSTRING_TAIL:vY,TEXT_CHANGECASE_HELPURL:yY,TEXT_CHANGECASE_TOOLTIP:SY,TEXT_CHANGECASE_OPERATOR_UPPERCASE:IY,TEXT_CHANGECASE_OPERATOR_LOWERCASE:OY,TEXT_CHANGECASE_OPERATOR_TITLECASE:RY,TEXT_TRIM_HELPURL:CY,TEXT_TRIM_TOOLTIP:wY,TEXT_TRIM_OPERATOR_BOTH:AY,TEXT_TRIM_OPERATOR_LEFT:LY,TEXT_TRIM_OPERATOR_RIGHT:kY,TEXT_PRINT_HELPURL:NY,TEXT_PRINT_TITLE:MY,TEXT_PRINT_TOOLTIP:xY,TEXT_PROMPT_HELPURL:DY,TEXT_PROMPT_TYPE_TEXT:PY,TEXT_PROMPT_TYPE_NUMBER:BY,TEXT_PROMPT_TOOLTIP_NUMBER:UY,TEXT_PROMPT_TOOLTIP_TEXT:HY,TEXT_COUNT_MESSAGE0:FY,TEXT_COUNT_HELPURL:GY,TEXT_COUNT_TOOLTIP:VY,TEXT_REPLACE_MESSAGE0:zY,TEXT_REPLACE_HELPURL:WY,TEXT_REPLACE_TOOLTIP:XY,TEXT_REVERSE_MESSAGE0:YY,TEXT_REVERSE_HELPURL:jY,TEXT_REVERSE_TOOLTIP:KY,LISTS_CREATE_EMPTY_HELPURL:qY,LISTS_CREATE_EMPTY_TITLE:JY,LISTS_CREATE_EMPTY_TOOLTIP:ZY,LISTS_CREATE_WITH_HELPURL:QY,LISTS_CREATE_WITH_TOOLTIP:ej,LISTS_CREATE_WITH_INPUT_WITH:tj,LISTS_CREATE_WITH_CONTAINER_TITLE_ADD:oj,LISTS_CREATE_WITH_CONTAINER_TOOLTIP:ij,LISTS_CREATE_WITH_ITEM_TITLE:nj,LISTS_CREATE_WITH_ITEM_TOOLTIP:sj,LISTS_REPEAT_HELPURL:rj,LISTS_REPEAT_TOOLTIP:lj,LISTS_REPEAT_TITLE:aj,LISTS_LENGTH_HELPURL:cj,LISTS_LENGTH_TITLE:uj,LISTS_LENGTH_TOOLTIP:dj,LISTS_ISEMPTY_HELPURL:hj,LISTS_ISEMPTY_TITLE:pj,LISTS_ISEMPTY_TOOLTIP:fj,LISTS_INLIST:gj,LISTS_INDEX_OF_HELPURL:mj,LISTS_INDEX_OF_INPUT_IN_LIST:$j,LISTS_INDEX_OF_FIRST:_j,LISTS_INDEX_OF_LAST:bj,LISTS_INDEX_OF_TOOLTIP:Tj,LISTS_GET_INDEX_HELPURL:Ej,LISTS_GET_INDEX_GET:vj,LISTS_GET_INDEX_GET_REMOVE:yj,LISTS_GET_INDEX_REMOVE:Sj,LISTS_GET_INDEX_FROM_START:Ij,LISTS_GET_INDEX_FROM_END:Oj,LISTS_GET_INDEX_FIRST:Rj,LISTS_GET_INDEX_LAST:Cj,LISTS_GET_INDEX_RANDOM:wj,LISTS_GET_INDEX_TAIL:Aj,LISTS_GET_INDEX_INPUT_IN_LIST:Lj,LISTS_INDEX_FROM_START_TOOLTIP:kj,LISTS_INDEX_FROM_END_TOOLTIP:Nj,LISTS_GET_INDEX_TOOLTIP_GET_FROM:Mj,LISTS_GET_INDEX_TOOLTIP_GET_FIRST:xj,LISTS_GET_INDEX_TOOLTIP_GET_LAST:Dj,LISTS_GET_INDEX_TOOLTIP_GET_RANDOM:Pj,LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM:Bj,LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST:Uj,LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST:Hj,LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM:Fj,LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM:Gj,LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST:Vj,LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST:zj,LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM:Wj,LISTS_SET_INDEX_HELPURL:Xj,LISTS_SET_INDEX_INPUT_IN_LIST:Yj,LISTS_SET_INDEX_SET:jj,LISTS_SET_INDEX_INSERT:Kj,LISTS_SET_INDEX_INPUT_TO:qj,LISTS_SET_INDEX_TOOLTIP_SET_FROM:Jj,LISTS_SET_INDEX_TOOLTIP_SET_FIRST:Zj,LISTS_SET_INDEX_TOOLTIP_SET_LAST:Qj,LISTS_SET_INDEX_TOOLTIP_SET_RANDOM:e9,LISTS_SET_INDEX_TOOLTIP_INSERT_FROM:t9,LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST:o9,LISTS_SET_INDEX_TOOLTIP_INSERT_LAST:i9,LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM:n9,LISTS_GET_SUBLIST_HELPURL:s9,LISTS_GET_SUBLIST_INPUT_IN_LIST:r9,LISTS_GET_SUBLIST_START_FROM_START:l9,LISTS_GET_SUBLIST_START_FROM_END:a9,LISTS_GET_SUBLIST_START_FIRST:c9,LISTS_GET_SUBLIST_END_FROM_START:u9,LISTS_GET_SUBLIST_END_FROM_END:d9,LISTS_GET_SUBLIST_END_LAST:h9,LISTS_GET_SUBLIST_TAIL:p9,LISTS_GET_SUBLIST_TOOLTIP:f9,LISTS_SORT_HELPURL:g9,LISTS_SORT_TITLE:m9,LISTS_SORT_TOOLTIP:$9,LISTS_SORT_ORDER_ASCENDING:_9,LISTS_SORT_ORDER_DESCENDING:b9,LISTS_SORT_TYPE_NUMERIC:T9,LISTS_SORT_TYPE_TEXT:E9,LISTS_SORT_TYPE_IGNORECASE:v9,LISTS_SPLIT_HELPURL:y9,LISTS_SPLIT_LIST_FROM_TEXT:S9,LISTS_SPLIT_TEXT_FROM_LIST:I9,LISTS_SPLIT_WITH_DELIMITER:O9,LISTS_SPLIT_TOOLTIP_SPLIT:R9,LISTS_SPLIT_TOOLTIP_JOIN:C9,LISTS_REVERSE_HELPURL:w9,LISTS_REVERSE_MESSAGE0:A9,LISTS_REVERSE_TOOLTIP:L9,ORDINAL_NUMBER_SUFFIX:k9,VARIABLES_GET_HELPURL:N9,VARIABLES_GET_TOOLTIP:M9,VARIABLES_GET_CREATE_SET:x9,VARIABLES_SET_HELPURL:D9,VARIABLES_SET:P9,VARIABLES_SET_TOOLTIP:B9,VARIABLES_SET_CREATE_GET:U9,PROCEDURES_DEFNORETURN_HELPURL:H9,PROCEDURES_DEFNORETURN_TITLE:F9,PROCEDURES_DEFNORETURN_PROCEDURE:G9,PROCEDURES_BEFORE_PARAMS:V9,PROCEDURES_CALL_BEFORE_PARAMS:z9,PROCEDURES_CALL_DISABLED_DEF_WARNING:W9,PROCEDURES_DEFNORETURN_DO:X9,PROCEDURES_DEFNORETURN_TOOLTIP:Y9,PROCEDURES_DEFNORETURN_COMMENT:j9,PROCEDURES_DEFRETURN_HELPURL:K9,PROCEDURES_DEFRETURN_TITLE:q9,PROCEDURES_DEFRETURN_PROCEDURE:J9,PROCEDURES_DEFRETURN_DO:Z9,PROCEDURES_DEFRETURN_COMMENT:Q9,PROCEDURES_DEFRETURN_RETURN:e7,PROCEDURES_DEFRETURN_TOOLTIP:t7,PROCEDURES_ALLOW_STATEMENTS:o7,PROCEDURES_DEF_DUPLICATE_WARNING:i7,PROCEDURES_CALLNORETURN_HELPURL:n7,PROCEDURES_CALLNORETURN_TOOLTIP:s7,PROCEDURES_CALLRETURN_HELPURL:r7,PROCEDURES_CALLRETURN_TOOLTIP:l7,PROCEDURES_MUTATORCONTAINER_TITLE:a7,PROCEDURES_MUTATORCONTAINER_TOOLTIP:c7,PROCEDURES_MUTATORARG_TITLE:u7,PROCEDURES_MUTATORARG_TOOLTIP:d7,PROCEDURES_HIGHLIGHT_DEF:h7,PROCEDURES_CREATE_DO:p7,PROCEDURES_IFRETURN_TOOLTIP:f7,PROCEDURES_IFRETURN_HELPURL:g7,PROCEDURES_IFRETURN_WARNING:m7,WORKSPACE_COMMENT_DEFAULT_TEXT:$7,WORKSPACE_ARIA_LABEL:_7,COLLAPSED_WARNINGS_WARNING:b7,DIALOG_OK:T7,DIALOG_CANCEL:E7,EDIT_BLOCK_CONTENTS:v7,MOVE_BLOCK:y7,WINDOWS:S7,MAC_OS:I7,CHROME_OS:O7,LINUX:R7,UNKNOWN:C7,CONTROL_KEY:w7,COMMAND_KEY:A7,OPTION_KEY:L7,ALT_KEY:k7,CUT_SHORTCUT:N7,COPY_SHORTCUT:M7,PASTE_SHORTCUT:x7,HELP_PROMPT:D7,SHORTCUTS_GENERAL:P7,SHORTCUTS_EDITING:B7,SHORTCUTS_CODE_NAVIGATION:U7,KEYBOARD_NAV_UNCONSTRAINED_MOVE_HINT:H7,KEYBOARD_NAV_CONSTRAINED_MOVE_HINT:F7,KEYBOARD_NAV_COPIED_HINT:G7,KEYBOARD_NAV_CUT_HINT:V7}=kX,z7=Object.freeze(Object.defineProperty({__proto__:null,ADD_COMMENT:XX,ALT_KEY:k7,CANNOT_DELETE_VARIABLE_PROCEDURE:S6,CHANGE_VALUE_TITLE:d6,CHROME_OS:O7,CLEAN_UP:e6,CLOSE:t6,COLLAPSED_WARNINGS_WARNING:b7,COLLAPSE_ALL:i6,COLLAPSE_BLOCK:o6,COLOUR_BLEND_COLOUR1:U6,COLOUR_BLEND_COLOUR2:H6,COLOUR_BLEND_HELPURL:P6,COLOUR_BLEND_RATIO:F6,COLOUR_BLEND_TITLE:B6,COLOUR_BLEND_TOOLTIP:G6,COLOUR_HUE:BX,COLOUR_PICKER_HELPURL:O6,COLOUR_PICKER_TOOLTIP:R6,COLOUR_RANDOM_HELPURL:C6,COLOUR_RANDOM_TITLE:w6,COLOUR_RANDOM_TOOLTIP:A6,COLOUR_RGB_BLUE:x6,COLOUR_RGB_GREEN:M6,COLOUR_RGB_HELPURL:L6,COLOUR_RGB_RED:N6,COLOUR_RGB_TITLE:k6,COLOUR_RGB_TOOLTIP:D6,COMMAND_KEY:A7,CONTROLS_FLOW_STATEMENTS_HELPURL:l5,CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK:a5,CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE:c5,CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK:u5,CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE:d5,CONTROLS_FLOW_STATEMENTS_WARNING:h5,CONTROLS_FOREACH_HELPURL:i5,CONTROLS_FOREACH_INPUT_DO:s5,CONTROLS_FOREACH_TITLE:n5,CONTROLS_FOREACH_TOOLTIP:r5,CONTROLS_FOR_HELPURL:Q6,CONTROLS_FOR_INPUT_DO:o5,CONTROLS_FOR_TITLE:t5,CONTROLS_FOR_TOOLTIP:e5,CONTROLS_IF_ELSEIF_TITLE_ELSEIF:S5,CONTROLS_IF_ELSEIF_TOOLTIP:I5,CONTROLS_IF_ELSE_TITLE_ELSE:O5,CONTROLS_IF_ELSE_TOOLTIP:R5,CONTROLS_IF_HELPURL:p5,CONTROLS_IF_IF_TITLE_IF:v5,CONTROLS_IF_IF_TOOLTIP:y5,CONTROLS_IF_MSG_ELSE:T5,CONTROLS_IF_MSG_ELSEIF:b5,CONTROLS_IF_MSG_IF:_5,CONTROLS_IF_MSG_THEN:E5,CONTROLS_IF_TOOLTIP_1:f5,CONTROLS_IF_TOOLTIP_2:g5,CONTROLS_IF_TOOLTIP_3:m5,CONTROLS_IF_TOOLTIP_4:$5,CONTROLS_REPEAT_HELPURL:V6,CONTROLS_REPEAT_INPUT_DO:W6,CONTROLS_REPEAT_TITLE:z6,CONTROLS_REPEAT_TOOLTIP:X6,CONTROLS_WHILEUNTIL_HELPURL:Y6,CONTROLS_WHILEUNTIL_INPUT_DO:j6,CONTROLS_WHILEUNTIL_OPERATOR_UNTIL:q6,CONTROLS_WHILEUNTIL_OPERATOR_WHILE:K6,CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL:Z6,CONTROLS_WHILEUNTIL_TOOLTIP_WHILE:J6,CONTROL_KEY:w7,COPY_SHORTCUT:M7,CUT_SHORTCUT:N7,DELETE_ALL_BLOCKS:QX,DELETE_BLOCK:JX,DELETE_VARIABLE:I6,DELETE_VARIABLE_CONFIRMATION:y6,DELETE_X_BLOCKS:ZX,DIALOG_CANCEL:E7,DIALOG_OK:T7,DISABLE_BLOCK:r6,DUPLICATE_BLOCK:WX,DUPLICATE_COMMENT:jX,EDIT_BLOCK_CONTENTS:v7,ENABLE_BLOCK:l6,EXPAND_ALL:s6,EXPAND_BLOCK:n6,EXTERNAL_INPUTS:KX,HELP:a6,HELP_PROMPT:D7,INLINE_INPUTS:qX,KEYBOARD_NAV_CONSTRAINED_MOVE_HINT:F7,KEYBOARD_NAV_COPIED_HINT:G7,KEYBOARD_NAV_CUT_HINT:V7,KEYBOARD_NAV_UNCONSTRAINED_MOVE_HINT:H7,LINUX:R7,LISTS_CREATE_EMPTY_HELPURL:qY,LISTS_CREATE_EMPTY_TITLE:JY,LISTS_CREATE_EMPTY_TOOLTIP:ZY,LISTS_CREATE_WITH_CONTAINER_TITLE_ADD:oj,LISTS_CREATE_WITH_CONTAINER_TOOLTIP:ij,LISTS_CREATE_WITH_HELPURL:QY,LISTS_CREATE_WITH_INPUT_WITH:tj,LISTS_CREATE_WITH_ITEM_TITLE:nj,LISTS_CREATE_WITH_ITEM_TOOLTIP:sj,LISTS_CREATE_WITH_TOOLTIP:ej,LISTS_GET_INDEX_FIRST:Rj,LISTS_GET_INDEX_FROM_END:Oj,LISTS_GET_INDEX_FROM_START:Ij,LISTS_GET_INDEX_GET:vj,LISTS_GET_INDEX_GET_REMOVE:yj,LISTS_GET_INDEX_HELPURL:Ej,LISTS_GET_INDEX_INPUT_IN_LIST:Lj,LISTS_GET_INDEX_LAST:Cj,LISTS_GET_INDEX_RANDOM:wj,LISTS_GET_INDEX_REMOVE:Sj,LISTS_GET_INDEX_TAIL:Aj,LISTS_GET_INDEX_TOOLTIP_GET_FIRST:xj,LISTS_GET_INDEX_TOOLTIP_GET_FROM:Mj,LISTS_GET_INDEX_TOOLTIP_GET_LAST:Dj,LISTS_GET_INDEX_TOOLTIP_GET_RANDOM:Pj,LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST:Uj,LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM:Bj,LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST:Hj,LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM:Fj,LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST:Vj,LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM:Gj,LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST:zj,LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM:Wj,LISTS_GET_SUBLIST_END_FROM_END:d9,LISTS_GET_SUBLIST_END_FROM_START:u9,LISTS_GET_SUBLIST_END_LAST:h9,LISTS_GET_SUBLIST_HELPURL:s9,LISTS_GET_SUBLIST_INPUT_IN_LIST:r9,LISTS_GET_SUBLIST_START_FIRST:c9,LISTS_GET_SUBLIST_START_FROM_END:a9,LISTS_GET_SUBLIST_START_FROM_START:l9,LISTS_GET_SUBLIST_TAIL:p9,LISTS_GET_SUBLIST_TOOLTIP:f9,LISTS_HUE:PX,LISTS_INDEX_FROM_END_TOOLTIP:Nj,LISTS_INDEX_FROM_START_TOOLTIP:kj,LISTS_INDEX_OF_FIRST:_j,LISTS_INDEX_OF_HELPURL:mj,LISTS_INDEX_OF_INPUT_IN_LIST:$j,LISTS_INDEX_OF_LAST:bj,LISTS_INDEX_OF_TOOLTIP:Tj,LISTS_INLIST:gj,LISTS_ISEMPTY_HELPURL:hj,LISTS_ISEMPTY_TITLE:pj,LISTS_ISEMPTY_TOOLTIP:fj,LISTS_LENGTH_HELPURL:cj,LISTS_LENGTH_TITLE:uj,LISTS_LENGTH_TOOLTIP:dj,LISTS_REPEAT_HELPURL:rj,LISTS_REPEAT_TITLE:aj,LISTS_REPEAT_TOOLTIP:lj,LISTS_REVERSE_HELPURL:w9,LISTS_REVERSE_MESSAGE0:A9,LISTS_REVERSE_TOOLTIP:L9,LISTS_SET_INDEX_HELPURL:Xj,LISTS_SET_INDEX_INPUT_IN_LIST:Yj,LISTS_SET_INDEX_INPUT_TO:qj,LISTS_SET_INDEX_INSERT:Kj,LISTS_SET_INDEX_SET:jj,LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST:o9,LISTS_SET_INDEX_TOOLTIP_INSERT_FROM:t9,LISTS_SET_INDEX_TOOLTIP_INSERT_LAST:i9,LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM:n9,LISTS_SET_INDEX_TOOLTIP_SET_FIRST:Zj,LISTS_SET_INDEX_TOOLTIP_SET_FROM:Jj,LISTS_SET_INDEX_TOOLTIP_SET_LAST:Qj,LISTS_SET_INDEX_TOOLTIP_SET_RANDOM:e9,LISTS_SORT_HELPURL:g9,LISTS_SORT_ORDER_ASCENDING:_9,LISTS_SORT_ORDER_DESCENDING:b9,LISTS_SORT_TITLE:m9,LISTS_SORT_TOOLTIP:$9,LISTS_SORT_TYPE_IGNORECASE:v9,LISTS_SORT_TYPE_NUMERIC:T9,LISTS_SORT_TYPE_TEXT:E9,LISTS_SPLIT_HELPURL:y9,LISTS_SPLIT_LIST_FROM_TEXT:S9,LISTS_SPLIT_TEXT_FROM_LIST:I9,LISTS_SPLIT_TOOLTIP_JOIN:C9,LISTS_SPLIT_TOOLTIP_SPLIT:R9,LISTS_SPLIT_WITH_DELIMITER:O9,LOGIC_BOOLEAN_FALSE:W5,LOGIC_BOOLEAN_HELPURL:V5,LOGIC_BOOLEAN_TOOLTIP:X5,LOGIC_BOOLEAN_TRUE:z5,LOGIC_COMPARE_HELPURL:C5,LOGIC_COMPARE_TOOLTIP_EQ:w5,LOGIC_COMPARE_TOOLTIP_GT:N5,LOGIC_COMPARE_TOOLTIP_GTE:M5,LOGIC_COMPARE_TOOLTIP_LT:L5,LOGIC_COMPARE_TOOLTIP_LTE:k5,LOGIC_COMPARE_TOOLTIP_NEQ:A5,LOGIC_HUE:NX,LOGIC_NEGATE_HELPURL:H5,LOGIC_NEGATE_TITLE:F5,LOGIC_NEGATE_TOOLTIP:G5,LOGIC_NULL:j5,LOGIC_NULL_HELPURL:Y5,LOGIC_NULL_TOOLTIP:K5,LOGIC_OPERATION_AND:P5,LOGIC_OPERATION_HELPURL:x5,LOGIC_OPERATION_OR:U5,LOGIC_OPERATION_TOOLTIP_AND:D5,LOGIC_OPERATION_TOOLTIP_OR:B5,LOGIC_TERNARY_CONDITION:J5,LOGIC_TERNARY_HELPURL:q5,LOGIC_TERNARY_IF_FALSE:Q5,LOGIC_TERNARY_IF_TRUE:Z5,LOGIC_TERNARY_TOOLTIP:e3,LOOPS_HUE:MX,MAC_OS:I7,MATH_ADDITION_SYMBOL:i3,MATH_ARITHMETIC_HELPURL:f3,MATH_ARITHMETIC_TOOLTIP_ADD:g3,MATH_ARITHMETIC_TOOLTIP_DIVIDE:_3,MATH_ARITHMETIC_TOOLTIP_MINUS:m3,MATH_ARITHMETIC_TOOLTIP_MULTIPLY:$3,MATH_ARITHMETIC_TOOLTIP_POWER:b3,MATH_ATAN2_HELPURL:L8,MATH_ATAN2_TITLE:k8,MATH_ATAN2_TOOLTIP:N8,MATH_CHANGE_HELPURL:Y3,MATH_CHANGE_TITLE:j3,MATH_CHANGE_TITLE_ITEM:K3,MATH_CHANGE_TOOLTIP:q3,MATH_CONSTANT_HELPURL:P3,MATH_CONSTANT_TOOLTIP:B3,MATH_CONSTRAIN_HELPURL:v8,MATH_CONSTRAIN_TITLE:y8,MATH_CONSTRAIN_TOOLTIP:S8,MATH_DIVISION_SYMBOL:s3,MATH_HUE:xX,MATH_IS_DIVISIBLE_BY:W3,MATH_IS_EVEN:U3,MATH_IS_NEGATIVE:z3,MATH_IS_ODD:H3,MATH_IS_POSITIVE:V3,MATH_IS_PRIME:F3,MATH_IS_TOOLTIP:X3,MATH_IS_WHOLE:G3,MATH_MODULO_HELPURL:b8,MATH_MODULO_TITLE:T8,MATH_MODULO_TOOLTIP:E8,MATH_MULTIPLICATION_SYMBOL:r3,MATH_NUMBER_HELPURL:t3,MATH_NUMBER_TOOLTIP:o3,MATH_ONLIST_HELPURL:o8,MATH_ONLIST_OPERATOR_AVERAGE:c8,MATH_ONLIST_OPERATOR_MAX:l8,MATH_ONLIST_OPERATOR_MEDIAN:d8,MATH_ONLIST_OPERATOR_MIN:s8,MATH_ONLIST_OPERATOR_MODE:p8,MATH_ONLIST_OPERATOR_RANDOM:$8,MATH_ONLIST_OPERATOR_STD_DEV:g8,MATH_ONLIST_OPERATOR_SUM:i8,MATH_ONLIST_TOOLTIP_AVERAGE:u8,MATH_ONLIST_TOOLTIP_MAX:a8,MATH_ONLIST_TOOLTIP_MEDIAN:h8,MATH_ONLIST_TOOLTIP_MIN:r8,MATH_ONLIST_TOOLTIP_MODE:f8,MATH_ONLIST_TOOLTIP_RANDOM:_8,MATH_ONLIST_TOOLTIP_STD_DEV:m8,MATH_ONLIST_TOOLTIP_SUM:n8,MATH_POWER_SYMBOL:l3,MATH_RANDOM_FLOAT_HELPURL:C8,MATH_RANDOM_FLOAT_TITLE_RANDOM:w8,MATH_RANDOM_FLOAT_TOOLTIP:A8,MATH_RANDOM_INT_HELPURL:I8,MATH_RANDOM_INT_TITLE:O8,MATH_RANDOM_INT_TOOLTIP:R8,MATH_ROUND_HELPURL:J3,MATH_ROUND_OPERATOR_ROUND:Q3,MATH_ROUND_OPERATOR_ROUNDDOWN:t8,MATH_ROUND_OPERATOR_ROUNDUP:e8,MATH_ROUND_TOOLTIP:Z3,MATH_SINGLE_HELPURL:T3,MATH_SINGLE_OP_ABSOLUTE:y3,MATH_SINGLE_OP_ROOT:E3,MATH_SINGLE_TOOLTIP_ABS:S3,MATH_SINGLE_TOOLTIP_EXP:C3,MATH_SINGLE_TOOLTIP_LN:O3,MATH_SINGLE_TOOLTIP_LOG10:R3,MATH_SINGLE_TOOLTIP_NEG:I3,MATH_SINGLE_TOOLTIP_POW10:w3,MATH_SINGLE_TOOLTIP_ROOT:v3,MATH_SUBTRACTION_SYMBOL:n3,MATH_TRIG_ACOS:h3,MATH_TRIG_ASIN:d3,MATH_TRIG_ATAN:p3,MATH_TRIG_COS:c3,MATH_TRIG_HELPURL:A3,MATH_TRIG_SIN:a3,MATH_TRIG_TAN:u3,MATH_TRIG_TOOLTIP_ACOS:x3,MATH_TRIG_TOOLTIP_ASIN:M3,MATH_TRIG_TOOLTIP_ATAN:D3,MATH_TRIG_TOOLTIP_COS:k3,MATH_TRIG_TOOLTIP_SIN:L3,MATH_TRIG_TOOLTIP_TAN:N3,MOVE_BLOCK:y7,NEW_COLOUR_VARIABLE:$6,NEW_NUMBER_VARIABLE:m6,NEW_STRING_VARIABLE:g6,NEW_VARIABLE:f6,NEW_VARIABLE_TITLE:b6,NEW_VARIABLE_TYPE_TITLE:_6,OPTION_KEY:L7,ORDINAL_NUMBER_SUFFIX:k9,PASTE_SHORTCUT:x7,PROCEDURES_ALLOW_STATEMENTS:o7,PROCEDURES_BEFORE_PARAMS:V9,PROCEDURES_CALLNORETURN_HELPURL:n7,PROCEDURES_CALLNORETURN_TOOLTIP:s7,PROCEDURES_CALLRETURN_HELPURL:r7,PROCEDURES_CALLRETURN_TOOLTIP:l7,PROCEDURES_CALL_BEFORE_PARAMS:z9,PROCEDURES_CALL_DISABLED_DEF_WARNING:W9,PROCEDURES_CREATE_DO:p7,PROCEDURES_DEFNORETURN_COMMENT:j9,PROCEDURES_DEFNORETURN_DO:X9,PROCEDURES_DEFNORETURN_HELPURL:H9,PROCEDURES_DEFNORETURN_PROCEDURE:G9,PROCEDURES_DEFNORETURN_TITLE:F9,PROCEDURES_DEFNORETURN_TOOLTIP:Y9,PROCEDURES_DEFRETURN_COMMENT:Q9,PROCEDURES_DEFRETURN_DO:Z9,PROCEDURES_DEFRETURN_HELPURL:K9,PROCEDURES_DEFRETURN_PROCEDURE:J9,PROCEDURES_DEFRETURN_RETURN:e7,PROCEDURES_DEFRETURN_TITLE:q9,PROCEDURES_DEFRETURN_TOOLTIP:t7,PROCEDURES_DEF_DUPLICATE_WARNING:i7,PROCEDURES_HIGHLIGHT_DEF:h7,PROCEDURES_HUE:FX,PROCEDURES_IFRETURN_HELPURL:g7,PROCEDURES_IFRETURN_TOOLTIP:f7,PROCEDURES_IFRETURN_WARNING:m7,PROCEDURES_MUTATORARG_TITLE:u7,PROCEDURES_MUTATORARG_TOOLTIP:d7,PROCEDURES_MUTATORCONTAINER_TITLE:a7,PROCEDURES_MUTATORCONTAINER_TOOLTIP:c7,REDO:u6,REMOVE_COMMENT:YX,RENAME_VARIABLE:h6,RENAME_VARIABLE_TITLE:p6,SHORTCUTS_CODE_NAVIGATION:U7,SHORTCUTS_EDITING:B7,SHORTCUTS_GENERAL:P7,TEXTS_HUE:DX,TEXT_APPEND_HELPURL:V8,TEXT_APPEND_TITLE:z8,TEXT_APPEND_TOOLTIP:X8,TEXT_APPEND_VARIABLE:W8,TEXT_CHANGECASE_HELPURL:yY,TEXT_CHANGECASE_OPERATOR_LOWERCASE:OY,TEXT_CHANGECASE_OPERATOR_TITLECASE:RY,TEXT_CHANGECASE_OPERATOR_UPPERCASE:IY,TEXT_CHANGECASE_TOOLTIP:SY,TEXT_CHARAT_FIRST:aY,TEXT_CHARAT_FROM_END:lY,TEXT_CHARAT_FROM_START:rY,TEXT_CHARAT_HELPURL:nY,TEXT_CHARAT_LAST:cY,TEXT_CHARAT_RANDOM:uY,TEXT_CHARAT_TAIL:dY,TEXT_CHARAT_TITLE:sY,TEXT_CHARAT_TOOLTIP:hY,TEXT_COUNT_HELPURL:GY,TEXT_COUNT_MESSAGE0:FY,TEXT_COUNT_TOOLTIP:VY,TEXT_CREATE_JOIN_ITEM_TITLE_ITEM:F8,TEXT_CREATE_JOIN_ITEM_TOOLTIP:G8,TEXT_CREATE_JOIN_TITLE_JOIN:U8,TEXT_CREATE_JOIN_TOOLTIP:H8,TEXT_GET_SUBSTRING_END_FROM_END:TY,TEXT_GET_SUBSTRING_END_FROM_START:bY,TEXT_GET_SUBSTRING_END_LAST:EY,TEXT_GET_SUBSTRING_HELPURL:fY,TEXT_GET_SUBSTRING_INPUT_IN_TEXT:gY,TEXT_GET_SUBSTRING_START_FIRST:_Y,TEXT_GET_SUBSTRING_START_FROM_END:$Y,TEXT_GET_SUBSTRING_START_FROM_START:mY,TEXT_GET_SUBSTRING_TAIL:vY,TEXT_GET_SUBSTRING_TOOLTIP:pY,TEXT_INDEXOF_HELPURL:Q8,TEXT_INDEXOF_OPERATOR_FIRST:oY,TEXT_INDEXOF_OPERATOR_LAST:iY,TEXT_INDEXOF_TITLE:tY,TEXT_INDEXOF_TOOLTIP:eY,TEXT_ISEMPTY_HELPURL:q8,TEXT_ISEMPTY_TITLE:J8,TEXT_ISEMPTY_TOOLTIP:Z8,TEXT_JOIN_HELPURL:D8,TEXT_JOIN_TITLE_CREATEWITH:P8,TEXT_JOIN_TOOLTIP:B8,TEXT_LENGTH_HELPURL:Y8,TEXT_LENGTH_TITLE:j8,TEXT_LENGTH_TOOLTIP:K8,TEXT_PRINT_HELPURL:NY,TEXT_PRINT_TITLE:MY,TEXT_PRINT_TOOLTIP:xY,TEXT_PROMPT_HELPURL:DY,TEXT_PROMPT_TOOLTIP_NUMBER:UY,TEXT_PROMPT_TOOLTIP_TEXT:HY,TEXT_PROMPT_TYPE_NUMBER:BY,TEXT_PROMPT_TYPE_TEXT:PY,TEXT_REPLACE_HELPURL:WY,TEXT_REPLACE_MESSAGE0:zY,TEXT_REPLACE_TOOLTIP:XY,TEXT_REVERSE_HELPURL:jY,TEXT_REVERSE_MESSAGE0:YY,TEXT_REVERSE_TOOLTIP:KY,TEXT_TEXT_HELPURL:M8,TEXT_TEXT_TOOLTIP:x8,TEXT_TRIM_HELPURL:CY,TEXT_TRIM_OPERATOR_BOTH:AY,TEXT_TRIM_OPERATOR_LEFT:LY,TEXT_TRIM_OPERATOR_RIGHT:kY,TEXT_TRIM_TOOLTIP:wY,TODAY:zX,UNDO:c6,UNKNOWN:C7,UNNAMED_KEY:VX,VARIABLES_DEFAULT_NAME:GX,VARIABLES_DYNAMIC_HUE:HX,VARIABLES_GET_CREATE_SET:x9,VARIABLES_GET_HELPURL:N9,VARIABLES_GET_TOOLTIP:M9,VARIABLES_HUE:UX,VARIABLES_SET:P9,VARIABLES_SET_CREATE_GET:U9,VARIABLES_SET_HELPURL:D9,VARIABLES_SET_TOOLTIP:B9,VARIABLE_ALREADY_EXISTS:T6,VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE:E6,VARIABLE_ALREADY_EXISTS_FOR_A_PARAMETER:v6,WINDOWS:S7,WORKSPACE_ARIA_LABEL:_7,WORKSPACE_COMMENT_DEFAULT_TEXT:$7},Symbol.toStringTag,{value:"Module"}));function W7(){CX(z7),si.VARIABLES_SET="asignar a %1 el valor %2",si.VARIABLES_GET="%1",si.CONTROLS_REPEAT_TITLE="repetir %1 veces",si.CONTROLS_REPEAT_INPUT_DO="hacer",si.CONTROLS_IF_MSG_IF="si",si.CONTROLS_IF_MSG_THEN="entonces",si.CONTROLS_IF_MSG_ELSE="si no",si.CONTROLS_IF_MSG_ELSEIF="si no, si",si.MATH_NUMBER_TOOLTIP="Un nmero",si.NEW_VARIABLE="Crear variable...",si.NEW_VARIABLE_TITLE="Nombre de la nueva variable:",si.RENAME_VARIABLE="Renombrar variable...",si.RENAME_VARIABLE_TITLE='Renombrar todas las variables "%1" a:',si.DELETE_VARIABLE='Eliminar la variable "%1"'}const X7={type:"math_number_input",message0:"nmero %1",args0:[{type:"field_number",name:"NUM",value:0,precision:1}],output:"Number",colour:230,tooltip:"Un valor numrico",helpUrl:""},Y7={type:"math_arithmetic_es",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_dropdown",name:"OP",options:[["ms (+)","ADD"],["menos (-)","MINUS"],["por (*)","MULTIPLY"],["entre (/)","DIVIDE"]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Number",colour:230,tooltip:"Operacin matemtica bsica",helpUrl:""},j7={type:"math_compare_es",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_dropdown",name:"OP",options:[["igual a (=)","EQ"],["distinto de ()","NEQ"],["mayor que (>)","GT"],["menor que (<)","LT"],["mayor o igual ()","GTE"],["menor o igual ()","LTE"]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Boolean",colour:210,tooltip:"Comparar dos nmeros",helpUrl:""};function K7(){id.math_number_input={init:function(){this.jsonInit(X7)}},id.math_arithmetic_es={init:function(){this.jsonInit(Y7)}},id.math_compare_es={init:function(){this.jsonInit(j7)}}}const q7={type:"output_print",message0:"mostrar %1",args0:[{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,colour:160,tooltip:"Muestra el resultado en la consola",helpUrl:""},J7={type:"output_answer",message0:"la respuesta es %1",args0:[{type:"input_value",name:"ANSWER",check:"Number"}],previousStatement:null,colour:65,tooltip:"Define la respuesta final del ejercicio",helpUrl:""};function Z7(){id.output_print={init:function(){this.jsonInit(q7)}},id.output_answer={init:function(){this.jsonInit(J7)}}}var Q7=jD();const eK=Rs(Q7),{blocks:KZ,lists:qZ,logic:JZ,loops:ZZ,math:QZ,procedures:eQ,texts:tQ,variables:oQ,variablesDynamic:iQ}=eK;let Dk=!1;function tK(){Dk||(K7(),Z7(),Dk=!0)}function oK(){Zo.forBlock.math_number_input=function(t){const o=t.getFieldValue("NUM");return[String(o),Gi.ATOMIC]},Zo.forBlock.math_arithmetic_es=function(t){const o=t.getFieldValue("OP"),n={ADD:["+",Gi.ADDITION],MINUS:["-",Gi.SUBTRACTION],MULTIPLY:["*",Gi.MULTIPLICATION],DIVIDE:["/",Gi.DIVISION]},[s,l]=n[o]||["+",Gi.ADDITION],c=Zo.valueToCode(t,"A",l)||"0",d=Zo.valueToCode(t,"B",l)||"0";return["(".concat(c," ").concat(s," ").concat(d,")"),l]},Zo.forBlock.math_compare_es=function(t){const o=t.getFieldValue("OP"),s={EQ:"===",NEQ:"!==",GT:">",LT:"<",GTE:">=",LTE:"<="}[o]||"===",l=Zo.valueToCode(t,"A",Gi.RELATIONAL)||"0",c=Zo.valueToCode(t,"B",Gi.RELATIONAL)||"0";return["(".concat(l," ").concat(s," ").concat(c,")"),Gi.RELATIONAL]}}function iK(){Zo.forBlock.output_print=function(t){const o=Zo.valueToCode(t,"VALUE",Gi.NONE)||"''";return"__print(".concat(o,");\n")},Zo.forBlock.output_answer=function(t){const o=Zo.valueToCode(t,"ANSWER",Gi.NONE)||"0";return"__setAnswer(".concat(o,");\n")},Zo.forBlock.text_print=function(t){const o=Zo.valueToCode(t,"TEXT",Gi.NONE)||"''";return"__print(".concat(o,");\n")}}let Pk=!1;function nK(){Pk||(oK(),iK(),Pk=!0)}function sK(){const t=re.useRef(null),o=re.useRef(null),[n,s]=re.useState(null),[l,c]=re.useState([]),[d,h]=re.useState(null),[p,g]=re.useState(null),[$,b]=re.useState([]),[T,v]=re.useState(!1),I=re.useRef(null),k=re.useRef(null),G=re.useCallback(P=>{t.current=P,P&&v(!0)},[]),R=re.useCallback(()=>{if(I.current)return I.current;const P=document.createElement("div");P.style.position="absolute",P.style.left="-9999px",P.style.top="0",P.style.width="800px",P.style.height="600px",P.style.overflow="hidden",document.body.appendChild(P),k.current=P;const J=Nk(P,{theme:xk,renderer:"zelos"});return I.current=J,J},[]);re.useEffect(()=>{if(!T||!t.current||o.current)return;W7(),tK(),nK();const P=Nk(t.current,{toolbox:void 0,theme:xk,grid:{spacing:20,length:3,colour:"#ccc",snap:!0},zoom:{controls:!0,wheel:!0,startScale:.9,maxScale:2,minScale:.4,scaleSpeed:1.2},trashcan:!0,move:{scrollbars:!0,drag:!0,wheel:!0},renderer:"zelos"});o.current=P,s(P),P.addChangeListener(ve=>{if(ve.type===iE.BLOCK_CREATE||ve.type===iE.BLOCK_DELETE||ve.type===iE.BLOCK_CHANGE){const[Te,ee]=kk.allProcedures(P),he=[];for(const pe of Te)he.push({name:pe[0],parameters:pe[1],hasReturn:!1});for(const pe of ee)he.push({name:pe[0],parameters:pe[1],hasReturn:!0});b(he)}});const J=setTimeout(()=>{hf(P)},100),ie=setTimeout(()=>{hf(P),P.scrollCenter()},500),ce=()=>{hf(P)};window.addEventListener("resize",ce);const me=new ResizeObserver(()=>{hf(P)});return t.current&&me.observe(t.current),()=>{clearTimeout(J),clearTimeout(ie),window.removeEventListener("resize",ce),me.disconnect(),P.dispose(),o.current=null}},[T]),re.useEffect(()=>()=>{I.current&&(I.current.dispose(),I.current=null),k.current&&(k.current.remove(),k.current=null)},[]);const S=re.useCallback(()=>{if(!o.current)return{outputs:[],answer:null};c([]),h(null);const P=Zo.workspaceToCode(o.current),J=[];let ie=null;const ce=ee=>{J.push(String(ee))},me=ee=>{ie=ee},ve=window.prompt,Te=window.alert;window.prompt=()=>"0",window.alert=()=>{};try{new Function("__print","__setAnswer",P)(ce,me),c(J),h(ie)}catch(ee){J.push("Error: ".concat(ee.message)),c(J)}finally{window.prompt=ve,window.alert=Te}return{outputs:J,answer:ie}},[]),w=re.useCallback(P=>{if(!o.current)return[];c([]),h(null),g(null);const J=Zo.workspaceToCode(o.current),ie=[],ce=[],me=()=>{};if(!J.includes("function ".concat(P.functionName)))return ie.push("Error: No se encontr la funcin '".concat(P.functionName,"'.")),ie.push("Asegrate de crear una funcin con ese nombre exacto."),c(ie),g([]),[];const ve=window.prompt,Te=window.alert;window.prompt=()=>"0",window.alert=()=>{};try{ie.push("Ejecutando pruebas...");for(const he of P.testCases){const pe=he.args.map(V=>JSON.stringify(V)).join(", "),ae="".concat(J,"\nreturn ").concat(P.functionName,"(").concat(pe,");");try{const Se=new Function("__print","__setAnswer",ae)(()=>{},me),le=typeof Se=="number"&&Math.abs(Se-he.expected)<.001;ce.push({args:he.args,expected:he.expected,actual:Se,passed:le})}catch(V){ce.push({args:he.args,expected:he.expected,actual:void 0,passed:!1}),ie.push("Error en ".concat(P.functionName,"(").concat(pe,"): ").concat(V.message))}}const ee=ce.filter(he=>he.passed).length;ie.push("--- ".concat(ee,"/").concat(ce.length," pruebas correctas ---"))}finally{window.prompt=ve,window.alert=Te}return c(ie),g(ce),ce},[]),L=re.useCallback(()=>{o.current&&(o.current.clear(),c([]),h(null))},[]),H=re.useCallback(()=>{c([])},[]),Y=re.useCallback(P=>{const J=o.current;if(!J)return;(P==="variables_get"||P==="variables_set")&&J.getAllVariables().length===0&&J.createVariable("mi_variable");const ie=J.newBlock(P);ie.initSvg(),ie.render();const ce=J.getTopBlocks(!1);let me=30;for(const ve of ce){if(ve.id===ie.id)continue;const ee=ve.getRelativeToSurfaceXY().y+ve.height;ee+20>me&&(me=ee+20)}ie.moveBy(30,me),J.centerOnBlock(ie.id)},[]),K=re.useCallback((P,J)=>{const ie=o.current;if(!ie)return;const ce=J?"procedures_callreturn":"procedures_callnoreturn",me=ie.newBlock(ce),ve=Mk.xml.createElement("mutation");ve.setAttribute("name",P);const Te=kk.getDefinition(P,ie);if(Te&&Te.getProcedureDef){const[,pe]=Te.getProcedureDef();for(const ae of pe){const V=Mk.xml.createElement("arg");V.setAttribute("name",ae),ve.appendChild(V)}}me.domToMutation(ve),me.initSvg(),me.render();const ee=ie.getTopBlocks(!1);let he=30;for(const pe of ee){if(pe.id===me.id)continue;const V=pe.getRelativeToSurfaceXY().y+pe.height;V+20>he&&(he=V+20)}me.moveBy(30,he),ie.centerOnBlock(me.id)},[]),j=re.useCallback(P=>{const J=R();(P==="variables_get"||P==="variables_set")&&J.getAllVariables().length===0&&J.createVariable("mi_variable");const ie=J.newBlock(P);ie.initSvg(),ie.render();const ce=ie.getSvgRoot(),me=ce.getBBox(),Te=new XMLSerializer().serializeToString(ce),ee=8,he='<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(me.width+ee*2,'" height="').concat(me.height+ee*2,'" viewBox="').concat(me.x-ee," ").concat(me.y-ee," ").concat(me.width+ee*2," ").concat(me.height+ee*2,'">').concat(Te,"</svg>");return ie.dispose(),he},[R]);return{setWorkspaceRef:G,workspace:n,consoleOutput:l,userAnswer:d,testResults:p,definedProcedures:$,runCode:S,runFunctionTests:w,resetWorkspace:L,clearConsole:H,addBlock:Y,addProcedureCallBlock:K,getBlockSvg:j}}function rK(t="basic"){const[o,n]=re.useState(null),[s,l]=re.useState([]),[c,d]=re.useState(0),[h,p]=re.useState(0),[g,$]=re.useState(null),[b,T]=re.useState(!0);re.useEffect(()=>{(async()=>{try{const Y=await(await fetch("/data/exercises.json")).json();n(Y)}catch(H){console.error("Error cargando ejercicios:",H)}finally{T(!1)}})()},[]),re.useEffect(()=>{if(o){const L=o.exercises.filter(H=>H.level===t);l(L),d(0),p(0),$(null)}},[o,t]);const v=s[c]||null,I=re.useCallback(L=>{if(!v||L===null)return $(!1),!1;const H=Math.abs(L-v.expectedAnswer)<.001;return $(H),H&&p(Y=>Y+v.points),H},[v]),k=re.useCallback(L=>{if(!v||!v.functionTest||L.length===0)return $(!1),!1;const H=L.every(Y=>Y.passed);return $(H),H&&p(Y=>Y+v.points),H},[v]),G=re.useCallback(()=>{c<s.length-1&&(d(L=>L+1),$(null))},[c,s.length]),R=re.useCallback(()=>{d(0),p(0),$(null)},[]),S=re.useCallback(()=>{$(null)},[]),w=re.useCallback(L=>o?o.exercises.filter(H=>H.level===L):[],[o]);return{currentExercise:v,exerciseIndex:c,totalExercises:s.length,score:h,isCorrect:g,checkAnswer:I,checkFunctionAnswer:k,nextExercise:G,resetExercises:R,resetCorrect:S,getExercisesByLevel:w,loading:b}}const lK=({exercise:t,currentIndex:o,total:n,score:s,isCorrect:l,onIncorrectDismissed:c})=>{var v;const[d,h]=re.useState(!1),[p,g]=re.useState(0),[$,b]=re.useState(!1);re.useEffect(()=>{if(l===!1){b(!0);const I=setTimeout(()=>{b(!1),c==null||c()},2500);return()=>clearTimeout(I)}b(!1)},[l,c]),re.useEffect(()=>{h(!1),g(0)},[t.id]);const T=()=>{h(!0)};return A.jsxs("div",{className:"exercise-panel",children:[A.jsxs("div",{className:"exercise-content",children:[A.jsx("h3",{className:"exercise-title",children:t.title}),A.jsx("p",{className:"exercise-description",children:t.description}),l===!0&&A.jsxs("div",{className:"exercise-feedback correct",children:[A.jsx(ct,{icon:hX}),A.jsx("span",{children:"Correcto! +"+t.points+" puntos"})]})]}),A.jsx("div",{className:"exercise-actions",children:A.jsxs("button",{className:"hint-btn",onClick:T,disabled:t.hints.length===0,children:[A.jsx(ct,{icon:gX}),"Ver pista"]})}),A.jsx(HD,{isOpen:d,onDidDismiss:()=>h(!1),className:"hint-modal",children:A.jsxs("div",{className:"hint-modal-content",children:[A.jsx("div",{className:"hint-modal-header",children:A.jsx("h3",{children:"Pista"})}),A.jsx("p",{className:"hint-modal-text",children:(v=t.hints[0])!=null?v:"No hay pistas disponibles para este ejercicio."}),A.jsx("div",{className:"hint-modal-actions",children:A.jsx(li,{shape:"round",expand:"full",className:"close-hint",onClick:()=>h(!1),children:"Cerrar"})})]})})]})},aK=({output:t,testResults:o,functionName:n,isLastExercise:s,onClose:l,onNext:c})=>{var g,$;const d=(g=o==null?void 0:o.filter(b=>b.passed).length)!=null?g:0,h=($=o==null?void 0:o.length)!=null?$:0,p=h>0&&d===h;return A.jsxs("div",{className:"console-container",children:[A.jsx("div",{className:"console-header",children:A.jsxs("div",{className:"console-title",children:[A.jsx(ct,{icon:vX}),A.jsx("span",{children:"Resultados"})]})}),A.jsx("div",{className:"console-output",children:t.length===0&&!o?A.jsx("span",{className:"console-placeholder",children:"Los resultados aparecern aqu..."}):A.jsxs(A.Fragment,{children:[t.map((b,T)=>A.jsxs("div",{className:"console-line",children:[A.jsx("span",{className:"line-number",children:T+1}),A.jsx("span",{className:"line-content",children:b})]},T)),o&&o.length>0&&A.jsxs("div",{className:"console-test-results",children:[A.jsx("div",{className:"test-results-header",children:"Pruebas de funcin:"}),o.map((b,T)=>A.jsxs("div",{className:"test-result-line ".concat(b.passed?"test-passed":"test-failed"),children:[A.jsx(ct,{icon:b.passed?WD:fS}),A.jsxs("span",{className:"test-call",children:[n||"fn","(",b.args.join(", "),")"]}),A.jsx("span",{className:"test-arrow",children:""}),A.jsx("span",{className:"test-actual",children:b.actual!==void 0?b.actual:"error"}),!b.passed&&A.jsxs("span",{className:"test-expected",children:["(esperado: ",b.expected,")"]})]},T)),A.jsx("div",{className:"test-summary ".concat(p?"test-summary-passed":"test-summary-failed"),children:p?"Todas las pruebas pasaron (".concat(d,"/").concat(h,")"):"".concat(d,"/").concat(h," pruebas correctas")})]})]})}),A.jsx("div",{className:"console-modal-actions",children:p?A.jsxs(li,{expand:"block",shape:"round",className:"console-next-btn",onClick:c,children:[A.jsx(ct,{icon:uX,slot:"start"}),s?"Finalizar":"Siguiente ejercicio"]}):A.jsxs(li,{expand:"block",shape:"round",color:"medium",className:"console-close-btn",onClick:l,children:[A.jsx(ct,{icon:XD,slot:"start"}),"Intentar de nuevo"]})})]})},cK={Lgica:[{type:"controls_if",name:"Si / Entonces",description:"Ejecutar bloques si se cumple una condicin"},{type:"logic_compare",name:"Comparacin",description:"Comparar dos valores (=, , <, >, , )"},{type:"logic_operation",name:"Operacin lgica",description:"Operaciones Y / O entre condiciones"},{type:"logic_negate",name:"Negacin",description:"Negar una condicin (NO)"},{type:"logic_boolean",name:"Booleano",description:"Valor verdadero o falso"}],Bucles:[{type:"controls_repeat",name:"Repetir",description:"Repetir bloques un nmero de veces"},{type:"controls_whileUntil",name:"Mientras / Hasta",description:"Repetir mientras o hasta que se cumpla una condicin"},{type:"controls_for",name:"Contar con",description:"Contar desde un nmero hasta otro"},{type:"controls_forEach",name:"Para cada",description:"Ejecutar para cada elemento de una lista"}],Matemticas:[{type:"math_number",name:"Nmero",description:"Un valor numrico"},{type:"math_arithmetic",name:"Aritmtica",description:"Suma, resta, multiplicacin, divisin, potencia"},{type:"math_single",name:"Funcin matemtica",description:"Raz cuadrada, valor absoluto, negacin, etc."},{type:"math_trig",name:"Trigonometra",description:"Seno, coseno, tangente y sus inversas"},{type:"math_constant",name:"Constante",description:"Constantes como , e, 2, etc."}],Texto:[{type:"text",name:"Texto",description:"Una cadena de texto"},{type:"text_join",name:"Unir texto",description:"Concatenar mltiples textos"},{type:"text_length",name:"Longitud",description:"Obtener la longitud de un texto"},{type:"text_print",name:"Imprimir",description:"Mostrar un valor en la consola"},{type:"text_prompt_ext",name:"Solicitar texto",description:"Pedir entrada al usuario"}],Listas:[{type:"lists_create_with",name:"Crear lista",description:"Crear una lista con elementos"},{type:"lists_repeat",name:"Repetir elemento",description:"Crear lista repitiendo un elemento"},{type:"lists_length",name:"Longitud",description:"Obtener la cantidad de elementos"},{type:"lists_isEmpty",name:"Est vaca?",description:"Verificar si la lista est vaca"},{type:"lists_indexOf",name:"Buscar en lista",description:"Encontrar la posicin de un elemento"}],Funciones:[{type:"procedures_defnoreturn",name:"Funcin sin retorno",description:"Definir una funcin que no devuelve valor"},{type:"procedures_defreturn",name:"Funcin con retorno",description:"Definir una funcin que devuelve un valor"},{type:"procedures_ifreturn",name:"Retorno condicional",description:"Retornar un valor si se cumple una condicin"}],Variables:[{type:"variables_set",name:"Establecer variable",description:"Asignar un valor a una variable"},{type:"variables_get",name:"Obtener variable",description:"Leer el valor de una variable"}]},nE={Lgica:"#f39c12",Bucles:"#27ae60",Matemticas:"#0077b6",Texto:"#e74c3c",Listas:"#2980b9",Funciones:"#9b59b6",Variables:"#8e44ad"},uK=re.forwardRef(({difficulty:t,onComplete:o,isPaused:n,onExerciseChange:s,onVerifying:l},c)=>{var Ye;const{setWorkspaceRef:d,consoleOutput:h,userAnswer:p,testResults:g,definedProcedures:$,runCode:b,runFunctionTests:T,resetWorkspace:v,clearConsole:I,addBlock:k,addProcedureCallBlock:G,getBlockSvg:R}=sK(),{currentExercise:S,exerciseIndex:w,totalExercises:L,score:H,isCorrect:Y,checkAnswer:K,checkFunctionAnswer:j,nextExercise:P,resetExercises:J,resetCorrect:ie,loading:ce}=rK(t),me=re.useRef(null),[ve,Te]=re.useState(!1),[ee,he]=re.useState(null),[pe,ae]=re.useState({}),V=re.useCallback(we=>{const ot=cK[we]||[];if(we!=="Funciones")return ot;const ge=$||[];if(ge.length===0)return ot;const ro=ge.map(q=>({type:q.hasReturn?"procedures_callreturn":"procedures_callnoreturn",name:'Llamar "'.concat(q.name,'"'),description:q.hasReturn?'Ejecutar "'.concat(q.name,'" y obtener su resultado'):'Ejecutar "'.concat(q.name,'"'),procedureName:q.name,hasReturn:q.hasReturn,isDynamic:!0}));return[...ot,...ro]},[$]);re.useEffect(()=>{if(!ee){ae({});return}const we=V(ee),ot={};for(const ge of we)if(!ge.isDynamic)try{ot[ge.type]=R(ge.type)}catch(ro){console.error("Error generando preview de ".concat(ge.type,":"),ro)}ae(ot)},[ee,V,R]),re.useEffect(()=>{s&&s({exercise:S,currentIndex:w,total:L,score:H,isCorrect:Y})},[s,S,w,L,H,Y]),re.useEffect(()=>{me.current=p},[p]);const Se=w>=L-1,le=()=>{if(!(n||ce||!S))if(S.functionTest){const we=T(S.functionTest),ot=j(we);Te(!0),l==null||l(!0),ot&&Se&&o(H+((S==null?void 0:S.points)||0),L)}else b(),setTimeout(()=>{const we=me.current,ot=K(we);Te(!0),l==null||l(!0),ot&&Se&&o(H+((S==null?void 0:S.points)||0),L)},150)},Ee=()=>{Te(!1),l==null||l(!1),Se?o(H,L):(P(),v(),I())},$e=()=>{Te(!1),l==null||l(!1),ie(),I()},Re=()=>{P(),v(),I()},ke=()=>{J(),v(),I()};return re.useImperativeHandle(c,()=>({addBlock:k,addProcedureCallBlock:G,getBlockSvg:R,verifyExercise:le,nextExercise:Re,clearConsole:I,getDefinedProcedures:()=>$}),[k,G,R,le,Re,I,$]),ce?A.jsx("div",{className:"blockly-loading",children:"Cargando ejercicios..."}):S?A.jsxs("div",{className:"blockly-game-container ".concat(n?"paused":""),children:[A.jsx(lK,{exercise:S,currentIndex:w,total:L,score:H,isCorrect:Y,onIncorrectDismissed:ie}),A.jsx("div",{className:"blockly-main-area",children:A.jsx("div",{className:"blockly-workspace-wrapper",children:A.jsx("div",{ref:d,className:"blockly-workspace"})})}),A.jsxs(y4,{vertical:"bottom",horizontal:"start",className:"blockly-fab",children:[A.jsx(js,{size:"small",children:A.jsx(ct,{icon:pX})}),A.jsxs(S4,{side:"top",children:[A.jsx(js,{className:"fab-cat fab-logica","data-desc":"Lgica",onClick:()=>he("Lgica"),children:A.jsx(ct,{icon:fX})}),A.jsx(js,{className:"fab-cat fab-bucles","data-desc":"Bucles",onClick:()=>he("Bucles"),children:A.jsx(ct,{icon:XD})}),A.jsx(js,{className:"fab-cat fab-matematicas","data-desc":"Matemticas",onClick:()=>he("Matemticas"),children:A.jsx(ct,{icon:dX})}),A.jsx(js,{className:"fab-cat fab-texto","data-desc":"Texto",onClick:()=>he("Texto"),children:A.jsx(ct,{icon:yX})}),A.jsx(js,{className:"fab-cat fab-listas","data-desc":"Listas",onClick:()=>he("Listas"),children:A.jsx(ct,{icon:_X})}),A.jsx(js,{className:"fab-cat fab-funciones","data-desc":"Funciones",onClick:()=>he("Funciones"),children:A.jsx(ct,{icon:Ik})}),A.jsx(js,{className:"fab-cat fab-variables","data-desc":"Variables",onClick:()=>he("Variables"),children:A.jsx(ct,{icon:TX})})]})]}),ee&&A.jsx("div",{className:"block-modal-overlay",onClick:()=>he(null),children:A.jsxs("div",{className:"block-modal",onClick:we=>we.stopPropagation(),children:[A.jsxs("div",{className:"block-modal-header",style:{borderBottomColor:nE[ee]},children:[A.jsx("h3",{style:{color:nE[ee]},children:ee}),A.jsx(ct,{icon:fS,className:"block-modal-close",onClick:()=>he(null)})]}),A.jsx("div",{className:"block-modal-list",children:V(ee).map(we=>A.jsxs("div",{className:"block-modal-item ".concat(we.isDynamic?"block-modal-item-dynamic":""),style:{borderLeftColor:nE[ee]},onClick:()=>{we.isDynamic&&we.procedureName!=null&&we.hasReturn!=null?G(we.procedureName,we.hasReturn):k(we.type),he(null)},children:[we.isDynamic?A.jsx("div",{className:"block-preview-dynamic",children:A.jsx(ct,{icon:Ik})}):pe[we.type]?A.jsx("div",{className:"block-preview-svg",dangerouslySetInnerHTML:{__html:pe[we.type]}}):null,A.jsxs("div",{className:"block-info",children:[A.jsx("span",{className:"block-name",children:we.name}),A.jsx("span",{className:"block-desc",children:we.description})]})]},we.isDynamic?"call-".concat(we.procedureName):we.type))})]})}),A.jsx(HD,{isOpen:ve,onDidDismiss:$e,className:"results-modal",children:A.jsx(aK,{output:h,testResults:g,functionName:(Ye=S==null?void 0:S.functionTest)==null?void 0:Ye.functionName,isLastExercise:Se,onClose:$e,onNext:Ee})})]}):A.jsxs("div",{className:"blockly-no-exercises",children:[A.jsx("p",{children:"No hay ejercicios disponibles para este nivel."}),A.jsx(li,{onClick:ke,children:"Reiniciar"})]})});/*! Capacitor: https://capacitorjs.com/ - MIT License */var dc;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(dc||(dc={}));class sE extends Error{constructor(o,n,s){super(o),this.message=o,this.code=n,this.data=s}}const dK=t=>{var o,n;return t!=null&&t.androidBridge?"android":!((n=(o=t==null?void 0:t.webkit)===null||o===void 0?void 0:o.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},hK=t=>{const o=t.CapacitorCustomPlatform||null,n=t.Capacitor||{},s=n.Plugins=n.Plugins||{},l=()=>o!==null?o.name:dK(t),c=()=>l()!=="web",d=b=>{const T=g.get(b);return!!(T!=null&&T.platforms.has(l())||h(b))},h=b=>{var T;return(T=n.PluginHeaders)===null||T===void 0?void 0:T.find(v=>v.name===b)},p=b=>t.console.error(b),g=new Map,$=(b,T={})=>{const v=g.get(b);if(v)return console.warn('Capacitor plugin "'.concat(b,'" already registered. Cannot register plugins twice.')),v.proxy;const I=l(),k=h(b);let G;const R=async()=>(!G&&I in T?G=typeof T[I]=="function"?G=await T[I]():G=T[I]:o!==null&&!G&&"web"in T&&(G=typeof T.web=="function"?G=await T.web():G=T.web),G),S=(j,P)=>{var J,ie;if(k){const ce=k==null?void 0:k.methods.find(me=>P===me.name);if(ce)return ce.rtype==="promise"?me=>n.nativePromise(b,P.toString(),me):(me,ve)=>n.nativeCallback(b,P.toString(),me,ve);if(j)return(J=j[P])===null||J===void 0?void 0:J.bind(j)}else{if(j)return(ie=j[P])===null||ie===void 0?void 0:ie.bind(j);throw new sE('"'.concat(b,'" plugin is not implemented on ').concat(I),dc.Unimplemented)}},w=j=>{let P;const J=(...ie)=>{const ce=R().then(me=>{const ve=S(me,j);if(ve){const Te=ve(...ie);return P=Te==null?void 0:Te.remove,Te}else throw new sE('"'.concat(b,".").concat(j,'()" is not implemented on ').concat(I),dc.Unimplemented)});return j==="addListener"&&(ce.remove=async()=>P()),ce};return J.toString=()=>"".concat(j.toString(),"() { [capacitor code] }"),Object.defineProperty(J,"name",{value:j,writable:!1,configurable:!1}),J},L=w("addListener"),H=w("removeListener"),Y=(j,P)=>{const J=L({eventName:j},P),ie=async()=>{const me=await J;H({eventName:j,callbackId:me},P)},ce=new Promise(me=>J.then(()=>me({remove:ie})));return ce.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await ie()},ce},K=new Proxy({},{get(j,P){switch(P){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return k?Y:L;case"removeListener":return H;default:return w(P)}}});return s[b]=K,g.set(b,{name:b,proxy:K,platforms:new Set([...Object.keys(T),...k?[I]:[]])}),K};return n.convertFileSrc||(n.convertFileSrc=b=>b),n.getPlatform=l,n.handleError=p,n.isNativePlatform=c,n.isPluginAvailable=d,n.registerPlugin=$,n.Exception=sE,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},pK=t=>t.Capacitor=hK(t),Rv=pK(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),gm=Rv.registerPlugin;class mS{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(o,n){let s=!1;this.listeners[o]||(this.listeners[o]=[],s=!0),this.listeners[o].push(n);const c=this.windowListeners[o];c&&!c.registered&&this.addWindowListener(c),s&&this.sendRetainedArgumentsForEvent(o);const d=async()=>this.removeListener(o,n);return Promise.resolve({remove:d})}async removeAllListeners(){this.listeners={};for(const o in this.windowListeners)this.removeWindowListener(this.windowListeners[o]);this.windowListeners={}}notifyListeners(o,n,s){const l=this.listeners[o];if(!l){if(s){let c=this.retainedEventArguments[o];c||(c=[]),c.push(n),this.retainedEventArguments[o]=c}return}l.forEach(c=>c(n))}hasListeners(o){var n;return!!(!((n=this.listeners[o])===null||n===void 0)&&n.length)}registerWindowListener(o,n){this.windowListeners[n]={registered:!1,windowEventName:o,pluginEventName:n,handler:s=>{this.notifyListeners(n,s)}}}unimplemented(o="not implemented"){return new Rv.Exception(o,dc.Unimplemented)}unavailable(o="not available"){return new Rv.Exception(o,dc.Unavailable)}async removeListener(o,n){const s=this.listeners[o];if(!s)return;const l=s.indexOf(n);this.listeners[o].splice(l,1),this.listeners[o].length||this.removeWindowListener(this.windowListeners[o])}addWindowListener(o){window.addEventListener(o.windowEventName,o.handler),o.registered=!0}removeWindowListener(o){o&&(window.removeEventListener(o.windowEventName,o.handler),o.registered=!1)}sendRetainedArgumentsForEvent(o){const n=this.retainedEventArguments[o];n&&(delete this.retainedEventArguments[o],n.forEach(s=>{this.notifyListeners(o,s)}))}}const Bk=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Uk=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class fK extends mS{async getCookies(){const o=document.cookie,n={};return o.split(";").forEach(s=>{if(s.length<=0)return;let[l,c]=s.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");l=Uk(l).trim(),c=Uk(c).trim(),n[l]=c}),n}async setCookie(o){try{const n=Bk(o.key),s=Bk(o.value),l="; expires=".concat((o.expires||"").replace("expires=","")),c=(o.path||"/").replace("path=",""),d=o.url!=null&&o.url.length>0?"domain=".concat(o.url):"";document.cookie="".concat(n,"=").concat(s||"").concat(l,"; path=").concat(c,"; ").concat(d,";")}catch(n){return Promise.reject(n)}}async deleteCookie(o){try{document.cookie="".concat(o.key,"=; Max-Age=0")}catch(n){return Promise.reject(n)}}async clearCookies(){try{const o=document.cookie.split(";")||[];for(const n of o)document.cookie=n.replace(/^ +/,"").replace(/=.*/,"=;expires=".concat(new Date().toUTCString(),";path=/"))}catch(o){return Promise.reject(o)}}async clearAllCookies(){try{await this.clearCookies()}catch(o){return Promise.reject(o)}}}gm("CapacitorCookies",{web:()=>new fK});const gK=async t=>new Promise((o,n)=>{const s=new FileReader;s.onload=()=>{const l=s.result;o(l.indexOf(",")>=0?l.split(",")[1]:l)},s.onerror=l=>n(l),s.readAsDataURL(t)}),mK=(t={})=>{const o=Object.keys(t);return Object.keys(t).map(l=>l.toLocaleLowerCase()).reduce((l,c,d)=>(l[c]=t[o[d]],l),{})},$K=(t,o=!0)=>t?Object.entries(t).reduce((s,l)=>{const[c,d]=l;let h,p;return Array.isArray(d)?(p="",d.forEach(g=>{h=o?encodeURIComponent(g):g,p+="".concat(c,"=").concat(h,"&")}),p.slice(0,-1)):(h=o?encodeURIComponent(d):d,p="".concat(c,"=").concat(h)),"".concat(s,"&").concat(p)},"").substr(1):null,_K=(t,o={})=>{const n=Object.assign({method:t.method||"GET",headers:t.headers},o),l=mK(t.headers)["content-type"]||"";if(typeof t.data=="string")n.body=t.data;else if(l.includes("application/x-www-form-urlencoded")){const c=new URLSearchParams;for(const[d,h]of Object.entries(t.data||{}))c.set(d,h);n.body=c.toString()}else if(l.includes("multipart/form-data")||t.data instanceof FormData){const c=new FormData;if(t.data instanceof FormData)t.data.forEach((h,p)=>{c.append(p,h)});else for(const h of Object.keys(t.data))c.append(h,t.data[h]);n.body=c;const d=new Headers(n.headers);d.delete("content-type"),n.headers=d}else(l.includes("application/json")||typeof t.data=="object")&&(n.body=JSON.stringify(t.data));return n};class bK extends mS{async request(o){const n=_K(o,o.webFetchExtra),s=$K(o.params,o.shouldEncodeUrlParams),l=s?"".concat(o.url,"?").concat(s):o.url,c=await fetch(l,n),d=c.headers.get("content-type")||"";let{responseType:h="text"}=c.ok?o:{};d.includes("application/json")&&(h="json");let p,g;switch(h){case"arraybuffer":case"blob":g=await c.blob(),p=await gK(g);break;case"json":p=await c.json();break;case"document":case"text":default:p=await c.text()}const $={};return c.headers.forEach((b,T)=>{$[T]=b}),{data:p,headers:$,status:c.status,url:c.url}}async get(o){return this.request(Object.assign(Object.assign({},o),{method:"GET"}))}async post(o){return this.request(Object.assign(Object.assign({},o),{method:"POST"}))}async put(o){return this.request(Object.assign(Object.assign({},o),{method:"PUT"}))}async patch(o){return this.request(Object.assign(Object.assign({},o),{method:"PATCH"}))}async delete(o){return this.request(Object.assign(Object.assign({},o),{method:"DELETE"}))}}gm("CapacitorHttp",{web:()=>new bK});var Hk;(function(t){t.Dark="DARK",t.Light="LIGHT",t.Default="DEFAULT"})(Hk||(Hk={}));var Fk;(function(t){t.StatusBar="StatusBar",t.NavigationBar="NavigationBar"})(Fk||(Fk={}));class TK extends mS{async setStyle(){this.unavailable("not available for web")}async setAnimation(){this.unavailable("not available for web")}async show(){this.unavailable("not available for web")}async hide(){this.unavailable("not available for web")}}gm("SystemBars",{web:()=>new TK});const EK=gm("App",{web:()=>hn(()=>import("./web-3YnZEdVM.js"),[]).then(t=>new t.AppWeb)}),Gk={basic:600,intermediate:900,advanced:1200},vK=({difficulty:t="basic"})=>{const o=re.useRef(null),[n,s]=re.useState(!0),[l,c]=re.useState("STEAM-G"),[d,h]=re.useState(t),[p,g]=re.useState(!1),[$,b]=re.useState(5),[T,v]=re.useState(!1),[I,k]=re.useState("Juego para el desarrollo de habilidades matemticas"),[G,R]=re.useState("2 de Diciembre del 2025"),[S,w]=re.useState("1.0"),[L,H]=re.useState("android"),[Y,K]=re.useState("Valeria C. Z."),[j,P]=re.useState(!1),[J,ie]=re.useState(!1),[ce,me]=re.useState(!1),[ve,Te]=re.useState(!1),[ee,he]=re.useState(null),[pe,ae]=re.useState(!0),[V,Se]=re.useState(!1),[le,Ee]=re.useState(null),[$e,Re]=re.useState(0),[ke,Ye]=re.useState(0),[we,ot]=re.useState(!1),[ge,ro]=re.useState(!1),[q,fe]=re.useState(0),[Co,De]=re.useState(0),[Po,Xe]=re.useState(!1),[Xo,Bo]=re.useState(0),[bt,wo]=re.useState(null),[Tt,tn]=re.useState(!1),Yo=re.useRef(-1);re.useEffect(()=>{(async()=>{try{const m=await fetch("/config/bloques-config.json");if(!m.ok){ro(!0);return}const y=await m.json();y.nivel&&h(et(y.nivel)),y.autor&&K(y.autor),y.version&&w(y.version),y.fecha&&R($t(y.fecha)),y.descripcion&&k(y.descripcion),y.plataformas&&H(y.plataformas.join(", ")),y.nombreApp&&c(y.nombreApp)}catch(m){console.error("No se pudo cargar bloques-config.json",m)}finally{ro(!0)}})(),fetch("/data/exercises.json").then(m=>m.json()).then(m=>{Array.isArray(m.exercises)&&fe(m.exercises.length)}).catch(()=>{})},[]),re.useEffect(()=>{if(T&&$>0){const Ne=setTimeout(()=>{b(m=>m-1)},1e3);return()=>clearTimeout(Ne)}else T&&$===0&&setTimeout(()=>{v(!1)},500)},[$,T]),re.useEffect(()=>{if(n||T||V||ve||Tt||J||Po||Co<=0)return;const Ne=setInterval(()=>{De(m=>m<=1?(clearInterval(Ne),(bt?bt.currentIndex>=bt.total-1:!0)?ie(!0):Xe(!0),0):m-1)},1e3);return()=>clearInterval(Ne)},[n,T,V,ve,Tt,J,Po,Co,bt,d]),re.useEffect(()=>{if(!Po)return;const Ne=setTimeout(()=>{var m;Xe(!1),(m=o.current)==null||m.nextExercise()},3e3);return()=>clearTimeout(Ne)},[Po]);const M=Ne=>{var y;return(y={basic:"Bsico",intermediate:"Intermedio",advanced:"Avanzado"}[Ne])!=null?y:Ne},Uo=(Ne=60)=>{const m=["#ff6b6b","#feca57","#48dbfb","#1dd1a1","#5f27cd"];return Array.from({length:Ne},(y,N)=>({id:N,left:Math.random()*100,delay:Math.random()*1.5,duration:2.5+Math.random()*2.5,color:m[Math.floor(Math.random()*m.length)]}))},gi=Ne=>{const m={android:"Android",ios:"iOS",web:"Web"};return Ne.split(/,\s*/).map(y=>{var N;return(N=m[y.toLowerCase()])!=null?N:y.charAt(0).toUpperCase()+y.slice(1)}).join(", ")},et=Ne=>{var N;const m=Ne.toLowerCase();return(N={basico:"basic",basic:"basic",intermedio:"intermediate",intermediate:"intermediate",avanzado:"advanced",advanced:"advanced"}[m])!=null?N:"basic"},$t=Ne=>{if(!Ne)return G;const[m,y,N]=Ne.split("-"),U=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],te=Number(y)-1;return te<0||te>11?Ne:"".concat(Number(N)," de ").concat(U[te]," del ").concat(m)},Lt=()=>{Te(!1),Se(!1),B()},it=async()=>{try{await EK.exitApp()}catch(Ne){window.close()}},lo=()=>{s(!1),De(Gk[d]),de()},_=()=>{g(!p)},O=()=>{n||T||J||j||ce||ve||(Te(!0),Se(!0))},D=()=>{ot(!1),Se(!1),Te(!1)},B=()=>{ot(!1),Se(!1),v(!1),P(!1),ie(!1),me(!1),wo(null),Bo(0),s(!0)},de=()=>{b(5),v(!0),he(null),ae(!0),Re(0),Bo(0),wo(null)},Ze=re.useCallback(Ne=>{wo(Ne),Bo(Ne.score),Ne.currentIndex!==Yo.current&&(Yo.current=Ne.currentIndex,De(Gk[d]))},[d]),jo=re.useCallback(()=>{var Ne;(Ne=o.current)==null||Ne.verifyExercise()},[]),ii=Ne=>{const m=Math.floor(Ne/60),y=Math.max(0,Ne%60);return"".concat(m,":").concat(y.toString().padStart(2,"0"))};return A.jsxs(B4,{children:[T&&$>0&&A.jsx("div",{className:"countdown-overlay",children:A.jsx("div",{className:"countdown-number",children:$})}),ce&&A.jsx("div",{className:"feedback-overlay",children:A.jsx("div",{className:"feedback-text",children:le})}),Po&&A.jsx("div",{className:"timeup-overlay",children:A.jsxs("div",{className:"timeup-content",children:[A.jsx(ct,{icon:Ck,className:"timeup-icon"}),A.jsx("h2",{children:"Tiempo agotado"}),A.jsx("p",{children:"Pasando al siguiente ejercicio..."})]})}),J&&A.jsxs("div",{className:"summary-overlay",children:[A.jsx("div",{className:"summary-message",children:(()=>{const y=Math.max(0,0);return A.jsxs(A.Fragment,{children:[A.jsx("h2",{children:"Juego Terminado"}),A.jsxs("div",{className:"resumen-final",children:[A.jsx("h3",{children:"Resultados Finales"}),A.jsxs("p",{children:[A.jsx("strong",{children:"Ejercicios completados:"})," ",0]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Correctos:"})," ",0]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Incorrectos:"})," ",y]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Puntuacin total:"})," ",$e," / ",ke]}),A.jsx(T4,{className:"badge",children:"PERFECTO! "})]}),A.jsxs(li,{id:"finalize",expand:"block",onClick:Lt,children:[A.jsx(ct,{icon:EX,slot:"start"}),"Jugar de Nuevo"]}),A.jsxs(li,{id:"exit",expand:"block",onClick:it,children:[A.jsx(ct,{slot:"start",icon:Ok}),"Cerrar aplicacin"]})]})})()}),A.jsx("div",{className:"confetti-container",children:Uo().map(Ne=>A.jsx("div",{className:"confetti",style:{left:"".concat(Ne.left,"%"),animationDelay:"".concat(Ne.delay,"s"),animationDuration:"".concat(Ne.duration,"s"),backgroundColor:Ne.color}},Ne.id))})]}),j&&A.jsx("div",{className:"ins-overlay",onClick:()=>P(!1),children:A.jsxs("div",{className:"ins-card",onClick:Ne=>Ne.stopPropagation(),children:[A.jsxs("div",{className:"ins-title",children:[A.jsx("h2",{style:{margin:0,fontWeight:"bold",color:"var(--dark)"},children:"Reglas Bsicas"}),A.jsx(ct,{icon:fS,style:{fontSize:"26px",color:"var(--dark)"},onClick:()=>P(!1)})]}),A.jsx("div",{className:"ins-stats",children:A.jsx("p",{style:{textAlign:"justify"},children:A.jsx("strong",{children:'Crea una funcin usando los bloques de programacin. La funcin debe resolver el problema indicado. Usa el bloque "Imprimir" para mostrar el resultado. Luego presiona "Verificar" para ejecutar las pruebas automticas. Si todas las pruebas pasan, ganars 10 puntos.'})})})]})}),p&&A.jsx("div",{className:"info-modal-background",children:A.jsxs("div",{className:"info-modal",children:[A.jsxs("div",{className:"header",children:[A.jsx("h2",{style:{color:"var(--color-primary)",fontWeight:"bold"},children:l}),A.jsx("p",{style:{color:"#8b8b8bff",marginTop:"5px",textAlign:"center"},children:"Actividad configurada desde la plataforma Steam-G"})]}),A.jsxs("div",{className:"cards-info",children:[A.jsxs("div",{className:"card",children:[A.jsx("p",{className:"title",children:"VERSIN"}),A.jsx("p",{className:"data",children:S})]}),A.jsxs("div",{className:"card",children:[A.jsx("p",{className:"title",children:"FECHA DE CREACIN"}),A.jsx("p",{className:"data",children:G})]}),A.jsxs("div",{className:"card",children:[A.jsx("p",{className:"title",children:"PLATAFORMAS"}),A.jsx("p",{className:"data",children:gi(L)})]}),A.jsxs("div",{className:"card",children:[A.jsx("p",{className:"title",children:"NMERO DE EJERCICIOS"}),A.jsx("p",{className:"data",children:q})]}),A.jsxs("div",{className:"card description",children:[A.jsx("p",{className:"title",children:"DESCRIPCIN"}),A.jsx("p",{className:"data",children:I})]})]}),A.jsx("div",{className:"button",children:A.jsx(li,{expand:"full",onClick:_,children:"Cerrar"})})]})}),ve&&A.jsx("div",{className:"pause-overlay",children:A.jsxs("div",{className:"pause-card",children:[A.jsx("h2",{children:"Juego en pausa"}),A.jsx("p",{children:"El tiempo est detenido."}),A.jsxs(li,{expand:"block",id:"resume",style:{marginTop:"16px"},onClick:D,children:[A.jsx(ct,{slot:"start",icon:Rk}),"Reanudar"]}),A.jsxs(li,{expand:"block",id:"finalize",style:{marginTop:"10px"},onClick:Lt,children:[A.jsx(ct,{slot:"start",icon:mX}),"Finalizar juego"]}),A.jsxs(li,{expand:"block",id:"exit",style:{marginTop:"10px"},onClick:it,children:[A.jsx(ct,{slot:"start",icon:Ok}),"Cerrar aplicacin"]})]})}),A.jsx(v4,{fullscreen:!0,className:"ion-padding",children:n?A.jsxs("div",{className:"inicio-container",children:[A.jsx("div",{className:"header-game ion-no-border",children:A.jsx("div",{className:"toolbar-game",children:A.jsx("div",{className:"titles start-page",children:A.jsx("h1",{children:l})})})}),A.jsx("div",{className:"info-juego",children:A.jsx("div",{className:"info-item",children:A.jsx(E4,{children:A.jsxs("strong",{children:["Nivel: ",M(d)]})})})}),A.jsxs("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center"},className:"page-start-btns",children:[A.jsxs(li,{onClick:lo,className:"play",children:[A.jsx(ct,{slot:"start",icon:Rk}),"Iniciar juego"]}),A.jsxs(li,{onClick:_,className:"info",children:[A.jsx(ct,{slot:"start",icon:$X}),"Informacin"]})]})]}):A.jsxs("div",{className:"game-active-container",children:[A.jsx("div",{className:"header-game ion-no-border",children:A.jsxs("div",{className:"toolbar-game",children:[A.jsxs("div",{className:"titles",children:[A.jsx("h1",{children:"STEAM-G"}),A.jsx(ct,{icon:cX,size:"small",id:"info-icon"}),A.jsx(w4,{trigger:"info-icon",side:"bottom",alignment:"center",children:A.jsxs(O4,{className:"filter-card ion-no-margin",children:[A.jsx("div",{className:"section header-section",children:A.jsx("h2",{children:l})}),A.jsx("div",{className:"section description-section",children:A.jsx("p",{children:I})}),A.jsx("div",{className:"section footer-section",children:A.jsx("span",{children:G})})]})})]}),A.jsx("span",{children:A.jsx("strong",{children:l})})]})}),A.jsxs("div",{className:"instructions-exercises",children:[A.jsx("div",{className:"num-words",children:A.jsx("strong",{children:bt!=null&&bt.exercise?"Juego ".concat(bt.currentIndex+1," de ").concat(bt.total):"Cargando ejercicio..."})}),A.jsxs("div",{className:"temporizador",children:[A.jsx(ct,{icon:Ck,className:"icono-tiempo"}),A.jsx("h5",{className:"tiempo-display",children:ii(Co)})]}),A.jsx("div",{className:"num-words",children:A.jsxs("strong",{children:["Puntuacin: ",Xo]})}),A.jsx("div",{className:"num-words rules",onClick:()=>P(!0),children:"Reglas Bsicas"})]}),A.jsx("div",{className:"videogame",children:A.jsx(uK,{ref:o,difficulty:d,onComplete:Ne=>{Bo(Ne),ie(!0)},onExerciseChange:Ze,onVerifying:tn,isPaused:V||ve||T})}),A.jsxs("div",{className:"button game",children:[A.jsxs(li,{shape:"round",expand:"full",onClick:jo,disabled:T||J||j||V||ve||!(bt!=null&&bt.exercise),children:[A.jsx(ct,{slot:"start",icon:WD}),"Verificar"]}),A.jsxs(li,{shape:"round",expand:"full",onClick:O,disabled:T||ce||J||j||ve||ee!==null||!pe,children:[A.jsx(ct,{slot:"start",icon:bX}),"Pausar"]})]})]})})]})};J4();const yK=()=>A.jsx(FD,{children:A.jsx(aX,{children:A.jsxs(Pu,{children:[A.jsx(ev,{exact:!0,path:"/home",children:A.jsx(vK,{})}),A.jsx(ev,{exact:!0,path:"/",children:A.jsx(JH,{to:"/home"})})]})})}),SK=document.getElementById("root"),IK=zU.createRoot(SK);IK.render(A.jsx(ue.StrictMode,{children:A.jsx(yK,{})}));export{cD as K,mS as W,OK as __vite_legacy_guard,ug as a,ac as b,Ax as c,td as d,_x as e,gv as f,f2 as g,$v as h,QG as i,xt as j,Zi as k,UK as l,FK as m,xe as n,CK as o,RK as p,Of as r,HK as s,bd as w};
